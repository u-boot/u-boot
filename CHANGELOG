commit f9476902b789b0481b9df49af88d6ca94fb16fa0
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Tue Dec 15 12:10:47 2009 -0600

    mpc85xx, mpc86xx: Fix gd->cpu pointer after relocation

    The gd->cpu pointer is set to an address located in flash when the
    probecpu() function is called while U-Boot is executing from flash.
    This pointer needs to be updated to point to an address in RAM after
    relocation has occurred otherwise Linux may not be able to boot due to
    "fdt board" crashing if flash has been erased or changed.

    This bug was introduced in commit
    a0e2066f392782730f0398095e583c87812d97f2.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Reported-by: Ed Swarthout <Ed.Swarthout@freescale.com>
    Tested-by: Kumar Gala <galak@kernel.crashing.org>
    Tested on MPC8527DS.
    Tested by: Ed Swarthout <Ed.Swarthout@freescale.com>

commit 3363a34b9eeda9783afcbbed5cdd738926d1f4bf
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Sun Dec 13 17:58:34 2009 -0600

    MVBLUE: Remove CONFIG_CMD_IRQ

    Neither the MVBLUE nor its underlying architecture implement the
    do_irqinfo() function which is required when CONFIG_CMD_IRQ is defined.
    This change fixes the following MVBLUE compiler error:

    -> ./MAKEALL MVBLUE
    Configuring for MVBLUE board...
    common/libcommon.a(cmd_irq.o):(.u_boot_cmd+0x24): undefined reference to `do_irqinfo'
    make: *** [u-boot] Error 1

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Acked-by: Andre Schwarz <andre.schwarz@matrix-vision.de>

commit 18e8ad60ee87431c01cc2686985b60cc54f5dd3b
Author: Detlev Zundel <dzu@denx.de>
Date:	Mon Dec 14 17:54:40 2009 +0100

    imx27lite: Reenable MTD support on NOR flash.

    The support for this was silently dropped by a configuration
    split during the merge of the imx27lite board support in commit
    864aa034f3a0e10ce710e8bbda171df3cab59414 (cmd_mtdparts: Move to common
    handling of FLASH devices via MTD layer).

    Signed-off-by: Detlev Zundel <dzu@denx.de>

commit f4cfe42758192d09f8375e384cc000aa70d97029
Author: Stefan Roese <sr@denx.de>
Date:	Wed Dec 9 09:01:43 2009 +0100

    nand: Fix access to last block in NAND devices

    Currently, the last block of NAND devices can't be accessed. This patch
    fixes this issue by correcting the boundary checking (off-by-one error).

    Signed-off-by: Stefan Roese <sr@denx.de>
    Cc: Scott Wood <scottwood@freescale.com>
    Cc: Wolfgang Denk <wd@denx.de>

commit 3b887ca8ce72cc12129183538f6e828db13f4867
Author: Peter Korsgaard <jacmet@sunsite.dk>
Date:	Tue Dec 8 22:20:34 2009 +0100

    mpc83xx: boot time regression, move LCRR setup back to cpu_init_f

    Commit c7190f02 (retain POR values of non-configured ACR, SPCR, SCCR,
    and LCRR bitfields) moved the LCRR assignment to after relocation
    to RAM because of the potential problem with changing the local bus
    clock while executing from flash.

    This change unfortunately adversely affects the boot time, as running
    all code up to cpu_init_r can cause significant slowdown.

    E.G. on a 8347 board a bootup time increase of ~600ms has been observed:

       0.020 CPU:   e300c1, MPC8347_PBGA_EA, Rev: 3.0 at 400 MHz, CSB: 266.667 MHz
       0.168 RS:    232
       0.172 I2C:   ready
       0.176 DRAM:  64 MB
       1.236 FLASH: 32 MB

    Versus:

       0.016 CPU:   e300c1, MPC8347_PBGA_EA, Rev: 3.0 at 400 MHz, CSB: 266.667 MHz
       0.092 RS:    232
       0.092 I2C:   ready
       0.096 DRAM:  64 MB
       0.644 FLASH: 32 MB

    So far no boards have needed the late LCRR setup, so simply revert it
    for now - If it is needed at a later time, those boards can either do
    their own final LCRR setup in board code (E.G. in board_early_init_r),
    or we can introduce a CONFIG_SYS_LCRR_LATE config option to only do
    the setup in cpu_init_r.

    Signed-off-by: Peter Korsgaard <jacmet@sunsite.dk>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 386118a896554b13f14ad0f82356276988f7de82
Author: Michal Simek <monstr@monstr.eu>
Date:	Tue Dec 8 09:12:49 2009 +0100

    microblaze: Correct ffs regression for Microblaze

    We are using generic implementation of ffs. This should
    be part of Simon's commit 0413cfecea350000eab5e591a0965c3e3ee0ff00

    Here is warning message which this patch removes.

    In file included from /tmp/u-boot-microblaze/include/common.h:38,
		     from cmd_mtdparts.c:87:
    /tmp/u-boot-microblaze/include/linux/bitops.h:123:1: warning: "ffs" redefined
    In file included from /tmp/u-boot-microblaze/include/linux/bitops.h:110,
		     from /tmp/u-boot-microblaze/include/common.h:38,
		     from cmd_mtdparts.c:87:
    /tmp/u-boot-microblaze/include/asm/bitops.h:269:1:
    warning: this is the location of the previous definition

    Signed-off-by: Michal Simek <monstr@monstr.eu>

commit 8fe7b29f9811322931f0192a56431edcf819d6b9
Author: Graeme Smecher <graeme.smecher@mail.mcgill.ca>
Date:	Mon Dec 7 08:09:57 2009 -0800

    microblaze: Stop stack clobbering in microblaze-generic.

    A typo caused the stack and malloc regions to overlap, which prevented
    mem_malloc_init() from returning. This commit makes the memory layout match
    the example described in include/configs/microblaze-generic.h

    Signed-off-by: Graeme Smecher <graeme.smecher@mail.mcgill.ca>
    Signed-off-by: Michal Simek <monstr@monstr.eu>

commit 0fc52948bda0734431cb528ee4fd82f1dec8c7b5
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Dec 7 23:14:13 2009 +0100

    Update CHANGELOG, prepare -rc2

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit f2352877cb2daac88115192fb09991a2397d0b27
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Sun Dec 6 23:58:28 2009 -0600

    MAKEALL: Fix return value

    Previously MAKEALL would always return a value of 0, even if 1 or more
    boards did not compile.  This change causes MAKEALL to return 0 if all
    boards were able to build, otherwise 1.

    This change also requires changing the script interpreter from sh to
    bash to support bash's PIPESTATUS variable.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit fbc1c8f6f6c972524197829c56dd8f2f5da0200a
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Sun Dec 6 01:33:24 2009 -0600

    tools/mkimage: Remove duplicate line of code

    Recent commits 1a99de2cb4d08eb3bf9fb3f60a9d533150de8c0e and
    6a590c5f5fd12cdd27f3153522acfac3854590e7 both fixed the same bug in the
    same manner.  Unfortunately git was "smart" enough to merge both changes
    which resulted in some duplicate code.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

    Reordered code and comment a bit.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit df002fa6b9cd475909ede35bf95b803c2289c6a4
Author: Heiko Schocher <hs@denx.de>
Date:	Sat Dec 5 11:59:51 2009 +0100

    i2c: fix dangling comment in do_i2c_mw()

    commit bd3784df94bfeca43fbf34094df9cb1bd3ecca3b deleted some unused
    code in do_i2c_mw(), but missed to also remove the respective
    commment. This patch fixes this.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit f8450829f921cf10667af98a8d08edfa3d998f04
Author: Heiko Schocher <hs@denx.de>
Date:	Tue Dec 1 19:30:47 2009 +0100

    52xx, manroland: add fdt_fixup_memory() in ft_board_setup()

    To update the real memory size in the memory node on the
    uc101 and mucmc52 boards call fdt_fixup_memory() in
    ft_board_setup().

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 0ec81db20294efdad2454a753e79f1fe244a43ca
Author: Daniel Hobi <daniel.hobi@schmid-telecom.ch>
Date:	Tue Dec 1 14:05:55 2009 +0100

    Fix computation in nand_util.c:get_len_incl_bad

    Depending on offset, flash size and the number of bad blocks,
    get_len_incl_bad may return a too small value which may lead to:

    1) If there are no bad blocks, nand_{read,write}_skip_bad chooses the
    bad block aware read/write code. This may hurt performance, but does
    not have any adverse effects.

    2) If there are bad blocks, the nand_{read,write}_skip_bad may choose
    the bad block unaware read/write code (if len_incl_bad == *length)
    which leads to corrupted data.

    Signed-off-by: Daniel Hobi <daniel.hobi@schmid-telecom.ch>

commit aabb8cb0818e285aeed0cfaf243635997e07554d
Author: Evan Samanas <esamanas@xes-inc.com>
Date:	Mon Nov 9 20:08:36 2009 -0600

    nfs: NfsTimeout() updates

    - NfsTimeout() does not correctly update the NFS timeout value which
      results in NfsTimeout() only being called once in certain situations.
      This can result in the 'nfs' command hanging indefinetly.  For
      example, the command:

	nfs 192.168.0.1:/home/user/file

      will not exit until ctrl-c is pressed if 192.168.0.1 does not have an
      NFS server running.

      This issue is resolved by reinitializting the NFS timeout value inside
      NfsTimeout() when a timeout occurs.

    - Make the 'nfs' command print the 'T' character when a timeout occurs.
      Previously there was no indication that timeouts were occuring.

    - Mimic the 'tftpboot' command and when a download fails print "Retry
      count exceeded; starting again", and restart the download taking the
      'netretry' environment variable into account.

    Signed-off-by: Evan Samanas <esamanas@xes-inc.com>
    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

    Tested on TQM8xxL.

    Tested by: Wolfgang Denk <wd@denx.de>

    Tested on MPC8527DS.

    Tested by: Ed Swarthout <Ed.Swarthout@freescale.com>

commit 224c90d1060bf1a83cbf33ca51d060b9d19e0294
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Wed Nov 18 19:08:59 2009 -0600

    bootm: Fix help message's sub-command ordering

    The help message for the 'bootm' command listed the 'cmdline' and 'bdt'
    sub-commands in the wrong order which resulted in the error below when
    following the 'help' command's instructions:

      "Trying to execute a command out of order"

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit a93c92cddaedd5f0720e0da15c6664f7a688b582
Author: Robert P. J. Day <rpjday@crashcourse.ca>
Date:	Tue Nov 17 07:30:23 2009 -0500

    help: Correct syntax of nandecc help output.

    "nandecc" help output should not reproduce the command name, nor have
    a trailing newline.

    Signed-off-by: Robert P. J. Day <rpjday@crashcourse.ca>

commit c2fff331a32ceca837d76eb7827d6340da270d52
Author: Mike Rapoport <mike@compulab.co.il>
Date:	Wed Nov 11 10:03:03 2009 +0200

    smc911x: update SMC911X related configuration description

    Since commit 736fead8fdbf8a8407048bebc373cd551d01ec98 "Convert SMC911X
    Ethernet driver to CONFIG_NET_MULTI API" SMC911X configration options
    are called CONFIG_SMC911X rather than CONFIG_DRIVER_SMC911X. Update
    README to reflect that change.

    Signed-off-by: Mike Rapoport <mike@compulab.co.il>

commit 45b6b65c6bf06a589ef3123192af94b0381db27b
Author: Mike Rapoport <mike@compulab.co.il>
Date:	Wed Nov 11 10:03:09 2009 +0200

    smc911x: fix typo in smc911x_handle_mac_address name

    Signed-off-by: Mike Rapoport <mike@compulab.co.il>

commit f64ef9bb995687e24e0b61b52316f4eaa97c3bbc
Author: Ed Swarthout <Ed.Swarthout@freescale.com>
Date:	Thu Nov 19 02:47:28 2009 -0600

    fix nfs symlink name corruption

    An off by one error may cause nfs readlink lookup fail if
    nfs_path_buff has non-zero data from a previous use.

    Loading: *** ERROR: File lookup fail

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>

commit e8fac25e83426fdf461c66aa8a2530ec28ec536e
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Dec 7 21:06:40 2009 +0100

    at91sam9261ek.c: fix minor coding style issue.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 4713010adf5beda87410d637ebfc58db0db9a9db
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Dec 6 01:21:28 2009 +0100

    trab: fix warning: implicit declaration of function 'disable_vfd'

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit a9f99ab44b473fb394169ba365f8b4380f981584
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Dec 6 00:53:18 2009 +0100

    zlib.c: avoid build conflicts for cradle board

    Commit dce3d79710 updated the zlib code to v0.95; this caused
    conflicts when building for the "cradle" board, because the (pretty
    generic) preprocessor variable "OFF" was used in multiple files.
    Make sure to avoid further conflicts by #undef'ing it in zlib.c
    before redefining it.

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    cc: Giuseppe Condorelli <giuseppe.condorelli@st.com>
    cc: Angelo Castello <angelo.castello@st.com>
    cc: Alessandro Rubini <rubini-list@gnudd.com>

commit 8cbf4e4f17121d732e78764f0ba317c9a1838ea6
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Dec 6 00:26:19 2009 +0100

    Fix out-of-tree building of "apollon" board.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit f68ab43de67f59925542efb6bcec30f4a84fe695
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Fri Dec 4 05:35:15 2009 -0500

    lzma: ignore unset filesizes

    The Linux kernel build system changed how it compresses things with LZMA
    such that the header no longer contains the filesize (it is instead set to
    all F's).  So if we get a LZMA image that has -1 for the 64bit field,
    let's just assume that the decompressed size is unknown and continue on.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit cccfc2ab77877dbdd2abe26b28d4c1f467feb0c0
Author: Detlev Zundel <dzu@denx.de>
Date:	Tue Dec 1 17:16:19 2009 +0100

    README: Rearrange paragraphs to regain linear arrangement.

    Two later additions to the Configuration Option section unfortunately
    split the description of Show boot progress and the list of its call outs.

    Signed-off-by: Detlev Zundel <dzu@denx.de>

commit c81296c16fd9d12422c9968cc0f1d9bf440a7d88
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Tue Nov 24 16:42:10 2009 -0600

    tools/mkimage: Print FIT image contents after creation

    Previously, there was no indication to the user that a FIT image was
    successfully created after executing mkimage.  For example:

      $ mkimage -f uImage.its uImage.itb
      DTC: dts->dtb  on file "uImage.its"

    Adding some additional output after creating a FIT image lets the user
    know exactly what is contained in their image, eg:

      $ mkimage -f uImage.its uImage.itb
      DTC: dts->dtb  on file "uImage.its"
      FIT description: Linux kernel 2.6.32-rc7-00201-g7550d6f-dirty
      Created:	       Tue Nov 24 15:43:01 2009
       Image 0 (kernel@1)
	Description:  Linux Kernel 2.6.32-rc7-00201-g7550d6f-dirty
	Type:	      Kernel Image
	Compression:  gzip compressed
	Data Size:    2707311 Bytes = 2643.86 kB = 2.58 MB
	Architecture: PowerPC
	OS:	      Linux
	Load Address: 0x00000000
	Entry Point:  0x00000000
	Hash algo:    crc32
	Hash value:   efe0798b
	Hash algo:    sha1
	Hash value:   ecafba8c95684f2c8fec67e33c41ec88df1534d7
       Image 1 (fdt@1)
	Description:  Flattened Device Tree blob
	Type:	      Flat Device Tree
	Compression:  uncompressed
	Data Size:    12288 Bytes = 12.00 kB = 0.01 MB
	Architecture: PowerPC
	Hash algo:    crc32
	Hash value:   a5cab676
	Hash algo:    sha1
	Hash value:   168722b13e305283cfd6603dfe8248cc329adea6
       Default Configuration: 'config@1'
       Configuration 0 (config@1)
	Description:  Default Linux kernel
	Kernel:       kernel@1
	FDT:	      fdt@1

    This brings the behavior of creating a FIT image in line with creating a
    standard uImage, which also prints out the uImage contents after
    creation.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 8e1c89663cc8796b85588910046e03b388a7597c
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Tue Nov 24 16:42:09 2009 -0600

    tools/fit_image.c: Remove unused fit_set_header()

    The FIT fit_set_header() function was copied from the standard uImage's
    image_set_header() function during mkimage reorganization.	However, the
    fit_set_header() function is not used since FIT images use a standard
    device tree blob header.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 1a99de2cb4d08eb3bf9fb3f60a9d533150de8c0e
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Tue Nov 24 16:42:08 2009 -0600

    tools/mkimage: Assume FDT image type for FIT images

    When building a Flattened Image Tree (FIT) the image type needs to be
    "flat_dt".	Commit 89a4d6b12fd6394898b8a454cbabeaf1cd59bae5 introduced a
    regression which caused the user to need to specify the "-T flat_dt"
    parameter on the command line when building a FIT image.  The "-T
    flat_dt" parameter should not be needed and is at odds with the current
    FIT image documentation.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 270737acca21f3939f814de5dcf350a1c3d80d83
Author: Michael Brandt <Michael.Brandt@emsyso.de>
Date:	Sun Nov 22 14:13:27 2009 +0100

    EXT2FS: fix inode size for ext2fs rev#0

    extfs.c assumes that there is always a valid inode_size field in the
    superblock. But this is not true for ext2fs rev 0. Such ext2fs images
    are for instance generated by genext2fs. Symptoms on ARM machines are
    messages like: "raise: Signal # 8 caught"; on PowerPC "ext2ls" will
    print nothing.
    This fix checks for rev 0 and uses then 128 bytes as inode size.

    Signed-off-by: Michael Brandt <Michael.Brandt@emsyso.de>
    Tested on: TQM5200S
    Tested-by: Wolfgang Denk <wd@denx.de>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit bcb324d68f7955c1136dafc944eb55db8ebaa601
Author: Robert P. J. Day <rpjday@crashcourse.ca>
Date:	Thu Nov 19 11:00:28 2009 -0500

    Remove superfluous preprocessor tests from some cmd_*.c files.

    A small number of common/cmd_*.c files contain preprocessor tests that
    are apparently superfluous since those same tests are used in the
    Makefile to control the compilation of those files.  Those tests are
    clearly redundant as long as they surround the entirety of the source
    in those files.

    Signed-off-by: Robert P. J. Day <rpjday@crashcourse.ca>

commit ad53226156fa64b6d04c0d1d6e91e09979cbea15
Author: Robert P. J. Day <rpjday@crashcourse.ca>
Date:	Tue Nov 17 01:59:29 2009 -0500

    README: Update the list of directories.

    Bring the directory listing more into line with current content.

    Signed-off-by: Robert P. J. Day <rpjday@crashcourse.ca>

commit bd3784df94bfeca43fbf34094df9cb1bd3ecca3b
Author: Pratap Chandu <pratap.rrke@gmail.com>
Date:	Thu Nov 12 19:28:25 2009 +0530

    Removes dead code in the file common/cmd_i2c.c

    There is some dead code enclosed by #if 0 .... #endif in the file
    common/cmd_i2c.c
    This patch removes the dead code.

    Signed-off-by: Pratap Chandu <pratap.rrke@gmail.com>

commit 64a480601a5614b441de692ae15a62c51e0bb381
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Nov 11 17:51:56 2009 -0500

    smc91111_eeprom: drop CONFIG stub protection

    Since the Makefile now controls the compilation of this, there is no need
    for CONFIG checking nor the stub function.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit f3a7bddc06c927c36a1a99a97131299479ef207a
Author: Magnus Lilja <lilja.magnus@gmail.com>
Date:	Wed Nov 11 19:56:58 2009 +0100

    RTC: Fix return code in MC13783 RTC driver.

    Signed-off-by: Magnus Lilja <lilja.magnus@gmail.com>

commit d52e3e0176a74c30549251e16c5c00a363c544d2
Author: Magnus Lilja <lilja.magnus@gmail.com>
Date:	Wed Nov 11 19:56:36 2009 +0100

    cmd_date: Fix spelling in error message.

    Signed-off-by: Magnus Lilja <lilja.magnus@gmail.com>

commit c253122395753abb9e531d8906c5265dc8803fb1
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Wed Nov 11 10:36:28 2009 -0600

    Move do_irqinfo() to common/cmd_irq.c

    cmd_irq.c is a much better home and it is already conditionally
    compiled based on CONFIG_CMD_IRQ.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit a5dd4dc64fe68e549c5ffcf6a048281b5ba94752
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Wed Nov 11 10:36:19 2009 -0600

    cmd_license: Remove unneeded #ifdef CONFIG_CMD_LICENSE

    cmd_license is already conditionally compiled at the Makefile-level.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 06015146a15adc7455440c491d543f6a8091551d
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Mon Nov 9 15:18:52 2009 -0600

    m41t11: Remove unused functions

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 9ef78511cda39987e5fc10febf386fd19f58ecf7
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Mon Nov 9 15:17:50 2009 -0600

    circbuf: Move to lib_generic and conditionally compile

    circbuf could be used as a generic library and is only currently
    needed when CONFIG_USB_TTY is defined.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 604f7ce55ad74694ef8743ad2e99933dc0265e46
Author: Sanjeev Premi <premi@ti.com>
Date:	Mon Nov 9 22:43:00 2009 +0530

    Fix build failure in examples/standalone

    Some versions of 'make' do not handle trailing white-spaces
    properly. Trailing spaces in ELF causes a 'fake' source to
    be added to the variable COBJS; leading to build failure
    (listed below). The problem was found with GNU Make 3.80.

    Using text-function 'strip' as a workaround for the problem.

    make[1]: Entering directory `/home/sanjeev/u-boot/examples/standalone'
    arm-none-linux-gnueabi-gcc -g  -Os	 -fno-common -ffixed-r8 -msoft-float
    -D__KERNEL__ -DTEXT_BASE=0x80e80000 -I/home/sanjeev/u-boot/include
    -fno-builtin -ffreestanding -nostdinc -isystem /opt/codesourcery/2009q1-
    203/bin/../lib/gcc/arm-none-linux-gnueabi/4.3.3/include -pipe  -DCONFIG_
    ARM -D__ARM__ -marm  -mabi=aapcs-linux -mno-thumb-interwork -march=armv5
    -Wall -Wstrict-prototypes -fno-stack-protector -g  -Os   -fno-common -ff
    ixed-r8 -msoft-float   -D__KERNEL__ -DTEXT_BASE=0x80e80000 -I/home/sanje
    ev/u-boot/include -fno-builtin -ffreestanding -nostdinc -isystem /opt/co
    desourcery/2009q1-203/bin/../lib/gcc/arm-none-linux-gnueabi/4.3.3/includ
    e -pipe  -DCONFIG_ARM -D__ARM__ -marm  -mabi=aapcs-linux -mno-thumb-inte
    rwork -march=armv5 -I.. -Bstatic -T u-boot.lds  -Ttext 0x80e80000 -o .c
    arm-none-linux-gnueabi-gcc: no input files
    make[1]: *** [.c] Error 1
    make[1]: Leaving directory `/home/sanjeev/u-boot/examples/standalone'
    make: *** [examples/standalone] Error 2
    premi #

    Signed-off-by: Sanjeev Premi <premi@ti.com>

    Fixed typo (s/ElF/ELF/).
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit af860962b544ddf323c4ff68454f00d31e44df0a
Author: Becky Bruce <beckyb@kernel.crashing.org>
Date:	Wed Nov 4 18:30:08 2009 -0600

    85xx: Remove unused CONFIG_ASSUME_AMD_FLASH from config files

    A bunch of the 85xx boards have this cruft in them - it's not used
    anywhere.  Delete it.

    Signed-off-by: Becky Bruce <beckyb@kernel.crashing.org>

commit deec1fbd4f704dded2e668bb9e368631981ea139
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Dec 2 22:26:30 2009 +0100

    MAINTAINERS: update responsible for MPC85xx/86xx

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: Kumar Gala <galak@kernel.crashing.org>
    Cc: Becky Bruce <beckyb@kernel.crashing.org>

commit 824d82997fbcf28e49081d36fdd5d3be1b92b03d
Author: Ira W. Snyder <iws@ovro.caltech.edu>
Date:	Wed Nov 4 13:37:59 2009 -0800

    Fix example FIT image source files

    The example FIT image source files do not compile with the latest dtc and
    mkimage. The following error message is produced:

    DTC: dts->dtb  on file "kernel.its"
    Error: kernel.its 7:0 - 1:0 syntax error
    FATAL ERROR: Unable to parse input tree
    ./mkimage: Can't read kernel.itb.tmp: Invalid argument

    The FIT image source files are missing the "/dts-v1/;" directive at the
    beginning of the file. Add the directive to the examples.

    Signed-off-by: Ira W. Snyder <iws@ovro.caltech.edu>

commit fd66066ee3ce15c2966feb9b2be0f0d51a95db48
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Nov 4 16:13:19 2009 -0500

    img2srec: use standard types

    The img2srec code creates a lot of typedefs with common names.  These
    easily clash with system headers that include these typedefs (like mingw).

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 8204e068110e8abe5db9c3b7df9971b58cda8f26
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Nov 4 16:03:25 2009 -0500

    tools: gitignore *.exe binaries

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 425d3b666eee5c58fdb82fb894a535dd71782a05
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Tue Nov 3 23:31:07 2009 -0600

    ppc: Move conditional compilation of kgdb.c to Makefile

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit e06ab6546b332acc55ac4e7c31338662328b0fb3
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Tue Nov 3 11:36:39 2009 -0500

    spi_flash.h: pull in linux/types.h for u## types

commit 0008555f4d57c15ad86ee735861ca0d783042f61
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Tue Nov 3 11:36:26 2009 -0500

    bootm: mark local boot_os[] table static

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit a8fa379d47f06c7d3ed75c8fb26ae43ee38e1fd7
Author: Nishanth Menon <nm@ti.com>
Date:	Mon Nov 2 09:40:18 2009 -0600

    mkconfig: deny messed up ARCH definition

    Refuse to setup a platform if the command line ARCH= is not the same
    as the one required for the board. This prevents any user with
    prehistoric aliases from messing up their builds.

    Reported in thread:
    http://old.nabble.com/-U-Boot--Build-breaks-on-some-OMAP3-configs-to26132721.html

    Inputs from: Mike Frysinger and Wolfgang Denk:
    http://lists.denx.de/pipermail/u-boot/2009-November/063642.html

    Cc: Wolfgang Denk <wd@denx.de>
    Cc: Mike Frysinger <vapier@gentoo.org>
    Cc: Anand Gadiyar <gadiyar@ti.com>
    Cc: Dirk Behme <dirk.behme@googlemail.com>
    Signed-off-by: Nishanth Menon <nm@ti.com>

commit 67b96e87da1b84660fa1e5b78cc760246d116814
Author: Remy Bohmer <linux@bohmer.net>
Date:	Wed Oct 28 22:13:39 2009 +0100

    Repair the 'netretry=once' option.

    'netretry = once' does the same as 'netretry = yes', because it is not stored
    when it was tried once.

    Signed-off-by: Remy Bohmer <linux@bohmer.net>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit b25e38fc36e13fa8037fa4d37fe909d1d6e6f372
Author: Remy Bohmer <linux@bohmer.net>
Date:	Thu Oct 29 14:24:22 2009 +0100

    Repair build fail in case CONFIG_PPC=n and CONFIG_FIT=y

    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit 01826abc02ce160501534788e63629ccbe31b05c
Author: Grazvydas Ignotas <notasas@gmail.com>
Date:	Thu Nov 12 11:46:07 2009 +0200

    OMAP3: pandora: fix booting without serial attached

    When the board is booted without serial cable attached (which
    is how most of them will be used) UART RX is left floating and
    sometimes picks noise, which interrupts countdown and enters
    U-Boot prompt instead of booting the kernel.

    Fix this by setting up internal pullup on UART RX pin. This
    does not prevent serial from working as the internal pullup
    is weak.

    Signed-off-by: Grazvydas Ignotas <notasas@gmail.com>

commit 41dfd8a60324243dbe2dc313a607910824a68aa7
Author: Remy Bohmer <linux@bohmer.net>
Date:	Wed Oct 28 22:13:37 2009 +0100

    Add support for CS2 dataflash for Atmel-SPI.

    The only missing chipselect line support is CS2, and I need it on
    CS2...

    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit faf36c1437c95e4a86835633d9801c5f6396a3c7
Author: Remy Bohmer <linux@bohmer.net>
Date:	Wed Oct 28 22:13:36 2009 +0100

    Fix mingw tools build

    mkimage does not build due to missing strtok_r() and getline() implementation

    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit 6a590c5f5fd12cdd27f3153522acfac3854590e7
Author: Remy Bohmer <linux@bohmer.net>
Date:	Wed Oct 28 22:13:35 2009 +0100

    Building of FIT images does not work.

    The type is not set for generation of the FIT images, resulting
    in no images being created without printing or returning an error

    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit 0a7691e820e33b23f61c6ea0ef6fa72099d1a6ae
Author: Renato Andreola <renato.andreola@imagos.it>
Date:	Mon Nov 23 16:45:14 2009 -0500

    Nios2: do_boom_linux(): kernel gunzip input data integrity problem due to
	missing cache flush.

	Added instruction and data caches flush.

    Signed-off-by: Scott McNutt <smcnutt@psyent.com>

commit de03825386eaedb5e17261dd87cde86e9a764ba9
Author: Scott McNutt <smcnutt@psyent.com>
Date:	Mon Nov 23 16:29:40 2009 -0500

    Nios2: Fix compiler warnings in lib_nios2/board.c (unused variables)

    Signed-off-by: Scott McNutt <smcnutt@psyent.com>

commit 57baa379cf2f67df89a5c6052767fd25daff20bd
Author: Scott McNutt <smcnutt@psyent.com>
Date:	Mon Nov 23 15:54:25 2009 -0500

    Nios2/Nios: Remove unnecessary (residual) linker Nios command scripts from
	the standalone examples.

    Signed-off-by: Scott McNutt <smcnutt@psyent.com>

commit fcffb680e77fcb48598d4a9944dbe2d4503170e0
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Oct 14 19:28:03 2009 -0400

    sf: fix stmicro offset setup while erasing

    Reported-by: Peter Gombos <gombos@protecta.hu>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit d394a7795027d96ca55799df40bd5c4a13dbeebe
Author: Jason McMullan <mcmullan@netapp.com>
Date:	Fri Oct 9 17:12:23 2009 -0400

    sf: new driver for Winbond W25X16/32/64 devices

    Signed-off-by: Jason McMullan <jason.mcmullan@gmail.com>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit cada315100c88894b85972a91309a6f2413966b6
Author: Marcel Ziswiler <marcel@ziswiler.com>
Date:	Thu Oct 1 23:55:17 2009 +0200

    mpc8260: move FDT memory node fixup into common CPU code.

    Signed-off-by: Marcel Ziswiler <marcel.ziswiler@noser.com>
    Tested-by: Heiko Schocher <hs@denx.de>

commit f2cea405f83da46b72098ea874fb3eefe185d312
Author: Po-Yu Chuang <ratbert.chuang@gmail.com>
Date:	Wed Sep 23 15:52:35 2009 +0800

    Add driver for FTRTC010 real time clock

    Signed-off-by: Po-Yu Chuang <ratbert@faraday-tech.com>

    Edited commit message.
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit c0356a88011330646e960dfac8a2c909bede3304
Author: Mark Jackson <mpfj-list@mimc.co.uk>
Date:	Mon Aug 17 16:42:52 2009 +0100

    MIMC200: set default fbmem value

    This patch adds a default bootargs "fbmem" value to the
    CONFIG_BOOTARGS string for the MIMC200 board.

    Signed-off-by: Mark Jackson <mpfj@mimc.co.uk>

commit 3ffc0d61bad7d986e344ce7062b37c5c8f04fb0e
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Tue Oct 27 19:58:09 2009 +0100

    ppc4xx: Initialize magnetic coupler on VOM405 boards

    This patch fixes an ugly behavior of the IL712 magnetic coupler
    as used on VOM405. These parts will remember their last state
    over a power cycle which might cause unwanted behavior.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd.eu>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit be0db3e3141c6c6b4e232b51091f35a284cc54e5
Author: Matthias Fuchs <matthias.fuchs@esd.eu>
Date:	Mon Oct 26 09:58:45 2009 +0100

    ppc4xx: Initialize magnetic couplers in PLU405

    This patch fixes an ugly behavior of the IL712 magnetic couplers
    as used on PLU405. These parts will remember their last state
    over a power cycle which might cause unwanted behavior.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd.eu>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 067f54c66acd469870ef6946e1591bfcc02de1b3
Author: Matthias Fuchs <matthias.fuchs@esd.eu>
Date:	Mon Oct 26 09:55:40 2009 +0100

    Add minimal SJA1000 header for basic CAN mode

    This patch is in preparation for the upcoming PLU405 board fix.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd.eu>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit cdbdbe65f5f006cba208accee5a126c659d4b867
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Nov 13 08:52:21 2009 -0600

    ppc/85xx: Fix how we determine the number of CAM entries

    We were incorrectly use the max CAM size as the number of entries in
    the array for setting up the addrmap.  We should be using the NENTRY
    field which is the low 12-bits of TLB1CFG.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit fbd47b6753b08162436d9ccad1e63c8d43ede54c
Author: Mike Rapoport <mike@compulab.co.il>
Date:	Thu Nov 12 15:35:08 2009 +0200

    smc911x: make smc911x_initialize return correct value

    Make smc911x_initialize return -1 on error and number of interfaces
    detected otherwise.

    Signed-off-by: Mike Rapoport <mike@compulab.co.il>
    Acked-by: Mike Frysinger <vapier@gentoo.org>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit c44efcf97b335dcef7d014f65b7d3094e79adb13
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Nov 12 22:26:02 2009 -0500

    smc911x_eeprom: fix building after smc911x overhaul

    When the smc911x driver was converted to NET_MULTI, the smc911x eeprom was
    missed.  The config option needed updating as well as overhauling of the
    rergister read/write functions.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Tested-by: Mike Rapoport <mike.rapoport@gmail.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 3ad95deb30ac73bd57e966d321215a17d3236f9f
Author: Dave Liu <daveliu@freescale.com>
Date:	Thu Nov 12 07:26:37 2009 +0800

    fsl-ddr: Fix the chip-select interleaving issue

    commit 1542fbdeec0d1e2a6df13189df8dcb1ce8802be3
    introduced one new bug to chip-select interleaving.

    Single DDR controller also can do the chip-select
    interleaving if there is dual-rank or qual-rank DIMMs.

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 651ef90fa6ca824c8e581aeef9e04bbbe7f7e9ce
Author: javier Martin <javier.martin@vista-silicon.com>
Date:	Thu Oct 29 08:22:43 2009 +0100

    mxc_fec: avoid free() calls to already freed pointers.

    Sometimes, inside NetLoop, eth_halt() is called before eth_init() has
    been called. This is harmless except for free() calls to pointers
    which have not been allocated yet.

    This patch initializes those pointers to NULL and allocates them only
    the first time. This way we can get rid of free calls in halt callback.

    This has been tested in i.MX27 Litekit board and eldk-4.2 toolchains.

    Signed-off-by: Javier Martin <javier.martin@vista-silicon.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit e8f1546a88b4ade6a910c4a7958a774ee1b40023
Author: javier Martin <javier.martin@vista-silicon.com>
Date:	Thu Oct 29 08:18:34 2009 +0100

    mxc_fec: fix some erroneous PHY accesses.

    This patch fixes erroneous access to the ethernet PHY which broke the driver.
    1. Selector field in the auto-negotiation register must be 0x00001 for
    using 802.3, not 0x00000 which is reseved.
    2. Access to the PHY address specified by CONFIG_FEC_MXC_PHYADDR, not
    0x0 fixed address.

    This has been tested in i.MX27 Litekit board and eldk-4.2 toolchains.

    Now using proper defines for auto-negotiation register.

    Signed-off-by: Javier Martin <javier.martin@vista-silicon.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit f865fcbbb35851e75fee9c3a3fa8e0f71d9e6463
Author: Ron Lee <ron@debian.org>
Date:	Wed Aug 5 20:14:01 2009 +0200

    ARM Don't inline weak symbols

    ------------------------------------------------------------------------

    GCC 4.4 complains about this now.

    Signed-off-by: Ron Lee <ron@debian.org>

commit d14c7ec2b51fb92c4a5218b299b772c3d186510d
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Mon Nov 9 13:09:57 2009 -0800

    Fix SMC91111 regression: lpd7a40x build failures

    Both lpd7a400 and lpd7a404 failed to compile because they had
    CONFIG_SMC_USE_IOFUNCS defined:

    examples/standalone/smc91111_eeprom.c:388: undefined reference to `SMC_outw'

    Also removed an orphaned paren in lpd7a404.h

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 1031ae960ce6ce8332190278a06e2d72c2b2793e
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Mon Nov 9 14:01:08 2009 -0800

    SMC91111: Clean up SMC_inx macros on xsengine and xaeniax

    This patch fixes the following warnings:

    Configuring for xaeniax board...
    smc91111_eeprom.c: In function 'print_macaddr':
    smc91111_eeprom.c:278: warning: suggest parentheses around + or - in operand of &
    smc91111_eeprom.c:281: warning: suggest parentheses around + or - in operand of &
    ...
    Configuring for xsengine board...
    smc91111_eeprom.c: In function 'print_macaddr':
    smc91111_eeprom.c:278: warning: suggest parentheses around + or - inside shift
    smc91111_eeprom.c:281: warning: suggest parentheses around + or - inside shift

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 830c7b6722c6a9762411bf52a7bf2fae4dc71dab
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Mon Nov 9 11:43:18 2009 -0800

    Fix CS8900 regression on impa7 board

    The following error was seen on impa7 board, due to its use of a 32-bit bus
    on CS8900.
    cs8900.c:137:37: error: macro "get_reg_init_bus" passed 2 arguments, but takes just 1

    This patch gives the macro the correct number of arguments

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit e5c5d9e0834bacf1c4787fa76cc4e369f2597cf5
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Nov 1 22:39:56 2009 -0500

    clarify eth driver halt/recv steps

    The dev->halt() func can be called at any time, and the dev->recv() func
    does not need to use NetRxPackets[] when calling NetReceive().

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 497ab0eec5e1e2dfccc141a4485cd6b940e1424a
Author: Hui.Tang <zetalabs@gmail.com>
Date:	Thu Nov 5 09:58:44 2009 +0800

    Fix cs8900 dev->priv not init issue

    Ensure all CS8900 data structures are assigned before accessing device

    Signed-off-by: Hui.Tang <zetalabs@gmail.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 4fe5193d464ecdac26ddc71b1351be5b86bbff29
Author: Stefan Roese <sr@denx.de>
Date:	Tue Nov 3 14:34:45 2009 +0100

    ppc4xx: 44x_spd_ddr2.c: Fix register macro ECCCR -> ECCES (SDRAM_ECCES)

    This error only appears when DEBUG is enabled in this driver. That's why
    it went unnoticed till now.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 916ed9444d3ab7b5cd6312557005f2a764a8baf7
Author: Stefan Roese <sr@denx.de>
Date:	Thu Oct 29 18:37:45 2009 +0100

    ppc4xx: Canyonlands: Change EBC bus config to drive always (no high-z)

    This patch fixes a problem only seen very occasionally on Canyonlands.
    The NOR flash interface (CFI driver) doesn't work reliably in all cases.
    Erasing and/or programming sometimes doesn't work. Sometimes with
    an error message, like "flash not erased" when trying to program an
    area that should have just been erased. And sometimes without any error
    messages. As mentioned above, this problem was only seen rarely and with
    some PLL configuration (CPU speed, EBC speed).

    Now I spotted this problem a few times, when running my Canyonlands with
    the following setup (chip_config):

    1000-nor	     - NOR  CPU:1000 PLB: 200 OPB: 100 EBC: 100

    Changing the EBC configuration to not release the bus into high
    impedance state inbetween the transfers (ATC, DTC and CTC bits set to 1
    in EBC0_CFG) seems to fix this problem. I haven't seen any failure
    anymore with this patch applied.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Cc: David Mitchell <dmitchell@amcc.com>
    Cc: Jeff Mann <MannJ@embeddedplanet.com>

commit 25793f76bf9a7be59c9415ef0f78d034e8d53dae
Author: Remy Bohmer <linux@bohmer.net>
Date:	Thu Oct 29 12:29:37 2009 +0100

    ARM: Use Linux version for unaligned access code

    The asm-arm/unaligned.h includes linux/unaligned/access_ok.h
    This file is unsafe to be used on ARM, since it does an unaligned memory
    accesses which fails on ARM.

    Lookin at Linux the basic difference seems to be the header
    "include/asm-arm/unaligned.h". The Linux version of "unaligned.h"
    does *not* include "access_ok.h" at all. It includes "le_byteshift.h"
    and "be_byteshift.h" instead.

    Signed-off-by: Remy Bohmer <linux@bohmer.net>
    Signed-off-by: Stefan Roese <sr@denx.de>
    --
     include/asm-arm/unaligned.h	    |	 3 -
     include/linux/unaligned/be_byteshift.h |	70 +++++++++++++++++++++++++++++++++
     include/linux/unaligned/le_byteshift.h |	70 +++++++++++++++++++++++++++++++++
     3 files changed, 142 insertions(+), 1 deletion(-)
     create mode 100644 include/linux/unaligned/be_byteshift.h
     create mode 100644 include/linux/unaligned/le_byteshift.h

commit 6d6e7c53d5c75e5e24841c5506f4ed9d82adee09
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Nov 4 18:02:10 2009 -0600

    ppc/85xx: Fix inclusion of 83xx immap in 85xx builds

    The nand_boot_fsl_elbc.c is shared between 83xx & 85xx however we should
    not be including the immap_83xx.h when building 85xx.  We can just get
    this all from common.h

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 107b579c75256212d4bf8b99ee8d68e0078f3646
Author: Becky Bruce <beckyb@kernel.crashing.org>
Date:	Wed Nov 4 17:34:04 2009 -0600

    86xx: Remove redundant code in initdram

    The same code exists both inside an #ifdef and outside of it.
    Remove the extra code for all the 86xx boards.

    Signed-off-by: Becky Bruce <beckyb@kernel.crashing.org>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 715d8f7608f77c93f1807a032644893fd5b6d08b
Author: Ed Swarthout <Ed.Swarthout@freescale.com>
Date:	Mon Nov 2 09:05:49 2009 -0600

    fsl_pci_init_port end-point initialization is broken

    commit 70ed869e broke fsl pcie end-point initialization.
    Returning 0 is not correct.  The function must return the first free
    bus number for the next controller.

    fsl_pci_init() must still be called and a bus allocated even if the
    controller is an end-point.

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>
    Acked-by: Vivek Mahajan <vivek.mahajan@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 01471d538fb163f472a769f21267d7676c91267c
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Nov 4 01:29:04 2009 -0600

    Revert "ppc/85xx/pci: fsl_pci_init: pcie agent mode support"

    This reverts commit 70ed869ea5f6b1d13d7b140c83ec0dcd8a127ddc.

    There isn't any need to modify the API for fsl_pci_init_port to pass the
    status of host/agent(end-point) status.  We can determine that
    internally to fsl_pci_init_port.  Revert the patch that makes the API
    change.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit ff88229549e08fdd3f9127c1cc4db11a3576250f
Author: Dave Liu <daveliu@freescale.com>
Date:	Sat Oct 31 07:59:55 2009 +0800

    ppc/85xx: Fix misc L2 cache enabling bug

    We need loop-check the flash clear lock and enable bit for L2 cache.

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 59434fe243962758742af5cb8e2ced976e17c302
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Fri Oct 30 10:16:27 2009 +0900

    sh: Update lowlevel_init.S of espt-giga

    There was the point that did not use write macro.
    Change to write macro.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit f1cae1969d9e971fb72827a5731ce7e752464aa2
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Fri Oct 30 10:01:25 2009 +0900

    sh: Move some defs to convince 'pcrel too far'

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
    Signed-off-by: Takashi Yoshii <yoshii.takashi@gmail.com>

commit 0f9eaf4b323ea0ca95944b84c7465b81ba575514
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Thu Oct 15 13:36:34 2009 +0900

    sh: Remove malloc_bin_reloc from lib_sh, lib_nios2 and lib_nios.

    By "arm/microblaze/nios/nios2/sh: Remove relocation fixups"
    (commit: 0630535e2d062dd73c1ceca5c6125c86d1127a49", doesn't need
    malloc_bin_reloc function. This commit remove this.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 0775437293a6963cb21244dfae6978cbf67c6bfe
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Wed Oct 21 21:53:39 2009 -0700

    Fix DM9000 MAC address handling

    Proper behavior is to pull MAC address from NVRAM in the initialization() an
    stuff it in dev->address, then program the device from dev->address in
    the init() function.

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 98d92d8c9f4021629a45261ad5ec3f3595f3a27a
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Oct 28 22:07:56 2009 +0100

    sbc8349: fix incorrect comment

    The comment for the BR0_PRELIM port size initialization incorrectly
    stated 32 bit, while it's actually 16 bit. The code is correct.

    Reported-by: Guenter Koellner <guenter.koellner@nsn.com>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit a38f85e180a30b6225808828ded1017b1a5418c6
Author: Sandeep Paulraj <s-paulraj@ti.com>
Date:	Wed Oct 28 11:05:03 2009 -0400

    Fix Compliation warning for TNY-A9260 and TNY-A9G20

    The patch fixes a compilation warning by defining
    CONFIG_SYS_64BIT_VSPRINTF in the config file

    Signed-off-by: Sandeep Paulraj <s-paulraj@ti.com>

commit 264e42ee54f1d322805d9068168fd362b413fd09
Author: Sandeep Paulraj <s-paulraj@ti.com>
Date:	Wed Oct 28 11:04:53 2009 -0400

    Fix Compliation warning for SBC35-A9G20 board

    The patch fixes a compilation warning by defining
    CONFIG_SYS_64BIT_VSPRINTF in the config file

    Signed-off-by: Sandeep Paulraj <s-paulraj@ti.com>

commit 353462f6ff9769091fb644d44d8025f20a4192d9
Author: Eric Millbrandt <emillbrandt@coldhaus.com>
Date:	Wed Oct 28 09:37:33 2009 -0500

    galaxy5200: Add default environment variables

    Extend bootdelay to 10 seconds.  Set boot retry time to 120 seconds and use
    reset to retry.  Define default bootcommand and bootargs for production.

    Signed-off-by: Eric Millbrandt <emillbrandt@dekaresearch.com>

commit fa36ae790eb10ce70935f9a78f07703719dca422
Author: Stefan Roese <sr@denx.de>
Date:	Tue Oct 27 15:15:55 2009 +0100

    cfi: Add weak default function for flash_cmd_reset()

    Currently the CFI driver issues both AMD and Intel reset commands.
    This is because the driver doesn't know yet which chips are connected.
    This dual reset seems to cause problems with the M29W128G chips as
    reported by Richard Retanubun. This patch now introduces a weak default
    function for the CFI reset command, still with both resets. This can
    be overridden by a board specific version if necessary.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Cc: Richard Retanubun <RichardRetanubun@ruggedcom.com>

commit 4946775c6db52dba28f72ba3525764b54f1d4593
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Oct 28 00:49:47 2009 +0100

    Coding Style cleanup; update CHANGELOG, prepare -rc1

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 246c69225c7b962d5c93e92282b78ca9fc5fefee
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Sun Oct 25 15:12:56 2009 -0500

    Add 'editenv' command

    The editenv command can be used to edit an environment variable.
    Editing an environment variable is useful when one wants to tweak an
    existing variable, for example fix a typo or change the baudrate in the
    'bootargs' environment variable.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit b0fa8e50632a628766db23f5c884ec63f1469552
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Sun Oct 25 15:12:55 2009 -0500

    setenv(): Delete 0-length environment variables

    Previously setenv() would only delete an environment variable if it
    was passed a NULL string pointer as a value.  It should also delete an
    environment variable when it encounters a valid string pointer of
    0-length.

    This change/fix is generally useful and is necessary for the upcoming
    "editenv" command.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit ecc5500ee487170d8af6ff893fd1e0082380a01a
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Sun Oct 25 15:12:54 2009 -0500

    readline(): Add ability to modify a string buffer

    If the 'buf' parameter is a non-0-length string, its contents will be
    edited.  Previously, the initial contents of 'buf' were ignored and the
    user entered its contents from scratch.

    This change is necessary to support the upcoming "editenv" command but
    could also be used for future commands which require a user to modify
    an existing string.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit f923943843cd617d681387e7fe81a48060cc6401
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Sun Oct 25 15:12:53 2009 -0500

    cread_line(): Remove unused variables

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit e491a71e578e93bd3b2f8f20d8ef8f111c98010d
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Sun Oct 25 15:12:52 2009 -0500

    Check for NULL prompt in readline_into_buffer()

    Previously, passing readline() or readline_into_buffer() a NULL 'prompt'
    parameter would result in puts() printing garbage when
    CONFIG_CMDLINE_EDITING was enabled.

    Note that no board currently triggers this bug.  Enabling
    CONFIG_CMDLINE_EDITING on some boards (eg bab7xx) would result in
    the bug appearing.	This change is only intended to prevent someone
    from running into this issue in the future.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 16d1c10783660f3fdbc3c19141f42f3b0d1834d3
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Oct 25 23:00:09 2009 +0100

    drivers/net/phy/miiphybb.c: fix warning: no newline at end of file

    Add missing newline.

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: Luigi Mantellini <luigi.mantellini@idf-hit.com>
    Cc: Ben Warren <biggerbadderben@gmail.com>

commit a747a7f31059b9069e97c78bba5496409c33aa05
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Oct 27 00:03:32 2009 +0100

    Revert "env: only build env_embedded and envcrc when needed"

    Breaks building on many boards, and no really clean fix available yet.

    This reverts commit 6dab6add2d8ee80905234b326abc3de11be1d178.

commit 3fca80375981fe83d4674a0267183b469a1ea7ff
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Thu Oct 15 17:47:16 2009 +0400

    mpc85xx: Configure QE USB for MPC8569E-MDS boards

    Setup QE pin multiplexing for USB function, configure needed BCSRs
    and add some fdt fixups.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 14809b6c21c89dd65abaf3fea7627fb5ea0f78a3
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Thu Oct 15 17:47:13 2009 +0400

    mpc85xx: Configure QE UART for MPC8569E-MDS boards

    To make QE UART usable by Linux we should setup pin multiplexing
    and turn UCC2 Ethernet node into UCC2 QE UART node.

    Also, QE UART is mutually exclusive with UART0, so we can't enable
    it if eSDHC is in 4-bits mode on pilot boards, or if it's a prototype
    board with eSDHC in 1- or 4-bits mode.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 70d665b1d230b9575a647948e8db3da1e6743e5c
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Thu Oct 15 17:47:11 2009 +0400

    mpc85xx: Setup QE pinmux for SPI Flash on MPC8569E-MDS boards

    SPI Flash (M25P40) is connected to the SPI1 bus, we need a few
    qe_iop entries to actually enable SPI1 on these boards.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 65dec3b4599a17e83ec69dfd059e4ea1e795ef37
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Thu Oct 15 17:47:09 2009 +0400

    mpc85xx: Setup SRIO memory region LAW for MPC8569E-MDS boards

    This patch sets memory window for Serial RapidIO on MPC8569E-MDS
    boards.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit a29155e12286cc5ec2df72c1cab28e3659bfdad5
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Thu Oct 15 17:47:08 2009 +0400

    mpc85xx: Add eLBC NAND support for MPC8569E-MDS boards

    Simply add some defines, and adjust TLBe setup to include some
    space for eLBC NAND.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 7f52ed5ef1b490da282ace3316be381a6abf96a5
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Thu Oct 15 17:47:06 2009 +0400

    mpc85xx: Add eSDHC support for MPC8569E-MDS boards

    eSDHC is mutually exlusive with UART0 (in 4-bits mode) and I2C2
    (in 1-bit mode). When eSDHC is used, we should switch u-boot console to
    UART1, and make the proper device-tree fixups.

    Because of an erratum in prototype boards it is impossible to use eSDHC
    without disabling UART0 (which makes it quite easy to 'brick' the board
    by simply issung 'setenv hwconfig esdhc', and not able to interact with
    U-Boot anylonger).

    So, but default we assume that the board is a prototype, which is a most
    safe assumption. There is no way to determine board revision from a
    register, so we use hwconfig.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 48618126f78f05042dae428811809b594f747eb9
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Oct 23 15:55:48 2009 -0500

    xpedite5370: Enable multi-core support

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 5ccd29c3679b3669b0bde5c501c1aa0f325a7acb
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Oct 23 15:55:47 2009 -0500

    85xx: MP Boot Page Translation update

    This change has 3 goals:
    - Have secondary cores be released into spin loops at their 'true'
      address in SDRAM.  Previously, secondary cores were put into spin
      loops in the 0xfffffxxx address range which required that boot page
      translation was always enabled while cores were in their spin loops.

    - Allow the TLB window that the primary core uses to access the
      secondary cores boot page to be placed at any address.  Previously, a
      TLB window at 0xfffff000 was always used to access the seconary cores'
      boot page.  This TLB address requirement overlapped with other
      peripherals on some boards (eg XPedite5370).  By default, the boot
      page TLB will still use the 0xfffffxxx address range, but this can be
      overridden on a board-by-board basis by defining a custom
      CONFIG_BPTR_VIRT_ADDR.  Note that the TLB used to map the boot page
      remains in use while U-Boot executes.  Previously it was only
      temporarily used, then restored to its initial value.

    - Allow Boot Page Translation to be disabled on bootup.  Previously,
      Boot Page Translation was always left enabled after secondary cores
      were brought out of reset.  This caused the 0xfffffxxx address range
      to somewhat "magically" be translated to an address in SDRAM.  Some
      boards may not want this oddity in their memory map, so defining
      CONFIG_MPC8xxx_DISABLE_BPTR will turn off Boot Page Translation after
      the secondary cores are initialized.

    These changes are only applicable to 85xx boards with CONFIG_MP defined.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 70ed869ea5f6b1d13d7b140c83ec0dcd8a127ddc
Author: Vivek Mahajan <vivek.mahajan@freescale.com>
Date:	Tue Oct 27 12:18:55 2009 +0530

    ppc/85xx/pci: fsl_pci_init: pcie agent mode support

    Originally written by Jason Jin and Mingkai Hu for mpc8536.

    When QorIQ based board is configured as a PCIe agent, then unlock/enable
    inbound PCI configuration cycles and init a 4K inbound memory window;
    so that a PCIe host can access the PCIe agents SDRAM at address 0x0

    * Supported in fsl_pci_init_port() after adding pcie_ep as a param
    * Revamped copyright in drivers/pci/fsl_pci_init.c
    * Mods in 85xx based board specific pci init after this change

    Signed-off-by: Vivek Mahajan <vivek.mahajan@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 273a28ad9ef59dcfcd4c056ec1f61f1e0896cfaa
Author: Poonam Aggrwal <poonam.aggrwal@freescale.com>
Date:	Tue Oct 27 09:36:38 2009 +0530

    85xx/p1_p2_rdb: Fixing DDR configuration for 800MHz data rate

    Signed-off-by: Poonam Aggrwal <poonam.aggrwal@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 924024c396761c267b948f38d78e9905f2036501
Author: Poonam Aggrwal <poonam.aggrwal@freescale.com>
Date:	Tue Oct 27 09:26:55 2009 +0530

    85xx/p1_p2rdb: Fix crash while configuring 32 bit DDR i/f for P1020RDB.

    The data being modified was in NOR flash which caused the crash.

    Signed-off-by: Poonam Aggrwal <poonam.aggrwal@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 2c0c58b92dbb68007061bdc0edd23bdf142efebf
Author: Sergey Mironov <ierton@gmail.com>
Date:	Wed Sep 23 16:47:38 2009 +0400

    Fix bug in jumptable call stubs for SPARC.

    Signed-off-by: Sergey Mironov <ierton@gmail.com>
    Signed-off-by: Daniel Hellstrom <daniel@gaisler.com>

commit 3e303f748cf57fb23e8ec95ab7eac0074be50e2b
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Thu Oct 15 17:47:04 2009 +0400

    fdt_support: Add multi-serial support for stdout fixup

    Currently fdt_fixup_stdout() is using hard-coded CONFIG_CONS_INDEX
    constant. With multi-serial support, the CONS_INDEX may no longer
    represent actual console, so we should try to extract port number
    from the current stdio device name instead of always hard-coding the
    constant value.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Acked-by: Gerald Van Baren <vanbaren@cideas.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit da0e5f7ee828f246d85997486fff308837069453
Author: Leon Woestenberg <leon.woestenberg@gmail.com>
Date:	Mon Oct 26 10:03:32 2009 +0100

    ppc/85xx: Fix crashes due to generation of SPE instruction

    U-Boot crashed on the last instruction:

    int parse_stream_outer(struct in_str *inp, int flag)
    {
    effa4784:	    94 21 ff 38     stwu    r1,-200(r1)
    effa4788:	    7c 08 02 a6     mflr    r0
    effa478c:	    42 9f 00 05     bcl-    20,4*cr7+so,effa4790 <parse_stream_outer+0xc>
    effa4790:	    7d 80 00 26     mfcr    r12
    effa4794:	    13 c1 b3 21     evstdd  r30,176(r1)

    ...which is a  SPE instruction, although -mno-spe was used.

    tmp/cross/ppce500v2/bin/powerpc-angstrom-linux-gnuspe-gcc --version
    powerpc-angstrom-linux-gnuspe-gcc (GCC) 4.3.3

    Seems to be a known issue (since 2008-04?!)

    Googled some, turns out this patch/workaround works for me on MPC8536DS.

    See http://gcc.gnu.org/ml/gcc-patches/2008-04/msg00311.html for more info

    Signed-off-by: Leon Woestenberg <leon@sidebranch.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 654ea1f3184235694306ddc5874baa27ad3018fe
Author: Dave Liu <daveliu@freescale.com>
Date:	Thu Oct 22 00:10:23 2009 -0500

    ppc/85xx: Make L2 support more robust

    According the user manual, we need loop-check the L2 enable bit set.

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 613ad28c3da4c7fc6336ef9d94993b25a5d0586e
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Oct 26 21:21:25 2009 -0500

    ppc/85xx: Fix compiler warning in nand_spl/.../p1_p2_rdb/nand_boot.c

    nand_boot.c: In function 'board_init_f':
    nand_boot.c:44: warning: 'sys_clk' may be used uninitialized in this function

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit e8967d96a0e8d09d91a3b7bd292746996dd8e7ac
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Oct 26 21:18:33 2009 -0500

    ppc/85xx: Fix building NAND_SPL out of tree

    We need to source files to exist in the O=<FOO> nand_spl dir when
    we build out of tree.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit f3ee25859e3920ee7c7cc519a3e6f60d70d7a53f
Author: Matthias Fuchs <matthias.fuchs@esd.eu>
Date:	Fri Oct 23 10:52:38 2009 +0200

    License cleanup: Fix license header for some esd display configurations

    These files were autogenerated by EPSON configuration tools.
    This patch replaces the autogenerated file headers by the GPL
    license notice.

    This change is done with the explicit permission
    of Epson Research & Development / IC Software Development.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd.eu>

commit 4166ee58d30ada7b298b9c941067f0341c2dccbe
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Fri Oct 9 17:12:44 2009 -0400

    sf: add GPL-2 license info

    Some of the new spi flash files were missing explicit license lines.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    CC: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit d535a493004fb701f131b132402a7704f9c9342d
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Oct 21 23:29:51 2009 -0500

    fdt: Fix fdt padding issue for initrd mem_rsv

    Its possible that we end up with a device tree that happens to be a
    particular size that after we call fdt_resize() we don't have any
    space left for the initrd mem_rsv.

    Fix this be adding a second mem_rsv into the size calculation.  We
    had one to cover the fdt itself and we have the potential of adding
    a second for the initrd.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: Gerald Van Baren <vanbaren@cideas.com>

commit 4bc3d2afb380e78fdbb9c501d9a8da6d59eb178e
Author: Steve Sakoman <sakoman@gmail.com>
Date:	Tue Oct 20 18:21:18 2009 +0200

    ARM: OMAP3: Refactors the SM911x driver

    Move the test up in the function to not hang on systems without ethernet.

    Signed-off-by: Steve Sakoman <sakoman@gmail.com>
    Acked-by: Ben Warren <biggerbadderben@gmail.com>

commit f3807374787e4394efb767e2e8527887f57e51b8
Author: Minkyu Kang <mk7.kang@samsung.com>
Date:	Thu Oct 15 11:19:15 2009 +0900

    s5pc1xx: SMDKC100: fix compile warnings

    fix the following compile warnings
    warning: dereferencing type-punned pointer will break strict-aliasing rules

    Signed-off-by: Minkyu Kang <mk7.kang@samsung.com>

commit 8003c361deec3ee651451662efd05352f1abdd40
Author: Simon Kagstrom <simon.kagstrom@netinsight.net>
Date:	Tue Oct 6 08:44:22 2009 +0200

    arm926ejs: 8-byte align stack to avoid LDRD/STRD problems

    U-boot for Marvell Kirkwood boards no longer work after the EABI changes
    introduced in commit f772acf8a584067033eff1e231fcd1fb3a00d3d9. This
    turns out to be caused by a stack alignment issue. The armv5te
    instructions ldrd/strd instructions require 8-byte alignment to work
    properly (otherwise undefined behavior).

    Tested on an OpenRD base board, where both printouts and ubifs stuff now
    works.

    Signed-off-by: Simon Kagstrom <simon.kagstrom@netinsight.net>

commit e63e5904b48528f3f3cc98317df6fc62fab25bf9
Author: Tom Rix <Tom.Rix@windriver.com>
Date:	Sat Oct 17 12:41:06 2009 -0500

    TI OMAP3 SDP3430: Initial Support

    Start of support of
    Texas Instruments Software Development Platform(SDP)
    for OMAP3430 - SDP3430

    Highlights of this platform are:
    Flash Memory devices:
	Sibley NOR, Micron 8bit NAND and OneNAND
    Connectivity:
	3 UARTs and expanded 4 UART ports + IrDA
	Ethernet, USB
    Other peripherals:
	TWL5030 PMIC+Audio+Keypad
	VGA display
    Expansion ports:
	Memory devices plugin boards (PISMO)
	Connectivity board for GPS,WLAN etc.
    Completely configurable boot sequence and device mapping
    etc.

    Support default jumpering and:
     - UART1/ttyS0 console(legacy sdp3430 u-boot)
     - UART3/ttyS2 console (matching other boards,
		 and SDP HW docs)
     - Ethernet
     - mmc0
     - NOR boot

    Currently the UART1 is enabled by default.	for
    compatibility with other OMAP3 u-boot platforms,
    enable the #define of CONSOLE_J9.

    Conflicts:

	Makefile

    Fixed the conflict with smdkc100_config by moving omap_sdp3430_config
    to it is alphabetically sorted location above zoom1.

    Signed-off-by: David Brownell <david-b@pacbell.net>
    Signed-off-by: Nishanth Menon <nm@ti.com>
    Signed-off-by: Tom Rix <Tom.Rix@windriver.com>

commit a4474ff8629be5f28aefb8a9f48d4411d62fb0d2
Author: Sandeep Paulraj <s-paulraj@ti.com>
Date:	Tue Oct 13 19:35:11 2009 -0400

    TI DaVinci: Adding Copyright for DM365 EVM

    Forgot to add Copyright while submitting the patch.
    This patch adds the copyright.

    Signed-off-by: Sandeep Paulraj <s-paulraj@ti.com>

commit 11b0102218bbb50ac5c04f1521f2a22ed4e90cf1
Author: Sandeep Paulraj <s-paulraj@ti.com>
Date:	Tue Oct 13 12:32:32 2009 -0400

    TI DaVinci: Fix DM6467 EVM Compilation Warning

    Due to new TI boards being added to U-Boot, the hardware.h
    is getting very messy. The warning being fixed is due to
    the EMIF addresses being redefined.

    The long term solution(after 2009.11) to this is to
    have SOC specific header files.

    Signed-off-by: Sandeep Paulraj <s-paulraj@ti.com>

commit fac1ef4ba685606bf28349d18e050ea08b50e669
Author: Sandeep Paulraj <s-paulraj@ti.com>
Date:	Tue Oct 13 12:01:52 2009 -0400

    TI DaVinci: DM355 Leopard: Fix compilation warning

    We get a compliation warning when we enable the NAND driver
    for DM355 leopard. The waring we get is that we have
    an implicit declaration of davinci_nand_init.

    It is fixed by including the asm/arch/nand_defs.h header file

    Signed-off-by: Sandeep Paulraj <s-paulraj@ti.com>

commit f8a812aa656bc34622303a26fa5003d19c34aeed
Author: Nishanth Menon <nm@ti.com>
Date:	Tue Oct 13 12:49:55 2009 -0400

    TI OMAP3: make gpmc_config as const

    gpmc_config should not be a variant as it is board specific
    hence make it a const parameter

    Fixes issues identified by Dirk:
    - build issue for zoom2
    - warnings for all other OMAP3 platforms using nand/onenand etc

    Signed-off-by: Nishanth Menon <nm@ti.com>

commit cfc25874624a328f53ad59b1206e2103f2e62d74
Author: Stefan Roese <sr@denx.de>
Date:	Mon Oct 19 16:19:36 2009 +0200

    ppc4xx: Sequoia: Add chip_config command

    This patch removes the Sequoia "bootstrap" command and replaces it
    with the now common command "chip_config".

    Please note that the patches with the dynamic PCI sync clock
    configuration have to be applied, before this one should go in.
    This is because Sequoia has 2 different bootstrap EEPROMs, and
    the old bootstrap command configured different values depending
    on the detected PCI async clock (33 vs. 66MHz). With the PCI sync
    clock patches, this is not necessary anymore. The PCI sync clock
    will be configured correctly on-the-fly now.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit c85b58397030e25e146ccf5085c86221c40c53b3
Author: Stefan Roese <sr@denx.de>
Date:	Mon Oct 19 14:14:08 2009 +0200

    ppc4xx: Yosemite/Yellowstone: Check and reconfigure the PCI sync clock

    This patch now uses the 440EP(x)/GR(x) function to check and dynamically
    reconfigure the PCI sync clock.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 23c51a2d6393cd3be9eb62cb42d92138ff6db8a9
Author: Stefan Roese <sr@denx.de>
Date:	Mon Oct 19 14:10:50 2009 +0200

    ppc4xx: Sequoia/Rainer: Check and reconfigure the PCI sync clock

    This patch now uses the 440EP(x)/GR(x) function to check and dynamically
    reconfigure the PCI sync clock.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 08c6a2628478ace808b3767db17e4148cac5a7fb
Author: Stefan Roese <sr@denx.de>
Date:	Mon Oct 19 14:44:11 2009 +0200

    ppc4xx: Print PCI synchronous clock frequency upon bootup

    Some 4xx variants (e.g. 440EP(x)/GR(x)) have an internal
    synchronous PCI clock. Knowledge about the currently configured
    value might be helpful. So let's print it out upon bootup.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 5e47f9535f53fd4cc05f32fb6166870f976fbb4e
Author: Stefan Roese <sr@denx.de>
Date:	Mon Oct 19 14:06:23 2009 +0200

    ppc4xx: Add function to check and dynamically change PCI sync clock

    PPC440EP(x)/PPC440GR(x):
    In asynchronous PCI mode, the synchronous PCI clock must meet
    certain requirements. The following equation describes the
    relationship that must be maintained between the asynchronous PCI
    clock and synchronous PCI clock. Select an appropriate PCI:PLB
    ratio to maintain the relationship:

    AsyncPCIClk - 1MHz <= SyncPCIclock <= (2 * AsyncPCIClk) - 1MHz

    This patch now adds a function to check and reconfigure the sync
    PCI clock to meet this requirement. This is in preparation for
    some AMCC boards (Sequoia/Rainier and Yosemite/Yellowstone) using this
    function to not violate the PCI clocking rules.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 92b8964bed0d1b779d9e26be4e16755b5c635415
Author: Stefan Roese <sr@denx.de>
Date:	Fri Oct 16 10:01:09 2009 +0200

    ppc4xx: Update flash size in reg property of the NOR flash node

    Till now only the ranges in the ebc node are updated with the values
    currently configured in the PPC4xx EBC controller. With this patch now
    the NOR flash size is updated in the device tree blob as well. This is
    done by scanning the compatible nodes "cfi-flash" and "jedec-flash"
    for the correct chip select number.

    This size fixup is enabled for all AMCC eval board right now. Other
    4xx boards may want to enable it as well, if this problem with multiple
    NOR FLASH sizes exists.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Cc: Wolfgang Denk <wd@denx.de>

commit 30d45c0d3ea2231f9131276ea113595959a0720e
Author: Stefan Roese <sr@denx.de>
Date:	Wed Oct 21 11:59:52 2009 +0200

    fdt: Add fdt_fixup_nor_flash_size() to fixup NOR FLASH size in dtb

    This function can be used to update the size in the "reg" property
    of the NOR FLASH device nodes. This is necessary for boards with
    non-fixed NOR FLASH sizes.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Acked-by: Gerald Van Baren <vanbaren@cideas.com>
    Acked-by: Wolfgang Denk <wd@denx.de>

commit 76706cb86b1c76954ff5353db6757ab99cfd95fb
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Oct 20 23:12:13 2009 +0200

    cpu/ppc4xx/fdt.c: avoid strcpy() to constant string

    strcpy() was iused with the target address being a pointer to a
    constant string, which potentially is read-only. Use a (writable)
    array of characters instead.

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 0e1ac981194aa0d92eff0934442cec48a4f57834
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Oct 20 23:07:04 2009 +0200

    cpu/ppc4xx/fdt.c: avoid strcpy() to constant string

    strcpy() was iused with the target address being a pointer to a
    constant string, which potentially is read-only. Use a (writable)
    array of characters instead.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit c55096c084308c08bf8891c190f90bdc3a232394
Author: Daniel Mack <daniel@caiaq.de>
Date:	Wed Apr 8 13:23:38 2009 +0200

    smc911x: add support for LAN9220

    Signed-off-by: Daniel Mack <daniel@caiaq.de>
    Cc: Sascha Hauer <s.hauer@pengutronix.de>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit f67066b6b0740b826ed862615c5ab022aaf4779a
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Oct 18 20:43:14 2009 -0400

    envcrc: check return value of fwrite()

    Newer toolchains will often complain about unchecked fwrite():
	envcrc.c:117: warning: ignoring return value of `fwrite, declared
		with attribute warn_unused_result

    So check the return value to silence the warnings.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit efd988ebaa241bab265b1511052350207cb7aaa0
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Oct 19 09:18:57 2009 +0200

    mcc200: fix build error

    Fix compile error:
    include/configs/mcc200.h:401:6: error: #elif with no expression

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 4e0539d2696992a5e32643a0c831e870cfe9a036
Author: Nishanth Menon <nm@ti.com>
Date:	Tue Oct 13 12:47:39 2009 -0400

    OMAP3: fix warnings when NAND/ONENAND is not used

    Fix build warnings by putting specific used variables
    under required #ifdefs for removing:
    mem.c:227: warning: unused variable 'f_sec'
    mem.c:226: warning: unused variable 'f_off'
    mem.c:225: warning: unused variable 'size'
    mem.c:224: warning: unused variable 'base'
    mem.c:222: warning: unused variable 'gpmc_config'

    Signed-off-by: Nishanth Menon <nm@ti.com>

commit 73db0c71da365a2d101878ae3aeb8ff3545a1828
Author: Nishanth Menon <nm@ti.com>
Date:	Tue Oct 13 12:47:24 2009 -0400

    OMAP3: export enable_gpmc_cs_config to board files

    Export enable_gpmc_cs_config into common header to
    prevent warning:

    warning: implicit declaration of function 'enable_gpmc_cs_config'

    Signed-off-by: Nishanth Menon <nm@ti.com>

commit 96a27c6dc29abf11740632ecd8ccab607b209c5d
Author: Tom Rix <Tom.Rix@windriver.com>
Date:	Mon Oct 12 12:07:40 2009 -0400

    Zoom2 Fix serial gpmc setup

    The offset to the chip select is incorrect.

    The change 187af954cf7958c24efcf0fd62289bbdb4f1f24e,

    omap3: embedd gpmc_cs into gpmc config struct

    introduced a problem with the serial gpmc setup.

    This patch reverts the chip select to its previous value.

    The symptoms of this problem are that the Zoom2
    currently hangs.

    This was run tested on Zoom2.

    Signed-off-by: Tom Rix <Tom.Rix@windriver.com>

commit 64d945abe8cffbacdaeca5f63b9b84f895d2d9ab
Author: Sandeep Paulraj <s-paulraj@ti.com>
Date:	Sun Oct 11 09:10:27 2009 -0400

    TI DaVinci Sonata: Add Config option for 64 bit Support

    Adding the CONFIG_SYS_64BIT_VSPRINTF fot the DM644x based Sonata
    Without this option enabled while performing NAND operations we will get
    wrong diagnostic messages.
    Example if the MTD NAND driver find a bad block while erasing from
    a certain address, it will say bad block skipped at 0x00000000.

    Signed-off-by: Sandeep Paulraj <s-paulraj@ti.com>

commit 54aa603d2ce1d9374a1f5c6336362037ad2d8b51
Author: Sandeep Paulraj <s-paulraj@ti.com>
Date:	Sun Oct 11 09:14:58 2009 -0400

    TI DaVinci DVEVM: Add Config option for 64 bit Support

    Adding the CONFIG_SYS_64BIT_VSPRINTF in the DVEVM config.
    Without this option enabled while performing NAND operations we will get
    wrong diagnostic messages.
    Example if the MTD NAND driver find a bad block while erasing from
    a certain address, it will say bad block skipped at 0x00000000.

    Signed-off-by: Sandeep Paulraj <s-paulraj@ti.com>

commit b8d0aa0c78b8c0fa51acada3c486b81085924b53
Author: Sandeep Paulraj <s-paulraj@ti.com>
Date:	Sat Oct 10 10:19:20 2009 -0400

    TI DaVinci DM365: Add Config option for 64 bit Support

    Adding the CONFIG_SYS_64BIT_VSPRINTF in the DM365 EVM config.
    Without this option enabled while performing NAND operations we will get
    wrong diagnostic messages.
    Example if the MTD NAND driver find a bad block while erasing from
    a certain address, it will say bad block skipped at 0x00000000.

    Signed-off-by: Sandeep Paulraj <s-paulraj@ti.com>

commit 86a725b9c8b829c217be90e590f3ca2c91fa1dca
Author: Sandeep Paulraj <s-paulraj@ti.com>
Date:	Sat Oct 10 10:18:46 2009 -0400

    TI DaVinci DM355: Add Config option for 64 bit Support

    Adding the CONFIG_SYS_64BIT_VSPRINTF in the DM355 EVM config.
    Without this option enabled while performing NAND operations we will get
    wrong diagnostic messages.
    Example if the MTD NAND driver find a bad block while erasing from
    a certain address, it will say bad block skipped at 0x00000000.

    Signed-off-by: Sandeep Paulraj <s-paulraj@ti.com>

commit 9c44ddccb6602f620fc037974f3e4468ad8a7c0c
Author: Sandeep Paulraj <s-paulraj@ti.com>
Date:	Wed Sep 9 11:50:40 2009 -0400

    TI: OMAP3: Remove SZ_xx references

    This patch removes dependency on the sizes.h header file
    and removes all references to SZ_xx.

    Signed-off-by: Sandeep Paulraj <s-paulraj@ti.com>

commit 13d2cb988ff07addce6e10ab2cb8965a9dd23c63
Author: Steve Sakoman <sakoman@gmail.com>
Date:	Sat Oct 10 14:29:37 2009 -0400

    OMAP3: Update Overo and Beagle environment

    Update default environment to support new kernel DSS2 subsystem and
    simplify rootfs type and location changes.

    Signed-off-by: Steve Sakoman <sakoman@gmail.com>
    Signed-off-by: Dirk Behme <dirk.behme@googlemail.com>

commit c73607c5525c6957c815e64f7e865fdd3baffe98
Author: Sandeep Paulraj <s-paulraj@ti.com>
Date:	Sat Oct 10 13:46:26 2009 -0400

    TI DaVinci: Maintainer for DM355 and DM365 EVM

    Adding entries to the MAINTAINERS directory for the
    DM355 and DM365 EVM.

    Signed-off-by: Sandeep Paulraj <s-paulraj@ti.com>

commit 5df65cf56aeef9fdeab83a259c37aa7d23836dd3
Author: Sandeep Paulraj <s-paulraj@ti.com>
Date:	Sat Oct 10 13:37:10 2009 -0400

    TI: DaVinci: DM355 Leopard board support

    This patch adds support for the leopard board which is
    based on the DM355 SOC.

    Signed-off-by: Sandeep Paulraj <s-paulraj@ti.com>

commit 6ab176d7091d21960a1bd89fcb7fd87b9e91aca1
Author: Sandeep Paulraj <s-paulraj@ti.com>
Date:	Sat Oct 10 12:00:47 2009 -0400

    TI DaVinci DM646x: Adding initial support for DM6467 EVM

    This patch adds the initial support for DM6467 EVM.
    Other features like NET and NAND support will be added as follow up patches.

    Signed-off-by: Sandeep Paulraj <s-paulraj@ti.com>

commit d884f64a7b8482f6c9688600e0a4731fa5678e0c
Author: Sandeep Paulraj <s-paulraj@ti.com>
Date:	Thu Oct 1 20:22:09 2009 -0400

    TI DaVinci DM365: Fix Compilation warning for DM365 EVM

    This patch fixes a compilation warning while compiling
    the DM365 EVM.

    Signed-off-by: Sandeep Paulraj <s-paulraj@ti.com>

commit 6fe5e87be4b944edf428835210056e020c8bb794
Author: Sandeep Paulraj <s-paulraj@ti.com>
Date:	Thu Oct 1 20:21:13 2009 -0400

    TI DaVinci DM355: Fix Compilation warning for DM355 EVM

    This patch fixes a compilation warning while compiling
    the DM355 EVM.

    Signed-off-by: Sandeep Paulraj <s-paulraj@ti.com>

commit 513bbe1b1720682e6de0aba2d9db5e60f3a428bb
Author: Eric Benard <eric@eukrea.com>
Date:	Mon Oct 12 10:15:39 2009 +0200

    AT91 CPUAT91 Fix compiler warning

    This change fixes the compiler warning

    main.c: In function 'abortboot':
    main.c:122: warning: too few arguments for format

    Signed-off-by: Eric Benard <eric@eukrea.com>
    Signed-off-by: Tom Rix <Tom.Rix@windriver.com>

commit b1e81f701d044eee3884202b127d5d1f0668bdb9
Author: Eric Benard <eric@eukrea.com>
Date:	Mon Oct 12 10:15:40 2009 +0200

    AT91 CPU9260 CPU9G20 Fix compile warnings

    This change fixes the compiler warning

    nand_util.c:45:2: warning: #warning Please define CONFIG_SYS_64BIT_VSPRINTF
      for correct output!

    Signed-off-by: Eric Benard <eric@eukrea.com>
    Signed-off-by: Tom Rix <Tom.Rix@windriver.com>

commit 94d50c527a3cedb6a41fbe6773256cdd1855317f
Author: Eric Benard <eric@eukrea.com>
Date:	Mon Oct 12 10:08:20 2009 +0200

    AT91 CPU9260 Fix machine ID when using a CPU9G20.

    Signed-off-by: Eric Benard <eric@eukrea.com>
    Signed-off-by: Tom Rix <Tom.Rix@windriver.com>

commit 8c0a92c8f4cf399e873c2611939f3617983785a9
Author: Alessandro Rubini <rubini@unipv.it>
Date:	Sat Oct 10 11:51:26 2009 +0200

    lcd: remove '#if 0' 32-bit scroll, now memcpy does it

    Signed-off-by: Alessandro Rubini <rubini@unipv.it>
    Acked-by: Andrea Gallo <andrea.gallo@stericsson.com>

commit e3ea948d4588e7efddbf0ee92147d93f827d7cea
Author: Alessandro Rubini <rubini@unipv.it>
Date:	Sat Oct 10 11:51:16 2009 +0200

    lib_generic memset: fill one word at a time if possible

    If the destination is aligned, fill ulong values until possible.
    Then fill remaining part by byte.

    Signed-off-by: Alessandro Rubini <rubini@unipv.it>
    Acked-by: Andrea Gallo <andrea.gallo@stericsson.com>
    Acked-by: Mike Frysinger <vapier@gentoo.org>

commit ecd830b863e5c6ac5d804d3b3a92453a98d526fc
Author: Alessandro Rubini <rubini@unipv.it>
Date:	Sat Oct 10 11:51:05 2009 +0200

    lib_generic memcpy: copy one word at a time if possible

    If source and destination are aligned, this copies ulong values
    until possible, trailing part is copied by byte. Thanks for the details
    to Wolfgang Denk, Mike Frysinger, Peter Tyser, Chris Moore.

    Signed-off-by: Alessandro Rubini <rubini@unipv.it>
    Acked-by: Andrea Gallo <andrea.gallo@stericsson.com>
    Acked-by: Mike Frysinger <vapier@gentoo.org>

commit 9c5586aa19bbedf290d2a663813404d2db87dfa5
Author: Alessandro Rubini <rubini@unipv.it>
Date:	Thu Oct 8 14:29:14 2009 +0200

    setenv: do console redirection even if previously unset

    If "stdout" is not previously set, doing "setenv stdout lcd" had no
    effect, since console redirection only worked if the environment
    variable was already set; the second time you run setenv it worked.
    Most default environments lack stdin/out/err definitions, so I'm sure
    I'm not alone with this problem.

    This patch simply moves a block of code out of a conditional, to do
    the same work even if the variable was previously unset.

    Signed-off-by: Alessandro Rubini <rubini@unipv.it>
    Acked-by: Andrea Gallo <andrea.gallo@stericsson.com>

commit c9ee39972a7758e883b73c6c0e3c3a14cd5b2f43
Author: Martha Stan <mmarx@silicontkx.com>
Date:	Wed Oct 7 04:38:46 2009 -0400

    mpc512x: fix System Clock Control constants for USB1 & USB2

    Signer-off-by: Martha Stan <mmarx@silicontkx.com>

commit 87b22b7787f397fc3daad570d711e478b1a7d253
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Fri Oct 2 18:18:33 2009 -0400

    mem_mtest: fix error reporting, allow escape with ^C

    The basic memtest function tries to watch for ^C after each
    pattern pass as an escape mechanism, but if things are horribly
    wrong, we'll be stuck in an inner loop flooding the console with
    error messages and never check for ^C.  To make matters worse,
    if the user waits for all the error messages to complete, we
    then incorrectly report the test passed without errors.

    Adding a check for ^C after any error is printed will give
    the end user an escape mechanism from a console flood without
    slowing down the overall test speed on a slow processor.

    Also, the more extensive memtest quit after just a single error,
    which is inconsistent with the normal memtest, and not useful if
    if you are doing dynamic environmental impact testing, such as
    heating/cooling etc.

    Both tests now track the error count and report it properly
    at test completion.

    Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
    Acked-by: Mike Frysinger <vapier@gentoo.org>

commit 9f4a420663419dc13f08a0ce65b93033c6172c69
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Oct 1 12:11:54 2009 -0400

    new default shortcut to config & build a board

    The majority of the time that I build things in U-Boot, I want to just
    build for the board.  I don't make board config tweaks after selecting the
    board.  So add a new pattern rule that allows people to combine two steps
    in one go:
	`make foo_config && make` => `make foo`

    This shouldn't conflict with any existing make rules as the pattern rule
    is used only the rule doesn't already exist.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 6dab6add2d8ee80905234b326abc3de11be1d178
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Sep 30 15:29:58 2009 -0400

    env: only build env_embedded and envcrc when needed

    The env code is protected by the ENV_IS_EMBEDDED define, so attempting to
    compile the code when this isn't defined is pointless.  Now that the env
    headers have unified around CONFIG_ENV_IS_EMBEDDED, convert the build
    system to only build the env objects when this is enabled.	And now that
    the env code is conditionally compiled, we can drop the source code checks.

    For people who want to extract the environment manually, add a new option
    CONFIG_BUILD_ENVCRC that only enables the envcrc utility.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 78f4ca7976748159080c9d920d5eb542d1b32d4f
Author: Daniel Mack <daniel@caiaq.de>
Date:	Mon Sep 28 11:40:38 2009 +0200

    part_dos: check status flags of partitions

    Only read partitions which have 0x00 or 0x80 set in their status field.
    All others are invalid.

    Signed-off-by: Daniel Mack <daniel@caiaq.de>

commit 45def0ab9d1dedcd2a73939aad8373f760498762
Author: Eric Millbrandt <emillbrandt@coldhaus.com>
Date:	Fri Sep 25 17:47:43 2009 -0500

    galaxy5200: change cs1 configuration

    Correct the chip select configuration for the nand flash chip select.

    Signed-off-by: Eric Millbrandt <emillbrandt@dekaresearch.com>

commit 7936b51165b519a16ecf3db302fb88df8b8b3b3d
Author: Niklaus Giger <niklaus.giger@netstal.com>
Date:	Wed Sep 23 08:12:14 2009 +0200

    Cleanup: use constant

    Signed-off-by: Niklaus Giger <niklaus.giger@netstal.com>

commit 7120c888101952b7e61b9e54bb42370904aa0e68
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Mon Oct 12 11:06:19 2009 -0500

    mpc83xx: mpc8313 - handle erratum IPIC1 (TSEC IRQ number swappage)

    mpc8313e erratum IPIC1 swapped TSEC interrupt ID numbers on rev. 1
    h/w (see AN3545).  The base device tree in use has rev. 1 ID numbers,
    so if on Rev. 2 (and higher) h/w, we fix them up here.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>
    Reviewed-by: Roland Lezuo <roland.lezuo@chello.at>

commit 91525c67153fcf2c19b2fc8d9c6376ac1a019f52
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Mon Oct 12 23:55:39 2009 +0400

    mpc85xx: Fix booting on various boards

    commit 0e870980a64584a591af775bb9c9fe9450124df9 ("8xxx: Removed
    CONFIG_NUM_CPUS from 85xx/86xx") breaks U-Boot on various boards,
    namely the ones that call get_sys_info() from board_early_init_f().

    get_sys_info() calls cpu_numcores(), which depends on probecpu()
    being called before. But probecpu() is called after board_early_init_f(),
    and so cpu_numcores() returns random values, which in turn crashes
    get_sys_info().

    To fix the issue we place probecpu() before board_early_init_f()
    in an initialization sequence.

    Booting on the following boards should be revived now:
     mpc8540ads
     mpc8541cds
     mpc8548cds
     mpc8555cds
     mpc8560ads
     mpc8568mds
     mpc8569mds
     and maybe more.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 26df6aa9916443077139f8f008fbc5f414ba05e5
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Fri Oct 2 18:48:07 2009 -0400

    mpc86xx: delete unused MPC86xx_DDR_SDRAM_CLK_CNTL define

    This is an orphaned legacy leftover that is just polluting
    the config file namespace.

    Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit fad15096e3b34927444ba5f6133742d40d78a425
Author: Dipen Dudhat <dipen.dudhat@freescale.com>
Date:	Thu Oct 8 13:33:29 2009 +0530

    ppc/P1_P2_RDB: On-chip BootROM support

    On Chip BootROM support for P1 and P2 series RDB platforms.

    This patch is derived from latest On Chip BootROM support on MPC8536DS

    Signed-off-by: Dipen Dudhat <dipen.dudhat@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit f7780ec977e545b83bc5068e0957d640f1d98f13
Author: Dipen Dudhat <dipen.dudhat@freescale.com>
Date:	Thu Oct 8 13:33:18 2009 +0530

    ppc/P1_P2_RDB: NAND Boot Support

    NAND Boot support for P1 and P2 series RDB platforms.

    This patch is derived from NAND Boot support on MPC8536DS.

    Signed-off-by: Dipen Dudhat <dipen.dudhat@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit d11823ca3cb551814ffcd926402c8bcf3a7eff35
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Wed Oct 7 16:34:28 2009 -0400

    mpc8xxx: improve LAW error messages when setting up DDR

    When setting up the LAWs for the DDR, if there was an error,
    you got the not-so-helpful error text "ERROR" and nothing
    else.  Not only is it non-informative, but it is also
    pretty frustrating trying to grep for "ERROR" in the source.

    Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit a9946e3fc7089ddc6b7711a44e07a6b0827b79a7
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Wed Sep 30 16:12:31 2009 -0400

    sbc8641d: fix LAW so board doesn't hang on DDR init

    All versions between now and since this commit:

      commit bd76729bcbfd64b5d016a9b936f058931fc06eaf
      MPC86xx: set CONFIG_MAX_MEM_MAPPED to 2G by default

    will fail to allow the SBC8641D to get past DDR init, because the
    LAW config was overlapping.  Eventually this board will do SPD
    EEPROM config, but for now this gets the board working again.

    Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 3d1988ab47cc0e265272967e07d747ec600a44c9
Author: kevin.morfitt@fearnside-systems.co.uk <kevin.morfitt@fearnside-systems.co.uk>
Date:	Sat Oct 10 13:34:09 2009 +0900

    Clean-up of s3c24x0 nand driver

    This patch re-formats the arm920t s3c24x0 nand driver in preparation for changes
    to add support for the Embest SBC2440-II Board.

    The changes are as follows:
    - re-indent the code using Lindent
    - make sure register layouts are defined using a C struct
    - replace the upper-case typedef'ed C struct names with lower case
    non-typedef'ed ones
    - make sure registers are accessed using the proper accessor functions
    - run checkpatch.pl and fix any error reports

    It assumes the following patch has been applied first:
    - [U-Boot][PATCH-ARM] CONFIG_SYS_HZ fix for ARM902T S3C24X0 Boards, 05/09/2009
     - patches 1/4, 2/4 and 3/4 of this series

    Tested on an Embest SBC2440-II Board with local u-boot patches as I don't have
    any s3c2400 or s3c2410 boards but need this patch applying before I can submit
    patches for the SBC2440-II Board. Also, temporarily modified sbc2410x, smdk2400,
    smdk2410 and trab configs to use the mtd nand driver (which isn't used by any
    board at the moment), ran MAKEALL for all ARM9 targets and no new warnings or
    errors were found.

    Signed-off-by: Kevin Morfitt <kevin.morfitt@fearnside-systems.co.uk>
    Signed-off-by: Minkyu Kang <mk7.kang@samsung.com>

commit eb0ae7f549b7142826a8bcdd2dc945fac9c36349
Author: kevin.morfitt@fearnside-systems.co.uk <kevin.morfitt@fearnside-systems.co.uk>
Date:	Sat Oct 10 13:33:11 2009 +0900

    Clean-up of s3c24x0 drivers excluding nand driver

    This patch re-formats the arm920t s3c24x0 driver files, excluding the nand
    driver, in preparation for changes to add support for the Embest SBC2440-II Board.

    The changes are as follows:
    - re-indent the code using Lindent
    - make sure register layouts are defined using a C struct
    - replace the upper-case typedef'ed C struct names with lower case
      non-typedef'ed ones
    - make sure registers are accessed using the proper accessor functions
    - run checkpatch.pl and fix any error reports

    It assumes the following patch has been applied first:
    - [U-Boot][PATCH-ARM] CONFIG_SYS_HZ fix for ARM902T S3C24X0 Boards, 05/09/2009
    - patches 1/4 and 2/4 of this series

    Tested on an Embest SBC2440-II Board with local u-boot patches as I don't have
    any s3c2400 or s3c2410 boards but need this patch applying before I can submit
    patches for the SBC2440-II Board. Also, temporarily modified sbc2410x, smdk2400,
    smdk2410 and trab configs to use the mtd nand driver (which isn't used by any
    board at the moment), ran MAKEALL for all ARM9 targets and no new warnings or
    errors were found.

    Signed-off-by: Kevin Morfitt <kevin.morfitt@fearnside-systems.co.uk>
    Signed-off-by: Minkyu Kang <mk7.kang@samsung.com>

commit 8250d0bae84229abea397f6b474b3556b0f04e80
Author: kevin.morfitt@fearnside-systems.co.uk <kevin.morfitt@fearnside-systems.co.uk>
Date:	Sat Oct 10 13:32:01 2009 +0900

    Clean-up of s3c24x0 header files

    This patch re-formats the arm920t s3c24x0 header files in preparation for
    changes to add support for the Embest SBC2440-II Board.

    The changes are as follows:
    - re-indent the code using Lindent
    - make sure register layouts are defined using a C struct
    - replace the upper-case typedef'ed C struct names with lower case
    non-typedef'ed ones
    - make sure registers are accessed using the proper accessor functions
    - run checkpatch.pl and fix any error reports

    It assumes the following patch has been applied first:
    - [U-Boot][PATCH-ARM] CONFIG_SYS_HZ fix for ARM902T S3C24X0 Boards, 05/09/2009
    - patch 1/4 of this series

    Tested on an Embest SBC2440-II Board with local u-boot patches as I don't have
    any s3c2400 or s3c2410 boards but need this patch applying before I can submit
    patches for the SBC2440-II Board. Also, temporarily modified sbc2410x, smdk2400,
    smdk2410 and trab configs to use the mtd nand driver (which isn't used by any
    board at the moment), ran MAKEALL for all ARM9 targets and no new warnings or
    errors were found.

    Signed-off-by: Kevin Morfitt <kevin.morfitt@fearnside-systems.co.uk>
    Signed-off-by: Minkyu Kang <mk7.kang@samsung.com>

commit d67cce2dda3a40c3bd90a6c6e129fbb26dd4cfab
Author: kevin.morfitt@fearnside-systems.co.uk <kevin.morfitt@fearnside-systems.co.uk>
Date:	Sat Oct 10 13:30:22 2009 +0900

    Clean-up of cpu_arm920t and cpu_arm920t_s3c24x0 code

    This patch re-formats the code in cpu/arm920t and cpu/arm920t/23c24x0 in
    preparation for changes to add support for the Embest SBC2440-II Board.

    The changes are as follows:
    - re-indent the code using Lindent
    - make sure register layouts are defined using a C struct
    - replace the upper-case typedef'ed C struct names with lower case
      non-typedef'ed ones
    - make sure registers are accessed using the proper accessor functions
    - run checkpatch.pl and fix any error reports

    It assumes the following patch has been applied first:
    - [U-Boot][PATCH-ARM] CONFIG_SYS_HZ fix for ARM902T S3C24X0 Boards, 05/09/2009

    Tested on an Embest SBC2440-II Board with local u-boot patches as I don't have
    any s3c2400 or s3c2410 boards but need this patch applying before I can submit
    patches for the SBC2440-II Board. Also, ran MAKEALL for all ARM9 targets and no
    new warnings or errors were found.

    Signed-off-by: Kevin Morfitt <kevin.morfitt@fearnside-systems.co.uk>
    Signed-off-by: Minkyu Kang <mk7.kang@samsung.com>

commit cd85662b345c0c2248fd7637f65bb2fbb4d53dd9
Author: kevin.morfitt@fearnside-systems.co.uk <kevin.morfitt@fearnside-systems.co.uk>
Date:	Sun Sep 6 00:33:13 2009 +0900

    CONFIG_SYS_HZ fix for ARM902T S3C24X0 Boards

    This sets CONFIG_SYS_HZ to 1000 for all boards that use the s3c2400 and
    s3c2410 cpu's which fixes various problems such as the timeouts in tftp being
    too short.

    Tested on an Embest SBC2440-II Board with local u-boot patches as I don't
    have any s3c2400 or s3c2410 boards but need this patch applying before I can
    submit patches for the SBC2440-II Board. Also, ran MAKEALL for all ARM9 targets
    and no new warnings or errors were found.

    It was originally submitted on 21/06/2009 but didn't get into the 2009.08
    release, and Jean-Pierre made one comment on the original patch (see
    http://lists.denx.de/pipermail/u-boot/2009-July/055470.html). I've made two
    changes to the original patch:
    - it's been re-based to the current release
    - I've re-named get_timer_raw() to get_ticks() in response to Jean-Pierre's comment

    This affects the sbc2410, smdk2400, smdk2410 and trab boards. I've copied it
    directly to the maintainers of all except the sbc2410 which doesn't have an
    entry in MAINTAINERS.

    Signed-off-by: Kevin Morfitt <kmorfitt@aselaptop-1.localdomain>
    Tested-by: Wolfgang Denk <wd@denx.de>
    Signed-off-by: Minkyu Kang <mk7.kang@samsung.com>

commit 8bc4ee9e8213abe4031ea1720aa02fa98d4402ad
Author: Minkyu Kang <mk7.kang@samsung.com>
Date:	Thu Oct 1 17:20:40 2009 +0900

    s5pc1xx: add support SMDKC100 board

    Adds new board SMDKC100 that uses s5pc100 SoC

    Signed-off-by: Minkyu Kang <mk7.kang@samsung.com>
    Signed-off-by: HeungJun, Kim <riverful.kim@samsung.com>

commit dd2c9e6a3b67c8ff56694e515e6e3c7baddd8f52
Author: Minkyu Kang <mk7.kang@samsung.com>
Date:	Thu Oct 1 17:20:28 2009 +0900

    s5pc1xx: support serial driver

    This patch includes the serial driver for s5pc1xx.
    s5pc1xx uart driver needs own register setting and clock configuration.
    So, need to special driver.

    Signed-off-by: Minkyu Kang <mk7.kang@samsung.com>

commit 4678d674f0cacc983dca7f6b9933cd8291c9797c
Author: Minkyu Kang <mk7.kang@samsung.com>
Date:	Thu Oct 1 17:20:08 2009 +0900

    s5pc1xx: support onenand driver

    This patch includes the onenand driver for s5pc100

    Signed-off-by: Minkyu Kang <mk7.kang@samsung.com>
    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>

commit 399e5ae0d0b2eb4663fc5784201968c07d45afac
Author: Minkyu Kang <mk7.kang@samsung.com>
Date:	Thu Oct 1 17:20:01 2009 +0900

    s5pc1xx: support Samsung s5pc1xx SoC

    This patch adds support for the Samsung s5pc100 and s5pc110
    SoCs. The s5pc1xx SoC is an ARM Cortex A8 processor.

    Signed-off-by: Minkyu Kang <mk7.kang@samsung.com>
    Signed-off-by: HeungJun, Kim <riverful.kim@samsung.com>

commit d087d19a994e741f0ce526124be117c90be482ae
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Tue Oct 13 21:58:26 2009 -0400

    Blackfin: drop MAC display at boot

    The default Blackfin boot would display the MAC address for the first NIC,
    but this relies on the environment.  The current net multi stack no longer
    writes the default hardware settings to the environment, so most of the
    time the display shows all zeros.  This can be pretty confusing and really
    doesn't add anything useful, so just drop it.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 1f003cf4738a199d99c818124784058526d2d40e
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Fri Oct 9 02:24:33 2009 -0400

    Blackfin: reset watchdog in udelay()

    All arches apparently should reset the watchdog in their udelay loop as
    noted on the mailing list recently:

      > A comment in flash_status_check() suggests that udelay() is
      > expected to reset the watchdog, but I can't find any architecture
      > where it does.

      If this is missing in other architectures, it should be fixed at the
      root cause, i. e. in udelay() or in the respective support routines.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 370ec734557d0b0f266e6d0953229ee12cae5edd
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Fri Oct 9 02:22:11 2009 -0400

    Blackfin: Remove relocation fixups

    Blackfin pieces like commit 0630535e2d062dd73c1ceca5c6125c86d1127a49.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit a380279b2abe130c2d3d2c8de36f8ff98bc6b3b0
Author: Daniel Gorsulowski <Daniel.Gorsulowski@esd.eu>
Date:	Tue Sep 29 08:03:12 2009 +0200

    at91: Update MEESC board support

    This patch implements several updates:
    -disable CONFIG_ENV_OVERWRITE
    -add new hardware style variants and set the arch numbers appropriate
    -pass the serial# and hardware revision to the kernel
    -removed unused macros from include/configs/meesc.h
    -fixed multiline comment style

    Signed-off-by: Daniel Gorsulowski <Daniel.Gorsulowski@esd.eu>

commit 9df20ce211576aa7ac75710dcd8d0a6236abfd70
Author: Simon Kagstrom <[simon.kagstrom@netinsight.net]>
Date:	Thu Oct 1 19:41:50 2009 +0530

    arm: Correct build with CONFIG_SYS_HUSH_PARSER set

    FLAG_PARSE_SEMICOLON is not defined without hush.h, so include that.

    Signed-off-by: Simon Kagstrom <simon.kagstrom@netinsight.net>
    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>

commit df3826262c0efd2baec4df23d44b3942af98f5a7
Author: Olof Johansson <olof@lixom.net>
Date:	Tue Sep 29 10:22:45 2009 -0400

    TI: OMAP3: Overo Tobi ethernet support

    Add setup for ethernet on Tobi, allowing kernel/ramdisk to be loaded
    over tftp.

    This also refactors the smc911x driver to allow for detecting when the
    chip is missing. I.e. the detect_chip() function is called earlier and
    will abort gracefully when the Chip ID read returns all 1's.

    Signed-off-by: Olof Johansson <olof@lixom.net>
    Acked-by: Dirk Behme <dirk.behme@googlemail.com>
    Acked-by: Ben Warren <biggerbadderben@gmail.com>

commit 2a6cc97b91997ae485312ac91ffbcea6a89b663a
Author: Olof Johansson <olof@lixom.net>
Date:	Tue Sep 29 10:21:29 2009 -0400

    SMC911X: Add chip auto detection

    Refactor the smc911x driver to allow for detecting when the chip is missing.
    I.e. the detect_chip() function is called earlier and will abort gracefully
    when the Chip ID read returns all 1's.

    Signed-off-by: Olof Johansson <olof@lixom.net>
    Acked-by: Dirk Behme <dirk.behme@googlemail.com>
    Acked-by: Ben Warren <biggerbadderben@gmail.com>

commit 0297ec7e2a4039b8a28346f52f3ccca4db1ddc62
Author: Tom Rix <Tom.Rix@windriver.com>
Date:	Tue Sep 29 10:19:49 2009 -0400

    TI OMAP3 Use arm init sequence to initialize i2c

    This changes fixes an early i2c error.

    It appears that I2C is working because once a read or write
    error is detected, the omap24xx_i2c driver calls i2c_init
    inside its error handling check.

    While it is ok to attempt error handling this way, the boards
    must not depend on this side effect to initialize it's i2c.

    Instead of explicitly calling i2c_init for every board, use
    the generic arm initialization in lib_arm/board.c. By defining
    the config variable CONFIG_HARD_I2C, the omap3 i2c initialization
    is included in the init_sequence table.

    Run tested on Beagle.
    Compile tested on the omap3's

    Signed-off-by: Tom Rix <Tom.Rix@windriver.com>
    Acked-by: Dirk Behme <dirk.behme@googlemail.com>

commit 4df30f3bb7285b2c962713a5c693c16fd90885e0
Author: Sandeep Paulraj <s-paulraj@ti.com>
Date:	Tue Sep 29 09:43:04 2009 -0400

    TI: DaVinci DM365: Enabling network Support on DM365 EVM

    This patch enables EMAC on the DM365 EVM.

    Signed-off-by: Sandeep Paulraj <s-paulraj@ti.com>
    Acked-by: Tom Rix <Tom.Rix@windriver.com>

commit 00e1665a3cf956e09ac2ce86ef6ec459f6bfb33c
Author: Sandeep Paulraj <s-paulraj@ti.com>
Date:	Tue Sep 29 10:02:38 2009 -0400

    TI: DaVinci: GPIO header file and definitions

    Some DaVinci SOC's use GPIOs to enable EMAC and DM9000.
    This patch adds some definitions for GPIO registers and also adds
    structures for GPIO.
    A separate header file is being added so that in future we
    can have a DaVinci GPIO driver similer to OMAP.

    Signed-off-by: Sandeep Paulraj <s-paulraj@ti.com>
    Acked-by: Tom Rix <Tom.Rix@windriver.com>

commit 95ae803afbdd9f673c94b992ea624a10d252afc2
Author: Sandeep Paulraj <s-paulraj@ti.com>
Date:	Fri Sep 18 17:30:05 2009 -0400

    TI: DaVinci DM646x: Update flag used to represent DM646x SOC's

    In the DaVinci specific code, we use both CONFIG_SOC_DM646X and
    CONFIG_SOC_DM646x to represent DM646x specific code.
    This patch changes occurrences of CONFIG_SOC_DM646x to
    CONFIG_SOC_DM646X. This is because for DM644x series of SOCs we use
    the flag CONFIG_SOC_DM644X. We want some uniformity.

    Signed-off-by: Sandeep Paulraj <s-paulraj@ti.com>
    Acked-by: Tom Rix <Tom.Rix@windriver.com>

commit fc9165fdb3b021aa8ff02417692220fe9344072b
Author: Olof Johansson <olof@lixom.net>
Date:	Mon Sep 28 08:19:30 2009 -0400

    OMAP3: Clean up whitespace in mux configs

    Switch from space-based indentation to tab-based in mux configs, as pointed
    out by WD at:

    http://lists.denx.de/pipermail/u-boot/2009-September/061241.html

    Nothing but whitespace changes in this patch (diff -w gives no output).

    Signed-off-by: Olof Johansson <olof@lixom.net>

commit 9de0212bd7c4c82a7e8c2a2c8714f8c7abc57d08
Author: Dirk Behme <dirk.behme@googlemail.com>
Date:	Mon Sep 28 08:17:50 2009 -0400

    OMAP3 MMC: Fix warning dereferencing type-punned pointer

    Fix warning
    Dereferencing type-punned pointer will break strict-aliasing rules

    Signed-off-by: Dirk Behme <dirk.behme@googlemail.com>
    CC: Steve Sakoman <sakoman@gmail.com>
    Acked-by: Tom Rix <Tom.Rix@windriver.com>

commit e92daeb5c2050438402b87c7d614e8a13c294348
Author: Simon Kagstrom <[simon.kagstrom@netinsight.net]>
Date:	Tue Sep 22 04:01:01 2009 +0530

    Support for the OpenRD base board

    The implementation is borrowed from the sheevaplug board and the Marvell
    1.1.4 code. Unsupported (or untested) is the SD card, PCIe and SATA.

    Signed-off-by: Simon Kagstrom <simon.kagstrom@netinsight.net>

commit a62e78fc444c67f958be48891bef3dab0e9eb285
Author: Prafulla Wadaskar <prafulla@marvell.com>
Date:	Mon Sep 21 20:15:17 2009 +0530

    Kirkwood: mv88f6281gtw_ge: Add kwbimage build support

    This patch adds kwbimage configuration file
    (used by mkimage utility)
    to support u-boot.kwb target on mv88f6281gtw_ge board.

    To create Kirkwood boot image to be flashed on SPI Flash,
    additional parameter u-boot.kwb need to be passed during make.

    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>

commit 5bc7cbc15b1890682c0b279f708914518bd25f8d
Author: Prafulla Wadaskar <prafulla@marvell.com>
Date:	Mon Sep 21 18:23:11 2009 +0530

    Kirkwood: rd6281a: Add kwbimage build support

    This patch adds kwbimage configuration file
    (used by mkimage utility)
    to support u-boot.kwb target on rd6281a platform.

    To create Kirkwood boot image to be flashed on NAND,
    additional parameter u-boot.kwb need to be passed during make.

    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>

commit 23b80982a02a43bf4ead91574c9d6f1b647ccc8f
Author: Tom Rix <Tom.Rix@windriver.com>
Date:	Sun Sep 27 11:10:09 2009 -0500

    Add support for Eukrea CPU9260/CPU9G20 SBC

    these boards are built around Atmel's AT91SAM9260/9G20 and have
    up to 64MB of NOR flash, up to 128MB of SDRAM, up to 2GB of NAND
    and include a 10/100 Ethernet PHY in RMII mode.

    Signed-off-by: Eric Benard <eric@eukrea.com>
    Signed-off-by: Tom Rix <Tom.Rix@windriver.com>

commit d8380c9d35e88759c96e68a03738446ca0cb292f
Author: Tom Rix <Tom.Rix@windriver.com>
Date:	Sun Sep 27 07:47:24 2009 -0500

    Add support for Eukrea CPUAT91 SBC

    CPUAT91 is built around Atmel's AT91RM9200 and has up to 16MB of NOR
    flash, up to 128MB of SDRAM, and includes a Micrel KS8721 PHY in RMII
    mode.

    Signed-off-by: Eric Benard <eric@eukrea.com>
    Signed-off-by: Tom Rix <Tom.Rix@windriver.com>

commit eb95aa15e644c29b01832703aa4964fe419170f0
Author: Sandeep Paulraj <s-paulraj@ti.com>
Date:	Mon Sep 14 14:57:47 2009 -0400

    TI: DaVinci DM365: Minor config cleanup

    The DM365 config was using the 'CONFIG_CMD_SAVEENV' flag.
    This is already included when we include the
    config_cmd_default.h header file. So this flag is removed.
    Also another flag to enable NAND functions was being
    enabled incorrectly.

    Signed-off-by: Sandeep Paulraj <s-paulraj@ti.com>

commit 5d783c1ffd691ffdadbc2c2f796c41481b7cdce7
Author: Sandeep Paulraj <s-paulraj@ti.com>
Date:	Mon Sep 14 15:03:06 2009 -0400

    TI DaVinci DM365: Removing header file which does not exist

    The DaVinci DM365 EVM board specific code was including a header file
    which does not exist. So removing this header file.

    Signed-off-by: Sandeep Paulraj <s-paulraj@ti.com>

commit 409ec37bd8ae8822d276e77419d899571891b191
Author: Sandeep Paulraj <s-paulraj@ti.com>
Date:	Tue Sep 8 18:08:06 2009 -0400

    TI DaVinci: DM355: Config Cleanup and Update

    This patch does the following
    1) Enables the NAND driver which is now available.
    2) Enables the 'CONFIG_MTD_DEVICE' as without this the
    compilation will fail
    3) We now have a safe place to store environment and defines
    an offset where this can be stored. This offset value is such that it is after
    the location where U-Boot is flashed using TI flash utilities.
    4) Enables Bootdelay
    5) Increases malloc() arena size. Manufacturers are coming out with
    NAND with large blocks sizes of upto 1 MiB. It has been noticed that
    as the block size of the NAND used is increased, if this particular
    value is not increased, the NAND driver will output out of memory
    errors.

    Signed-off-by: Sandeep Paulraj <s-paulraj@ti.com>

commit 7908c97a106765ad8816bf2271a5bf315728b274
Author: Sandeep Paulraj <s-paulraj@ti.com>
Date:	Tue Sep 8 11:37:39 2009 -0400

    TI DaVinci: DM646x: Initial Support for DM646x SOC

    DM646x is an SOC from TI which has both an ARM and a DSP.
    There are multiple variants of the SOC mainly dealing with different
    core speeds.
    This patch adds the initial framework for the DM646x SOC.

    Signed-off-by: Sandeep Paulraj <s-paulraj@ti.com>

commit 5d0f53624c24eaf82d58368a6a5b8476392dd5c7
Author: Sandeep Paulraj <s-paulraj@ti.com>
Date:	Wed Sep 9 15:26:00 2009 -0400

    TI DaVinci: DM6446: Fix Compilation error in NAND mode

    The Default mode that is built for the Davinci DVEVM happens
    to be the NOR mode.
    When we want to build for the NAND mode, we get a compilation
    error. This is overcome by defining the CONFIG_MTD_DEVICE
    flag in the NAND mode.
    The image built for NAND mode was successfully tested on the
    DaVinci DM6446 EVM.

    Signed-off-by: Sandeep Paulraj <s-paulraj@ti.com>

commit 7a2aa8b68120f333ed2edc33475ca195810d6cb1
Author: Tom Rix <Tom.Rix@windriver.com>
Date:	Thu Sep 10 15:27:57 2009 -0400

    OMAP3 Move cache routine to cache.S

    v7_flush_dcache_all, because it depends on omap ROM code is not
    generic.  Rename the function to 'invalidate_dcache' and move it
    to the omap cpu directory.

    Collect the other omap cache routines l2_cache_enable and
    l2_cache_disable with invalide_dcache into cache.S.  This
    means removing the old cache.c file that contained l2_cache_enable
    and l2_cache_disable.

    The conversion from cache.c to cache.S was done most through
    disassembling the uboot binary.  The only significant change was
    to change the comparision for the return of get_cpu_rev from

       cmp	r0, #0
       beq	earlier_than_label

    Which was lost information to

       cmp	r0, #CPU_3XX_ES20
       blt	earlier_than_label

    The paths through the enable routine were verified by
    adding an infinite loop and seeing the hang.  Then
    removing the infinite loop and seeing it continue.

    The disable routine is similar enough that it was not
    tested with this method.

    Run tested by cold booting from nand on beagle and zoom1.
    Compile tested on MAKEALL arm.

    Signed-off-by: Tom Rix <Tom.Rix@windriver.com>

commit a16df2c11188297eca43cf6080c70fb69b960232
Author: Sandeep Paulraj <s-paulraj@ti.com>
Date:	Tue Sep 8 17:09:52 2009 -0400

    TI DaVinci: Remove references to SZ_xx

    This patch removes the asm/sizes.h header file from being
    included in the DaVinci SOC configs.
    References to SZ_xx have been replaced by appropriate
    bit shifted values.

    Signed-off-by: Sandeep Paulraj <s-paulraj@ti.com>
    Acked-by: Wolfgang Denk <wd@denx.de>

commit 285870f75378aca41c5063e4358ad93bf3014fd8
Author: Ed Swarthout <Ed.Swarthout@freescale.com>
Date:	Thu Oct 9 01:27:18 2008 -0500

    Leave x86emu op code tables in default section

    Forcing the tables into got2 caused extra relocation when using -mrelocatable.
    This patch requires any board defining CONFIG_BIOSEMU to use -mrelocatable.

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>
    Acked-by: Jin Zhengxiong <Jason.Jin@freescale.com>

commit be2254423b86572841aa70ff05d20933d1b49823
Author: Luigi 'Comio' Mantellini <luigi.mantellini@idf-hit.com>
Date:	Sat Oct 10 12:42:22 2009 +0200

    Update all board to support new bbmiiphy driver (with multibus support)

    Signed-off-by: Luigi 'Comio' Mantellini <luigi.mantellini@idf-hit.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 310cecb8ccdbc8a9be580e75b2fd362179d78535
Author: Luigi 'Comio' Mantellini <luigi.mantellini@idf-hit.com>
Date:	Sat Oct 10 12:42:21 2009 +0200

    Add bb_miiphy_init call before any ethernet bring-up code.

    Signed-off-by: Luigi 'Comio' Mantellini <luigi.mantellini@idf-hit.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 4ba31ab33ac824635fcb49ac609070a9ebcab7f0
Author: Luigi 'Comio' Mantellini <luigi.mantellini@idf-hit.com>
Date:	Sat Oct 10 12:42:20 2009 +0200

    Rewrite the miiphybb (Bit-banged MII bus driver) in order to support an arbitrary number of mii buses.

    This feature is useful when your board uses different mii buses for different
    phys and all (or a part) of these buses are implemented via bit-banging mode.

    The driver requires that the following macros should be defined into the board
    configuration file:

    CONFIG_BITBANGMII	    - Enable the miiphybb driver
    CONFIG_BITBANGMII_MULTI - Enable the multi bus support

    If the CONFIG_BITBANGMII_MULTI is not defined, the board's config file needs
    to define at least the following macros:

    MII_INIT	  - Generic code to enable the MII bus (optional)
    MDIO_DECLARE  - Declaration needed to access to the MDIO pin (optional)
    MDIO_ACTIVE   - Activate the MDIO pin as out pin
    MDIO_TRISTATE - Activate the MDIO pin as input/tristate pin
    MDIO_READ	  - Read the MDIO pin
    MDIO(v)	  - Write v on the MDIO pin
    MDC_DECLARE   - Declaration needed to access to the MDC pin (optional)
    MDC(v)	  - Write v on the MDC pin

    The previous macros make the driver compatible with the previous version
    (that didn't support the multi-bus).

    When the CONFIG_BITBANGMII_MULTI is also defined, the board code needs to fill
    the bb_miiphy_buses[] array with a record for each required bus and declare
    the bb_miiphy_buses_num variable with the number of mii buses.
    The record (struct bb_miiphy_bus) has the following fields/callbacks (see
    miiphy.h for details):

    char name[]		   - The symbolic name that must be equal to the MII bus
			     registered name
    int (*init)()	   - Initialization function called at startup time (just
			     before the Ethernet initialization)
    int (*mdio_active)()   - Activate the MDIO pin as output
    int (*mdio_tristate)() - Activate the MDIO pin as input/tristate pin
    int (*set_mdio)()	   - Write the MDIO pin
    int (*get_mdio)()	   - Read the MDIO pin
    int (*set_mdc)()	   - Write the MDC pin
    int (*delay)()	   - Delay function
    void *priv		   - Private data used by board specific code

    The board code will look like:

    struct bb_miiphy_bus bb_miiphy_buses[] = {
     { .name = miibus#1, .init = b1_init, .mdio_active = b1_mdio_active, ... },
     { .name = miibus#2, .init = b2_init, .mdio_active = b2_mdio_active, ... },
     ...
    int bb_miiphy_buses_num = sizeof(bb_miiphy_buses) /
			      sizeof(bb_miiphy_buses[0]);

    Signed-off-by: Luigi 'Comio' Mantellini <luigi.mantellini@idf-hit.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit efaf6f1bf6ebdd8f16b0d0c2960abe8d06f95af4
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Fri Oct 2 18:54:20 2009 -0400

    mpc83xx: cosmetic comment update relating to SPD EEPROM

    commit 6d0f6bcf337c5261c08fabe12982178c2c489d76 did the big
    rename of CFG_ macros to CONFIG_SYS macros.  But it missed
    a couple of instances within comments.

    Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit afc3ba0fc4195624e79e21244380ed7cc2fd6969
Author: Joakim Tjernlund <Joakim.Tjernlund@transmode.se>
Date:	Thu Oct 8 02:03:51 2009 +0200

    relocation: Do not relocate NULL pointers.

    NULL is an absolute value and should not be relocated.
    After this correction code like:
     void weak_fun(void) __attribute__((weak));
     printf("weak_fun:%p\n", weak_fun);
    will still print null after relocation.

    Signed-off-by: Joakim Tjernlund <Joakim.Tjernlund@transmode.se>

commit 3beb40c2473f0dd373231c723d88c51e46ad96f7
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Wed Oct 7 11:45:00 2009 -0500

    85xx: Ensure BSS segment isn't linked at address 0

    When U-Boot is relocated from flash to RAM pointers are modified
    accordingly.  However, pointers initialzed with NULL values should not
    be modified so that they maintain their intended NULL value.  If the
    BSS segment is linked at address 0 its address will not be
    updated as necessary during relocation.

    This is a temporary workaround.  The end goal is to add support to
    U-Boot to dynamically locate the BSS at an arbitrary address at
    runtime.  When the ability to fixup the BSS inteligently is
    added, this workaround can be removed and the 85xx link script
    can put the BSS at a fixed address at link time.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 95c44ec485b46ffb43dbdaa299f1491a500fdadf
Author: Detlev Zundel <dzu@denx.de>
Date:	Wed Oct 7 16:38:05 2009 +0200

    tqm5200: Correct comment and code in post_hotkeys_pressed.

    This fixes the code and the comment according to the original intent of
    doing an intensive memory test when PSC6_3 is pulled low on the STK52xx.
    Notably PORT_CONFIG will be overridden with this correct code now,
    so beware.

    The original code only worked by coincidence depending on the PORT_CONFIG
    setting from the header file.  The new code was tested to ensure that the
    (undocumented) memory test still works on the STK52x.

    Signed-off-by: Detlev Zundel <dzu@denx.de>
    CC: Martin Krause <Martin.Krause@tqs.de>

    Minor white-space cleanup.
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit da01f53404f99db185d196867af79371725d4683
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Oct 4 22:56:08 2009 +0200

    mpc512x: fix fixed_sdram() init code.

    Commit 054197ba and later fixes used an array to initialize some of
    the MDDRC parameters; however, the use of an array turned out to be a
    bad idea as it was not possible to correlate structure entries to
    array indices in readable and reliable way. Now we use a struct
    instead, which makes this self-explanatory.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit dbcc357166bed20df13450e93a501f30b197efd1
Author: Niklaus Giger <niklaus.giger@member.fsf.org>
Date:	Sun Oct 4 20:04:22 2009 +0200

    ppc4xx: respect 80-chars per line in ppc*.h files

    After running checkstyle.pl on the three previous patches I noted that in
    the *.h files there were a lot of long lines. This patch solves this problem.

    Signed-off-by: Niklaus Giger <niklaus.giger@member.fsf.org>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 78d2a641371ec71cc3786b167a318c7b115fbb90
Author: Niklaus Giger <niklaus.giger@member.fsf.org>
Date:	Sun Oct 4 20:04:21 2009 +0200

    ppc4xx: Rework cmd reginfo

    The command "reginfo" got an overhaul for the ppc4xx. It dumps all the
    relevant HW configuration registers (address, symbolic name, content).
    This allows to easily detect errors in *.h files and changes in the HW
    configuration.

    Signed-off-by: Niklaus Giger <niklaus.giger@member.fsf.org>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit ddc922ff2c20ae0b7f9ce2df1ac28143e2f325bd
Author: Niklaus Giger <niklaus.giger@member.fsf.org>
Date:	Sun Oct 4 20:04:20 2009 +0200

    ppc_4xx: Apply new HW register names

    Modify all existing *.c files to use the new register names
    as seen in the AMCC manuals.

    Signed-off-by: Niklaus Giger <niklaus.giger@member.fsf.org>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit f80e61dcfe53fa3a5936659883415c9bd1b5a3d9
Author: Niklaus Giger <niklaus.giger@member.fsf.org>
Date:	Sun Oct 4 20:04:19 2009 +0200

    ppc4xx: Cleanup some HW register names

    Here you find all the changes in the include directory for new register names
    and adapting other ones to the names used by AMCC in their manuals, e.g.
    For 440EPx/GRPPC440EPx/GRX, Revision 1.15  September 22, 2008
    For PPC405GP Embedded Processor, Revision 1.02  March 22, 2006

    Signed-off-by: Niklaus Giger <niklaus.giger@member.fsf.org>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 56f14818f66c68a8b9e45925f29ceb974405ad48
Author: Stefan Roese <sr@denx.de>
Date:	Tue Oct 6 07:21:08 2009 +0200

    ppc4xx: Add PPC405EX(r) Rev D support

    Unfortunately some Rev D PPC405EX/405EXr PVR's are identical with older
    405EX(r) parts. Here a list:

    0x12911475 - 405EX Rev D with Security *and* 405EX Rev A/B witout Sec
    0x12911473 - 405EX Rev D without Security *and* 405EXr Rev A/B with Sec

    Since there are only a few older parts in the field, this patch now
    changes the PVR's above to represent the new Rev D versions.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Cc: Phong Vo" <pvo@amcc.com>

commit 06dfaeef52a5f773ae4292432e3c74ff52ead316
Author: Stefan Roese <sr@denx.de>
Date:	Fri Oct 2 14:35:16 2009 +0200

    ppc4xx: Fix msg "initialization as root-complex failed" upon PCIe scan

    This message is printed upon PCIe bus scan, not only upon error, but also
    if no PCIe device is detected at all. Since this is not an error, let's
    remove this message in this case. We already have the message
    "link is not up." if there is no PCIe device present.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Acked-by: Wolfgang Denk <wd@denx.de>

commit 54f5f056aa1daa3e39bad1c5c3fb43a72cdb9e84
Author: Mike Nuss <mike@terascala.com>
Date:	Mon Oct 5 12:33:28 2009 -0400

    PPC4xx: Denali core: Fix incorrect DDR row bits

    The SPD detection code for the Denali memory controller used on some
    ppc4xx
    processors incorrectly encodes DDR0_42. With certain memory
    configurations,
    this can cause the bootwrapper to incorrectly calculate the installed
    memory
    size, because the number of row bits is wrong. This patch fixes that
    encoding.

    Signed-off-by: Mike Nuss <mike@terascala.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 99dbd4efd6d5ecc37d7e8f28b20d9be8c83055c7
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Mon Oct 5 00:02:51 2009 -0700

    Add information about return values of xxx_eth_register() in documentation

    As discussed on mailing list, <0 indicates failure, >=0 indicates number
    of interfaces found.

    Also added blurb about private data

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 1f1e774ec6242d4ea34e5cff57232deb5bb587e0
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Sep 9 14:41:22 2009 -0400

    document network driver framework

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Acked-by: Wolfgang Denk <wd@denx.de>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit aba8237257dd15b0e76cc517f0e741c0908ee0b9
Author: Prafulla Wadaskar <prafulla@marvell.com>
Date:	Wed Sep 9 15:59:19 2009 +0530

    net: kirkwood_egiga.c: fixed build warning

    if link up detection code is disabled through config option, it gives build warning.
    This patch fixes the same

    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 7194ab809532eeca3e2ee5dc12017cb901cc5842
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Sun Oct 4 22:37:03 2009 -0700

    Convert SMC91111 Ethernet driver to CONFIG_NET_MULTI API

    All in-tree boards that use this controller have CONFIG_NET_MULTI
    added
    Also:
      - changed CONFIG_DRIVER_SMC91111 to CONFIG_SMC91111
      - cleaned up line lengths
      - modified all boards that override weak function in this driver
      - modified all eeprom standalone apps to work with new driver
      - updated blackfin standalone EEPROM app after testing

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 32e7f239dda8638377edb0d3e7ac269cabbafbe6
Author: Prafulla Wadaskar <prafulla@marvell.com>
Date:	Mon Sep 21 20:28:18 2009 +0530

    net: phy: mv88e61xx.c : fixed build warning

    following build warning was observed

    mv88e61xx.c: In function mv88e61xx_busychk:
    mv88e61xx.c:208: warning: dereferencing type-punned pointer will break strict-aliasing rules

    This patch fixes the same
    Patch tested for rd6281a board build

    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit c0b46d8ead3c6c5b569c83544fd71b9d73356869
Author: James Clough <james@rtetc.com>
Date:	Thu Sep 10 09:11:50 2009 +0200

    net: Fix problem with 405EZ ethernet interrupt

    On 405EZ the RX-/TX-interrupts are coalesced into one IRQ bit in the
    UIC. We need to acknowledge the RX-/TX-interrupts in the
    SDR0_ICINTSTAT reg as well.

    This problem was introduced with commit
    d1631fe1 [ppc4xx: Consolidate PPC4xx UIC defines]

    Signed-off-by: James Clough <james@rtetc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 91b469c95faf92435e3d5d78292ba78075a3c5ca
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Sep 2 04:18:55 2009 -0400

    net: add random_port() prototype

    The random_port() is meant to be used by other net code, but without a
    prototype, we get fun warnings like:
    dns.c: In function 'DnsSend':
    dns.c:89: warning: implicit declaration of function 'random_port'

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 3469424cb6d939c7aedf1e0efdec44a797c0a18c
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Mon Sep 21 11:20:37 2009 -0500

    ppc: Remove reloc_off field from global_data structure

    Now that proper relocation is supported, the reloc_off field is no longer
    necessary.

    Note that the location of the standalone application jump table pointer
    in the global data structure is affected by this change, breaking
    execution of standalone applications compiled for previous versions of
    U-Boot.

    We therefore increment XF_VERSION to 6

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 0630535e2d062dd73c1ceca5c6125c86d1127a49
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Tue Sep 22 09:27:55 2009 -0500

    arm/microblaze/nios/nios2/sh: Remove relocation fixups

    These architectures don't need relocation fixups, so reduce their
    codesize a bit by defining CONFIG_RELOC_FIXUP_WORKS.

    Also remove the reloc_off field from their global data structures
    as it is no longer needed.

    Note that the location of the standalone application jump table pointer
    in the global data structure is affected by this change, breaking
    execution of standalone applications compiled for previous versions of
    U-Boot. We will therefore increment XF_VERSION in the next commit,
    which also touches this area.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 521af04d853361b49344b61892eb0618f9f713c5
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Mon Sep 21 11:20:36 2009 -0500

    Conditionally perform common relocation fixups

    Add #ifdefs where necessary to not perform relocation fixups.  This
    allows boards/architectures which support relocation to trim a decent
    chunk of code.

    Note that this patch doesn't add #ifdefs to architecture-specific code
    which does not support relocation.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 3cbcfa70b116df1bbdc90ba31c61adcaec058a8a
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Mon Sep 21 11:20:35 2009 -0500

    p3mx: Remove serial relocation fixups

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 80f73b92a19129854876ec3f1aef531a09e86d2d
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Mon Sep 21 11:20:34 2009 -0500

    lwmon, lwmon5: Remove sysmon POST relocation fixups

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 331ab60c4a418c39e5b1a05d4648a4155d0ad13e
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Mon Sep 21 11:20:33 2009 -0500

    mpl: Remove memory test relocation fixups

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 6385b28116f775da4771b768ba9bf93c3aaaf26e
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Mon Sep 21 11:20:32 2009 -0500

    fpga: Remove relocation fixups

    PPC boards are the only users of the current FPGA code which is littered
    with manual relocation fixups.  Now that proper relocation is supported
    for PPC boards, remove FPGA manual relocation.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit cd1011db80287eef933d1599b74cff1116c93134
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Mon Sep 21 11:20:31 2009 -0500

    tsec: Remove PHY command relocation fixups

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit b5650c5d8c99100144d8e4e9af910405f857bb7a
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Mon Sep 21 11:20:30 2009 -0500

    ppc: Remove board-specific command table relocation fixups

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit e6b05e774d7ce1641613cdeffb69c1d48139a869
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Mon Sep 21 11:20:29 2009 -0500

    ppc: Remove extable relocation fixups

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit b32a894011b1436758905fa10e6a03b8539c43c9
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Mon Sep 21 11:20:28 2009 -0500

    ppc: Remove pci config table pointer relocation fixups

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit a0e2066f392782730f0398095e583c87812d97f2
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Mon Sep 21 11:20:27 2009 -0500

    ppc: Remove board.c relocation fixups

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 244615197469dd6fe75ae082f38424b97c79aeaf
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Mon Sep 21 11:20:26 2009 -0500

    ppc: Check for compilers that don't support relocation

    Certain ppc compilers are known not to generate the .fixup section
    properly.  The .fixup section is necessary to create a relocatable
    U-Boot image.  A basic check for the existence of the .fixup section
    should hopefully catch the majority of broken compilers which don't
    support relocation.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 858290178f222d998b6425d85cf06822467918f3
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Mon Sep 21 11:20:25 2009 -0500

    ppc: Enable full relocation to RAM

    The following changes allow U-Boot to fully relocate from flash to
    RAM:
     - Remove linker scripts' .fixup sections from the .text section
     - Add -mrelocatable to PLATFORM_RELFLAGS for all boards
     - Define CONFIG_RELOC_FIXUP_WORKS for all boards

    Previously, U-Boot would partially relocate, but statically initialized
    pointers needed to be manually relocated.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 3b4bd2d75c4b3c1a4570f47ffaaed66f56a78ff4
Author: Matthias Fuchs <matthias.fuchs@esd.eu>
Date:	Wed Sep 30 11:55:04 2009 +0200

    ppc4xx: Add SDRAM detection for PMC440 boards

    This patch adds support to detect the amount of DDR2 SDRAM
    on PMC440 modules. Detection is done by probing through
    a list of available and supported hardware configurations
    from 1GByte down to 256MB.

    The static TLB entry is replaced by dynamically created entries.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd.eu>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit fb95169e39f2d03270bed552d27bbb02627a443e
Author: Stefan Roese <sr@denx.de>
Date:	Mon Sep 28 17:33:45 2009 +0200

    ppc4xx: Merge PPC4xx DDR and DDR2 ECC handling

    This patch merges the ECC handling (ECC parity byte writing) into one
    file (ecc.c) for all PPC4xx SDRAM controllers except for PPC440EPx/GRx.
    This exception is because only those PPC's use the completely different
    Denali SDRAM controller core.

    Previously we had two routines to generate/write the ECC parity bytes.
    With this patch we now only have one core function left.

    Tested on Kilauea (no ECC) and Katmai (with and without ECC).

    Signed-off-by: Stefan Roese <sr@denx.de>
    Cc: Felix Radensky <felix@embedded-sol.com>
    Cc: Grant Erickson <gerickson@nuovations.com>
    Cc: Pieter Voorthuijsen <pv@prodrive.nl>

commit d24bd2517a2b847f773453eab0ee5b1c8ebc74ba
Author: Felix Radensky <felix@embedded-sol.com>
Date:	Sun Sep 27 23:56:12 2009 +0200

    ppc4xx: Reorganize DDR2 ECC handling

    Reorganize DDR2 ECC handling to use common code for
    SPD DIMMs and soldered SDRAM. Also, use common code
    to display SDRAM info (ECC, CAS latency) for SPD and
    soldered SDRAM variants.

    Signed-off-by: Felix Radensky <felix@embedded-sol.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 46a887949e11d2cddb91e17ca47e73341d71a379
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Sep 30 03:09:16 2009 -0400

    Blackfin: update default console= settings

    The Linux kernel has changed the way it numbers serial ports, so update
    the default command line to match it.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 4c5f307d58604dea001cccf388aa077a902ab0a5
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Sep 21 18:04:49 2009 -0400

    Blackfin: bf533-ezkit: update env location

    The u-boot image has outgrown the current space and overflowed into the
    env sector.  So move the env to the next available sector (we've already
    allocated the first few sectors anyways for u-boot).

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 24b17d8a3c3a4b9ceaf6363ebe0021011b0b8bd8
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Sep 30 08:39:44 2009 -0500

    ppc/85xx: get_law_entry isn't used in CONFIG_NAND_SPL

    Don't include get_law_entry as part of the NAND_SPL build since the
    code isnt used.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 693a048d8ac191181f5b9adbff642d3f1bbd479f
Author: Mingkai Hu <Mingkai.hu@freescale.com>
Date:	Wed Sep 23 15:20:39 2009 +0800

    Add README.mpc8536ds

    Add boot from NAND/eSDHC/eSPI description

    Signed-off-by: Mingkai Hu <Mingkai.hu@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit e40ac4870c6e72302044e98338322f45c34435bd
Author: Mingkai Hu <Mingkai.hu@freescale.com>
Date:	Wed Sep 23 15:20:38 2009 +0800

    On-chip ROM boot: MPC8536DS support

    The MPC8536E is capable of booting from the on-chip ROM - boot from
    eSDHC and boot from eSPI. When power on, the porcessor excutes the
    ROM code to initialize the eSPI/eSDHC controller, and loads the mian
    U-Boot image from the memory device that interfaced to the controller,
    such as the SDCard or SPI EEPROM, to the target memory, e.g. SDRAM or
    L2SRAM, then boot from it.

    The memory device should contain a specific data structure with control
    word and config word at the fixed address. The config word direct the
    process how to config the memory device, and the control word direct
    the processor where to find the image on the memory device, or where
    copy the main image to. The user can use any method to store the data
    structure to the memory device, only if store it on the assigned address.

    The on-chip ROM code will map the whole 4GB address space by setting
    entry0 in the TLB1, so the main image need to switch to Address space 1
    to disable this mapping and map the address space again.

    This patch implements loading the mian U-Boot image into L2SRAM, so
    the image can configure the system memory by using SPD EEPROM.

    Signed-off-by: Mingkai Hu <Mingkai.hu@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 9a1a0aedbbd56f901bfbc124f18ec6d9dcefe282
Author: Mingkai Hu <Mingkai.hu@freescale.com>
Date:	Wed Sep 23 15:20:37 2009 +0800

    NAND boot: MPC8536DS support

    MPC8536E can support booting from NAND flash which uses the
    image u-boot-nand.bin. This image contains two parts: a 4K
    NAND loader and a main U-Boot image. The former is appended
    to the latter to produce u-boot-nand.bin. The 4K NAND loader
    includes the corresponding nand_spl directory, along with the
    code twisted by CONFIG_NAND_SPL. The main U-Boot image just
    like a general U-Boot image except the parts that included by
    CONFIG_SYS_RAMBOOT.

    When power on, eLBC will automatically load from bank 0 the
    4K NAND loader into the FCM buffer RAM where CPU can execute
    the boot code directly. In the first stage, the NAND loader
    copies itself to RAM or L2SRAM to free up the FCM buffer RAM,
    then loads the main image from NAND flash to RAM or L2SRAM
    and boot from it.

    This patch implements the NAND loader to load the main image
    into L2SRAM, so the main image can configure the RAM by using
    SPD EEPROM. In the first stage, the NAND loader copies itself
    to the second to last 4K address space, and uses the last 4K
    address space as the initial RAM for stack.

    Obviously, the size of L2SRAM shouldn't be less than the size
    of the image used. If so, the workaround is to generate another
    image that includes the code to configure the RAM by SPD and
    load it to L2SRAM first, then relocate the main image to RAM
    to boot up.

    Signed-off-by: Mingkai Hu <Mingkai.hu@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 07355700523203c5f72018712cf0d93683f255c8
Author: Mingkai Hu <Mingkai.hu@freescale.com>
Date:	Wed Sep 23 15:19:32 2009 +0800

    mpc8536: fix board config file line length

    Signed-off-by: Mingkai Hu <Mingkai.hu@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit dd9ca98f2600000e5c2744735040100b770650e7
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Fri Sep 25 11:14:11 2009 -0400

    sbc8548: reclaim wasted sector in boot flash

    By nature of being based off the MPC8548CDS board, this
    board inherited an ENV_SIZE setting of 256k.  But since
    it has a smaller flash device (8MB soldered on), it has
    a native sector size of 128k, and hence the ENV_SIZE was
    causing 2 sectors to be used for the environment.

    By removing the unused sector, we can push TEXT_BASE up
    closer to the end of address space and reclaim that
    sector for any other application.  This also fixes the
    mismatch between TEXT_BASE and MONITOR_LEN reported by
    Kumar earlier.

    Since this board also supports the ability to boot off
    the 64MB SODIMM flash, this change is forward looking
    with that in mind; i.e. the settings for MONITOR_LEN
    and ENV_SIZE will work when the 512k sectors of the
    SODIMM flash are used for alternate boot in the future.

    Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 8280912e0657e96a7b7d8da7003656d62b0fd109
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Sep 28 21:38:00 2009 -0500

    ppc/85xx: Clean up immap_85xx.h

    * Converted all white space to tabs
    * Converted all types to u8/u16/u32
    * Reduce lines to fit in 80 columns
    * Renamed MPC85xx_{Q,B}MAN -> FSL_CORENET_{Q,B}MAN

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit d44e9c1736283f0abc5d3c5d28cfea8480c93a79
Author: Scott Wood <scottwood@freescale.com>
Date:	Mon Sep 28 16:33:18 2009 -0500

    NAND: davinci: Fix warnings when 4-bit ECC not used

    I accidentally left v2 of "NAND: DaVinci:Adding 4 BIT ECC support"
    applied when I pushed the tree last merge window, and missed these fixes
    which were in v3 of that patch.

    Signed-off-by: Sandeep Paulraj <s-paulraj@ti.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit ca6189db484882798f2a35a476c07e618e21f6d3
Author: Kyungmin Park <kmpark@infradead.org>
Date:	Tue Sep 22 09:05:00 2009 +0900

    Refactor OneNAND IPL code

    Refactoring the OneNAND IPL code

    and some minor fixed:
    - Remove unnecessary header file
    - Fix wrong access at read interrupt
    - The recent OneNAND has 4KiB pagesize

    Also Board can override OneNAND IPL image

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>

commit a05e3f9a084fc8951d87745b3a91df246432df7d
Author: Shinya Kuribayashi <skuribay@pobox.com>
Date:	Sat Sep 12 18:01:40 2009 +0900

    MIPS: VCT: Remove read_spareram reference

    The commit ecad289fc6bd9d89ef4d5093cc7b6fd712fd0d29 (OneNAND: Remove
    unused read_spareram and add unlock_all as kernel does) forgot to remove
    a local reference to read_spareram in board/micronas/vct/ebi_onenand.c,
    which causes the following build failure when configured with OneNAND:

    ebi_onenand.c: In function 'onenand_board_init':
    ebi_onenand.c:196: error: 'struct onenand_chip' has no member named 'read_spareram'
    make[1]: *** [ebi_onenand.o] Error 1
    make[1]: *** Waiting for unfinished jobs....
    make: *** [board/micronas/vct/libvct.a] Error 2

    Signed-off-by: Shinya Kuribayashi <skuribay@pobox.com>
    Acked-by: Stefan Roese <sr@denx.de>
    Cc: Kyungmin Park <kyungmin.park@samsung.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit ef37c6835eac66206a9c7c11f0c7186f5d64bf91
Author: Simon Kagstrom <simon.kagstrom@netinsight.net>
Date:	Fri Sep 25 14:05:57 2009 +0200

    ubifs: Correct dereferencing of files-after-symlinks

    Files in directories which are symlinked to were not dereferenced
    correctly in last commit. E.g., with a symlink

       /boot/lnk -> /boot/real_dir

    loading

       /boot/lnk/uImage

    will fail. This patch fixes that by simply seeing to it that the target
    base directory has a slash after it.

    Signed-off-by: Simon Kagstrom <simon.kagstrom@netinsight.net>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit b306db2f1bf561b5823a655c677fe28cfad80cfb
Author: Stefan Roese <sr@denx.de>
Date:	Thu Sep 24 14:10:30 2009 +0200

    ppc4xx: Remove mtsdram0() marcos and use common mtsdram() instead

    Additionally some whitespace coding style fixes.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 95b602bab5fec2fffab07a01ea3947c70d1bacc1
Author: Stefan Roese <sr@denx.de>
Date:	Thu Sep 24 13:59:57 2009 +0200

    ppc4xx: Convert PPC4xx SDRAM defines from lower case to upper case

    The latest PPC4xx register cleanup patch missed some SDRAM defines.
    This patch now changes lower case UIC defines to upper case. Also
    some names are changed to match the naming in the IBM/AMCC users
    manuals (e.g. mem_mcopt1 -> SDRAM0_CFG).

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 952e7760bfc5b0e3b142b9ce34e7fbb7d008c900
Author: Stefan Roese <sr@denx.de>
Date:	Thu Sep 24 09:55:50 2009 +0200

    ppc4xx: Convert PPC4xx UIC defines from lower case to upper case

    The latest PPC4xx register cleanup patch missed the UIC defines.
    This patch now changes lower case UIC defines to upper case.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit d1c9e5b37901b53ffc1ce3f08ec8ed61bfd557b6
Author: Joakim Tjernlund <Joakim.Tjernlund@transmode.se>
Date:	Tue Sep 22 13:40:44 2009 +0200

    fsl_i2c: Do not generate STOP after read.

    __i2c_read always ends with a STOP condition thereby releasing
    the bus. It is cleaner to do the STOP magic in i2c_read(), like
    i2c_write() does. This may also help future multimaster systems which
    wants to hold on to the bus until all transactions are finished.

    Signed-off-by: Joakim Tjernlund <Joakim.Tjernlund@transmode.se>

commit 99404202127346b9e91503bbd69deafa18c980c4
Author: Joakim Tjernlund <Joakim.Tjernlund@transmode.se>
Date:	Thu Sep 17 11:07:17 2009 +0200

    fsl_i2c: Impl. AN2919, rev 5 to calculate FDR/DFSR

    The latest AN2919 has changed the way FDR/DFSR should be calculated.
    Update the driver according to spec. However, Condition 2
    is not accounted for as it is not clear how to do so.

    Signed-off-by: Joakim Tjernlund <Joakim.Tjernlund@transmode.se>
    Acked-by: Wolfgang Grandegger <wg@grandegger.com>

commit d01ee4db9302cfccaa5c548a1c4e873b415681a0
Author: Joakim Tjernlund <Joakim.Tjernlund@transmode.se>
Date:	Thu Sep 17 11:07:16 2009 +0200

    fsl_i2c: Add CONFIG_FSL_I2C_CUSTOM_{DFSR/FDR}

    Some boards need a higher DFSR value than the spec currently
    recommends so give these boards the means to define there own.

    For completeness, add CONFIG_FSL_I2C_CUSTOM_FDR too.

    Signed-off-by: Joakim Tjernlund <Joakim.Tjernlund@transmode.se>

commit 21f4cbb77299788e2b06c9b0f48cf20a5ab00d4a
Author: Joakim Tjernlund <Joakim.Tjernlund@transmode.se>
Date:	Thu Sep 17 11:07:15 2009 +0200

    fsl_i2c: Wait for STOP condition to propagate

    After issuing a STOP one must wait until the STOP has completed
    on the bus before doing something new to the controller.

    Also add an extra read of SR as the manual mentions doing that
    is a good idea.

    Remove surplus write of CR just before a write, isn't required and
    could potentially disturb the I2C bus.

    Signed-off-by: Joakim Tjernlund <Joakim.Tjernlund@transmode.se>

commit c7190f028fa950d4d36b6d0b4bb3fc72602ec54c
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Fri Sep 25 18:19:44 2009 -0500

    mpc83xx: retain POR values of non-configured ACR, SPCR, SCCR, and LCRR bitfields

    some LCRR bits are not documented throughout the 83xx family RMs.
    New board porters copying similar board configurations might omit
    setting e.g., DBYP since it was not documented in their SoC's RM.

    Prevent them bricking their board by retaining power on reset values
    in bit fields that the board porter doesn't explicitly configure
    via CONFIG_SYS_<registername>_<bitfield> assignments in the board
    config file.

    also move LCRR assignment to cpu_init_r[am] to help ensure no
    transactions are being executed via the local bus while CLKDIV is being
    modified.

    also start to use i/o accessors.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 00ec0ff549b8cb6fb6d40e275aeb5a460642a3bd
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Mon Sep 21 17:44:51 2009 -0400

    sbc8349: tidy up Makefile to use new configuration script.

    Commit 804d83a5 allows us to move all the configuration
    variation tweaks out of the top level Makefile and down
    into the board config header.  This takes advantage of
    that for the sbc8349 board.

    Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit da6eea0f48c24a318e6de69d6bca0bb5ab70572b
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Wed Sep 16 23:22:08 2009 +0400

    mpc83xx: mpc8360emds: Add QE USB device tree fixups

    With this patch we can change QE USB mode without need to hand-edit
    the device tree.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 89da44ce3fe1638312d71cb3add8c6a6d2c7c1f3
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Wed Sep 16 23:21:59 2009 +0400

    mpc83xx: mpc8360emds: Use RGMII-ID mode, add workarounds for rev. 2.1 CPUs

    This patch fixes various ethernet issues with gigabit links handling
    in U-Boot. The workarounds originally implemented by Kim Phillips for
    Linux kernel.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 034477bb31948d698d18b84bc0834c3e25a14d04
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Wed Sep 16 23:21:57 2009 +0400

    mpc83xx: mpc8360emds: Don't use LBC SDRAM when DDR is available

    Since commit 5c2ff323a94e27e481f70c44838d43fcd844dd46 ("mpc8360emds:
    rework LBC SDRAM setup"), LBC SDRAM is available for use in Linux.

    Though, it appears that QE Ethernet in Gigabit mode can't transmit
    large packets when it tries to work with a data in LBC SDRAM (memtest
    didn't discover any issues, is LBC SDRAM just too slow?).

    With this patch we can still use the board without DDR memory, but
    if DDR is available, we don't use LBC SDRAM.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit d77c779bc23596aa3693d1c5c4d5b6e1072f93f2
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Wed Sep 16 23:21:55 2009 +0400

    net: uec: Fix uccf.h and uec.h headers to include headers they depend on

    Headers should include headers containing prototypes and defines they
    depend on, don't assume that they're included by somebody else.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 6185f80c311cc3bdef2f8d5096c61e40ca6f48b2
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Wed Sep 16 23:21:53 2009 +0400

    net: uec_phy: Implement TXID and RXID RGMII modes for Marvell PHYs

    This will be needed for MPC8360E-MDS boards with rev. 2.1 CPUs.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 984f10baac8ef6032df52f135943d6b0bc96f724
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Sep 25 14:16:00 2009 +0200

    mpc5121ads: fix breakage introduced when reordering elpida_mddrc_config[]

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 6e748ea004473cce99fbde6382dd580c10ffdb60
Author: Ken MacLeod <ken@bitsko.slc.ut.us>
Date:	Fri Sep 11 15:16:18 2009 -0500

    cmd_fdt.c: fix parse of byte streams and strings

    Commit 4abd844d8e extended the fdt command parser to handle property
    strings which are split across multiple arguments but it was broken for
    byte streams and strings.

    Byte stream parsing:

     * Fixes where it would terminate early or go into an endless loop.

     * Fixes a 0x00 being inserted into the data if there is a space after
       '[' or a separate argument.

     * Fixes dereferencing the argument pointer after the last argument.

     * Checks for bad characters.

    String parsing:

     * Treat multiple arguments as a string list.  This fixes an issue where
       only the last argument was stored.

    Signed-off-by: Ken MacLeod <ken@bitsko.slc.ut.us>

commit 3887c3fbdbbe6bbb4df60ed415c8e1ab9fe56b5e
Author: Heiko Schocher <hs@denx.de>
Date:	Wed Sep 23 07:56:08 2009 +0200

    mucmc52, uc101: delete ata@3a00 node, if no CF card is detected

    U-Boot can detect if an IDE device is present or not.
    If not, and this new config option is activated, U-Boot
    removes the ATA node from the DTS before booting Linux,
    so the Linux IDE driver does not probe the device and
    crash. This is needed for buggy hardware (uc101) where
    no pull down resistor is connected to the signal IDE5V_DD7.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 7f625fc6d3ba8f890e843ac01717804c2462ed53
Author: Heiko Schocher <hs@denx.de>
Date:	Wed Sep 23 07:56:04 2009 +0200

    mpc5200, mucmc52, uc101: config cleanup

    - As these boards are similiar, collect common config options
      in manroland/common.h and manroland/mpc52xx-common.h
      for mpc5200 specific common options for this manufacturer.
    - add OF support
    - update default environment

    Signed-off-by: Heiko Schocher <hs@denx.de>

    Minor edit of commit message.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 9d142ea8f787882ab732fa531a34db091bfa363d
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Sep 25 00:57:49 2009 +0200

    Fix "ppc/85xx: Clean up use of LAWAR defines" breakage

    Commit 002741ae86 modified include/asm-ppc/mmu.h such that the LAWAR_
    defines were only enabled for the 83xx platform, but they are also
    needed on MPC512x system. Enabling these for E300 systems seems thus
    more appropriate.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit a5aa3998ab6408a6ac738a3ce8005e647b9465f8
Author: Martha M Stan <mmarx@silicontkx.com>
Date:	Mon Sep 21 14:08:00 2009 -0400

    Add Elpida Memory Configuration to mpc5121ads Boards

    Signed-off-by: Martha M Stan <mmarx@silicontkx.com>

    Minor coding style cleanup.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 054197ba8ee5ef1e41694df58531b6e53ec43f2d
Author: Martha M Stan <mmarx@silicontkx.com>
Date:	Mon Sep 21 14:07:14 2009 -0400

    mpc512x: Streamlined fixed_sdram() init sequence.

    Signed-off-by: Martha M Stan <mmarx@silicontkx.com>

    Minor cleanup:

    Re-ordered default_mddrc_config[] to have matching indices.

    This allows to use the same index "N" for source and target fields;
    before, we had code like this

	out_be32(&im->mddrc.ddr_time_config2, mddrc_config[3]);

    which always looked like a copy & paste error because 2 != 3.

    Also, use NULL when meaning a null pointer.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 39aaca1f66a0e5b1204b0789f6c0097938c00ad1
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Mar 19 02:46:19 2009 -0500

    ppc/p4080: Determine various chip frequencies on CoreNet platforms

    The means to determine the core, bus, and DDR frequencies are completely
    new on CoreNet style platforms.  Additionally on p4080 we can have
    different frequencies for FMAN and PME IP blocks.  We need to keep track
    of the FMAN & PME frequencies since they are used for time stamping
    capabilities inside each block.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 3c2a67eec8a0facc865b400caca52e7f6b7adf01
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Sep 17 01:52:37 2009 -0500

    ppc/p4080: Handle timebase enabling and frequency reporting

    On CoreNet style platforms the timebase frequency is the bus frequency
    defined by 16 (on PQ3 it is divide by 8).  Also on the CoreNet platforms
    the core not longer controls the enabling of the timebase.	We now need
    to enable the boot core's timebase via CCSR register writes.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 7e4259bba4c56536760e42d32dacfb3233f216fd
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Mar 19 02:39:17 2009 -0500

    ppc/p4080: Add various p4080 related defines (and p4040)

    There are various locations that we have chip specific info:

    * Makefile for which ddr code to build
    * Added p4080 & p4040 to cpu_type_list and SVR list
    * Added number of LAWs for p4080
    * Set CONFIG_MAX_CPUS to 8 for p4080

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 39a7e7fd538cdf49e7e8a2f0634ea5e15e12b4ec
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Sep 17 01:44:39 2009 -0500

    ppc/p4080: CoreNet platfrom style secondary core release

    The CoreNet platform style of bringing secondary cores out of reset is
    a bit different that the PQ3 style.  Mostly the registers that we use
    to setup boot translation, enable time bases, and boot release the cores
    have moved around.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit a880cf3e0e1c220d780eccd0b101170c4499485d
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Sep 17 01:44:00 2009 -0500

    ppc/p4080: CoreNet platfrom style CCSRBAR setting

    On CoreNet based platforms the CCSRBAR address is split between an high &
    low register and we no longer shift the address.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 418ec8584343f04048e2cc7ee96b6b29be54ad97
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Mar 19 02:32:23 2009 -0500

    ppc/p4080: Add support for CoreNet style platform LAWs

    On CoreNet based platforms the LAW address is split between an high &
    low register and we no longer shift the address.  Also, the target IDs
    on CoreNet platforms have been completely re-assigned.

    Additionally, added a new find_law() API to which LAW an address hits in.
    This is need for the CoreNet style boot release code since it will need
    to determine what the target ID should be set to for boot window
    translation.

    Finally, enamed LAWAR_EN to LAW_EN and moved to header so we can use
    it elsewhere.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 01df521217957d77d53c2d570183eded7030938f
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Sep 16 09:43:12 2009 -0500

    ppc/p4080: Add p4080 platform immap definitions

    The p4080 SoC has a significant amount of commonality with the 85xx/PQ3
    platform.  We reuse the 85xx immap and just add new definitions for
    local access and global utils.  The global utils is now broken into
    global utils, clocking and run control/power management.

    The offsets from CCSR for a number of blocks have also changed.  We
    introduce the CONFIG_FSL_CORENET define to distinquish the PQ3 style of
    platform from the new p4080 platform.  We don't use QoirQ as there are
    products (like p2020) that are PQ3 based platforms but have the QoirQ
    name.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 25bacf7a2b096496e2c58f2de4e5b2bce8fba038
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Sep 22 15:45:44 2009 -0500

    ppc/85xx: Fix enabling of L2 cache

    We need to flash invalidate the locks in addition to the cache
    before we enable.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit cb0ff65c619efacdc0ba69aa8ee6ede7dd364a38
Author: Vivek Mahajan <vivek.mahajan@freescale.com>
Date:	Tue Sep 22 12:48:27 2009 +0530

    85xx-fdt: Fixed l2-ctlr's compatible prop for QorIQ

    The code assumed names where just numbers and always prefixed 'mpc'.
    However newer QorIQ don't follow the mpc naming scheme.

    Signed-off-by: Vivek Mahajan <vivek.mahajan@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 234a89d911ce28e46372f555d7c14e28424f2b0d
Author: Mingkai Hu <Mingkai.hu@freescale.com>
Date:	Tue Sep 22 14:53:21 2009 +0800

    ppc/85xx: add cpu init config file for boot from NAND

    When boot from NAND, the NAND flash must be connected to br/or0.
    Also init RAM(L2 SRAM or DDR SDRAM) for load the second image to
    it.

    Signed-off-by: Mingkai Hu <Mingkai.hu@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 266139b88b43ae1d87abb5f5431e6f57b801795f
Author: Mingkai Hu <Mingkai.hu@freescale.com>
Date:	Tue Sep 22 14:53:34 2009 +0800

    immap_85xx: add porpllsr's plat ratio definition

    Signed-off-by: Mingkai Hu <Mingkai.hu@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 098bcbae3172d73d24ca8ba196328d901eed4132
Author: Mingkai Hu <Mingkai.hu@freescale.com>
Date:	Tue Sep 22 14:53:10 2009 +0800

    ppc/85xx: add ld script file for boot from NAND

    The first stage 4K image uses a seperate ld script file to
    generate 4K image. This patch moves it to the cpu/mpc85xx/*
    to make it avaliable for 85xx platform.

    Signed-off-by: Mingkai Hu <Mingkai.hu@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 8439f05cfd8cbb38485376a34d9fe297ba262737
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Mon Sep 21 23:09:28 2009 -0500

    mpc8610hpcd: Use common 86xx fdt fixup code

    Using the common 86xx fdt fixups removes some board-specific code and
    should make the mpc8610hpcd easier to maintain in the long run.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 928435d11b898870415910efff87a4d6399cecb8
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Mon Sep 21 17:19:17 2009 -0400

    sbc85x0: tidy up Makefile to use new configuration script.

    Commit 804d83a5 allows us to move all the configuration
    variation tweaks out of the top level Makefile and down
    into the boards config header.  This takes advantage of
    that for the sbc8540/sbc8560 boards.

    There were a couple of cheezy comments pointing at incorrect
    files, or files that don't exist, so I've cleaned those up too.

    Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 2738bc8df65ec905094d83f62f87fed123a03b9c
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Sun Sep 20 20:36:06 2009 -0400

    sbc8548: allow enabling PCI via a make config option

    Prior to this commit, to enable PCI, you had to go manually
    edit the board config header, and if you had 33MHz PCI, you
    had to manually change CONFIG_SYS_NS16550_CLK too, which was
    not real user friendly,

    This adds the typical PCI and clock speed make targets to the
    toplevel Makefile in accordance with what is being done with
    other boards (i.e. using the "-t" to mkconfig).

    Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit fdc7eb90b504daa020f290604d50da8f7cb70d8a
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Sun Sep 20 20:36:05 2009 -0400

    sbc8548: update PCI/PCI-e support code

    The PCI/PCI-e support for the sbc8548 was based on an earlier
    version of what the MPC8548CDS board was using, and in its
    current state it won't even compile.  This re-syncs it to match
    the latest codebase and makes use of the new shared PCI functions
    to reduce board duplication.

    It borrows from the MPC8568MDS, in that it pulls the PCI-e I/O
    back to 0xe280_0000 (where PCI2 would be on MPC8548CDS), and
    similarly it coalesces the PCI and PCI-e mem into one single TLB.

    Both PCI-x and PCI-e have been tested with intel e1000 cards
    under linux (with an accompanying dts change in place)

    Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit a8b3e90f798e0cca5f11c912f9d0823a1c5b6c24
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Sun Sep 20 20:36:01 2009 -0400

    fsl_pci: create a SET_STD_PCI_INFO() helper wrapper

    Recycle the recently added PCI-e wrapper used to reduce board
    duplication of code by creating a similar version for plain PCI.

    Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 11d5a629f8a40f9d7cffc74e58f4e3ed258e56ab
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Sun Sep 20 20:36:04 2009 -0400

    sbc8548: correct local bus SDRAM size from 64M to 128M

    The size of the LB SDRAM on this board is 128MB, spanning CS3
    and CS4.  It was previously only being configured for 64MB on
    CS3, since that was what the original codebase of the MPC8548CDS
    had.  In addition to setting up BR4/OR4, this also adds the TLB
    entry for the second half of the SDRAM.

    Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 0c7e4d45d9fb3c9e503ee93d50572d346dae150e
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Sun Sep 20 20:36:03 2009 -0400

    sbc8548: use I/O accessors

    Sweep throught the board specific file and replace the various
    register proddings with the equivalent I/O accessors.

    Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit fc38eb98ff226f2c53eecbee033a6ab7619473dc
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Sun Sep 20 20:36:02 2009 -0400

    sbc8548: remove eTSEC3/4 voltage hack

    With only eTSEC1 and 2 being brought out to RJ-45 connectors, we
    aren't interested in the eTSEC3/4 voltage hack on this board

    Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 9b3ba24f18900633a394416cc056c44a1a6eb754
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Fri Sep 18 19:08:41 2009 -0400

    sbc8548: enable access to second bank of flash

    The sbc8548 has a 64MB SODIMM flash module off of CS6 that
    previously wasn't enumerated by u-boot.  There were already
    BR6/OR6 settings for it [used by cpu_init_f()] but there
    was no TLB entry and it wasn't in the list of flash banks
    reported to u-boot.

    The location of the 64MB flash is "pulled back" 8MB from
    a 64MB boundary, in order to allow address space for the
    8MB boot flash that is at the end of 32 bit address space.
    This means creating two 4MB TLB entries for the 8MB chunk,
    and then expanding the original boot flash entry to 64MB
    in order to cover the 8MB boot flash and the remainder
    (56MB) of the user flash.

    Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit ded58f4153923dfff16d2f96495bd7acf1f7e10e
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Wed Sep 23 17:30:57 2009 -0400

    sbc8548: cosmetic line re-wrap

    Fix the extra long lines to be consistent with u-boot coding style.
    No functional change here.

    Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>

commit 2c40acd3525b75db3fcd3f5a5bd40445679b5547
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Fri Sep 18 19:08:40 2009 -0400

    sbc8548: get_clock_freq is not valid for this board

    The get_clock_freq() comes from freescale/common/cadmus.c and is
    only valid for the CDS based 85xx reference platforms.  It would
    be nice if we could read the 33 vs. 66MHz status somehow, but in
    the meantime, tie it to CONFIG_SYS_CLK_FREQ like all the other
    non-CDS boards do.

    Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 7b1f1399e876587e0a268a5a471dd444bfbc3114
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Fri Sep 18 19:08:39 2009 -0400

    sbc8548: delete unused MPC8548CDS info carried over from port

    There are a couple defines and PCI bridge quirks related to the PCI
    backplane of the MPC8548CDS that have no meaning in the context of
    the port to the sbc8548 board, so delete them.

    Also, the form factor of the sbc8548 is a standalone board with a
    single PCI-X and a single PCI-e slot.  That pretty much guarantees
    that it will never be a PCI agent itself, so the host/agent and root
    complex/end node distinctions have been removed.

    Similarly, since there is no physical connector mapping to PCI2, so
    all references of PCI2 in the board support files have been removed
    as well.

    Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 94ca091456d5c3040ddd6351c80cf3e74393f9be
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Fri Sep 18 19:08:44 2009 -0400

    sbc8548: enable use of PCI network cards

    Create a board_eth_init to allow a place to hook in
    the PCI ethernet init after all the eTSEC are up
    and configured.

    Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 82b7725b6d46d9ad2b962b4cdfa896bd5ee32fb5
Author: Poonam Aggrwal <poonam.aggrwal@freescale.com>
Date:	Sat Sep 19 17:50:17 2009 +0530

    ppc/85xx: 32bit DDR changes for P1020/P1011

    The P1020/P1011 SOCs support max 32bit DDR width as opposed to P2020/P2010
    where max DDR data width supported is 64bit.

    As a next step the DDR data width initialization would be made more dynamic
    with more flexibility from the board perspective and user choice.
    Going forward we would also remove the hardcodings for platforms with onboard
    memories and try to use the FSL SPD code for DDR initialization.

    Signed-off-by: Poonam Aggrwal <poonam.aggrwal@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit bd42bbb858dde713f023fc2e4f512ec174a1a8d2
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Fri Sep 18 19:08:46 2009 -0400

    sbc8548: replace README with completely new document

    The previous README.sbc8548 was pretty much content-free. Replace
    it with something that actually gives the end user some relevant
    hardware details, and also lists the u-boot configuration choices.

    Also in the cosmetic department, fix the bogus line in the Makefile
    that was carried over from the SBC8560 Makefile, and the typo in
    the sbc8548.c copyright.

    Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 002741ae862c1c7e3dad89d020e392e6add1c05d
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Sat Sep 19 11:20:54 2009 -0500

    ppc/85xx: Clean up use of LAWAR defines

    On 85xx platforms we shouldn't be using any LAWAR_* defines
    but using the LAW_* ones provided by fsl-law.h.  Rename any such
    uses and limit the LAWAR_ to the 83xx platform as the only user so
    we will get compile errors in the future.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit f61dae7c9dc526410faec15ce352b11fc36a560b
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Sep 3 10:20:09 2009 -0500

    ppc/85xx: Clean up mpc8572DS PCI setup code

    Use new fsl_pci_init_port() that reduces amount of duplicated code in the
    board ports, use IO accessors and clean up printing of status info.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 4958af8735207640181c4423e41b24ee7418361a
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Sep 3 09:42:01 2009 -0500

    ppc/85xx: Clean up p2020ds PCI setup code

    Use new fsl_pci_init_port() that reduces amount of duplicated code in the
    board ports, use IO accessors and clean up printing of status info.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 93a83872c707891bad22f7776d79a650c870601f
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Sep 3 10:09:04 2009 -0500

    ppc/85xx: Clean up p1_p2_rdb PCI setup

    General code cleanup to use in/out IO accessors as well as making
    the code that prints out info sane between board and generic fsl pci
    code.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 62ca21c442e18fec118ec83e183d64ea49966ce7
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Sep 10 16:31:53 2009 -0500

    ppc/85xx: Simplify the top makefile for P1_P2_RDB boards

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit a0f9e0e0f06033807de0ae017ad4d9cf5ddff84b
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Sep 10 16:26:37 2009 -0500

    ppc/85xx: Simplify the top makefile for 36-bit config for P2020DS

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit f9edcc10e6cb497dd7dcbaf691cfd1859abae27a
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Sep 10 16:23:45 2009 -0500

    ppc/85xx: Simplify the top makefile for 36-bit config for MPC8572DS

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 0e905ac28b1e039d74e63232293972bff6b5a0ce
Author: Mingkai Hu <Mingkai.hu@freescale.com>
Date:	Fri Sep 18 11:45:09 2009 +0800

    ppc/85xx: simplify the top makefile for 36-bit config for mpc8536ds

    Signed-off-by: Mingkai Hu <Mingkai.hu@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 202d94875c98b7b573f136c4f353609758ed9733
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Sep 15 22:21:58 2009 -0500

    ppc/85xx: Fix LCRR_CLKDIV defines

    For some reason the CLKDIV field varies between SoC in how it interprets
    the bit values.

    All 83xx and early (e500v1) PQ3 devices support:
     clk/2: CLKDIV = 2
     clk/4: CLKDIV = 4
     clk/8: CLKDIV = 8

    Newer PQ3 (e500v2) and MPC86xx support:
     clk/4: CLKDIV = 2
     clk/8: CLKDIV = 4
     clk/16: CLKDIV = 8

    Ensure that the MPC86xx and MPC85xx still get the same behavior and make
    the defines reflect their logical view (not the value of the field).

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: Peter Tyser <ptyser@xes-inc.com>

commit 55f786d8ba8ce58a81428536da34a2192b9bad9f
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Mon Sep 21 12:04:33 2009 -0500

    MAKEALL: Use POSIX math

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 40a28f0885e62b6607e12ed6baa6284927f5263e
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Mon Sep 21 12:04:32 2009 -0500

    MAKEALL: Add summary information

    This change adds some basic summary information to the MAKEALL script.
    The summary information includes how many boards were compiled, how many
    boards had compile warnings or errors, and which specific boards had
    compile warnings or errors.

    This information is useful when doing compile testing to quickly
    determine which boards are broken.

    As a side benefit, no empty $BOARD.ERR files are generated by MAKEALL.
    Previously, each board had a corresponding $BOARD.ERR file, even if the
    board compiled cleanly.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 71ce9bd7f551e44c4ddb4c985c095da6d3452d79
Author: Eric Millbrandt <emillbrandt@coldhaus.com>
Date:	Mon Sep 21 11:05:55 2009 -0500

    galaxy5200: enable version environment variable

    Add version environment variable configuration to the galaxy5200
    board header file.

    Signed-off-by: Eric Millbrandt <emillbrandt@dekaresearch.com>

    Edited commit message.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit c569ad6e1e8768a0fec513ffc156412240b7eb35
Author: Werner Pfister <werner.pfister@intercontrol.de>
Date:	Mon Sep 21 14:49:56 2009 +0200

    digsy_mtc: Add TCR register value for RTC (DS1339)

    Signed-off-by: Werner Pfister <werner.pfister@intercontrol.de>
    Signed-off-by: Detlev Zundel <dzu@denx.de>

commit b0078c8792badd81aed51b7eabe85e960036361c
Author: Werner Pfister <werner.pfister@intercontrol.de>
Date:	Mon Sep 21 14:49:55 2009 +0200

    rtc/ds1337.c: Allow to set TCR register

    This is needed to correctly start the charging of an attached capacitor
    or battery.

    Signed-off-by: Werner Pfister <werner.pfister@intercontrol.de>
    Signed-off-by: Detlev Zundel <dzu@denx.de>

commit 9d7952e4c636b8c99289a44dbe28c6f93c43b9f7
Author: Simon Kagstrom <simon.kagstrom@netinsight.net>
Date:	Tue Sep 15 09:53:29 2009 +0200

    ubifs: Add support for looking up directory and relative symlinks

    This patch adds support for resolving symlinks to directories as well as
    relative symlinks. Symlinks are now always resolved during file lookup,
    so the load stage no longer needs to special-case them.

    Signed-off-by: Simon Kagstrom <simon.kagstrom@netinsight.net>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit fcdb36b85ac033c09a9762a0a14808f7cb2ed54c
Author: Rupjyoti Sarmah <rsarmah@amcc.com>
Date:	Mon Sep 21 11:26:19 2009 -0700

    ppc4xx: Fix PCIE PLL lock on 440SPe Yucca board

    u-boot reports a PCIE PLL lock error at boot time on Yucca board, and
    left PCIe nonfunctional. This is fixed by making u-boot function
    ppc4xx_init_pcie() to wait 300 uS after negating reset before the
    first check of the PLL lock.

    Signed-off-by: Rupjyoti Sarmah <rsarmah@amcc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 91d599044caac4a8c228115b16cf3b073f902080
Author: Dirk Eibach <eibach@gdsys.de>
Date:	Mon Sep 21 13:27:14 2009 +0200

    ppc4xx: Make DDR2 timing for intip more robust

    DDR2 timing for intip was on the edge for some of the available chips
    for this board. Now it is verfied to work with all of them.

    Signed-off-by: Dirk Eibach <eibach@gdsys.de>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 184a3a27f5cd2c64666f74df94c86b94c4383ef8
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Sep 15 00:26:02 2009 +0200

    board/linkstation/ide.c: Fix compile warning

    Fix warning: ide.c:60: warning: dereferencing type-punned pointer will
    break strict-aliasing rules

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: Guennadi Liakhovetski <lg@denx.de>

commit 004eca0c9ba328de457d5dc9ef8805639dfef893
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Wed Sep 16 22:03:08 2009 -0500

    ppc: Clean up calling of phy_reset() during init

    Remove board-specific #ifdefs for calling phy_reset() during
    initializtion

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 3a8f28d0a6d9f8505017680233064c13e4587174
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Wed Sep 16 22:03:07 2009 -0500

    ppc: Clean up calling of misc_init_r() during init

    Remove board-specific #ifdefs for calling misc_init_r() during
    initializtion

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Acked-by: Heiko Schocher <hs@denx.de>

commit 3202d33169df04da5cf3dea8c5ab0a902b90ecaa
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Wed Sep 16 21:38:10 2009 -0500

    Remove deprecated 'autoscr' command/variables

    The more standard 'source' command provides identical functionality to
    the autoscr command.

    Environment variable names/values on the MVBC_P, MVBML7, kmeter1,
    mgcoge, and km8xx boards are updated to no longer refernce 'autoscr'.

    The 'autoscript' and 'autoscript_uname' environment variables are
    also removed.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Acked-by: Andre Schwarz <andre.schwarz@matrix-vision.de>
    Acked-by: Heiko Schocher <hs@denx.de>

commit d3f4941874a20d8a390a36ba71335ae1db2f9ba0
Author: Paul Gibson <paul.gibson2074@gmail.com>
Date:	Wed Sep 16 10:05:00 2009 +1000

    mpc512x. Micron nand flash needs a reset before a read command is issued.

    Micron nand flash needs a reset before a read command is issued.
    The current mpc5121_nfc driver ignores the reset command.

commit b55ae40249545eabb9d6bfb850b1400a32561b1f
Author: Marcel Ziswiler <marcel@ziswiler.com>
Date:	Wed Sep 9 21:18:41 2009 +0200

    FDT: remove obsolete OF_CPU and OF_SOC macros.

    Signed-off-by: Marcel Ziswiler <marcel.ziswiler@noser.com>
    Acked-by: Guennadi Liakhovetski <g.liakhovetski@gmx.de>
    Acked-by: Heiko Schocher <hs@denx.de>

commit 3b6a9267f0de7b85d387fa4123d0b58379363447
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Sep 15 00:09:21 2009 +0200

    board/flagadm/flash.c: fix compile warning

    Fix warning: flash.c:531: warning: dereferencing type-punned pointer
    will break strict-aliasing rules

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: Kri Davsson <kd@flaga.is>

commit 0413cfecea350000eab5e591a0965c3e3ee0ff00
Author: Simon Kagstrom <simon.kagstrom@netinsight.net>
Date:	Thu Sep 17 15:15:52 2009 +0200

    Correct ffs/fls regression for PowerPC etc

    Commits

      02f99901ed1c9d828e3ea117f94ce2264bf8389e
      52d61227b66d4099b39c8309ab37cb67ee09a405

    introduced a regression where platform-specific ffs/fls implementations
    were defined away. This patch corrects that by using PLATFORM_xxx
    instead of the name itself.

    Signed-off-by: Simon Kagstrom <simon.kagstrom@netinsight.net>
    Acked-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: Stefan Roese <sr@denx.de>

commit e67af44d0167d8237dd2c2ddf8e301d19ca12914
Author: Stefan Roese <sr@denx.de>
Date:	Mon Sep 14 11:13:34 2009 +0200

    ppc4xx: Consolidate get_OPB_freq()

    All 4xx variants had their own, mostly identical get_OPB_freq()
    function. Some variants even only had the OPB frequency calculated
    in this routine and not supplied the sys_info.freqOPB variable
    correctly (e.g. 405EZ). This resulted in incorrect OPB values passed
    via the FDT to Linux.

    This patch now removes all those copies and only uses one function
    for all 4xx variants (except for IOP480 which doesn't have an OPB).

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 84a45d33c2cc261dbd5411f7c2ad45f6003025b6
Author: Stefan Roese <sr@denx.de>
Date:	Fri Sep 11 17:09:45 2009 +0200

    ppc4xx: Enable commands for FDT enabled Linux booting on AMCC Acadia

    Acadia still used the "old" arch/ppc bootm commands for booting
    Linux images without FDT. This patch now enables these fdt-aware
    boot commands for Acadia as well.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 95a4a593b577b6e2f1da2d4b0f5ec86975c33413
Author: Stefan Roese <sr@denx.de>
Date:	Fri Sep 11 17:07:55 2009 +0200

    ppc4xx: Fix 405EZ uart base baud calculation

    With this fix, Linux correctly configures the baudrate when booting
    with FDT passed from U-Boot to Linux.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 15fba3279b56333bdb65ead366f82c945ed320d1
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Sep 11 15:28:41 2009 -0500

    ppc/85xx: Disable all async interrupt sources when we boot

    We should make sure to clear MSR[ME, CE, DE] when we boot an OS image
    since we have changed the exception vectors and the OSes vectors might
    not be setup we should avoid async interrupts at all costs.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 9f00409a9d04cf533305531da32437130802f3a3
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Sep 11 13:52:45 2009 -0500

    ppc/85xx: Split out cpu_init_early into its own file for NAND_SPL

    By pulling out cpu_init_early we can build just it and not all of
    cpu_init for NAND_SPL.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 0456dbf3475d0aec42873a967ac97ed81f376119
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Sep 11 13:41:49 2009 -0500

    ppc/85xx: Change cpu_init_early_f so we can use with NAND SPL

    Use write_tlb and don't use memset so we can use the same code for
    cpu_init_early_f between NAND SPL and not.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 6e1385d5f8d137e741dfef02465d7dc328040ad7
Author: Mingkai Hu <Mingkai.hu@freescale.com>
Date:	Fri Sep 11 10:53:08 2009 +0800

    NAND boot: change NAND loader's relocate SP to CONFIG param

    So that we can set the NAND loader's relocate stack pointer
    to the value other than the relocate address + 0x10000.

    Signed-off-by: Mingkai Hu <Mingkai.hu@freescale.com>
    Acked-by: Kim Phillips <kim.phillips@freescale.com>
    Acked-by: Scott Wood <scottwood@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 7da53351d817c6d77364cfde922891f37d0e5ed8
Author: Mingkai Hu <Mingkai.hu@freescale.com>
Date:	Fri Sep 11 14:19:10 2009 +0800

    ppc/85xx: add boot from NAND/eSDHC/eSPI support

    The MPC8536E is capable of booting form NAND/eSDHC/eSPI, this patch
    implements these three bootup methods in a unified way - all of these
    use the general cpu/mpc85xx/start.S, and load the main image to L2SRAM
    which lets us use the SPD to initialize the SDRAM.

    For all three bootup methods, the bootup process can be divided into two
    stages: the first stage will initialize the corresponding controller,
    configure the L2SRAM, then copy the second stage image to L2SRAM and
    jump to it. The second stage image is just like the general U-Boot image
    to configure all the hardware and boot up to U-Boot command line.

    When boot from NAND, the eLBC controller will first load the first stage
    image to internal 4K RAM buffer because it's also stored on the NAND
    flash. The first stage image, also call 4K NAND loader, will initialize
    the L2SRAM, load the second stage image to L2SRAM and jump to it. The 4K
    NAND loader's code comes from the corresponding nand_spl directory, along
    with the code twisted by CONFIG_NAND_SPL.

    When boot from eSDHC/eSPI, there's no such a first stage image because
    the CPU ROM code does the same work. It will initialize the L2SRAM
    according to the config addr/word pairs on the fixed address and
    initialize the eSDHC/eSPI controller, then load the second stage image
    to L2SRAM and jump to it.

    The macro CONFIG_SYS_RAMBOOT is used to control the code to produce the
    second stage image for all different bootup methods. It's set in the
    board config file when one of the bootup methods above is selected.

    Signed-off-by: Mingkai Hu <Mingkai.hu@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit b2eec281a811bb52941f61203d8fe35256b3582c
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Sep 11 12:32:01 2009 -0500

    ppc/85xx: Move code around to prep for NAND_SPL

    If we move some of the functions in tlb.c around we need less
    ifdefs.  The first stage loader just needs invalidate_tlb and
    init_tlbs.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 206af3527c05e520e28d38a48a1d15433e34675d
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Sep 11 11:30:30 2009 -0500

    ppc/85xx: Repack tlb_table to save space

    We can pack the initial tlb_table in MAS register format and use
    write_tlb to set things up.  This savings can be helpful for NAND
    style first stage boot loaders.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit d30f9043539d372cf66406bc2f21bb8c20e67009
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Sep 11 11:27:00 2009 -0500

    ppc/85xx: Introduce low level write_tlb function

    Factor out the code we use to actually write a tlb entry.

    set_tlb is a logical view of the TLB while write_tlb is a low level
    matching the MAS registers.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 0ead6f2ed7cf4e1f70dab5b529ad121e38359485
Author: Roy Zang <tie-fei.zang@freescale.com>
Date:	Thu Sep 10 14:44:48 2009 +0800

    ppc/85xx: Enable usb ehci support for p2020ds board

    Signed-off-by: Roy Zang <tie-fei.zang@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 6d8565a1ed5acb01bad4a4cd74a93be5f7fb7f7c
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Sep 10 14:54:55 2009 -0500

    ppc/8xxx: Misc DDR related fixes

    * Fix setting of ESDMODE (MR1) register - the bit shifting was wrong
    * Fix the format string to match size in a debug print

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 3e3c9c157b89eab2dc2f897899b1b95cd70c1a58
Author: Scott Wood <scottwood@freescale.com>
Date:	Thu Aug 20 17:45:00 2009 -0500

    ppc/85xx: Remove some bogus code from external interrupt handler.

    Skipping the interrupted instruction will accomplish nothing other
    than turning a spurious interrupt into a crash.

    External interrupts are not machine checks, so don't count them as such.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit dcc87dd58db466caa2d66755c5ec9455edf42fe8
Author: Scott Wood <scottwood@freescale.com>
Date:	Thu Aug 20 17:45:05 2009 -0500

    ppc/85xx: Ensure that MAS8 is zero when writing TLB entries.

    Its reset value is random, and we sometimes read uninitialized TLB
    arrays.  Make sure that we don't retain MAS8 from reading such an entry
    if the VF bit in MAS8 is set, attempts to use the mapping will trap.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 1b72dbecca2d7ad7a21c92d80227daa2d8ec5a57
Author: Scott Wood <scottwood@freescale.com>
Date:	Thu Aug 20 17:44:20 2009 -0500

    ppc/85xx: Don't enable interrupts before we're ready

    We cannot handle any exceptions while running in AS1, as the exceptions
    will transition back to AS0 without a valid mapping.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 3ca55bce9c8bf00df06a20487fafc16fa2f8084b
Author: Marcel Ziswiler <marcel@ziswiler.com>
Date:	Fri Sep 11 07:50:33 2009 -0400

    mpc8260: remove Ethernet node fixup to use generic FDT code.

    Remove Ethernet node fixup from mgcoge and muas3001 boards and modify its
    configs for the common mpc8260 code to use generic Ethernet fixup.

    Signed-off-by: Marcel Ziswiler <marcel.ziswiler@noser.com>
    Tested-by: Heiko Schocher <hs@denx.de>

commit 1c20e4a9fbc531e2149ae061e8583f5fad82f163
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Sep 9 12:20:21 2009 -0400

    tools/netconsole: use ncb automatically if available

    The standard netcat, while ubiquitous, doesn't handle broadcast udp packets
    properly.  The local ncb util does however.  So if ncb can be located in
    the standard locations, automatically use that instead.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 770931805d292908a57a3d2c5f9a4fcde888b5a2
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Sep 9 12:20:20 2009 -0400

    tools/netconsole: make a bit more robust

    The netcat utility likes to exit when it receives an empty packet (as it
    thinks this means EOF).  This can easily occur when working with command
    line editing as this behavior will be triggered when using backspace.  Or
    with tabs and command line completion.  So create two netcat processes -
    one to only listen (and put it into a loop), and one to do the sending.
    Once the user quits the transmitting netcat, the listening one will be
    killed automatically.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit a6e19d69f63c14b7672c65ca4b014621c6fd0201
Author: Simon Kagstrom <simon.kagstrom@netinsight.net>
Date:	Mon Aug 24 09:10:16 2009 +0200

    arm: Define test_and_set_bit and test_and_clear bit for ARM

    Needed for (e.g.) ubifs support to work.

    Signed-off-by: Simon Kagstrom <simon.kagstrom@netinsight.net>

commit 52d61227b66d4099b39c8309ab37cb67ee09a405
Author: Simon Kagstrom <simon.kagstrom@netinsight.net>
Date:	Mon Aug 24 09:10:12 2009 +0200

    Define ffs/fls for all architectures

    UBIFS requires fls(), which is not defined for arm (and some other
    architectures) and this patch adds it. The implementation is taken from
    Linux and is generic. ffs() is also defined for those that miss it.

    Signed-off-by: Simon Kagstrom <simon.kagstrom@netinsight.net>

commit 4b15de08fe4d2c9d12a3764394731018a763216b
Author: Simon Kagstrom <simon.kagstrom@netinsight.net>
Date:	Mon Aug 24 09:10:03 2009 +0200

    arm: Make arm bitops endianness-independent

    Bring over the bitop implementations from the Linux
    include/asm-generic/bitops/non-atomic.h to provide
    endianness-independence.

    Signed-off-by: Simon Kagstrom <simon.kagstrom@netinsight.net>

commit 02f99901ed1c9d828e3ea117f94ce2264bf8389e
Author: Simon Kagstrom <simon.kagstrom@netinsight.net>
Date:	Mon Aug 24 09:09:50 2009 +0200

    Move __set/clear_bit from ubifs.h to bitops.h

    __set_bit and __clear_bit are defined in ubifs.h as well as in
    asm/include/bitops.h for some architectures. This patch moves
    the generic implementation to include/linux/bitops.h and uses
    that unless it's defined by the architecture.

    Signed-off-by: Simon Kagstrom <simon.kagstrom@netinsight.net>

commit 557555fe0b82940ba7cc69f81d31d6ef4d4933b4
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Fri Sep 4 19:54:45 2009 -0400

    standalone: convert to kbuild style

    Clean up the arch/cpu/board/config checks as well as redundant setting of
    srec/bin variables by using the kbuild VAR-$(...) style.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 804d83a563c47b55e1f14f5de3b6e9d7e2a7ef5e
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Sep 15 22:12:31 2009 +0200

    mkconfig: split the board make target to multiple config targets

    To simplify the top level makefile it useful to be able to parse
    the top level makefile target to multiple individual target, then
    put them to the config.h, leave the board config file to handle
    the different targets.

    Note that this method uses the '_'(underline) as the delimiter when
    splits the board make target.

    Signed-off-by: Mingkai Hu <Mingkai.hu@freescale.com>

    This also reverts commit 511c02f611cb5afa1b8ca5980caaaabaa0de377f.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit ceb2d57c2205db5bbd868577f756c74a2568160c
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Sep 15 21:13:27 2009 +0200

    kwbimage.c: Fix compile warning when building on 64 bit systems (again)

    Commit 51003b89 attempted to fix a build problem on 64 bit systems,
    but just turned it into a build problem on 32 bit systems (silly me).

    Now do the Right Thing (TM) and use a "%zu" printf format.

    Also fix spelling error.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 6c7bc91fb3dba186d3398a1653f6db236510ffa7
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Sep 11 11:30:34 2009 +0200

    board/amcc/common/flash.c: Fix compile warning

    Fix warning: ../common/flash.c:917: warning: dereferencing type-punned
    pointer will break strict-aliasing rules

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: Stefan Roese <sr@denx.de>
    Acked-by: Stefan Roese <sr@denx.de>

commit 70fb809c563c340538264d2a9436135e74c38bfe
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Sep 11 11:47:07 2009 +0200

    board/amcc/yucca/flash.c: Fix compile warning

    Fix warning: flash.c:919: warning: dereferencing type-punned pointer
    will break strict-aliasing rules

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: Stefan Roese <sr@denx.de>
    Acked-by: Stefan Roese <sr@denx.de>

commit 030ec52f8cc83015f968db30208f4bd07feffa6c
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Sep 11 11:44:39 2009 +0200

    board/amcc/taihu/flash.c: Fix compile warning

    Fix warnings:
    flash.c: In function 'write_word_1':
    flash.c:696: warning: dereferencing type-punned pointer will break strict-aliasing rules
    flash.c: In function 'write_word_2':
    flash.c:1044: warning: dereferencing type-punned pointer will break strict-aliasing rules

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: Stefan Roese <sr@denx.de>
    Acked-by: Stefan Roese <sr@denx.de>

commit 0fd3d902d920f3e60f88530c33f1ae7581260951
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Sep 11 11:37:20 2009 +0200

    board/etin/debris/phantom.c: Fix compile error

    Fix build problem caused by commit e84aba13: "Replace BCD2BIN and
    BIN2BCD macros with inline functions"

    phantom.c:163: error: redefinition of 'bcd2bin'
    /home/wd/git/u-boot/work/include/bcd.h:16: error: previous definition of 'bcd2bin' was here
    phantom.c:168: error: redefinition of 'bin2bcd'
    /home/wd/git/u-boot/work/include/bcd.h:21: error: previous definition of 'bin2bcd' was here

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: Sangmoon Kim <dogoil@etinsys.com>

commit 5168801f4b71c2f8dcd92a80cfcfda84246e67fe
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Sep 11 11:28:21 2009 +0200

    board/dave/common/flash.c: fix compile warning

    Fix warning: ../common/flash.c:668: warning: dereferencing type-punned
    pointer will break strict-aliasing rules

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: Andrea Marson <andrea.marson@dave-tech.it>

commit 97138fc48091f2b063c4e32f36d05854b9d113fb
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Sep 11 11:15:31 2009 +0200

    board/esd/cpci750/ide.c: fix compile warning

    Fix warning: ide.c:54: warning: dereferencing type-punned pointer will
    break strict-aliasing rules

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Cc: Stefan Roese <sr@denx.de>
    Acked-by: Stefan Roese <sr@denx.de>

commit ba73060cf4163bd5eb1711020126e2f7f62d363e
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Sep 11 10:13:26 2009 +0200

    board/esd/common/flash.c: Fix compile warning

    Fix warning: ../common/flash.c:635: warning: dereferencing type-punned
    pointer will break strict-aliasing rules

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Cc: Stefan Roese <sr@denx.de>
    Acked-by: Matthias Fuchs <matthias.fuchs@esd.eu>
    Acked-by: Stefan Roese <sr@denx.de>

commit 2d6d9f0848e952ea33c658dfba335685a2725b8b
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Sep 11 09:36:31 2009 +0200

    sk98lin: fix compile warnings

    Fix warnings:
    skge.c: In function 'BoardInitMem':
    skge.c:1389: warning: dereferencing type-punned pointer will break strict-aliasing rules
    skge.c:1390: warning: dereferencing type-punned pointer will break strict-aliasing rules
    skge.c:1391: warning: dereferencing type-punned pointer will break strict-aliasing rules
    skgesirq.c: In function 'SkGePortCheckUpXmac':
    skgesirq.c:1301: warning: dereferencing type-punned pointer will break strict-aliasing rules
    skgesirq.c:1301: warning: dereferencing type-punned pointer will break strict-aliasing rules
    skgesirq.c:1398: warning: dereferencing type-punned pointer will break strict-aliasing rules
    skgesirq.c:1398: warning: dereferencing type-punned pointer will break strict-aliasing rules
    skrlmt.c: In function 'SkRlmtInit':
    skrlmt.c:661: warning: dereferencing type-punned pointer will break strict-aliasing rules
    skxmac2.c: In function 'SkMacPromiscMode':
    skxmac2.c:753: warning: dereferencing type-punned pointer will break strict-aliasing rules
    skxmac2.c:753: warning: dereferencing type-punned pointer will break strict-aliasing rules
    skxmac2.c: In function 'SkMacHashing':
    skxmac2.c:803: warning: dereferencing type-punned pointer will break strict-aliasing rules
    skxmac2.c:803: warning: dereferencing type-punned pointer will break strict-aliasing rules
    skxmac2.c: In function 'SkMacFlushTxFifo':
    skxmac2.c:1115: warning: dereferencing type-punned pointer will break strict-aliasing rules
    skxmac2.c:1115: warning: dereferencing type-punned pointer will break strict-aliasing rules
    skxmac2.c: In function 'SkMacFlushRxFifo':
    skxmac2.c:1145: warning: dereferencing type-punned pointer will break strict-aliasing rules
    skxmac2.c:1145: warning: dereferencing type-punned pointer will break strict-aliasing rules
    skxmac2.c: In function 'SkXmInitPauseMd':
    skxmac2.c:1987: warning: dereferencing type-punned pointer will break strict-aliasing rules
    skxmac2.c:1987: warning: dereferencing type-punned pointer will break strict-aliasing rules
    skxmac2.c: In function 'SkXmOverflowStatus':
    skxmac2.c:4236: warning: dereferencing type-punned pointer will break strict-aliasing rules
    skxmac2.c:4236: warning: dereferencing type-punned pointer will break strict-aliasing rules
    skxmac2.c:4242: warning: dereferencing type-punned pointer will break strict-aliasing rules
    skxmac2.c:4242: warning: dereferencing type-punned pointer will break strict-aliasing rules

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: Ben Warren <biggerbadderben@gmail.com>

commit 3708e4cdb1f1d3d5128cf87be040d7e6b85f60dd
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Sep 11 09:13:58 2009 +0200

    drivers/net/natsemi.c: fix compile warning

    Fix warning: natsemi.c:757: warning: dereferencing type-punned pointer
    will break strict-aliasing rules

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: Ben Warren <biggerbadderben@gmail.com>

commit 78d19a398778a58d7b40b0c78e026515271b1a84
Author: Michal Simek <monstr@monstr.eu>
Date:	Mon Sep 7 09:08:02 2009 +0200

    net: emaclite: Cleanup license to be GPL compatible

    Signed-off-by: Stephen Neuendorffer <stephen.neuendorffer@xilinx.com>
    Signed-off-by: Michal Simek <monstr@monstr.eu>

commit 0900bee9ab9818439b2d1298fa8909a88f74ec0d
Author: Michal Simek <monstr@monstr.eu>
Date:	Fri Aug 14 13:41:17 2009 +0200

    microblaze: Enable hush parser

    With Hush parser is possible to change command line in dtb

    Signed-off-by: Michal Simek <monstr@monstr.eu>

commit 13916abf996b127b681ddc26664c236ded28ba7f
Author: Michal Simek <monstr@monstr.eu>
Date:	Thu Aug 20 22:44:02 2009 +0200

    microblaze: Remove AtmarkTechno Suzaku board

    Users should use microblaze-generic platform.
    This platform is longer not supported.

    Signed-off-by: Michal Simek <monstr@monstr.eu>

commit 3ceba1d45d007144d10368f91ff9e36f3b5f39a1
Author: Michal Simek <monstr@monstr.eu>
Date:	Thu Aug 20 22:36:20 2009 +0200

    net: Remove old Xilinx Emac driver

    Signed-off-by: Michal Simek <monstr@monstr.eu>

commit 2fddd44464d02e0f3ade06dabe0e165835fa61f0
Author: Michal Simek <monstr@monstr.eu>
Date:	Wed Aug 19 08:10:08 2009 +0200

    microblaze: Short size of global data and fix malloc size

    If is full malloc area global, data are rewrite because
    there was bad size of malloc area.

    Signed-off-by: Michal Simek <monstr@monstr.eu>

commit aedb4683097d3e5de8833f4a9e34664d3d2bd077
Author: Michal Simek <monstr@monstr.eu>
Date:	Fri Aug 14 17:02:35 2009 +0200

    microblaze: Add sbss, scommon and COMMON symbols for clearing

    Signed-off-by: Michal Simek <monstr@monstr.eu>

commit 4c1883670acbf1cc83c04df1876235c3aedde128
Author: Dirk Eibach <eibach@gdsys.de>
Date:	Wed Sep 9 12:36:07 2009 +0200

    ppc4xx: Rename compactcenter to intip

    Signed-off-by: Dirk Eibach <eibach@gdsys.de>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit d1c3b27525b664e8c4db6bb173eed51bfc8220de
Author: Stefan Roese <sr@denx.de>
Date:	Wed Sep 9 16:25:29 2009 +0200

    ppc4xx: Big cleanup of PPC4xx defines

    This patch cleans up multiple issues of the 4xx register (mostly
    DCR, SDR, CPR, etc) definitions:

    - Change lower case defines to upper case (plb4_acr -> PLB4_ACR)
    - Change the defines to better match the names from the
      user's manuals (e.g. cprpllc -> CPR0_PLLC)
    - Removal of some unused defines

    Please test this patch intensive on your PPC4xx platform. Even though
    I tried not to break anything and tested successfully on multiple
    4xx AMCC platforms, testing on custom platforms is recommended.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit d8d8724be06df43772162dc344ae20dfa814dc72
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Sep 11 09:05:32 2009 +0200

    net/bootp.c: fix compile warning

    Fix warning: bootp.c:695: warning: dereferencing type-punned pointer
    will break strict-aliasing rules

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: Ben Warren <biggerbadderben@gmail.com>

commit 51003b89816848cbe86a8fe48f970ba8b14005f5
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Sep 11 08:58:11 2009 +0200

    kwbimage.c: Fix compile warning when building on 64 bit systems

    Fix this warning when building on 64 bit systems:
    tools/kwbimage.c: In function 'kwbimage_checksum32':
    tools/kwbimage.c:135: warning: format '%d' expects type 'int',
    but argument 4 has type 'long unsigned int'

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: Prafulla Wadaskar <prafulla@marvell.com>

commit e7963772eb78a6aa1fa65063d64eab3a8626daac
Author: Marcel Ziswiler <marcel@ziswiler.com>
Date:	Wed Sep 9 21:11:18 2009 +0200

    muas3001: remove BRG clock node fixup to use common mpc8260 code.

    Signed-off-by: Marcel Ziswiler <marcel.ziswiler@noser.com>
    Acked-by: Heiko Schocher <hs@denx.de>

commit c7c1dbbf7159b38f3302b845dd97d28a543ff91b
Author: Marcel Ziswiler <marcel@ziswiler.com>
Date:	Wed Sep 9 21:09:00 2009 +0200

    r7780mp: fix typo in Ethernet chip model number comment.

    Signed-off-by: Marcel Ziswiler <marcel.ziswiler@noser.com>

commit 45f89f340b4d8aa099fd022260dcb13cf3321b61
Author: Marcel Ziswiler <marcel@ziswiler.com>
Date:	Wed Sep 9 21:22:08 2009 +0200

    ep8248: add support for device tree and secondary Ethernet interface.

    Signed-off-by: Marcel Ziswiler <marcel.ziswiler@noser.com>

commit aa0c7a86cd236b8193218a09e1365c8991bb5ddc
Author: Prafulla Wadaskar <prafulla@marvell.com>
Date:	Mon Sep 7 15:05:02 2009 +0530

    mkimage: Add Kirkwood Boot Image support (kwbimage)

    This patch adds support for "kwbimage" (Kirkwood Boot Image)
    image types to the mkimage code.

    For details refer to docs/README.kwbimage

    This patch is tested with Sheevaplug board

    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>
    Acked-by: Ron Lee <ron@debian.org>

    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>

commit 7809fbb9aafd60e3a6e5dfe456ae30b93ac61338
Author: Prafulla Wadaskar <prafulla@marvell.com>
Date:	Mon Sep 7 14:59:09 2009 +0530

    Kirkwood: Sheevaplug: Add kwimage configuration file

    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>

commit b029dddc9ae958b1ccf875649f52c6db396a742d
Author: Prafulla Wadaskar <prafulla@marvell.com>
Date:	Mon Sep 7 14:59:08 2009 +0530

    mkimage: Make table_entry code global

    - make get_table_entry_id() global
    - make get_table_entry_name() global
    - move struct table_entry to image.h

    Currently this code is used by image.c only.

    This patch makes this API global so it can be used by other parts of
    code, too.

    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>
    Acked-by: Ron Lee <ron.debian.org>

    Edit comments and commit message.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit f666dea8ab215c76c3c2a077ad299f90dd1ace7c
Author: Prafulla Wadaskar <prafulla@marvell.com>
Date:	Mon Sep 7 14:59:07 2009 +0530

    mkimage: Make genimg_print_size() global

    Currently it is used by image.c only, but the the function can be
    used to support additional mkimage types like for example kwbimage,
    so make this function globally visible.

    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>

    Edited commit message.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 37b801888cf73b18f78c1109140ff44e3e37914f
Author: Prafulla Wadaskar <prafulla@marvell.com>
Date:	Mon Sep 7 14:59:06 2009 +0530

    mkimage: Include missing files in build dependency calculations

    Include default_image.o and fit_image.o into the build dependency
    calculations. This makes sure they get rebuilt if any of the headers
    they include are modified

    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>
    Acked-by: Ron Lee <ron@debian.org>

    Edited commit message.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 3a2003f61ee79ac53d20c24cc896c2637a2dfc24
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Aug 19 11:42:56 2009 +0200

    tools/mkimage: fix compiler warnings, use "const"

    This fixes some compiler warnings:
    tools/default_image.c:141: warning: initialization from incompatible pointer type
    tools/fit_image.c:202: warning: initialization from incompatible pointer type
    and changes to code to use "const" attributes in a few places where
    it's appropriate.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 89a4d6b12fd6394898b8a454cbabeaf1cd59bae5
Author: Prafulla Wadaskar <prafulla@marvell.com>
Date:	Wed Aug 19 17:36:46 2009 +0530

    tools: mkimage: split code into core, default and FIT image specific

    This is a first step towards reorganizing the mkimage code to make it
    easier to add support for additional images types. Current mkimage
    code is specific to generating uImage and FIT image files, but the
    same framework can be used to generate other image types like
    Kirkwood boot images (kwbimage-TBD). For this, the mkimage code gets
    reworked:

    Here is the brief plan for the same:-
    a) Split mkimage code into core and image specific support
    b) Implement callback functions for image specific code
    c) Move image type specific code to respective C files
	   Currently there are two types of file generation/list
	   supported (i.e uImage, FIT), the code is abstracted from
	   mkimage.c/.h and put in default_image.c and fit_image.c;
	   all code in these file is static except init function call
    d) mkimage_register API is added to add new image type support
    All above is addressed in this patch
    e) Add kwbimage type support to this new framework (TBD)
    This will be implemented in a following commit.

    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>
    Edit commit message, fix coding style and typos.
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 449609f5b11cce6beba7338bc4ce0f3345376a0b
Author: Prafulla Wadaskar <prafulla@marvell.com>
Date:	Sun Aug 16 05:28:19 2009 +0530

    tools: mkimage: Fixed build warnings

    uninitialized retval variable warning fixed
    crc32 APIs moved to crc.h (newly added) and build warnings fixed

    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 14821d7dea8d7209f2457c3179fa6551c088ba71
Author: Prafulla Wadaskar <prafulla@marvell.com>
Date:	Mon Aug 10 20:44:06 2009 +0530

    tools: mkimage: Makefile sorted

    The tools/Makefile is sorted for all entries,

    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>

commit f7644c0bf3502529031657a869fa213cda5a2424
Author: Prafulla Wadaskar <prafulla@marvell.com>
Date:	Mon Aug 10 18:49:37 2009 +0530

    tools: mkimage : bugfix returns correct value for list command

    List command always return "EXIT_SUCCESS" even in case of
    failure by any means.

    This patch return 0 if list command is sucessful,
    returns negative value reported by check_header functions

    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 511c02f611cb5afa1b8ca5980caaaabaa0de377f
Author: Mingkai Hu <Mingkai.hu@freescale.com>
Date:	Tue Sep 8 15:07:12 2009 +0800

    mkconfig: pass the board name to board config file

    Then we can handle different config targets in the board file, which
    simplifies the top level Makefile for boards that have multiple
    config targets.

    Signed-off-by: Mingkai Hu <Mingkai.hu@freescale.com>

commit d640ac58dbf61c769864b3fe76314306b7336cf1
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Sep 7 23:52:31 2009 +0200

    Remove "atmel_df_pow2" binary with "make clean"

    Commit 65f6f07b added support for the atmel_df_pow2 standalone program
    but missed to add a rule to remove it to the "clean" make target.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 0b34dbbd0b6969c98c44313b291836d9056ec40a
Author: Stefan Roese <sr@denx.de>
Date:	Mon Sep 7 10:52:24 2009 +0200

    ppc4xx: Fix compilation warning in 4xx miiphy.c

    This patch fixes the following compilation warning:

    miiphy.c: In function 'emac4xx_miiphy_read':
    miiphy.c:353: warning: dereferencing type-punned pointer will break
    strict-aliasing rules

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 82379b5564819e62624a3c58fbc43f1afedf4f5f
Author: Matthias Fuchs <matthias.fuchs@esd.eu>
Date:	Mon Sep 7 17:00:41 2009 +0200

    ppc4xx: Add CONFIG_PCI_4xx_PTM_OVERWRITE to some esd 4xx boards

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd.eu>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 99bcf14d553f399148a7660b98f7acbd8cc72d80
Author: Matthias Fuchs <matthias.fuchs@esd.eu>
Date:	Mon Sep 7 17:00:40 2009 +0200

    ppc4xx: Allow overwriting pci target registers for all 4xx boards

    This patch adds the CONFIG_PCI_4xx_PTM_OVERWRITE option and replaces
    the ugly 'if defined(BOARD1) || ... || defined(BOARDn)' construct
    in 4xx pci code.

    When CONFIG_PCI_4xx_PTM_OVERWRITE is defined the default ptm register
    setup can be overwritten through environment variables ptm1la, ptm1ms,
    ptm2la and ptm2ms to do application specific pci target BAR configuration.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd.eu>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit cfab2ae322a99ad55364d054054f138f51130c2a
Author: Matthias Fuchs <matthias.fuchs@esd.eu>
Date:	Fri Sep 4 10:37:04 2009 +0200

    ppc4xx: Fix PMC405DE support

    This patch fixes PMC405DE support. Patch 85d6bf0b fixed out-of-tree
    building for this board but the loadpci object did not get linked
    after that.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd.eu>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit c8355b9d9f778bd12ee19c8f34d88e13758a4efd
Author: Detlev Zundel <dzu@denx.de>
Date:	Wed Sep 2 17:24:57 2009 +0200

    amcc-common.h: Use filenames from environment variables for update procedure.

    Using a separate "u-boot" environment variable allows to easily
    specify different filenames for the update procedure.  This is also in
    line with many other board configurations defining an "update" script.

    Signed-off-by: Detlev Zundel <dzu@denx.de>
    Acked-by: Wolfgang Denk <wd@denx.de>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 6c97a20d0b2f56cb4f3745d94b1f96986e8cced5
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Sep 9 11:40:41 2009 -0500

    ppc/85xx: Introduce RESET_VECTOR_ADDRESS to handle non-standard link address

    Some board ports place TEXT_BASE at a location that would cause the
    RESET_VECTOR_ADDRESS not to be at 0xfffffffc when we link.	By default
    we assume RESET_VECTOR_ADDRESS will be 0xfffffffc if the board doesn't
    explicitly set it.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: Wolfgang Denk <wd@denx.de>

commit c348322ac7f76318295cf25ffab2cc2a4900a234
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Sep 8 13:46:46 2009 -0500

    ppc/85xx: Clean up do_reset

    There is no reason to do a run time check for e500 v1 based cores to
    determine if we have the GUTs RSTCR facility.  Only the first generation
    of PQ3 parts (MPC8540/41/55/60) do not have it.  So checking to see if
    we are e500 v2 would miss future parts (like e500mc).

    Just change this to be ifdef'd based on CONFIG_MPC85{40,41,55,60}.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 21170c80a83f1e60ce7f6f83005e06a5c2d15a8e
Author: Poonam Aggrwal <poonam.aggrwal@freescale.com>
Date:	Thu Sep 3 19:42:40 2009 +0530

    ppc/85xx/86xx: Bug fix: call to puts in probecpu() moved to checkcpu().

    While in probecpu() UART is still not initialized.

    Signed-off-by: Poonam Aggrwal <poonam.aggrwal@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit f8027f6b4789e3340f10620d8fb6113b95b88d9c
Author: Poonam Aggrwal <poonam.aggrwal@freescale.com>
Date:	Wed Sep 2 19:40:36 2009 +0530

    ppc/85xx/86xx: Device tree fixup for number of cores

    Fixing the number of cores in the device tree based on the actual number of
    cores on the system.  With this same device tree image can be used for dual
    core and single core members of otherwise exactly same SOC.

    For example:
    * P2020RDB and P2010RDB
    * P1020RDB and P1011RDB
    * MPC8641D and MPC8641

    Signed-off-by: Poonam Aggrwal <poonam.aggrwal@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 58442dc01e47cc8ce42af4f29486a34cad60b9d2
Author: Poonam Aggrwal <poonam.aggrwal@freescale.com>
Date:	Wed Sep 2 13:35:21 2009 +0530

    ppc/85xx,86xx: Handling Unknown SOC version

    Incase the system is detected with Unknown SVR, let the system boot
    with a default value and a proper message.

    Now with dynamic detection of SOC properties from SVR, this is necessary
    to prevent a crash.

    Signed-off-by: Poonam Aggrwal <poonam.aggrwal@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 3e7b6c1f2db5ec31f9e7dbc3e0cbca602167a46a
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Sep 2 09:03:08 2009 -0500

    ppc/8xxx: Refactor code to determine if PCI is enabled & agent/host

    Refactor the code into a simple bitmask lookup table that determines if
    a given PCI controller is enabled and if its in host/root-complex or
    agent/end-point mode.

    Each processor in the PQ3/MPC86xx family specified different encodings
    for the cfg_host_agt[] and cfg_IO_ports[] boot strapping signals.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 5052a771cf1722c37c732f3c340775b55fbe3a22
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Sep 2 09:00:50 2009 -0500

    ppc/85xx: Cleanup makefile and related optional files

    Cleaned up cpu/mpc85xx/Makefile to use CONFIG_* for those obvious cases
    we have like PCI, CPM2, QE.  Also reworked it to use one line per file
    for everything and sorted in alphabetical order.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 74c5dfd81f94a2a1f0d6990d17c491d718e8b9ea
Author: Timur Tabi <timur@freescale.com>
Date:	Fri Sep 4 17:05:24 2009 -0500

    fsl: add register read-back to set_law()

    After programming a new LAW, we should read-back the LAWAR register so that
    we sync the writes.  Otherwise, code that attempts to use the new LAW-mapped
    memory might fail right away.

    Signed-off-by: Timur Tabi <timur@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit c7259086816405fe0eb77f4dc22e76980a040cef
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Sep 3 08:41:31 2009 -0500

    ppc/85xx: Fix bug in setup_mp code

    Its possible that we try and copy the boot page code out of flash into a
    DDR location that doesn't have a TLB cover it.  For example, if we have
    3G of DDR we typically only map the first 2G.  In the cases of 4G+ this
    wasn't an issue since the reset page TLB mapping covered the last page
    of memory which we wanted to copy to.

    We now change the physical address of the reset page TLB to map to the
    true physical location of the boot page code, copy and than set the
    TLB back to its 1:1 mapping of the reset page.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit c2287af1552bd630956568d3957c370f86801b7d
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Sep 3 08:20:24 2009 -0500

    ppc/85xx: Add a simple function to search the TLB

    Allow us to search the TLB array based on an address.  This is useful
    if we want to change an entry but dont know where it happens to be
    located.

    For example, the boot page mapping we use on MP or the flash TLB that
    we change the WIMGE settings for after we've relocated.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 26f4cdba6b51deab4ec99d60be381244068ef950
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Aug 14 13:37:54 2009 -0500

    85xx: Add support for setting IVORs to fixed offset defaults

    In future Book-E implementations IVORs will most likely go away and be
    replaced with fixed offsets.  The IVPR will continue to exist to allow
    for relocation of the interrupt vectors.

    This code adds support to setup the IVORs as their fixed offset values
    per the ISA 2.06 spec when we transition from u-boot to another OS
    either via 'bootm' or a cpu release.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit da1cd955dfec35b0e15381ad1ee248fa194eed82
Author: Dipen Dudhat <dipen.dudhat@freescale.com>
Date:	Wed Sep 2 11:25:08 2009 +0530

    ppc/85xx: Fix up eSDHC controller clock frequency in the device tree

    Signed-off-by: Dipen Dudhat <dipen.dudhat@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 2abbd31da6d900473ed678ca50789ee58bc9bb00
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Sep 1 22:01:54 2009 -0500

    ppc/8xxx: Remove ddr_pd_cntl register since it doesn't exist

    The ddr_pd_cntl isn't defined in any reference manual and thus we wil
    remove especially since we set it to 0, which would most likely be its
    POR value.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 13d46ab2572c0283d34f93bebc9a41295ef84ca5
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Sep 1 21:07:08 2009 -0500

    ppc/8xxx: relocate cpu pointer in global data

    Now that we have a pointer to the cpu struct we need to relocate it once
    we get into ram.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 9c671e7062720074f894ee329eaa6995b0823727
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Wed Sep 2 02:17:24 2009 +0400

    fsl: sys_eeprom: Fix 'may be used uninitialized' warning

    The warning is bogus, so silence it by initializing the 'ret' variable.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Acked-by: Timur Tabi <timur@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 6b9ea08c5010eab5ad1056bc9bf033afb672d9cc
Author: Dipen Dudhat <dipen.dudhat@freescale.com>
Date:	Tue Sep 1 17:27:00 2009 +0530

    ppc/85xx: Use CONFIG_FSL_ESDHC to enable sdhc clk

    Enable eSDHC Clock based on generic CONFIG_FSL_ESDHC define instead of a
    platform define.  This will enable all the 85xx platforms to use sdhc_clk
    based on CONFIG_FSL_ESDHC.

    Signed-off-by: Gao Guanhua <B22826@freescale.com>
    Signed-off-by: Dipen Dudhat <dipen.dudhat@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 92477a631bbda2dc0dd2194e03f9bd3ddb8b9c21
Author: Timur Tabi <timur@freescale.com>
Date:	Fri Sep 4 16:28:35 2009 -0500

    fsl_i2c: increase I2C timeout values and make them configurable

    The value of I2C_TIMEOUT in fsl_i2c.c has several problems.  First, it is
    defined as CONFIG_HZ/4, but it is used as a count of microseconds, so it makes
    no sense to derive it from a clock rate.  Second, the current value (250) is
    too low for some boards, so it needs to be increased.  Third, the timeout
    necessary for multiple-master arbitration is larger than the timeout for basic
    read/write operations, so we shouldn't have a single constant for both timeouts.
    Finally, it would be nice if we could override these values on a per-board
    basis.

    Signed-off-by: Timur Tabi <timur@freescale.com>
    Acked-by: Wolfgang Denk <wd@denx.de>
    Tested-by: Peter Tyser <ptyser@xes-inc.com>
    Acked-by: Peter Tyser <ptyser@xes-inc.com>

commit 5da71efa18e8b4eac9afd8bfa13e3c7e7ddde1d0
Author: Eric Millbrandt <emillbrandt@coldhaus.com>
Date:	Thu Sep 3 08:09:44 2009 -0500

    Reset i2c slave devices during init on mpc5xxx cpus

    Reset any i2c devices that may have been interrupted during a system reset.
    Normally this would be accomplished by clocking the line until SCL and SDA
    are released and then sending a start condtiion (From an Atmel datasheet).
    There is no direct access to the i2c pins so instead create start commands
    through the i2c interface.	Send a start command then delay for the SDA Hold
    time, repeat this by disabling/enabling the bus a total of 9 times.

    Signed-off-by: Eric Millbrandt <emillbrandt@dekaresearch.com>

commit 2d4072c06b5549444e4140231bba3d47d9b0bc53
Author: Sandeep Paulraj <s-paulraj@ti.com>
Date:	Sat Aug 15 11:20:58 2009 -0400

    ARM: DaVinci: Adding Support for DaVinci DM365 EVM

    This patch adds support for the DM365 EVM.
    It has been tested on a DM365 EVM.

    Signed-off-by: Sandeep Paulraj <s-paulraj@ti.com>

commit cf463091bce8b0f8951dd08f94754d08d64793b8
Author: Sandeep Paulraj <s-paulraj@ti.com>
Date:	Sat Aug 15 11:20:44 2009 -0400

    ARM: DaVinci: DaVinci DM365 SOC specific code

    This patch adds support for DaVinci DM365 SOC.

    Signed-off-by: Sandeep Paulraj <s-paulraj@ti.com>

commit e830b66b3592f115316600d370399f3ee148e909
Author: Ilko Iliev <iliev@ronetix.at>
Date:	Sat Sep 5 02:51:34 2009 +0200

    DM9000 init for pm9261

    Signed-off-by: Ilko Iliev <iliev@ronetix.at>

commit c35d7cf071f171bd6bba69f1563a6ac578a18ea6
Author: Frederik Kriewitz <frederik@kriewitz.eu>
Date:	Sun Aug 23 12:56:42 2009 +0200

    Add support for the DevKit8000 board

    This patch adds support for the DevKit8000 board.

    Signed-off-by: Frederik Kriewitz <frederik@kriewitz.eu>

commit 127f9ae575991aee3e105e1448c49b5b4e254998
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Aug 23 16:32:40 2009 +0200

    omap3: move the other boards to board/

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 350f3ac5731faf0f02ca55ab016694b7c7269f97
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Aug 23 16:32:39 2009 +0200

    arm: move Logicpd's boards to board/logicpd/

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 0a0e4bad9693ef1d2ca8c33ba551d395a4e3d641
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Aug 23 16:32:38 2009 +0200

    omap: move TI's boards to board/ti/

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 9f23ca42b3ba19b24e66fade572f2b86d929b6e8
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Sep 4 23:20:29 2009 +0200

    ARM: Update mach-types

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 262ae0a6193f10b6a94e86d2f752e7f5510416fa
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Sep 3 23:12:47 2009 -0400

    push LOAD_ADDR out to arch mk files

    Rather than maintain/extend the current ifeq($(ARCH)) mess that exists in
    the standalone Makefile, push the setting up of LOAD_ADDR out to the arch
    config.mk (and rename to STANDALONE_LOAD_ADDR in the process).  This keeps
    the common code clean and lets the arch do whatever crazy crap it wants in
    its own area.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 7662eb2b9d6fbc95ecb1fb3e5b5147215e251e7d
Author: Giuseppe CONDORELLI <giuseppe.condorelli@st.com>
Date:	Thu Sep 3 07:37:46 2009 -0400

    zlib: fix code when DEBUG is defined

    Removed stdio.h inclusion and moved trace macros to use printf avoiding to
    write debug informations to standard error.

    Signed-off-by: Giuseppe Condorelli <giuseppe.condorelli@st.com>

commit cfcbf8c4cf3da96b9e3f652506b664bfd766a520
Author: Scott Wood <scottwood@freescale.com>
Date:	Wed Sep 2 16:45:31 2009 -0500

    mxc_nand: Remove Freescale's "All Rights Reserved."

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 001d615681333569c555e6cde07d8d23e2c536fb
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Wed Sep 2 17:58:48 2009 +0400

    mpc83xx/serdes: License cleanup: remove "All Rights Reserved" notice

    "All Rights Reserved" conflicts with the GPL.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>

commit 46ff6d461321f5b565cc790e02679237ffd9a20f
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Sep 2 14:57:27 2009 +0200

    License cleanup: remove unintended "All Rights Reserved" notices.

    Some files included my old standerd file header which had a "All
    Rights Reserved" part. As this has never been my intention, I remove
    these lines to make the files compatible with GPL v.2 and later.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 37daa77f3cafb5ec9a974eff3db2af4a0560a9ef
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Sep 2 10:21:20 2009 +0200

    cmd_mtdparts.c: fix compiler warning in debug code

    Fix warning messages:
    cmd_mtdparts.c:1429: warning: format '%08lx' expects type 'long
    unsigned int', but argument 6 has type 'u32'
    cmd_mtdparts.c:1429: warning: format '%08lx' expects type 'long
    unsigned int', but argument 7 has type 'u32'

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit d8bc55a6fb28876abcbf4a3fc3b6c3ce429c1bb3
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Tue Sep 1 20:58:03 2009 +0400

    Move uninitialized_var() macro from ubi_uboot.h to compiler.h

    This is needed so that we could use this macro for non-UBI code.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>

commit d72871e1387094972569e4b77c25e88020f7b68f
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Sep 1 11:24:45 2009 -0500

    arm: Remove -fno-strict-aliasing

    -fno-strict-aliasing is hidding warnings.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit d6281ff0cc2ebb5d6a5c3e1021837334074f92ec
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Sep 1 11:24:44 2009 -0500

    ppc: Remove -fno-strict-aliasing

    -fno-strict-aliasing is hidding warnings.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 795d246c278e70b4ba9868cc9f2c8fbada49d388
Author: Eric Millbrandt <emillbrandt@coldhaus.com>
Date:	Fri Aug 28 07:14:04 2009 -0500

    galaxy5200: Add chip select region for an Epson S1D15313

    Signed-off-by: Eric Millbrandt <emillbrandt@dekaresearch.com>

commit 3dfad40a0459f63099e177dc15a1df39d048f860
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Aug 27 08:23:55 2009 -0500

    Add ability for arch code to make changes before we boot

    Added a arch_preboot_os() function that cpu specific code can implement to
    allow for various modifications to the state of the machine right before
    we boot.  This can be useful to setup register state to a specific
    configuration.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 9ea005fb4428c922536fa75991ce9972304a02fb
Author: Roy Zang <tie-fei.zang@freescale.com>
Date:	Sat Aug 22 03:49:52 2009 +0800

    Use different PBA value for E1000 PCI and PCIe cards

    Signed-off-by: Roy Zang <tie-fei.zang@freescale.com>
    Acked-by: Andr Schwarz <andre.schwarz@matrix-vision.de>

commit 5b34a296d47b236dafbcaf1c91ae11b5aeb1ef51
Author: Graeme Russ <graeme.russ@gmail.com>
Date:	Sun Aug 23 12:59:58 2009 +1000

    Add PCI support to eNET board

    Signed-off-by: Graeme Russ <graeme.russ@gmail.com>

commit f50b619d9cb297b0125fe78dcd6f255eb0d91659
Author: Graeme Russ <graeme.russ@gmail.com>
Date:	Sun Aug 23 12:59:57 2009 +1000

    i386: Moved PCI from #ifdef to conditional compile for sc520 boards

    Signed-off-by: Graeme Russ <graeme.russ@gmail.com>

commit ed7a1b681de1e31d18d5b92e2767ae8df3241687
Author: Graeme Russ <graeme.russ@gmail.com>
Date:	Sun Aug 23 12:59:56 2009 +1000

    i386: Replace [read, write]_mmcr_[byte, word, long] with memory mapped structure

    Signed-off-by: Graeme Russ <graeme.russ@gmail.com>

commit 9b32f96b5b92ba13fdb4b5eb637734752235f260
Author: Graeme Russ <graeme.russ@gmail.com>
Date:	Sun Aug 23 12:59:55 2009 +1000

    Misc sc520 cdp fixups

    Now that the PCI, SATA et al compile problems have been resolved, the
    cludge that was applied to avoid them can be removed

    Signed-off-by: Graeme Russ <graeme.russ@gmail.com>

commit 91ee4e183cb7ac5f86e7673ead51400f19906635
Author: Graeme Russ <graeme.russ@gmail.com>
Date:	Sun Aug 23 12:59:54 2009 +1000

    Fixup sc520_spunk board

    Primary intent is to resolve build errors for this board which has been
    neglected for a very long time. I do not have one of these boards, so I
    cannot test functionality

    Signed-off-by: Graeme Russ <graeme.russ@gmail.com>

commit 8907b8dbc5805094f1316d64737d3428b3863693
Author: Graeme Russ <graeme.russ@gmail.com>
Date:	Sun Aug 23 12:59:53 2009 +1000

    Misc ds1722 fixups

    This patch is based on a patch submitted by Jean-Christophe PLAGNIOL-VILLARD
    on 18th May 2008 as part of a general i386 / sc520 fixup which was never
    applied

    Signed-off-by: Graeme Russ <graeme.russ@gmail.com>

commit a92510e7fae523145b58765cdc46110f1162260d
Author: Graeme Russ <graeme.russ@gmail.com>
Date:	Sun Aug 23 12:59:52 2009 +1000

    Misc ti_pci1410a fixups

    Removed do_pinit() - now declared in cmd_pcmcia.c

    Added #define CONFIG_CMD_PCMCIA around pcmcia_off() in line with other
    PCMCIA drivers

    signed/unsigned type fixups

    Added semi-colon after default: label as required by newer gcc

    The only board that appears to use this driver is the sc520_spunk which
    is very old and very likely very broken anyway. I do not have one to test
    whether this patch breaks anything functionaly, I have can only check
    that it compiles without warning or error

    Signed-off-by: Graeme Russ <graeme.russ@gmail.com>

commit 31b9ab33d93d88ff89f3046aa45c68667a378a56
Author: Graeme Russ <graeme.russ@gmail.com>
Date:	Sun Aug 23 12:59:51 2009 +1000

    Misc SATA fixups

    Cast first parameter to sata_cpy()

    In /drivers/block/ata_piix.h, ata_id_has_lba48(), ata_id_has_lba(),
    ata_id_has_dma(), ata_id_u32(), ata_id_u64() are all defined in
    include/libata.h which is included in ata.h which is included by all files
    which include ata_piix.h (only ata_piix.c) so these definitions are
    supurflous to (and conlict with) this in libata.h. Interestingly, my
    compiler complains about ata_id_u64 already being defined, but not
    ata_id_u32

    ata_dump_id() is defined in include/libata.h and should not be static
    (maybe should even use ata_dump_id() in libata.c

    Signed-off-by: Graeme Russ <graeme.russ@gmail.com>

commit d7549024098af093785151261266a02be19af633
Author: Graeme Russ <graeme.russ@gmail.com>
Date:	Sun Aug 23 12:59:50 2009 +1000

    i386: Misc PCI fixups

    Change PCI_REGION_MEMORY to PCI_REGION_SYS_MEMORY (Originally done in
    commit ff4e66e93c1a, regressed by commit 6d7f610b09f8)

    Cast PCI_ROM_ADDRESS_MASK to u32

    Wrap probe_pci_video() call inside #ifdef CONFIG_VIDEO

    Change call to pci_find_class() to pci_find_devices(). This is based on a
    patch submitted on 1st March 2007 (Patch that fixes the compilation errors
    for sc520_cdp board) by mushtaq_k

    This patch requires that PCI_VIDEO_VENDOR_ID and PCI_VIDEO_DEVICE_ID be
    specified in the board config file.  Dummy values have been added for the
    SC520 CDP board to enable compilation, but since I do not have one of these,
    I do know what the values should be

    Signed-off-by: Graeme Russ <graeme.russ@gmail.com>

commit 04ff9ab158714d43cdf2f4f6f0235c3ea9d241a2
Author: Graeme Russ <graeme.russ@gmail.com>
Date:	Sun Aug 23 12:59:49 2009 +1000

    Fix sc520 timer interrupt generation

    The current implementation has the timer being started before the interrupt
    handler is installed. It the interrupt occurs before the handler is
    installed, the timer interrupt is never reset and the timer stops

    Signed-off-by: Graeme Russ <graeme.russ@gmail.com>

commit f3a8d6b29b1cd01fdd940e8ff7a62b1df0ebbf82
Author: Graeme Russ <graeme.russ@gmail.com>
Date:	Sun Aug 23 12:59:48 2009 +1000

    Fix environment configuration for eNET board

    The current configuration of the Environment has the redundant copy of the
    environment in the Boot Flash - This was never the intent. The Environment
    should instead be in the first two sectors of the first Strata Flash

    Signed-off-by: Graeme Russ <graeme.russ@gmail.com>

commit ea0c37798c3823fdd77edfffd27b20191f8ca1f0
Author: Graeme Russ <graeme.russ@gmail.com>
Date:	Sun Aug 23 12:59:47 2009 +1000

    i386: Fix regression introduced by commit 8c63d47651f7

    A local variable was deleted that should not have been

    Signed-off-by: Graeme Russ <graeme.russ@gmail.com>

commit cfb3a736ffcff3e3753b902cad536f22fcf8961d
Author: Graeme Russ <graeme.russ@gmail.com>
Date:	Sun Aug 23 12:59:46 2009 +1000

    i386: Change inline asm global symbols to local

    gcc 4.3.2 optimiser creates multiple copies of inline asm (who knows why)
    Remove use of global names for labels to prevent 'symbol already defined'
    errors

    Signed-off-by: Graeme Russ <graeme.russ@gmail.com>

commit a3ab8caee696a1d53fc82fa321e2b2f179970168
Author: Graeme Russ <graeme.russ@gmail.com>
Date:	Sun Aug 23 12:59:45 2009 +1000

    i386: Add errno.h

    Signed-off-by: Graeme Russ <graeme.russ@gmail.com>

commit d4e8ada0f6d51e0e3b80790fb9375ac8910f5352
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Aug 21 23:05:21 2009 -0500

    Consolidate arch-specific mem_malloc_init() implementations

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit a483a167bc8d808145ca1224a2c238cda90aa60c
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Aug 21 23:05:20 2009 -0500

    Standardize mem_malloc_init() implementation

    This lays the groundwork to allow architectures to share a common
    mem_malloc_init().

    Note that the x86 implementation was not modified as it did not fit the
    mold of all other architectures.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 5e93bd1c9aaea886c5e5c7c1b6114ab36c30668f
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Aug 21 23:05:19 2009 -0500

    Consolidate arch-specific sbrk() implementations

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 65f6f07b72a71b83d775c4d20d7ebcd6b2d2086d
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Jul 23 16:37:03 2009 -0400

    atmel_df_pow2: standalone to convert dataflashes to pow2

    Atmel DataFlashes by default operate with pages that are slightly bigger
    than normal binary sizes (i.e. many are 1056 byte pages rather than 1024
    bytes).  However, they also have a "power of 2" mode where the pages show
    up with the normal binary size.  The latter mode is required in order to
    boot with a Blackfin processor, so many people wish to convert their
    DataFlashes on their development systems to this mode.  This standalone
    application does just that.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit cb95c7a935ab9b52dac5d08e5ba4007c5a480f97
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Sep 2 05:52:37 2009 -0400

    Blackfin: cm-bf548: fix device->stdio_dev fallout

    The recent 52cb4d4fb348 commit which renamed device to stdio_dev missed the
    cm-bf548's video board.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit c7bcdde46a7ef78628f0f09fdc6cb61bb1bd7e79
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Sep 2 04:21:16 2009 -0400

    Blackfin: enable 64bit printf for nand

    Since the NAND code now uses 64bit code, make sure we enable support for
    ADI Blackfin boards in printf to avoid the warning:
    nand_util.c:45:2: warning: #warning Please define CONFIG_SYS_64BIT_VSPRINTF for correct output!

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 9c46e71af2b03ccd721c56b1dc906ead702d6fb5
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Aug 24 20:48:04 2009 -0400

    Blackfin: use scratch pad for exception stack

    If the memory layout pushes the stack out of the default DCPLB coverage,
    the exception handler may trigger a double fault by trying to push onto
    the uncovered stack.  So handle the exception stack similar to the kernel
    by using the top of the scratch pad SRAM.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 69a25ce3578f34c8accb476f70089f3a44b78ed9
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Aug 24 20:36:25 2009 -0400

    Blackfin: increase default console size

    The default console size indirectly applies to length of env vars, so a
    smaller length makes it hard to pass longer command lines to kernels.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit f541e1d6d99c22bbd4bc8c84fdb02baad0277847
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Aug 24 19:03:18 2009 -0400

    Blackfin: fix debug printf modifiers

    The display_global_data() function generated warnings with pretty much
    every variable.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 4640c2b8699bcdd2346a2c633486f07f061a2939
Author: Harald Krapfenbauer <Harald.Krapfenbauer@bluetechnix.at>
Date:	Thu Aug 20 19:20:41 2009 -0400

    Blackfin: cm-bf537u: new board port

    The CM-BF537U is similar to the CM-BF537E module, but enough to need its
    own board port.

    Signed-off-by: Harald Krapfenbauer <Harald.Krapfenbauer@bluetechnix.at>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit c4db335c2e0805e1ce4c33d278b77492c0812353
Author: Robin Getz <robin.getz@analog.com>
Date:	Mon Aug 17 15:23:02 2009 +0000

    Blackfin: change global data register from P5 to P3

    Since the Blackfin ABI favors higher scratch registers by default, use the
    last scratch register (P3) for global data rather than the first (P5).
    This allows the compiler's register allocator to use higher number scratch
    P registers, which in turn better matches the Blackfin instruction set,
    which reduces the size of U-Boot by more than 1024 bytes...

    Signed-off-by: Robin Getz <robin.getz@analog.com>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 574b70df03fba0ea635e2fe71fbd7b97d19b706a
Author: Robin Getz <robin.getz@analog.com>
Date:	Tue Aug 11 14:20:13 2009 +0000

    Blackfin: enable more network commands for ADI dev boards

    Add dns and ntp to default networking commands, and ask for more dhcp
    options to better configure the network environment.

    Signed-off-by: Robin Getz <robin.getz@analog.com>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit aa7b248a05323d4720969227603e39a22777ed95
Author: Michael Hennerich <michael.hennerich@analog.com>
Date:	Thu Jun 18 09:12:50 2009 +0000

    Blackfin: bf537-stamp: comment CF-Flash Card Support better

    Signed-off-by: Michael Hennerich <michael.hennerich@analog.com>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 69c6d268a29cf6d61e096d815abf5abf24136f45
Author: Robin Getz <robin.getz@analog.com>
Date:	Fri Jul 10 18:37:15 2009 +0000

    Blackfin: use +(filesize) to make sure we are only doing what is necessary

    Signed-off-by: Robin Getz <robin.getz@analog.com>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 2dc851e3b0f07a56f83060f13882ff4b62cf5112
Author: Albin Tonnerre <albin.tonnerre@free-electrons.com>
Date:	Thu Aug 20 16:04:49 2009 +0200

    Support for the Calao TNY-A9260/TNY-A9G20 boards

    The Calao TNY-A9260 and TNY-9G20 are boards manufactured and sold by
    Calao Systems <http://www.calao-systems.com>. Their components are very
    similar to the AT91SAM9260EK board, so their configuration is based on
    the configuration of this board. There are however some differences:
    different clocks, no LCD, no ethernet. They also can use SPI EEPROM to
    store the environment.

    Signed-off-by: Albin Tonnerre <albin.tonnerre@free-electrons.com>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 49d2cb4d6153a6c18249dccb5de5cffeb261a61c
Author: Prafulla Wadaskar <prafulla@marvell.com>
Date:	Thu Aug 20 20:59:28 2009 +0530

    arm: Kirkwood: add SYSRSTn Duration Counter Support

    This feature can be used to trigger special command "sysrstcmd" using
    reset key long press event and environment variable "sysrstdelay" is set
    (useful for reset to factory or manufacturing mode execution)

    Kirkwood SoC implements a hardware-based SYSRSTn duration counter.
    When SYSRSTn is asserted low, a SYSRSTn duration counter is running.
    The counter value is stored in the SYSRSTn Length Counter Register
    The counter is based on the 25-MHz reference clock (40ns)
    It is a 29-bit counter, yielding a maximum counting duration of
    2^29/25 MHz (21.4 seconds). When the counter reach its maximum value,
    it remains at this value until counter reset is triggered by setting
    bit 31 of KW_REG_SYSRST_CNT

    Implementation:
    Upon long reset assertion (> ${sysrstdelay} in secs) sysrstcmd will be
    executed if pre-defined in environment variables.
    This feature will be disabled if "sysrstdelay" variable is unset.

    for-ex.
    setenv sysrst_cmd "echo starting factory reset;
		   nand erase 0xa0000 0x20000;
		   echo finish ed sysrst command;"
    will erase particular nand sector if triggered by this event

    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>

commit 9453967e28c5e3abbf856f95735ea69bae1e77fa
Author: Albin Tonnerre <albin.tonnerre@free-electrons.com>
Date:	Mon Aug 24 18:03:26 2009 +0200

    Add support for the Calao SBC35-A9G20 board

    The Calao SBC35-A9G20 board is manufactured and sold by Calao Systems
    <http://www.calao-systems.com>. It is built around an AT91SAM9G20 ARM SoC
    running at 400MHz. It features an Ethernet port, an SPI RTC backed by an onboard
    battery , an SD/MMC slot, a CompactFlash slot, 64Mo of SDRAM, 256Mo of NAND
    flash, two USB host ports, and an USB device port. More informations can be
    found at <http://www.calao-systems.com/articles.php?lng=en&pg=5936>

    Signed-off-by: Albin Tonnerre <albin.tonnerre@free-electrons.com>

commit 10bc241dfc15a0820d9c52469173b7ccafec0b84
Author: Ilya Yanok <yanok@emcraft.com>
Date:	Tue Aug 11 02:32:09 2009 +0400

    imx27lite: add support for imx27lite board from LogicPD

    This patch adds support for i.MX27-LITEKIT development board from
    LogicPD. This board uses i.MX27 SoC and has 2MB NOR flash, 64MB NAND
    flash, FEC ethernet controller integrated into i.MX27.

    Signed-off-by: Ilya Yanok <yanok@emcraft.com>
    Acked-by: Wolfgang Denk <wd@denx.de>

commit 50b5fff55827946c86a60db8b21a9358be720666
Author: Albin Tonnerre <albin.tonnerre@free-electrons.com>
Date:	Tue Sep 1 11:26:20 2009 +0200

    at91sam9260/afeb9260: Fix SPI initialization

    Commit 7ebafb7ec1a0285af8380623c009576f92583b98 introduced a mistake in the spi
    init function call for those boards. This patch fixes this.

    Signed-off-by: Albin Tonnerre <albin.tonnerre@free-electrons.com>

commit f3d4f8870e69e0fd177397778d97d0751bbd020a
Author: Simon Kagstrom <simon.kagstrom@netinsight.net>
Date:	Tue Aug 18 11:13:44 2009 +0200

    Remove duplicate set_cr

    Remove duplicate set_cr

    set_cr is defined in both asm-arm/proc-armv/system.h and
    include/asm-arm/system.h. This patch removes it (and some duplicate
    defines) from the former.

    Signed-off-by: Simon Kagstrom <simon.kagstrom@netinsight.net>

commit 3d35d87d5482de23cd5dc4d7721b1086107cae50
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Aug 31 19:57:42 2009 +0200

    Prepare 2009.08

    Update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 632a6dd0b612eb7b143f789f2a0273917468c041
Author: Andre Schwarz <andre.schwarz@matrix-vision.de>
Date:	Mon Aug 31 16:18:24 2009 +0200

    Add common code dir for Matrix Vision boards.

    This fixes current build failure.

    Signed-off-by: Andre Schwarz <andre.schwarz@matrix-vision.de>

    mvblm7.c: fix warning: implicit declaration of function
    'mv_reset_environment'

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 52f6c34c85d6c16f2a41433b5000490ecf374992
Author: David Brownell <dbrownell@users.sourceforge.net>
Date:	Sun Aug 30 11:05:29 2009 -0700

    bugfix CONFIG_SYS_CONSOLE_INFO_QUIET

    The "console: unify printing current devices" patch goofed:
    CONFIG_SYS_CONSOLE_INFO_QUIET is supposed to *REMOVE* boot
    time noise, not add it.  Said patch changed the #ifndefs
    to #ifdef; this one restores them to the proper sense.

    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

commit 2d04db088e6df8a008bb09f604876a45031df93b
Author: Timur Tabi <timur@freescale.com>
Date:	Fri Aug 28 16:56:45 2009 -0500

    fsl: simplify the "mac id" command, improve boot-time informational message

    The "mac id" command took a 4-character parameter as the identifier string.
    However, for any given board, only one kind of identifier is acceptable, so it
    makes no sense to ask the user to type it in.  Instead, if the user enters
    "mac id", the identifier (and also the version, if it's NXID) will
    automatically be set to the correct value.

    Improve the message that is displayed when EEPROM is read during boot.  It now
    displays "EEPROM:" and then either an error message or the EEPROM identifier
    if successful.

    If the identifier in EEPROM is valid, then always reject a bad CRC, even if the
    CRC field has not been initialized.

    Don't force the MAC address count to MAX_NUM_PORTS or less.  Forcing the value
    to be changed resulting in an in-memory copy that does not match what's in
    hardware, even though the user did not request that change.

    Finally, always update the CRC value in the in-memory copy after any field
    is changed, so that the CRC is always correct.

    Signed-off-by: Timur Tabi <timur@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 33f3f34255bd7cf0be502275c59f0ff22dc50080
Author: Poonam Aggrwal <poonam.aggrwal@freescale.com>
Date:	Fri Aug 21 07:29:58 2009 +0530

    85xx: Added PCIe support for P1 P2 RDB

    Call fsl_pci_init_port() to initialize all the PCIe ports on the board.

    Signed-off-by: Poonam Aggrwal <poonam.aggrwal@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 0d3d68b25a8e7790f58530ddccbd61f9fc0245ef
Author: Poonam Aggrwal <poonam.aggrwal@freescale.com>
Date:	Fri Aug 21 07:29:42 2009 +0530

    driver/fsl_pci: Add fsl_pci_init_port function to initialize a PCI controller

    fsl_pci_init_port can be called from board specific PCI initialization
    routines to setup the PCI (or PCIe) controller.  This will reduce code
    redundancy in most of the 85xx/86xx FSL board ports that setup PCI.

    Signed-off-by: Poonam Aggrwal <poonam.aggrwal@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 05f6f66474312ad03c39b4ca4875af46c87366bf
Author: Timur Tabi <timur@freescale.com>
Date:	Thu Aug 20 17:41:11 2009 -0500

    85xx: Improve MPIC initialization

    The MPIC initialization code for Freescale e500 CPUs was not using I/O
    accessors, and it was not issuing a read-back to the MPIC after setting
    mixed mode.  This may be the cause of a spurious interrupt on some systems.

    Signed-off-by: Timur Tabi <timur@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit c17b79fbd0c7923948331d65cb588734a9c681ff
Author: Poonam Aggrwal <poonam.aggrwal@freescale.com>
Date:	Thu Aug 20 18:59:18 2009 +0530

    85xx: Added support for P1011RDB and P2010RDB

    P1011 and P2010 are single core variants of P1010 and P2020 respectively.
    The board(RDB) will be same.

    Signed-off-by: Poonam Aggrwal <poonam.aggrwal@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit a713ba926b45da9a6f923f1ac9e60a66852e5f2d
Author: Poonam Aggrwal <poonam.aggrwal@freescale.com>
Date:	Thu Aug 20 18:57:45 2009 +0530

    85xx: Added single core members of FSL P1xx/P2xx processors series

    P1011 - Single core variant of P1020
    P2010 - Single core variant of P2020

    Signed-off-by: Poonam Aggrwal <poonam.aggrwal@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit bf488bc0949fc900d1296a7f35a38a6a28cb5fab
Author: Poonam Aggrwal <poonam.aggrwal@freescale.com>
Date:	Thu Aug 20 18:57:02 2009 +0530

    85xx: P1020RDB Support Added

    Signed-off-by: Poonam Aggrwal <poonam.aggrwal@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 3b1f243b8dad30a646a0f056b0268519eadbc3c5
Author: Poonam Aggrwal <poonam.aggrwal@freescale.com>
Date:	Thu Aug 20 18:55:35 2009 +0530

    85xx: Added CONFIG_MAX_CPUS for P1020

    Signed-off-by: Poonam Aggrwal <poonam.aggrwal@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 76b474e2f5a223fcabfeaa4f1c8fb699062b986c
Author: Mingkai Hu <Mingkai.hu@freescale.com>
Date:	Tue Aug 18 15:37:15 2009 +0800

    85xx: Add L2SRAM Register's macro definition

    Signed-off-by: Mingkai Hu <Mingkai.hu@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 158c6724c99368a4d8eef11ee7e3c7ad0ef03a15
Author: Felix Radensky <felix@embedded-sol.com>
Date:	Sat Aug 15 15:08:37 2009 +0300

    85xx: Fix memory test range on MPC8536DS

    With current values of CONFIG_SYS_MEMTEST_START and CONFIG_SYS_MEMTEST_END
    memory test hangs if run without arguments. Set them to sane values, so
    that all available 512MB of RAM excluding exception vectors at the bottom
    and u-boot code and stack at the top can be tested.

    Signed-off-by: Felix Radensky <felix@embedded-sol.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit ef41f2a25c554604156b59f5945feadae2f3cb55
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Aug 12 00:10:44 2009 -0500

    85xx: Removed BEDBUG support on P1_P2_RDB

    To match all other 85xx platforms we are removing BEDBUG support.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit b560ab85edfb68da653bf2527c390c3e182392a1
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Sat Aug 8 10:42:30 2009 -0500

    85xx: Init pci ethernet cards if we enable any on MPC8572DS

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 1bb61b69f7aba4931ede35fdcabd8e5ecad121d7
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Aug 7 13:16:34 2009 -0500

    xes: Use proper IO access functions

    Also fix some minor whitespace oddities while we're cleaning up

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit ec79d33b2c41ee8b6d1354cc0910217b769c5036
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Aug 7 13:00:55 2009 -0500

    85xx: Move to a common linker script

    There are really no differences between all the 85xx linker scripts so
    we can just move to a single common one.  Board code is still able to
    override the common one if need be.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 87c7661b42aa7672539b54b51d3d5c4013ec6f6c
Author: Poonam Aggrwal <poonam.aggrwal@freescale.com>
Date:	Fri Jul 31 12:08:27 2009 +0530

    85xx: Added P1020 Processor Support.

    P1020 is another member of QorIQ series of processors which falls in ULE
    category. It is an e500 based dual core SOC.

    Being a scaled down version of P2020 it has following differences:
    - 533MHz - 800MHz core frequency.
    - 256Kbyte L2 cache
    - Ethernet controllers with classification capabilities.
    Also the SOC is pin compatible with P2020

    Signed-off-by: Poonam Aggrwal <poonam.aggrwal@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 728ece343e8bb2a66ee977c49d455439e3b28da9
Author: Poonam Aggrwal <poonam.aggrwal@freescale.com>
Date:	Wed Aug 5 13:29:24 2009 +0530

    85xx: Add support for P2020RDB board

    The code base adds P1 & P2 RDB platforms support.
    The folder and file names can cater to future SOCs of P1/P2 family.
    P1 & P2 processors are 85xx platforms, part of Freescale QorIQ series.

    Tested following on P2020RDB:
    1. eTSECs
    2. DDR, NAND, NOR, I2C.

    Signed-off-by: Poonam Aggrwal <poonam.aggrwal@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 0e870980a64584a591af775bb9c9fe9450124df9
Author: Poonam Aggrwal <poonam.aggrwal@freescale.com>
Date:	Fri Jul 31 12:08:14 2009 +0530

    8xxx: Removed CONFIG_NUM_CPUS from 85xx/86xx

    The number of CPUs are getting detected dynamically by checking the
    processor SVR value.  Also removed CONFIG_NUM_CPUS references from all
    the platforms with 85xx/86xx processors.

    This can help to use the same u-boot image across the platforms.

    Also revamped and corrected few Freescale Copyright messages.

    Signed-off-by: Poonam Aggrwal <poonam.aggrwal@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 18bacc2027f8531d8dec15ba8da3242dfb4e63f3
Author: Poonam Aggrwal <poonam.aggrwal@freescale.com>
Date:	Fri Jul 31 12:07:45 2009 +0530

    8xxx: Refactored common cpu specific code for 85xx/86xx into one file.

    Removed same code pieces from cpu/mpc85xx/cpu.c and cpu/mpc86xx/cpu.c
    and moved to cpu/mpc8xxx/cpu.c(new file)

    Signed-off-by: Poonam Aggrwal <poonam.aggrwal@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 7b18c227b847e4782eb1492219ebd555f521b08b
Author: Alex Dubov <oakad@yahoo.com>
Date:	Fri Aug 7 15:28:32 2009 +1000

    stx: create common vendor/board hierarchy for STx boards

    Move files belonging to the STx boards into common vendor directory and
    update the Makefile to reflect this.

    Signed-off-by: Alex Dubov <oakad@yahoo.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit bafdf9aa9dbb69d937b72db17ed5800998c59523
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Tue Aug 4 17:38:00 2009 -0500

    85xx: Remove unused CONFIG_CLEAR_LAW0 defines

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 73aacc522849486b60a5611f678f0bf1c3053779
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Aug 6 18:38:43 2009 -0500

    86xx: Remove redudant PLATFORM_CPPFLAGS

    For historic reasons we had defined some additional PLATFORM_CPPFLAGS like:

    PLATFORM_CPPFLAGS += -DCONFIG_MPC86xx=1
    PLATFORM_CPPFLAGS += -DCONFIG_MPC8641=1

    However these are all captured in the config.h and thus redudant.  Also
    moved common 86xx flags into cpu/mpc86xx/config.mk.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 53efa1f1acacacb76fa9a21b09b3294783a11c03
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Aug 6 18:28:34 2009 -0500

    85xx: Remove redudant PLATFORM_CPPFLAGS

    For historic reasons we had defined some additional PLATFORM_CPPFLAGS
    like:

    PLATFORM_CPPFLAGS += -DCONFIG_E500=1
    PLATFORM_CPPFLAGS += -DCONFIG_MPC85xx=1
    PLATFORM_CPPFLAGS += -DCONFIG_MPC8548=1

    However these are all captured in the config.h and thus redudant.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 337f9fde2e9317c1d9e85a4a8955a2f14730a00f
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Jul 30 15:54:07 2009 -0500

    85xx: Add a 36-bit physical configuration for MPC8536DS

    We move all IO addressed (CCSR, localbus, PCI) above the 4G boundary
    to allow for larger memory sizes.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: Wolfgang Denk <wd@denx.de>

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit ecead84d56b0ced67b727f5ce21ba08c53b5f09e
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Aug 4 09:10:03 2009 -0500

    85xx: Cleanup whitespace in mpc8536ds.c

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit ad19e7a5d2de337064ce7728d6504df9648f5d31
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Aug 5 07:59:35 2009 -0500

    pci/fsl_pci_init: Rework PCI ATMU setup to handle >4G of memory

    The old PCI ATMU setup code would just mimic the PCI regions into the
    ATMU registers.  For simple memory maps in which all memory, MMIO, etc
    space fit into 4G this works ok.  However there are issues with we have
    >4G of memory as we know can't access all of memory and we need to
    ensure that PCICSRBAR (PEXCSRBAR on PCIe) isn't overlapping with
    anything since we can't turn it off.

    We first setup outbound windows based on what the board code setup
    in the pci regions for MMIO and IO access.	Next we place PCICSRBAR
    below the MMIO window.  After which we try to setup the inbound windows
    to map as much of memory as possible.

    On PCIe based controllers we are able to overmap the ATMU setup since
    RX & TX links are separate but report the proper amount of inbound
    address space to the region tracking to ensure there is no overlap.

    On PCI based controllers we use as many inbound windows as available to
    map as much of the memory as possible.

    Additionally we changed all the CCSR register access to use proper IO
    accessor functions.  Also had to add CONFIG_SYS_CCSRBAR_PHYS to some
    86xx platforms that didn't have it defined.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 8295b94400449586505ffe34ec024feb3d2c8fe4
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Aug 5 07:49:27 2009 -0500

    pci/fsl_pci_init: Use PCIe capability to determine if controller is PCIe

    Change the code to use the PCIe capabilities register to determine if we
    are a PCIe controller or not.  Additionally cleaned up some white space
    and formatting in the file.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit cb151aa2cf5fbb1e412fc763a3a611758f066238
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Aug 3 21:02:02 2009 -0500

    pci/fsl_pci_init: Fold fsl_pci_setup_inbound_windows into fsl_pci_init

    Every platform that calls fsl_pci_init calls fsl_pci_setup_inbound_windows
    before it calls fsl_pci_init.  There isn't any reason to just call it
    from fsl_pci_init and simplify things a bit.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit fb3143b35eb5890ec72e79d17a6068a84a057d47
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Aug 3 20:44:55 2009 -0500

    pci/fsl_pci_init: Fold pci_setup_indirect into fsl_pci_init

    Every platform that calls fsl_pci_init calls pci_setup_indirect before
    it calls fsl_pci_init.  There isn't any reason to just call it from
    fsl_pci_init and simplify things a bit.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 28887d831b02c66ccc10d7f1379204b5a62f4543
Author: Andr Schwarz <andre.schwarz@matrix-vision.de>
Date:	Thu Aug 27 14:48:35 2009 +0200

    Use common code for Matrix Vision boards

    Clean up existing boards (mvBC-P/MPC5200 and mvBL-M7/MPC8343) by
    using common code.

    Signed-off-by: Andr Schwarz <andre.schwarz@matrix-vision.de>

commit 05f91a65abc3180e2896cd8ddee7a34b1d1ce6e0
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Wed Aug 26 21:27:37 2009 -0500

    mpc83xx: mpc8349itx - accommodate larger kernel sizes & unzero the bootdelay

    apparently the ITX was missed last round.

    Also make bootdelay consistent with other boards, so as to give on the
    opportunity to fix mistakenly set bootcmd without having checked for an
    bootdelay zero setting first.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit cc861f7127f200e704baaf061a7f508e3c93f2a3
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Wed Aug 26 21:25:46 2009 -0500

    mpc83xx: match dtb filename references to their dts equivalents in the linux kernel

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 77b351cd0f20483eefa09bebebb3e0cbf5555b2c
Author: Sandeep Paulraj <s-paulraj@ti.com>
Date:	Tue Aug 18 10:10:42 2009 -0400

    NAND: DaVinci: V2 Adding 4 BIT ECC support

    This patch adds 4 BIT ECC support in the DaVinci NAND
    driver. Tested on both the DM355 and DM365.

    Signed-off-by: Sandeep Paulraj <s-paulraj@ti.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit f83b7f9e8a5d1334e24506ea5953dd871596ea8a
Author: Sandeep Paulraj <s-paulraj@ti.com>
Date:	Mon Aug 10 13:27:56 2009 -0400

    MTD:NAND: ADD new ECC mode NAND_ECC_HW_OOB_FIRST

    This patch adds the new mode NAND_ECC_HW_OOB_FIRST in the nand code to
    support 4-bit ECC on TI DaVinci devices with large page (up to 2K) NAND
    chips.  This ECC mode is similar to NAND_ECC_HW, with the exception of
    read_page API that first reads the OOB area, reads the data in chunks,
    feeds the ECC from OOB area to the ECC hw engine and perform any
    correction on the data as per the ECC status reported by the engine.

    This patch has been accepted by Andrew Morton and can be found at

    http://userweb.kernel.org/~akpm/mmotm/broken-out/mtd-nand-add-new-ecc-mode-ecc_hw_oob_first.patch

    Signed-off-by: Sandeep Paulraj <s-paulraj@ti.com>
    Signed-off-by: Sneha Narnakaje <nsnehaprabha@ti.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 36fab997d85d89ee7fd2c7fd6057fab786d556aa
Author: Ilya Yanok <yanok@emcraft.com>
Date:	Tue Aug 11 02:32:54 2009 +0400

    mxc_nand: add nand driver for MX2/MX3

    Driver for NFC NAND controller found on Freescale's MX2 and MX3
    processors. Ported from Linux. Tested only with i.MX27 but should
    works with other MX2 and MX3 processors too.

    Signed-off-by: Ilya Yanok <yanok@emcraft.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit a2c65b47effcb3d0aa23e58596538acd338ac7c5
Author: Sandeep Paulraj <s-paulraj@ti.com>
Date:	Mon Aug 10 13:27:46 2009 -0400

    NAND: ADD page Parameter to all read_page/read_page_raw API's

    This patch adds a new "page" parameter to all NAND read_page/read_page_raw
    APIs.  The read_page API for the new mode ECC_HW_OOB_FIRST requires the
    page information to send the READOOB command and read the OOB area before
    the data area.

    This patch has been accepted by Andrew Morton and can be found at
    http://userweb.kernel.org/~akpm/mmotm/broken-out/mtd-nand-add-page-parameter-to-all-read_page-read_page_raw-apis.patch

    WE would like this to become part of the u-boot GIT as well

    Signed-off-by: Sandeep Paulraj <s-paulraj@ti.com>
    Signed-off-by: Sneha Narnakaje <nsnehaprabha@ti.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit de4250929f37e6c16860741b74546bedbe0bdaba
Author: Heiko Schocher <hs@denx.de>
Date:	Tue Jul 21 17:13:40 2009 +0200

    83xx, kmeter1: added NAND support

    Signed-off-by: Heiko Schocher <hs@denx.de>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit ecad289fc6bd9d89ef4d5093cc7b6fd712fd0d29
Author: Kyungmin Park <kmpark@infradead.org>
Date:	Tue Jul 21 11:58:04 2009 +0900

    OneNAND: Remove unused read_spareram

    Remove unused read_spareram and add unlock_all as kernel does

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 403ce1f759b5acec8514cd7e10ce76704fed519c
Author: Matthias Kaehlcke <matthias@kaehlcke.net>
Date:	Thu Jul 16 21:19:29 2009 +0200

    KB9202: Add NAND support

    Add KB9202 NAND driver

    Signed-off-by: Matthias Kaehlcke <matthias@kaehlcke.net>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit ce3277a6f2c082f39596d3d3d88dd0a5bc91439d
Author: Kyungmin Park <kmpark@infradead.org>
Date:	Tue Jul 21 11:58:04 2009 +0900

    OneNAND: Remove unused read_spareram

    Remove unused read_spareram and add unlock_all as kernel does

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>

commit 0d042037b3cf8693ea0f793d0c292430bfc5a95c
Author: Eric Millbrandt <emillbrandt@coldhaus.com>
Date:	Tue Aug 25 10:30:26 2009 -0500

    galaxy5200: Cleanup typo and trailing whitespace

    Signed-off-by: Eric Millbrandt <emillbrandt@dekaresearch.com>

commit f6a309080b2da9e509b5ee8d091dca5e175415b7
Author: TsiChung Liew <tsicliew@gmail.com>
Date:	Wed Jul 22 18:42:45 2009 +0000

    ColdFire: Fix compile warning messages

    Change %08lX to %08X in board.c. Remove unused variable
    'oscillator' in mcf5227x/cpu_init.c and 'scm2' in
    mcf532x/cpu_init.c. Provide argument type cast in
    drivers/dma/MCD_dmaApi.c.

    Signed-off-by: TsiChung Liew <tsicliew@gmail.com>

commit 88c811b153771a3d1bfe958297c69722efb278e9
Author: TsiChung Liew <tsicliew@gmail.com>
Date:	Wed Jul 22 16:32:39 2009 +0000

    ColdFire: Fix missing _IO_BASE which caused compile error

    The compile error was caused by a recent patch. Affected platforms -
    M5253DEMO.h, M5253EVBE.h, and M54455EVB.h. Adding the _IO_BASE
    automatically defined to 0 in asm-m68k/io.h if it isn't set in
    platform configuration file.

    Signed-off-by: TsiChung Liew <tsicliew@gmail.com>

commit 3a7b2c21fb08b022e3e624cd071002b4aaed1606
Author: Niklaus Giger <niklaus.giger@member.fsf.org>
Date:	Wed Jul 22 17:13:24 2009 +0200

    Support up to 7 banks for ids as specified in JEDEC JEP106Z

    see http://www.jedec.org/download/search/jep106Z.pdf
    Add some second source legacy flash chips 256x8.

    Signed-off-by: Niklaus Giger <niklaus.giger@member.fsf.org>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 0d071cdd782e917b43e04869843df31670231ffd
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Mon Aug 24 14:32:26 2009 -0500

    net: tsec - handle user interrupt while waiting for PHY auto negotiation to complete

    if you don't have firmware installed for the PHY to come to life, this
    wait can be painful - let's give the option to avoid it if we want.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>
    Acked-by: Andy Fleming <afleming@freescale.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 4fccb818e7ee1190602e79aa5729a23bc349bf0c
Author: Robin Getz <rgetz@blackfin.uclinux.org>
Date:	Thu Aug 20 10:50:20 2009 -0400

    Add Transfer Size Option to tftp

    Optionally add RFC 2349 "Transfer Size Option", so we can minimize the
    time spent sending data over the UART (now print a single line during a
    tftp transfer).

     - If turned on (CONFIG_TFTP_TSIZE), U-Boot asks for the size of the file.
     - if receives the file size, a single line (50 chars) are printed.
	 one hash mark == 2% of the file downloaded.
     - if it doesn't receive the file size (the server doesn't support RFC
	 2349, prints standard hash marks (one mark for each UDP frame).

    Signed-off-by: Robin Getz <rgetz@blackfin.uclinux.org>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 488feef85229c08cd3aa1fa183bc8f483d2ae832
Author: Robin Getz <rgetz@blackfin.uclinux.org>
Date:	Mon Aug 24 10:33:39 2009 -0400

    Add debug message for Blackfin Ethernet Rx function.

    Add a simple print for the Blackfin's Ethernet Rx function,
    so we can debug incomming Ethernet functions easier.

    Signed-off-by: Robin Getz <rgetz@blackfin.uclinux.org>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit b1c0eaac110bc919e5b4e88821348e714493f266
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Tue Aug 25 13:09:37 2009 -0700

    Convert CS8900 Ethernet driver to CONFIG_NET_MULTI API

    All in-tree boards that use this controller have CONFIG_NET_MULTI added
    Also:
      - changed CONFIG_DRIVER_CS8900 to CONFIG_CS8900
      - changed CS8900_BASE to CONFIG_CS8900_BASE
      - changed CS8900_BUS?? to CONFIG_CS8900_BUS??
      - cleaned up line lengths
      - modified VCMA9 command function that accesses the device
      - removed MAC address initialization from lib_arm/board.c

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>
    Tested-by: Wolfgang Denk <wd@denx.de>
    Acked-by: Wolfgang Denk <wd@denx.de>

commit d47628a6ecf80cd4584a50b6c795b90c985a48e5
Author: Alessandro Rubini <rubini-list@gnudd.com>
Date:	Fri Aug 7 13:59:26 2009 +0200

    arm nomadik: activate defrag choose 4k transfer block size

    This chooses 4kB data size for both TFTP and NFS, as an example
    about how to use support for IP fragments.

    Signed-off-by: Alessandro Rubini <rubini@gnudd.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit bd931ca61c84039241d438ade4a9755ae0e5372f
Author: Alessandro Rubini <rubini-list@gnudd.com>
Date:	Fri Aug 7 13:59:16 2009 +0200

    nfs: accept CONFIG_NFS_READ_SIZE from config file

    To take advantage of defragmented packets, the config file
    can define CONFIG_NFS_READ_SIZE to override the 1kB default.
    No support is there for an environment variable by now.

    Signed-off-by: Alessandro Rubini <rubini@gnudd.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 89ba81d1079a07b8430a98c1746c6d411312eb0d
Author: Alessandro Rubini <rubini-list@gnudd.com>
Date:	Fri Aug 7 13:59:06 2009 +0200

    tftp: get the tftp block size from config file and from the environment

    Increasing the block size is useful if CONFIG_IP_DEFRAG is
    used. Howerver, the last fragments in a burst may overflow the
    receiving ethernet, so the default is left at 1468, with thre new
    CONFIG_TFTP_BLOCKSIZE for config files. Further, "tftpblocksize"
    can be set in the environment.

    Signed-off-by: Alessandro Rubini <rubini@gnudd.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 5cfaa4e54d0eb8232fa1cf092d955fdaed5b673d
Author: Alessandro Rubini <rubini-list@gnudd.com>
Date:	Fri Aug 7 13:58:56 2009 +0200

    net: defragment IP packets

    The defragmenting code is enabled by CONFIG_IP_DEFRAG; the code is
    useful for TFTP and NFS transfers.	The user can specify the maximum
    defragmented payload as CONFIG_NET_MAXDEFRAG (default 16k).
    Since NFS has a bigger per-packet overhead than TFTP, the static
    reassembly buffer can hold CONFIG_NET_MAXDEFRAG + the NFS overhead.

    The packet buffer is used as an array of "hole" structures, acting as
    a double-linked list. Each new fragment can split a hole in two,
    reduce a hole or fill a hole. No support is there for a fragment
    overlapping two diffrent holes (i.e., thre new fragment is across an
    already-received fragment).

    Signed-off-by: Alessandro Rubini <rubini@gnudd.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 68e74567cf317318df52dbcb2ac170ffc5e7758a
Author: Feng Kan <fkan@amcc.com>
Date:	Fri Aug 21 10:59:42 2009 -0700

    ppc4xx: Fix ECC Correction bug with SMC ordering for NDFC driver

    Fix ECC Correction bug where the byte offset location were double
    flipped causing correction routine to toggle the wrong byte location
    in the ECC segment. The ndfc_calculate_ecc routine change the order
    of getting the ECC code.
	    /* The NDFC uses Smart Media (SMC) bytes order */
	    ecc_code[0] = p[2];
	    ecc_code[1] = p[1];
	    ecc_code[2] = p[3];
    But in the Correction algorithm when calculating the byte offset
    location, the s1 is used as the upper part of the address. Which
    again reverse the order making the final byte offset address
    location incorrect.
	byteoffs = (s1 << 0) & 0x80;
	.
	.
	byteoffs |= (s0 >> 4) & 0x08;
    The order is change to read it in straight and let the correction
    function to revert it to SMC order.

    Signed-off-by: Feng Kan <fkan@amcc.com>
    Acked-by: Victor Gallardo <vgallardo@amcc.com>
    Acked-by: Prodyut Hazarika <phazarika@amcc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 307ecb6db04eebdc06b8c87d48bf48d3cbd5e9d7
Author: Eric Millbrandt <emillbrandt@coldhaus.com>
Date:	Thu Aug 13 08:32:37 2009 -0500

    Add support for USB on PSC3 for the mpc5200

    Support USB on PSC3 on the mpc5200.  Before this patch, enabling USB support
    would reconfigure PSC4 and PSC5 to USB.  The mpc5200 does not support USB
    enabled on both the standard USB port and PSC3.  This patch masks the
    appropriate bits when enabling USB.

    Signed-off-by: Eric Millbrandt <emillbrandt@dekaresearch.com>
    Acked-by: Grant Likely <grant.likely@secretlab.ca>
    Acked-by: Remy Bohmer <linux@bohmer.net>

commit 6b8548b0f7068379ad1efa4fa28725f361b2d3cd
Author: Albin Tonnerre <albin.tonnerre@free-electrons.com>
Date:	Thu Aug 13 19:12:44 2009 +0200

    Add driver for the ST M41T94 SPI RTC

    This RTC is used in some Calao boards. The driver code is taken from
    the linux rtc-m41t94 driver

    Signed-off-by: Albin Tonnerre <albin.tonnerre@free-electrons.com>

commit 885fc78c28fbe773bcb4edc9dd0fdac05ebb5b38
Author: Albin Tonnerre <albin.tonnerre@free-electrons.com>
Date:	Thu Aug 13 15:31:12 2009 +0200

    Switch from per-driver to common definition of bin2bcd and bcd2bin

    Signed-off-by: Albin Tonnerre <albin.tonnerre@free-electrons.com>
    Acked-by: Stefan Roese <sr@denx.de>

commit e84aba135ed7145299304ef550e92f08b2c99d7a
Author: Albin Tonnerre <albin.tonnerre@free-electrons.com>
Date:	Thu Aug 13 15:31:11 2009 +0200

    Replace BCD2BIN and BIN2BCD macros with inline functions

    In the process, also remove backward-compatiblity macros BIN_TO_BCD and
    BCD_TO_BIN and update the sole board using them to use the new bin2bcd
    and bcd2bin instead

    Signed-off-by: Albin Tonnerre <albin.tonnerre@free-electrons.com>
    Acked-by: Stefan Roese <sr@denx.de>
    Acked-by: Detlev Zundel <dzu@denx.de>

commit 5b53b29bc2e82b80b669f1d2402068c60d7fecd0
Author: Eric Millbrandt <emillbrandt@coldhaus.com>
Date:	Thu Aug 13 10:14:21 2009 -0500

    Add support for the galaxy5200

    Add support for the DEKA Research and Development galaxy5200 board

    The galaxy5200 is an Freescale mpc5200 based embedded industrial
    control board.

    Signed-off-by: Eric Millbrandt <emillbrandt@dekaresearch.com>

commit 0a9e4e772123fe3e2bb499d7d2160c4cfd8a3a8d
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Fri Jul 24 16:34:32 2009 -0400

    unify {CONFIG_,}ENV_IS_EMBEDDED

    Some boards have fallen out of sync by defining CONFIG_ENV_IS_EMBEDDED
    manually.  While it is useful to have this available to the build system,
    let's do it automatically rather than forcing people to opt into it.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Signed-off-by: Albin Tonnerre <albin.tonnerre@free-electrons.com>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 02c9aa1d41f73fdcf8383a36cc0cbbfaf952855d
Author: Robin Getz <rgetz@blackfin.uclinux.org>
Date:	Mon Jul 27 00:07:59 2009 -0400

    Add md5sum and sha1 commands...

    Now that we have sha1 and md5 in lib_generic, allow people to use
    them on the command line, for checking downloaded files.

    Signed-off-by: Robin Getz <rgetz@analog.com>

commit 30fc5cd3116cb112d0aab7e6d7c8eef1b67ed075
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Aug 25 12:22:38 2009 +0200

    include/s3c24x0.h: fix S3C24X0_SPI_CHANNEL declaration

    The SPI controller on the S3C24X0 has 8 bit registers, not 32 bit.

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit e637385e69f63bc73b9dfd2ddd8d0f383790ca28
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Aug 20 19:17:59 2009 -0400

    Blackfin: fix typos in gpio comments

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit c2fbcb6ae86c10621a386c13be57eaa766221ed5
Author: Harald Krapfenbauer <Harald.Krapfenbauer@bluetechnix.at>
Date:	Tue Aug 18 04:49:57 2009 -0400

    Blackfin: cm-bf527/cm-bf537: increase flash sectors

    Newer revisions of these boards have slightly larger flashes, so increase
    the configured number of sectors so that U-Boot works on all revisions.

    Signed-off-by: Harald Krapfenbauer <Harald.Krapfenbauer@bluetechnix.at>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit a794f59a75bf9fd4a44f1ad2349cae903c42b89c
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Aug 23 14:14:52 2009 +0200

    sh/rsk7203: add missing include net.h

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 6ac9f47977a9fc1876979871eeb14f26ba1bdbe6
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Aug 23 02:47:59 2009 -0400

    start a linker script helper file

    Start a common header file for common linker script code (such as
    workarounds for older linkers) rather than doing this in the build system.

    As fallout, we no longer execute the linker every time config.mk is
    included by a build file (which can easily be 70+ times), but rather only
    execute it once.

    This also fixes a bug in the major version checking by creating a macro to
    easily compare versions and keep people from making the same common
    mistake (forgetting to check major and minor together).

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 2ed0869d30602eb660569eababb8fedff36bd23a
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Aug 22 19:50:22 2009 -0400

    Blackfin: use common code to preprocess linker script

    Now that the common code preprocesses the linker script, the Blackfin code
    no longer needs to do it.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 4d3758c835c7e96da2a291e7fb5acfc19bc06e8e
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Aug 22 19:48:56 2009 -0400

    .gitignore: ignore generated u-boot.lds

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 79b91de958511840d2a7491be92d435b7ef43f17
Author: Albin Tonnerre <albin.tonnerre@free-electrons.com>
Date:	Sat Aug 22 14:21:53 2009 +0200

    include/mmc.h: Fix typo in IS_SD() macro

    Signed-off-by: Albin Tonnerre <albin.tonnerre@free-electrons.com>

commit 963f2f611741f8d9c38bd7caf20ae8c95cab7b3f
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Aug 22 23:27:26 2009 +0200

    Prepare 2009.08-rc3

    Update CHANGELOG, minor Coding Style cleanup.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 5b2da6a309266f21cbb68f06fcfdf9ba141022e7
Author: Michal Simek <monstr@monstr.eu>
Date:	Fri Aug 21 06:52:25 2009 +1000

    qemu-mips: Fix Qemu website

    Signed-off-by: Michal Simek <monstr@monstr.eu>
    Signed-off-by: Michal Simek <michal.simek@petalogix.com>
    Acked-by: Shinya Kuribayashi <skuribay@pobox.com>

commit 79f516bccc3cff5a5cd4b3dffb7d254e746fdbde
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Fri Aug 21 16:34:38 2009 -0500

    mpc83xx: accommodate larger kernel sizes by default

    linux mpc83xx_defconfig kernels are getting bigger, accommodate for
    their growth by adjusting default load and fdt addresses.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 8eceeb7fd656d6d071c0a8b615e178aca5775fff
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Fri Aug 21 16:33:15 2009 -0500

    mpc83xx: mpc8377erdb - change DDR settings to those from latest bsp

    when using Linus' 83xx_defconfig, the mpc8377rdb would hang at boot
    at either:

    NET: Registered protocol family 16

    or the

    io scheduler cfq registered

    message.  Fixing up these DDR settings appears to fix the problem.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 27c5248dd4c9ba4a36899689595956c5e59e349a
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Fri Aug 21 16:31:20 2009 -0500

    mpc83xx: tqm8349 - remove pci & flash window conflict

    commit 9993e196da707a0a1cd4584f1fcef12382c1c144 "mpc83xx: convert all
    remaining boards over to 83XX_GENERIC_PCI" remapped pci windows on
    tqm834x to make it more consistent with the other 83xx boards.  During
    that time however, the author failed to realize that FLASH_BASE was
    occupying the same range as what PCI1_MEM_BASE was being assigned.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>
    Tested-by: Wolfgang Denk <wd@denx.de>

commit 6d2c26ac831f033b0025cfb256365a047f8dd115
Author: Heiko Schocher <hs@denx.de>
Date:	Fri Aug 21 16:30:30 2009 -0500

    mpc83xx: add missing CSCONFIG_ODT_WR_CFG for 832x CPUs

    Signed-off-by: Heiko Schocher <hs@denx.de>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 193b4cb3f641ed0fd9bb79b8fa4671882c50ffdb
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Fri Aug 21 16:27:05 2009 -0500

    mpc83xx: mpc8349 - delete unused SYS_MID_FLASH_JUMP

    This was introduced with the MPC8349EMDS board, and then copied to
    a couple other boards by nature of being the reference implementation.

      u-boot$git grep CONFIG_SYS_MID_FLASH_JUMP
      include/configs/MPC8349EMDS.h:#define CONFIG_SYS_MID_FLASH_JUMP 0x7F000000
      include/configs/sbc8349.h:#define CONFIG_SYS_MID_FLASH_JUMP     0x7F000000
      include/configs/vme8349.h:#define CONFIG_SYS_MID_FLASH_JUMP     0x7F000000
      u-boot$

    It currently isn't used, so delete it before it spreads further.

    Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit c0d660fbbede322648ec79d3e39389e48f5fab24
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Fri Aug 21 16:21:58 2009 -0500

    mpc83xx: sbc8349 - make enabling PCI more user friendly

    Prior to this commit, to enable PCI, you had to go manually
    edit the board config header, which isn't really user friendly.
    This adds the typical PCI make targets to the toplevel Makefile
    in accordance with what is being done with other boards.

    Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit a3c5057a6c05b4c7235a270486220e4511366133
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Aug 7 23:37:54 2009 +0200

    eeprom_m95xxx: remove unused variable i

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 8cf19b9fec92d8aa22b2fe4b4e6976743b1daa51
Author: Ilya Yanok <yanok@emcraft.com>
Date:	Fri Jul 17 15:02:42 2009 +0400

    jffs2: some fixes to summary support

    This patch fixes some issues with JFFS2 summary support in U-Boot.
    1/ Summary support made compilation configurable (as summary support
    considered expiremental even in Linux).
    2/ Summary code can do unaligned 16-bit and 32-bit memory accesses.
    We need to get data byte by byte to exclude data aborts.
    3/ Make summary scan in two passes so we can safely fall back to full
    scan if we found unsupported entry in the summary.

    Signed-off-by: Ilya Yanok <yanok@emcraft.com>

commit 11906936e168d12d684bb3d2930a62693ba3d84e
Author: Prafulla Wadaskar <prafulla@marvell.com>
Date:	Mon Aug 10 18:55:54 2009 +0530

    arm: rd6281a: Fixed NAND specific warning

    It is recommended to define the macro CONFIG_SYS_64BIT_VSPRINTF
    for NAND specific warning removal, same is done in this patch

    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>

commit b5ffb193330113d2e00489d96bf8ec1f541ed4e1
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Aug 13 00:37:16 2009 +0200

    TRAB: make independent of specific libgcc helper routines

    The TRAB board references local libgcc helper routines
    (lib_arm/div0.o and lib_arm/_umodsi3.o) which cause build problems
    when we try to use the normal, compiler provided libgcc instead.
    Removing these references allows to build both with and without the
    local libgcc helper routines.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 1aada9cd643567d351667138851e9231ccfa245a
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Aug 17 14:00:53 2009 +0200

    Fix all linker scripts for older binutils versions (pre-2.16)

    Commit f62fb99941c6 fixed handling of all rodata sections by using a
    wildcard combined with calls to ld's builtin functions SORT_BY_ALIGNMENT()
    and SORT_BY_NAME().  Unfortunately these functions were only
    introduced with biunutils version 2.16, so the modification broke
    building with all tool chains using older binutils.

    This patch makes it work again.  This is done by omitting the use of
    these functions for such old tool chains.  This will result in
    slightly larger target binaries, as the rodata sections are no longer
    in optimal order alignment-wise which reauls in unused gaps, but the
    effect was found to be insignificant - especially compared to the fact
    that you cannot build U-Boot at all in the current state.

    As ld seems to have no support for conditionals we run the linker
    script through the C preprocessor which can be easily used to remove
    the unwanted function calls.

    Note that the C preprocessor must be run with the "-ansi" (or a
    "-std=") option to make sure all the system-specific predefined
    macros outside the reserved namespace are suppressed. Otherise, cpp
    might for example substitute "powerpc" to "1", thus corrupting for
    example "OUTPUT_ARCH(powerpc)" etc.

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: Mike Frysinger <vapier@gentoo.org>

commit f772acf8a584067033eff1e231fcd1fb3a00d3d9
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Aug 17 13:17:29 2009 +0200

    ARM: compiler options cleanup - improve tool chain support

    For some time there have been repeated reports about build problems
    with some ARM (cross) tool chains.	Especially issues about
    (in)compatibility with the tool chain provided runtime support
    library libgcc.a caused to add and support a private implementation
    of such runtime support code in U-Boot.  A closer look at the code
    indicated that some of these issues are actually home-made.  This
    patch attempts to clean up some of the most obvious problems and make
    building of U-Boot with different tool chains easier:

    - Even though all ARM systems basicy used the same compiler options
      to select a specific ABI from the tool chain, the code for this was
      distributed over all cpu/*/config.mk files.  We move this one level
      up into lib_arm/config.mk instead.

    - So far, we only checked if "-mapcs-32" was supported by the tool
      chain; if yes, this was used, if not, "-mabi=apcs-gnu" was
      selected, no matter if the tool chain actually understood this
      option.  There was no support for EABI conformant tool chains.
      This patch implements the following logic:

      1) If the tool chain supports
	"-mabi=aapcs-linux -mno-thumb-interwork"
	 we use these options (EABI conformant tool chain).
      2) Otherwise, we check first if
	"-mapcs-32"
	 is supported, and then check for
	"-mabi=apcs-gnu"
	 If one test succeeds, we use the first found option.
      3) In case 2), we also test if "-mno-thumb-interwork", and use
	 this if the test succeeds. [For "-mabi=aapcs-linux" we set
	 "-mno-thumb-interwork" mandatorily.]

      This way we use a similar logic for the compile options as the
      Linux kernel does.

    - Some EABI conformant tool chains cause external references to
      utility functions like raise(); such functions are provided in the
      new file lib_arm/eabi_compat.c

      Note that lib_arm/config.mk gets parsed several times, so we must
      make sure to add eabi_compat.o only once to the linker list.

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Cc: Dirk Behme <dirk.behme@googlemail.com>
    Cc: Magnus Lilja <lilja.magnus@gmail.com>
    Cc: Tom Rix <Tom.Rix@windriver.com>
    Cc: Prafulla Wadaskar <prafulla@marvell.com>
    Acked-by: Sergey Kubushyn <ksi@koi8.net>
    Tested-by: Magnus Lilja <lilja.magnus@gmail.com>
    Tested-by: Andrzej Wolski <awolski@poczta.fm>
    Tested-by: Gaye Abdoulaye Walsimou <walsimou@walsimou.com>
    Tested-by: Tom Rix <Tom.Rix@windriver.com>
    Tested-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 269610f6ba2e4a7bc27d2e53d43160614016964f
Author: Mingkai Hu <Mingkai.hu@freescale.com>
Date:	Thu Jul 30 17:56:51 2009 +0800

    NAND boot: fix nand_load overlap issue

    The code copy data from NAND flash block by block, so when
    the data length isn't a whole-number multiple of the block
    size, it will overlap the rest space.

    Signed-off-by: Mingkai Hu <Mingkai.hu@freescale.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 1fc1d9aed08f2b3366d634fda6712a710b2cff9a
Author: Giulio Benetti <giulio.benetti@micronovasrl.com>
Date:	Fri Jul 31 17:30:34 2009 -0500

    add WATCHDOG_RESET() on nand write and read

    Signed-off-by: giulio.benetti@micronovasrl.com
    Acked-by: Wolfgang Denk <wd@denx.de>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit b1e849f2201bbbf3ca81fde164f154f9caf7f0e9
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Wed Feb 4 15:14:05 2009 -0600

    tsec: Wait for auto-negotiation to complete without link

    Previously, waiting for auto-negotiation would only occur if a valid
    link had been detected.  Problems arose when attempting to use a
    tsec immediately after bootup but before link was achieved, eg:
    => dhcp
    Auto-neg error, defaulting to 10BT/HD
    eTSEC1: No link.
    Auto-neg error, defaulting to 10BT/HD
    eTSEC2: No link.
    =>

    With this patch applied the same operation as above resulted in:
    => dhcp
    Waiting for PHY auto negotiation to complete. done
    Enet starting in 1000BT/FD
    Speed: 1000, full duplex

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 477fa6378fbd3e47a5e2e83d0dd3970d5b1c8371
Author: Simon Kagstrom <simon.kagstrom@netinsight.net>
Date:	Thu Aug 20 10:14:11 2009 +0200

    arm: kirkwood: See to it that sent data is 8-byte aligned

    U-boot might use non-8-byte-aligned addresses for sending data, which
    the kwgbe_send doesn't accept (bootp does this for me). This patch
    copies the data to be sent to a malloced temporary buffer if it is
    non-aligned.

    Signed-off-by: Simon Kagstrom <simon.kagstrom@netinsight.net>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit cad713bf7548b9e90433dac8270165402a6c9cc3
Author: Simon Kagstrom <simon.kagstrom@netinsight.net>
Date:	Thu Aug 20 10:13:06 2009 +0200

    Wait for the link to come up on kirkwood network init

    This patch makes the device wait for up to 5 seconds for the link to
    come up, similar to what many of the other network drivers do. This
    avoids confusing situations where, e.g., a tftp fails when initiated
    early after U-boot has started (before the link has come up).

    Signed-off-by: Simon Kagstrom <simon.kagstrom@netinsight.net>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit bb1ca3b27f7fba8c73cb10279a6a8b8b69a308ff
Author: Simon Kagstrom <simon.kagstrom@netinsight.net>
Date:	Thu Aug 20 10:12:28 2009 +0200

    arm:kirkwood Define kirkwood phy address magic number

    Signed-off-by: Simon Kagstrom <simon.kagstrom@netinsight.net>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit f81ecb5d3300bf92d17302d3712f30585c182da9
Author: Timur Tabi <timur@freescale.com>
Date:	Mon Aug 17 15:55:38 2009 -0500

    e1000: fix PCI memory addressing

    The Intel E1000 driver was making assumptions about the relationship between
    some virtual, physical, and PCI addresses.

    Also fix some bad usage of the DEBUGOUT macro

    Signed-off-by: Timur Tabi <timur@freescale.com>
    Acked-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit b644006e1a7baa227aedc606ecdf0bb5eeb24cab
Author: Ilya Yanok <yanok@emcraft.com>
Date:	Wed Aug 12 16:42:48 2009 +0400

    jffs2: clean the cache in case of malloc fails in build_lists

    We should call jffs2_clean_cache() if we return from jffs2_build_lists()
    with an error to prevent usage of incomplete lists. Also we should
    free() a local buffer to prevent memory leaks.

    Signed-off-by: Ilya Yanok <yanok@emcraft.com>

commit 7ff66bb0be80cadd681be22a72e5eb02ee14c878
Author: Heiko Schocher <hs@denx.de>
Date:	Wed Aug 12 10:17:03 2009 +0200

    ppc: trigger WDT before starting Linux

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 918319c705d8a3d6251919a660baef32ff3a829a
Author: Albin Tonnerre <albin.tonnerre@free-electrons.com>
Date:	Wed Jul 22 18:30:03 2009 +0200

    Update the mtd driver name in bootargs for at91-based boards

    The name of the atmel nand driver in the kernel changed from at91_nand
    to atmel_nand back in June 2008, but the at91-based boards config files
    still refer to at91_nand. This patch updates them with the new name

    Signed-off-by: Albin Tonnerre <albin.tonnerre@free-electrons.com>

commit 8fa656aa5289815d942ebdc26182ccb9f2b9c86f
Author: Ben Goska <goskab@onid.oregonstate.edu>
Date:	Fri Aug 14 10:03:36 2009 -0700

    omap3: Fixed a problem with hwecc

    In commit 187af954cf7958c24efcf0fd62289bbdb4f1f24e there
    was a typo that offset all the ecc registers by 4 bytes, fixed that.

    Signed-off-by: Ben Goska <goskab@onid.oregonstate.edu>
    Acked-by: Dirk Behme <dirk.behme@googlemail.com>

commit 514bab6609acd1a2a19fdd75c2f6255178db7c96
Author: Stefan Roese <sr@denx.de>
Date:	Mon Aug 17 16:57:53 2009 +0200

    ppc4xx: Fix "chip_config" command for AMCC Arches

    This patch fixes the "chip_config" command for I2C bootstrap EEPROM
    configuration. First it changes the I2C bootstrap EEPROM address to
    0x54 as this is used on Arches (instead of 0x52 on Canyonlands/
    Glacier). Additionally, the NAND bootstrap settings are removed
    for Arches since Arches doesn't support NAND-booting.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 4af34177b657e91263919a307fd0b0865a299e52
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Aug 16 23:40:13 2009 +0200

    Monahans: avoid floating point calculations

    Current code for the Monahans CPU defined OSCR_CLK_FREQ as 3.250 (MHz)
    which caused floating point operations to be used. This resulted in
    unresolved references to some FP related libgcc functions when using
    U-Boot's private libgcc functions.

    Change the code to use fixed point math only.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit e393e2e9bc5cd3d5484e193d1380e7cd7587ab5c
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Aug 14 16:43:22 2009 -0500

    85xx: Fix addrmap to include memory

    When we init the addrmap based on the TLB we will not end up getting
    the TLB that covers memory if we are using SPD.  The reason is we
    haven't relocated at the point that we setup the memory TLB and thus it
    will not get setup in the addrmap.

    Instead we can just walk over the TLB array after we've relocated and
    see all the TLBs that have been set and use that information to populate
    the initial addrmap.  By doing this we insure that we get the TLB
    entries that cover memory.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 7dedefdf749ff02c1086f7ddb8cb83a77b00d030
Author: John Schmoller <jschmoller@xes-inc.com>
Date:	Wed Aug 12 10:55:47 2009 -0500

    flash: Fix CFI buffer size bug

    Fix bug introduced by 9c048b523413ae5f3ff34e00cf57569c3368ab51.

    The cfi_flash.c driver cast the flash buffer size to a uchar in
    flash_write_cfibuffer(). On some flash parts, (tested on Numonyx
    part PC32F512M29EWH), the buffer size is 1KB. Remove the cast to
    uchar to enable buffer sizes to be larger.

    Signed-off-by: John Schmoller <jschmoller@xes-inc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit f6e3a1fa92f61083885178101e973c86b419a6f7
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Aug 13 00:32:14 2009 -0400

    trab: rename spi_init()

    The local board-specific spi_init() function conflicts with the common SPI
    layer, so rename it to something board-specific.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 253cb831f5861358a7fa673305cdf7ded1096f44
Author: Giuseppe CONDORELLI <giuseppe.condorelli@st.com>
Date:	Wed Jul 29 06:05:20 2009 -0400

    zlib: add watchdog reset call

    This patch adds watchdog reset call to allow its invokation during decompression
    phase. This control was present on old zlib version and here it is
    backported for those relevant routines. This patch is sent as a zlib separate
    one beacuse it was not tested due to specific board lack.
    zlib patches will be unified just in one when this will be validated through
    tests.

    Signed-off-by: Giuseppe Condorelli <giuseppe.condorelli@st.com>

commit dce3d797102b6618e8bdd4a09cfd35969f165d86
Author: Giuseppe CONDORELLI <giuseppe.condorelli@st.com>
Date:	Wed Jul 29 08:05:08 2009 -0400

    zlib: updated to v.1.2.3

    This patch updates zlib to the latest stable version.
    Only relevant zlib parts were ported to u-boot tree, as already did for the
    current zlib (0.95). New zlib guarantees a faster inflate performances
    other then others improvements as explained at www.zlib.net.
    It also includes Alessandro Rubini's patches to allow 0 as destination pointer
    and to call watchdog reset if required by architecture.

    Signed-off-by: Giuseppe Condorelli <giuseppe.condorelli@st.com>
    Reviewed-by: Angelo Castello <angelo.castello@st.com>
    Reviewed-by: Alessandro Rubini <rubini-list@gnudd.com>

commit 3426d65daab6af483b177ed502038f52ed2e5aef
Author: Heiko Schocher <hs@denx.de>
Date:	Tue Aug 11 10:37:58 2009 +0200

    dtt, lm81: move unneccessary printf into a debug printf

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 54e399f110bbaa24e662e6dd9e88ddb86989d668
Author: Mark Jackson <mpfj-list@mimc.co.uk>
Date:	Tue Aug 11 11:33:47 2009 +0100

    MIMC200: reduce LCD pixclock

    The initial pixclock for the MIMC200 board is wrong (and causes
    screen corruption due to DMA underruns).

    This patch simply reduces the pixel clock to fix the problem.

    Signed-off-by: Mark Jackson <mpfj@mimc.co.uk>

commit 1443cd7e54d6893ab7cc51d93fe7759cdaa8b31f
Author: Richard Retanubun <RichardRetanubun@RuggedCom.com>
Date:	Wed Jul 1 14:04:05 2009 -0400

    UEC FIXED PHY: Determine fixed-phy port using UEC interface name.

    Fixed a misunderstanding in the original implementation, 'devnum' that
    was used in the cpu/ppc4xx/4xx_enet.c implementation was NOT the
    PHY's SMI address, rather it was the number of the MAC interface on
    the CPU. The equivalent of this for uec_phy will be the UEC number
    stored in mii_info->dev->name. Usage example is updated for uec.

    Signed-off-by: Richard Retanubun <RichardRetanubun@RuggedCom.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 1a9519373b977ef3f7c9563ad3acb6c6f2424657
Author: Richard Retanubun <RichardRetanubun@RuggedCom.com>
Date:	Wed Jul 1 14:03:15 2009 -0400

    Assigned a static SMI address to all UECs TBIPA address.

    It is set to 0x1F by default and can be overwritten on the board
    header file by defining CONFIG_UTBIPAR_INIT_TBIPA. This allows
    the CPU to simply "reserve" one SMI address instead of using
    a different one for each UEC.

    Signed-off-by: Richard Retanubun <RichardRetanubun@RuggedCom.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 9fd38a01cbc0ce4a8db41f72677103ed04b23db5
Author: Prafulla Wadaskar <prafulla@marvell.com>
Date:	Mon Aug 10 19:43:06 2009 +0530

    net: kirkwood: updates: used eth_setenv_enetaddr api

    eth_setenv_enetaddr is avaible by upper layer
    using this saves 204 bytes on total image size

    used Local OUI instead of Marvell OUI for
    random MAC address generation logic

    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit ecbd2078a1f56c85b6c56afaaed862bf92ccd3f3
Author: Roy Zang <tie-fei.zang@freescale.com>
Date:	Tue Aug 11 03:48:05 2009 +0800

    Fix E1000 build warning on AP1000 board

     Fix E1000 build warning on AP1000 board
     Fix the build warning on AP1000 board:
     e1000.c:131: warning: 'e1000_read_eeprom' used but never defined
     e1000.c:2012: warning: 'e1000_set_phy_mode' defined but not used

    Signed-off-by: Roy Zang <tie-fei.zang@freescale.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit b3af1d698b031e721bacaee8715d79daaf823de6
Author: Sandeep Paulraj <s-paulraj@ti.com>
Date:	Mon Aug 10 12:24:40 2009 -0400

    ARM: Davinci DM355: Enabling DM9000 on DM355 EVM

    Due to recent changes to the NET support on U-boot, DM9000
    is no longer detected on the DM355 EVM.
    This minor update enables DM9000 on the DM355 EVM.
    Tested on the DM355 EVM

    Signed-off-by: Sandeep Paulraj <s-paulraj@ti.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 08c2df33f1cd5935938486e968696f94ad406313
Author: Prafulla Wadaskar <prafulla@marvell.com>
Date:	Mon Aug 10 19:23:19 2009 +0530

    net: phy: bugfixes: mv88E61xx compiler warnings fixed

    1. mv88E61xx driver compiler warnings fixed
    2. idstr if-else statements changed to switch() construct
       and added default case too.
       This fixed idstr may be uninitialized warning

    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 750326e5d540885e3ec36bda9464b8269249f6ce
Author: Po-Yu Chuang <ratbert@faraday-tech.com>
Date:	Mon Aug 10 11:00:00 2009 +0800

    arm: A320: driver for FTMAC100 ethernet controller

    This patch adds an FTMAC100 ethernet driver for Faraday A320 evaluation board.

    Signed-off-by: Po-Yu Chuang <ratbert@faraday-tech.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit f90dc43fd67eea71124b999a7d5e617d0d86795b
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Aug 10 16:40:55 2009 -0500

    85xx: Removed BEDBUG support from FSL 85xx boards

    For some reason the MPC8544 enabled BEDBUG if PCI was enabled and that
    got copied int the MPC8536, MPC8572 and P2020 DS boards.  The BEDBUG
    support has never been made to work completely on e500/85xx so we
    just disable it to save space and match the other FSL 85xx boards.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit eb1a4d0a471505c169bef19a73a60f8641f0b875
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Aug 10 10:39:12 2009 +0200

    Prepare 2009.08-rc2

    Update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 53cc18c71b2b920cca171874c6663e274fa80556
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Aug 10 10:38:34 2009 +0200

    Minor coding style cleanup.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit d371708a1beda0f529756e614af785b30461379e
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Aug 10 09:59:10 2009 +0200

    net/tftp.c: fix warning: pointer targets differ in signedness

    tftp.c:294: warning: pointer targets in passing argument 1 of 'strlen'
    differ in signedness

    This was only visible for the utx8245 board which seems to have DEBUG
    enabled.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 3ed9e943fdfe51174b23989d48563b8c1b7d2ea8
Author: Dirk Behme <dirk.behme@googlemail.com>
Date:	Sat Aug 8 16:06:47 2009 +0200

    ARM Cortex A8: Remove bogus config.mk entries

    Remove bogus config.mk entry, fix newline and remove redundant
    omap3/config.mk

    Signed-off-by: Dirk Behme <dirk.behme@googlemail.com>

commit cd3dcba1422d3441503251fbc69cf2437c440781
Author: Dirk Behme <dirk.behme@googlemail.com>
Date:	Sat Aug 8 12:46:09 2009 +0200

    OMAP3: Fix missing GPMC_CONFIG_CS0_BASE

    Applying two indepenent OMAP3 patches resulted in missing
    GPMC_CONFIG_CS0_BASE. Patch "omap3: embedd gpmc_cs into gpmc
    config struct" removes GPMC_CONFIG_CS0_BASE, independent patch
    "omap3: bug fix for NOR boot support" introduces it's usage.
    Re-introduce GPMC_CONFIG_CS0_BASE.

    Signed-off-by: Dirk Behme <dirk.behme@googlemail.com>

commit ba3dbaf281130029ecb970a922551902c1d80b50
Author: Ilya Yanok <yanok@emcraft.com>
Date:	Mon Jun 8 04:12:49 2009 +0400

    mxc-mmc: sdhc host driver for MX2 and MX3 proccessor

    This is a port of Linux driver for SDHC host controller hardware
    found on Freescale's MX2 and MX3 processors. Uses new generic MMC
    framework (CONFIG_GENERIC_MMC) and it looks like there are some
    problems with a framework (at least on LE cpus). Some of these
    problems are addressed in the following patches.

    Signed-off-by: Ilya Yanok <yanok@emcraft.com>

commit 642d7b63c343633dcafc4e23a20e32604a05ff13
Author: Alessandro Rubini <rubini-list@gnudd.com>
Date:	Fri Aug 7 12:35:47 2009 +0200

    kirkwood/gpio.h: remove duplicate definition

    Signed-off-by: Alessandro Rubini <rubini@gnudd.com>

commit 3ac374c0f0b7d856f1a43317a286f2079106bd6a
Author: Albin Tonnerre <albin.tonnerre@free-electrons.com>
Date:	Fri Aug 7 12:37:36 2009 +0200

    Add driver for the ST M95xxx SPI EEPROM

    This chip is used in a number of boards manufactured by Calao-Systems
    which should be supported soon. This driver provides the necessary
    spi_read and spi_write functions necessary to communicate with the chip.

    Signed-off-by: Albin Tonnerre <albin.tonnerre@free-electrons.com>

commit 30951960bae9a2c33e324a7165962a082e913f9e
Author: Prafulla Wadaskar <prafulla@marvell.com>
Date:	Fri Aug 7 22:27:32 2009 +0530

    arm: Sheevaplug: Fixed NAND specific warning

    It is recommended to define the macro CONFIG_SYS_64BIT_VSPRINTF
    for NAND specific warning removal, same is done in this patch

    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>

commit 317734966e763fdee183898c0ed940c9bada2541
Author: Josh Boyer <jwboyer@linux.vnet.ibm.com>
Date:	Fri Aug 7 13:53:20 2009 -0400

    Dual-license IBM code contributions

    It was brought to our attention that U-Boot contains code derived from the
    IBM OpenBIOS source code originally provided with some of the older PowerPC
    4xx development boards.  As a result, the original license of this code has
    been carried in the various files for a number of years in the U-Boot project.

    IBM is dual-licensing the IBM code contributions already present in U-Boot
    under either the terms of the GNU General Public License version 2, or the
    original code license already present.

    Signed-off-by: Josh Boyer <jwboyer@linux.vnet.ibm.com>

commit cfd700be9f5ed289fd57a9bd61e266319badcb0d
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Aug 5 09:03:54 2009 -0500

    fdt: Fix fdt_pci_dma_ranges handling of 64-bit ranges

    If the size of a region equal to 4G it can't be represnted in a 32-bit
    BAR so we should have marked that case as MEM64.

    Additionally bump the number of inbound windows up to 4 to handle the
    fact that Freescale PPCs that have an implicit window for CCSRBAR.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 59b4d7471c42e955bd9846892a0cc7478171778d
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Aug 6 21:29:59 2009 +0200

    ARM EABI: add new helper functions resp. function names

    The ARM EABI defines new names for GCC helper functions,
    and GCC seems to need some new functions as well.

    This patch is a minimal-invasive approach to fix problems with EABI
    conformant tool chains (to be used with "USE_PRIVATE_LIBGCC=yes").

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Tested-by: Dirk Behme <dirk.behme@googlemail.com>

commit 197324d7d998a791e5137b8176981b4af25220ae
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Wed Aug 5 16:18:44 2009 -0500

    hush: Fix bogus free() call

    An off-by-one error in hush.c resulted in an unintentional free() call
    every time a command was executed

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit ff27650bb255e2275a212357b78c3b77cbf1d2e9
Author: Detlev Zundel <dzu@denx.de>
Date:	Wed Aug 5 18:37:45 2009 +0200

    digsy_mtc: Update default environment

    Signed-off-by: Detlev Zundel <dzu@denx.de>

commit 0b40bd439a33bde9e3cccf1acb5744225d0c6103
Author: Detlev Zundel <dzu@denx.de>
Date:	Wed Aug 5 18:37:44 2009 +0200

    digsy_mtc: Add delay in SPI transfers to the companion controller.

    While at it, remove initialization of variables which will be set
    before usage in all cases.

    Signed-off-by: Detlev Zundel <dzu@denx.de>

commit 0bf00750e082a004e5fb058925622ae72890cc56
Author: Anatolij Gustschin <agust@denx.de>
Date:	Wed Aug 5 18:37:43 2009 +0200

    digsy_mtc: minor fixes for mtc command help

    Add mtc state subcommand description to the
    help of mtc command.

    Remove some newlines in description of commands
    for proper help formating.

    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit 5cc69084189bf49aa99d13d57515be72d1844bdf
Author: Grzegorz Bernacki <gjb@semihalf.com>
Date:	Wed Aug 5 18:37:42 2009 +0200

    digsy_mtc: Add mtc state command.

    Signed-off-by: Grzegorz Bernacki <gjb@semihalf.com>

commit 716655288a53c95fad203ebf21d0b8ffdc2f7525
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Jul 28 22:35:39 2009 +0200

    Partition support: remove newline from partition name

    Remove bogus newline character that got added to the .name field of
    the disk_partition_t structure.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 3f1649fb0dfb1e5c8890de154c332c394db5cdb5
Author: Luigi 'Comio' Mantellini <luigi.mantellini@idf-hit.com>
Date:	Tue Jul 28 09:33:17 2009 +0200

    Fix LZMA string.h header inclusion issue and remove unused variables.

    Signed-off-by: Luigi 'Comio' Mantellini <luigi.mantellini@idf-hit.com>

commit 1c6232f1e2eae87e0e36d489611eb6891dff21e1
Author: Jens Scharsig <esw@bus-elektronik.de>
Date:	Mon Jul 27 15:28:42 2009 +0200

    bus_vcxk.c: fix warning: unused variable 'lineptr'

    Signed-off-by: Jens Scharsig <esw@bus-elektronik.de>

commit 18304f7675e84252965b4e24cba279071f1da472
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Fri Jul 24 17:51:27 2009 -0400

    env: kill off default_environment_size

    The only environment type that uses this variable is spi flash, and that is
    only because it is reimplementing the common set_default_env() function.
    So fix the spi flash code and kill off the default_environment_size in the
    process.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit bedd8403f77f790e9876578885eab1200ba2f8d8
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Jul 23 16:37:48 2009 -0400

    export SPI functions to standalone apps

    While we're here, fix the broken #ifdef handling in _exports.h.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 3b9043a7c03290c9bdbef03848307263f5f3472c
Author: Penda Naveen Kumar <pnaveen@ti.com>
Date:	Fri Jul 31 00:06:36 2009 +0530

    omap3: bug fix for NOR boot support

    This patch provides bug fix, when omap3 uses nor boot.

    Signed-off-by: Penda Naveen Kumar<pnaveen@ti.com>
    Acked-by: Dirk Behme <dirk.behme@googlemail.com>

commit 61c68ae0b43bb5d6ab32958c45289aa197b1a2d1
Author: Michael Evans <horse_dung@hotmail.com>
Date:	Mon Jul 13 20:13:45 2009 +0100

    Fix examples for OMAP3 boards...

    The attached patch corrects an error in the examples/Makefile which
    causes the applications in the examples directory to hang on OMAP3
    based boards. The current Makefile sets -Ttext during linking to
    0x0c100000 which is outside of addressable SDRAM memory. The script
    corrects the existing ifeq...else...endif logic to look at the VENDOR
    tag rather than the CPU tag.

    The patch affects the following configs: omap3_beagle_config,
    omap3_overo_config, omap3_evm_config, omap3_pandora_config,
    omap3_zoom1_config and omap3_zoom2_config.

    Signed-off-by: Michael Evans <horse_dung@hotmail.com>

    Edited commit message.
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit a3d1421dfd0bb1a729e171f8a093ac837f92cec6
Author: Dirk Behme <dirk.behme@googlemail.com>
Date:	Sat Aug 8 09:30:23 2009 +0200

    omap3: use only fixed-size types inside ctrl_structs

    replace variable types in ctrl_structs for omap3 by those with
    fixed size (u8, u16, u32).
    Additional ifndef-protection is needed by examples which do not
    compile when including asm/types.h

    Signed-off-by: Matthias Ludwig <mludwig@ultratronik.de>
    Signed-off-by: Dirk Behme <dirk.behme@googlemail.com>

commit 894113529e3a04871544dde977d6d7adee05d3bf
Author: Dirk Behme <dirk.behme@googlemail.com>
Date:	Sat Aug 8 09:30:22 2009 +0200

    omap3: replace all instances of gpmc config struct by one global

    Signed-off-by: Matthias Ludwig <mludwig@ultratronik.de>
    Signed-off-by: Dirk Behme <dirk.behme@googlemail.com>

commit 97a099eaa48d5c762c4f73c52c3090c513b8b877
Author: Dirk Behme <dirk.behme@googlemail.com>
Date:	Sat Aug 8 09:30:21 2009 +0200

    omap3: remove typedefs for configuration structs

    Signed-off-by: Matthias Ludwig <mludwig@ultratronik.de>
    Signed-off-by: Dirk Behme <dirk.behme@googlemail.com>

commit aa0707897c49c330b7d6b8d8362e44f60f224732
Author: Roy Zang <tie-fei.zang@freescale.com>
Date:	Fri Jul 31 13:34:02 2009 +0800

    Add Intel E1000 PCIE card support

    Based on Intel PRO/1000 Network Driver 7.3.20-k2
      Add Intel E1000 PCIE card support. The following cards are added:
      INTEL_82571EB_COPPER
      INTEL_82571EB_FIBER,
      INTEL_82571EB_SERDES
      INTEL_82571EB_QUAD_COPPER
      INTEL_82571PT_QUAD_COPPER
      INTEL_82571EB_QUAD_FIBER
      INTEL_82571EB_QUAD_COPPER_LOWPROFILE
      INTEL_82571EB_SERDES_DUAL
      INTEL_82571EB_SERDES_QUAD
      INTEL_82572EI_COPPER
      INTEL_82572EI_FIBER
      INTEL_82572EI_SERDES
      INTEL_82572EI
      INTEL_82573E
      INTEL_82573E_IAMT
      INTEL_82573L
      INTEL_82546GB_QUAD_COPPER_KSP3
      INTEL_80003ES2LAN_COPPER_DPT
      INTEL_80003ES2LAN_SERDES_DPT
      INTEL_80003ES2LAN_COPPER_SPT
      INTEL_80003ES2LAN_SERDES_SPT

     82571EB_COPPER dual ports,
     82572EI single port,
     82572EI_COPPER single port PCIE cards
     and
     82545EM_COPPER,
     82541GI_LF
     pci cards are tested on both  P2020 board
     and MPC8544DS board.

     Signed-off-by: Roy Zang <tie-fei.zang@freescale.com>

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 86848a74c3c8eb2f8dd179d039ee604dc45288cf
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Jul 15 21:31:28 2009 -0400

    net: sync env ethaddr to device enetaddr in eth_init()

    In the previous enetaddr refactoring, the assumption with commit 56b555a644
    was that the eth layer would handle the env -> device enetaddr syncing.
    This was not the case as eth_initialize() is called only once and the sync
    occurs there.  So make sure the eth_init() function does the env -> device
    sync with every network init.

    Reported-by: Andrzej Wolski <awolski@poczta.fm>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 0ebf04c607b54a352629dcf7e76b76f1785dae54
Author: Robin Getz <rgetz@blackfin.uclinux.org>
Date:	Thu Jul 23 03:01:03 2009 -0400

    minor debug cleanups in ./net

     Minor ./net cleanups - no functional changes
      - change #ifdef DEBUG printf(); #endif to just debug()
      - changed __FUNCTION__ to __func__
      - got rid of extra whitespace between function and opening brace
      - removed unnecessary braces on if statements

     gcc dead code elimination should make this functionally/size equivalent
     when DEBUG is not defined. (confirmed on Blackfin, with gcc 4.3.3).

     Signed-off-by: Robin Getz <rgetz@blackfin.uclinux.org>

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 187af954cf7958c24efcf0fd62289bbdb4f1f24e
Author: Matthias Ludwig <mludwig@ultratronik.de>
Date:	Tue May 19 09:09:31 2009 +0200

    omap3: embedd gpmc_cs into gpmc config struct

    Embedd chip select configuration into struct for gpmc config
    instead of having it completely separated as suggested by
    Wolfgang Denk on
    http://lists.denx.de/pipermail/u-boot/2009-May/052247.html

    Signed-off-by: Matthias Ludwig <mludwig@ultratronik.de>

commit 06bffc6ea52d4b390843d295d438b2037d12e5fd
Author: David Brownell <david-b@pacbell.net>
Date:	Thu Jul 16 18:40:55 2009 -0700

    rm9200 lowevel_init: don't touch reserved/readonly registers

    For some reason the AT91rm9200 lowlevel init writes to a bunch of
    reserved or read-only addresses.  All the boards seem to define the
    value-to-be-written values as zero ... but they shouldn't actually
    be writing *anything* there.

    No documented erratum justifies these accesses.  It looks like maybe
    some pre-release BDI-2000 setup code has been carried along by cargo
    cult programming since at least late 2004 (per GIT history).

    Here's a patch disabling what seems to be bogosity.  Tested on a
    csb337; there were no behavioral changes.

    Signed-off-by: David Brownell <david-b@pacbell.net>

    on RM9200ek
    Tested-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 301b7db88fbdf7d118efb79b371b2527a2c31868
Author: David Hunter <hunterd42@gmail.com>
Date:	Thu Jul 30 14:32:49 2009 -0700

    pxa: Fix typo in GCDR(x)

    Fix a typo in the GCDR(x) macro. It's a good thing no one was using it.

    Signed-off-by: David Hunter <hunterd42@gmail.com>

commit 3c448e648221879ae0e030e94508b4f9f63b7ab8
Author: Eric Benard <eric@eukrea.com>
Date:	Sat Jul 18 23:45:15 2009 +0200

    Add AT91SAM9260 to at91's lowlevel_init.S

    Needed for AT91SAM9260 NOR Boot on Eukrea's CPU9260.

    Signed-off-by: Eric Benard <eric@eukrea.com>

commit 56bdfa961242fc6acaeebc800640a12b28db3899
Author: Dirk Eibach <eibach@gdsys.de>
Date:	Thu Jul 30 09:36:33 2009 +0200

    ppc4xx: Remove check for PPC460EX from CompactCenter

    Signed-off-by: Dirk Eibach <eibach@gdsys.de>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit c3fa4f0c8684c862ecd3fb622fab1e17e44e82e1
Author: Stefan Roese <sr@denx.de>
Date:	Wed Jul 29 08:46:10 2009 +0200

    ppc4xx: Add support for PPC460EX/460GT rev B chip to AMCC Canyonlands

    This patch is based on a diff created by Phong Vo from AMCC.

    Signed-off-by: Phong Vo <pvo@amcc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 89bcc4875007ef6608297dc11e7a0d1fbd9900d2
Author: Stefan Roese <sr@denx.de>
Date:	Wed Jul 29 08:45:27 2009 +0200

    ppc4xx: Add basic support for AMCC PPC460EX/460GT rev B chips

    This patch is based on a diff created by Phong Vo from AMCC.

    Signed-off-by: Phong Vo <pvo@amcc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 82a7edc7ea8f5fe55fed4ff7e127469569e539c4
Author: Stefan Roese <sr@denx.de>
Date:	Tue Jul 28 15:12:04 2009 +0200

    ppc4xx: Canyonlands-NAND-boot: Support 2 Crucial 512MByte SODIMM's

    Some Canyonlands boards are equipped with different SODIMM's. This is no
    problem with the "normal" NOR booting Canyonlands U-Boot, since it
    automatically detects the SODIMM's via SPD data and correctly configures
    them. But the NAND booting version is different. Here we only have 4k
    of image size to completely setup the hardware, including DDR2 setup.
    So we need to use a fixed DDR2 setup here. This doesn't work for different
    SODIMM's right now.

    Currently only this Crucial SODIMM is support:
    CT6464AC667.8FB (dual ranked)

    Now some boards are shipped with this SODIMM:
    CT6464AC667.4FE (single ranked)

    This patch now supports both SODIMM's by configuring first for the dual
    ranked DIMM. A quick shows, if this module is really installed. If this test
    fails, the DDR2 controller is re-configured for the single
    ranked SODIMM.

    Tested with those SODIMM's:

    CT6464AC667.8FB (dual ranked)
    CT6464AC667.4FE (single ranked)

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 27dd5f8e1062684f1ba685760409d9b2ab6691bf
Author: Stefan Roese <sr@denx.de>
Date:	Tue Jul 28 10:56:03 2009 +0200

    ppc4xx: amcc: Move "kernel_addr_r" etc to higher locations (> 16MB)

    This patch moves the load addresses for kernel, fdt and ramdisk to higher
    addresses (>= 16MB). This enables booting of bigger kernel images (e.g.
    lockdep enabled).

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 6942efc2be1b90054fa4afa5cda7023469fe08b9
Author: Stefan Roese <sr@denx.de>
Date:	Tue Jul 28 10:50:32 2009 +0200

    ppc4xx: amcc: Set CONFIG_SYS_BOOTMAPSZ to 16MB for big kernels

    This patch changes CONFIG_SYS_BOOTMAPSZ from 8MB to 16MB which is the
    initial TLB on 40x PPC's in the Linux kernel. With this change even bigger
    Linux kernels (> 8MB) can be booted.

    This patch also sets CONFIG_SYS_BOOTM_LEN to 16MB (default 8MB) to enable
    decompression of bigger images.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 901be89a27e11b2627c132ee87c7761bd6886091
Author: Heiko Schocher <hs@denx.de>
Date:	Tue Jul 28 14:53:44 2009 +0200

    83xx, kmeter1, fix: update in the DTS the correct size for the first flash

    When updating the "reg" in the "/localbus/flash@f0000000,0" node
    size was wrong updated for the first flash, because the total
    size was filled in, instead of the right size for it.

    Signed-off-by: Heiko Schocher <hs@denx.de>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 4c2e3da82dc2b7f8b39b7f1d57f570e4bc5caa6d
Author: Kumar Gala <kumar.gala@freescale.com>
Date:	Tue Jul 28 21:49:52 2009 -0500

    Update Freescale copyrights to remove "All Rights Reserved"

    "All Rights Reserved" conflicts with the GPL.

    Signed-off-by: Kumar Gala <kumar.gala@freescale.com>

commit bb4291e62579dbc611e84eaaf973631e0bf129c7
Author: Alessandro Rubini <rubini@unipv.it>
Date:	Fri Jul 24 11:27:14 2009 +0200

    arm nomadik: add i2c

    Signed-off-by: Alessandro Rubini <rubini@unipv.it>
    Acked-by: Andrea Gallo <andrea.gallo@stericsson.com>
    Acked-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 60cbfbfd0fbebb4682f10ba96f622bfe17317598
Author: Alessandro Rubini <rubini@unipv.it>
Date:	Fri Jul 24 11:27:03 2009 +0200

    arm nomadik: add gpio support

    Signed-off-by: Alessandro Rubini <rubini@unipv.it>
    Acked-by: Andrea Gallo <andrea.gallo@stericsson.com>
    Acked-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 549b98306d897ae5991362d6096a36df50efe686
Author: Tom Rix <Tom.Rix@windriver.com>
Date:	Sun Jun 28 12:52:32 2009 -0500

    OMAP3 Remove twl4030 defines

    These defines have been subplanted by the equivelent defines in
    include/twl4030.h

    Signed-off-by: Tom Rix <Tom.Rix@windriver.com>
    Acked-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Acked-by: Heiko Schocher <hs@denx.de>

commit fccc0fcaaae5154612f8259365d26d04f204859f
Author: Tom Rix <Tom.Rix@windriver.com>
Date:	Sun Jun 28 12:52:31 2009 -0500

    OMAP3 Move twl4030 mmc function

    Because twl4030 now has its own device files, move and rename
    twl4030_mmc_config.

    twl4030_mmc_config initializes the twl4030 power setting to
    the mmc device.  Because it is in the twl4030 power domain, move
    it out of drivers/mmc/omap3_mmc.c and into drivers/power/twl4030.c.

    The function was renamed to twl4030_power_mmc_init because all
    the functions in this file are to have the format

    twl4030_power_<device>_<action>

    In this case the suffix is mmc_init so
    device : mmc
    action : init

    Signed-off-by: Tom Rix <Tom.Rix@windriver.com>
    Acked-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Acked-by: Heiko Schocher <hs@denx.de>

commit 2c15513010493435c78f83202940ac3be11de2c3
Author: Tom Rix <Tom.Rix@windriver.com>
Date:	Sun Jun 28 12:52:30 2009 -0500

    OMAP3 Move twl4030 power and led functions

    Because twl4030 now has its own device files, move exiting
    omap3 power_init_r to a new location.

    power_init_r is the only function in board/omap3/common.
    It initializes the twl4030 power for the board and enables
    the led.

    The power part of the the function is moved to twl4030_power_init in
    drivers/power/twl4030.c The power compilation is conditional on the
    existing config variable CONFIG_TWL4030_POWER.

    The led part is moved to twl4030_led_init in the new file
    drivers/misc/twl4030_led.c	The led compilation is conditional on
    the new config variable CONFIG_TWL4030_LED

    The directory board/omap3/common was removed because power_init_r
    was the only function in it.

    Signed-off-by: Tom Rix <Tom.Rix@windriver.com>
    Acked-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Acked-by: Heiko Schocher <hs@denx.de>

commit 3cb7a4805fc8fb4c09e4801e1c7d531186f20190
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Jul 28 22:13:52 2009 +0200

    TQM8xx* boards: set larger SMC Rx buffer len

    Commit 2b3f12c2 added support for configurable SMC Rx buffer length on
    8xx systems. Enable this feature on TQM8xx* based boards.

    This fixes the problem that pasting text in the middle of a line
    (i. e. inserting in edit mode) did not work - only the first two
    characters got inserted, the rest was lost.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 4b7511478b62a539e5b066d19a986b75e5d9a527
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Jul 28 22:07:37 2009 +0200

    Fix ext2load return code

    Make the ext2load command return 0 on success (instead of the file
    length).

    Also fix output format (get rid of random newlines) and some coding
    style issues (long lines etc.).

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 56fdaadc124a8ef9ec0fd8ff578233ec3b1137be
Author: Weirich, Bernhard <Bernhard.Weirich@riedel.net>
Date:	Wed Jun 10 14:00:37 2009 +0200

    ext2: fix inode size and calculations

    Signed-off-by: unsik Kim <donari75@gmail.com>
    Signed-off-by: Bernhard Weirich <bernhard.weirich@riedel.net>
    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Tested-by: Wolfgang Denk <wd@denx.de>

commit cd7826359ee71e8f6f3d68331930ab9cbe1c990e
Author: Tom Rix <Tom.Rix@windriver.com>
Date:	Sun Jun 28 12:52:29 2009 -0500

    TWL4030 Add power reset button

    The Zoom2 power reset button is on the top right side of the
    main board.  Press and hold for about to 8 seconds to completely
    reset the board.

    Some of the beta boards have a hardware problem that prevents
    using this feature.  If is difficult to further characterize the
    boards that fail.  So disable resetting for all beta boards.

    The Zoom1 reset button is the red circle on the top right,
    front of the board.  Press and hold the button for 8 seconds to
    completely reset the board.

    After analyzing beagle, it was determined that other boards
    that use the twl4030 for power managment can also make use
    this function.

    The resetting is done by the power management part of the twl4030.
    Since there is no existing drivers/power, add one.

    The compilation of power/twl4030.h is controlled by the config
    variable CONFIG_TWL4030_POWER

    Signed-off-by: Tom Rix <Tom.Rix@windriver.com>
    Acked-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Acked-by: Heiko Schocher <hs@denx.de>

commit 8966eb4c1c2d894b2a76174ba904c26c5af815b8
Author: Tom Rix <Tom.Rix@windriver.com>
Date:	Sun Jun 28 12:52:28 2009 -0500

    TWL4030 Add initial support

    The TWL4030 supplies many peripherals for OMAP3 boards. These include
    power management, usb and, keyboard.

    The product description is found here:

    http://focus.ti.com/docs/prod/folders/print/tps65950.html

    Product reference document, tps65950.pdf, is found here:

    http://www.ti.com/lit/gpn/tps65950

    Signed-off-by: Tom Rix <Tom.Rix@windriver.com>
    Acked-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Acked-by: Heiko Schocher <hs@denx.de>

commit 7f79dfb48b7419d5caa1cf932fcff4e2fb7040af
Author: Tom Rix <Tom.Rix@windriver.com>
Date:	Sun Jun 28 12:52:27 2009 -0500

    OMAP I2C Fix the sampling clock.

    This problem is seen on Zoom1 and Zoom2 in the startup and
    when i2c probe is used

    Before :

    In:    serial
    Out:   serial
    Err:   serial
    timed out in wait_for_bb: I2C_STAT=1000
    timed out in wait_for_bb: I2C_STAT=1000
    timed out in wait_for_bb: I2C_STAT=1000
    timed out in wait_for_pin: I2C_STAT=1000
    I2C read: I/O error
    timed out in wait_for_bb: I2C_STAT=1000
    timed out in wait_for_bb: I2C_STAT=1000
    Die ID #327c00020000000004013ddd05026013
    Hit any key to stop autoboot:  0
    OMAP3 Zoom1# i2c probe
    Valid chip addresses:timed out in wait_for_bb: I2C_STAT=1000
     02 03 04 05 06 07 08 09 0A 0B 0C 0D <snip>

    After :

    In:    serial
    Out:   serial
    Err:   serial
    Die ID #327c00020000000004013ddd05026013
    Hit any key to stop autoboot:  0
    OMAP3 Zoom1# i2c probe
    Valid chip addresses: 48 49 4A 4B

    The addresses are for the twl4030.

    The prescalar that converts the function clock to the sampling
    clock is hardcoded to 0.  The reference manual recommends 7
    if the function clock is 96MHz.

    Instead of just changing the hardcoded values, the prescalar
    is calculated from the value I2C_IP_CLK.

    The i2c #defines are in kHz.  The speed passed into the
    i2c init routine is in Hz.	To be consistent, change the
    defines to be in Hz.

    The timing calculations are based on what is done in the
    linux 2.6.30 kernel in drivers/i2c/buses/i2c_omap.c as
    apposed to what is done in TRM.

    The major variables in the timing caculations are
    specified as #defines that can be overriden as required.

    The variables and their defaults are

    I2C_IP_CLK				SYSTEM_CLOCK_96
    I2C_INTERNAL_SAMPLING_CLK		19200000
    I2C_FASTSPEED_SCLL_TRIM			6
    I2C_FASTSPEED_SCLH_TRIM			6
    I2C_HIGHSPEED_PHASE_ONE_SCLL_TRIM	I2C_FASTSPEED_SCLL_TRIM
    I2C_HIGHSPEED_PHASE_ONE_SCLH_TRIM	I2C_FASTSPEED_SCLH_TRIM
    I2C_HIGHSPEED_PHASE_TWO_SCLL_TRIM	I2C_FASTSPEED_SCLL_TRIM
    I2C_HIGHSPEED_PHASE_TWO_SCLH		I2C_FASTSPEED_SCLH_TRIM

    This was runtime verified on Zoom1, Zoom2, Beagle and Overo.
    The 400kHz and 3.4M cases were verifed on test Zoom1,
    Zoom2, Beagle and Overo configurations.

    Testing for omap2 will be done in a second step as Nishanth
    and Jean-Christophe commented.

    Signed-off-by: Tom Rix <Tom.Rix@windriver.com>
    Acked-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Acked-by: Heiko Schocher <hs@denx.de>

commit 4ce5a72851ff2960543b125866c6132e0094e1ee
Author: Heiko Schocher <hs@denx.de>
Date:	Mon Jul 20 09:59:37 2009 +0200

    arm, i2c: added support for the TWSI I2C Interface

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 042d01c72e0ea95731708dd24bb8b6cf42e75c80
Author: Stefan Roese <sr@denx.de>
Date:	Mon Jul 27 09:13:38 2009 +0200

    ppc4xx: Fix problem with NOR range assignment in Canyonlands ft_board_setup

    This patch fixes the problem, that the current fdt board fixup code only
    set's one range, the one for NOR. By this it's overwriting the already
    correctly configured values done in __ft_board_setup(). Just remove this
    now unneeded NOR fixup and all the ranges are correctly defined.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Cc: Dirk Eibach <eibach@gdsys.de>
    Cc: Felix Radensky <felix@embedded-sol.com>

commit 11a1604f8d0a8d936b42f6435d004b4aa33a5d87
Author: Stefan Roese <sr@denx.de>
Date:	Mon Jul 27 07:42:48 2009 +0200

    ppc4xx: Add some NAND-booting bootstrap entries to Kilauea chip_config cmd

    This patch adds some I2C bootstrap setting for NAND booting to the Kilauea
    chip_config command ("533-nand" and "600-nand").

    Additionally some incorrectly indented lines are fixed.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 5b34691ff87821891375b28ec5bcf5154575a735
Author: Stefan Roese <sr@denx.de>
Date:	Mon Jul 27 07:42:37 2009 +0200

    ppc4xx: Kilauea: Fix SDRAM init in NAND booting version

    DDR2 Auto-calibration needs to be disabled on the NAND booting PPC4xx
    targets. Otherwise the configured fixed init values for some DDR2
    controller registers (e.g. RQDC) are not initialized at all resulting
    in a non working SDRAM.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit f3ed3c9b7441cde936d06a1ff7b1490ff0d600e6
Author: Stefan Roese <sr@denx.de>
Date:	Mon Jul 27 10:53:43 2009 +0200

    ppc4xx: Fix Arches DDR2 initialization

    Testing on AMCC Arches with the latest U-Boot version yielded that DDR2
    initialization is currently broken. U-Boot hangs upon relocation to SDRAM
    or crashes with random traps. This patch fixes this problem. Arches now
    uses a different WRDTR and CLKTR default setting than Canyonlands/Glacier.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit ab4c62c1ba788bf7f673a985d99a76d9c2fd7eca
Author: Dirk Eibach <eibach@gdsys.de>
Date:	Mon Jul 27 08:49:48 2009 +0200

    ppc4xx: Add GDsys CompactCenter board support.

    Board support for the Guntermann & Drunck CompactCenter and
    DevCon-Center.
    Based on the AMCC Canyonlands board support by Stefan Roese.

    Signed-off-by: Dirk Eibach <eibach@gdsys.de>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit c2e49f706ba13213f3c8da3a33e88010214e1997
Author: Reinhard Arlt <reinhard.arlt@esd-electronics.com>
Date:	Sat Jul 25 06:19:12 2009 +0200

    mpc83xx: Add esd VME8349 board support

    This patch adds support for the esd VME8349 board equipped with the
    MPC8349. It's a VME PMC carrier board equipped with the Tundra
    TSI148 VME-bridge.

    Signed-off-by: Reinhard Arlt <reinhard.arlt@esd-electronics.com>
    Signed-off-by: Stefan Roese <sr@denx.de>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit fe613cdd4eb2c5b257a60d8dfb7759742318c28a
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Thu Jul 23 17:10:55 2009 -0400

    sbc8349: combine HRCW flash and u-boot image flash

    Up to this point in time, the sbc8349 board was storing the u-boot
    image in flash 2x.	One for the HRCW value at the beginning of
    flash (0xff80_0000), and once close to the end of flash (0xfff8_0000)
    for the actual image that got executed.

    This moves the TEXT_BASE to be the beginning of flash, which makes
    the second copy of the image redundant, and frees up the flash
    from the end of the environment storage to the end of the flash
    device itself.

    Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit be9b56df02168ca97562d6b9ec791136e4cd925a
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Thu Jul 23 14:09:38 2009 -0500

    mpc83xx: CONFIG_83XX_GENERIC_PCI is now synonymous with CONFIG_PCI; remove the former

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 94978e19f31d225b4f7d97c4acbac1ecfaeb8f69
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Jul 27 10:37:37 2009 +0200

    Prepare 2009.08-rc1 (again, after fixing last minute issues).

    Update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 9689ddcca6e01f3637b4442fa8575f29ef4d7aa3
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Jul 27 10:06:39 2009 +0200

    cpu/arm920t/start.S: include <common.h> to have ROUND() defined

    Commit fcd3c87e made include/common.h usable by assembler code but
    failed to update cpu/arm920t/start.S

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit c9ed38cb6de50fdb4aaa60b668c555002903b211
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Jul 27 10:01:11 2009 +0200

    at91cap9adk: fix #ifdef/#endif pairing (2nd try)

    Commit 7024aa14 was supposed to fix the #ifdef/#endif pairing in
    include/configs/at91cap9adk.h, but did not cate all problems.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit fb364bec5f29164d3ee681fcd9d187be8435db12
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Jul 27 09:58:14 2009 +0200

    Fix include/common.h for boards with CONFIG_STATUS_LED

    The reordering of include/common.h by commit fcd3c87e495f3c48 broke
    boards with status LED support, resulting in
	error: #error Status LED configuration missing
    errors. Undo this reordering to avoid this issue.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 942828a0980b3cea7db698784cc7f6a3e7740b2b
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Jul 27 09:19:15 2009 +0200

    ABI: fix build problems due to now needed div64 routine.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 85d6bf0bdc8ccad2d67a9160472f6f8c6bb482fb
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Jul 27 08:50:59 2009 +0200

    PMC405DE: fix out of tree building

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 10c7604d021949464b1e4ba903df95e6b2f0d2ff
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Jul 27 00:24:55 2009 +0200

    Prepare 2009.08-rc1

    Update CHANGELOG, minor coding style fix.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit fafbb2c3e4b35b60ca303ed2ad1c6cf400cd9a22
Author: rhabarber1848@web.de <rhabarber1848@web.de>
Date:	Fri Jul 24 08:16:30 2009 +0200

    add WATCHDOG_RESET to allow LZMA kernel decompression on slow machines

    Signed-off-by: rhabarber1848@web.de

commit 3c972849f2becbf19c13a24f090d293f37ecf616
Author: Niklaus Giger <niklaus.giger@member.fsf.org>
Date:	Thu Jul 23 23:31:58 2009 +0200

    Less verbose output when loading vxworks 6.x images

    Loading vxWorks 5.x images resulted just into 3 or 4 lines of output.
    With vxWorks 6.x and the new GCC it emits about 30 lines, which is
    far too noisy in my opinion.

    Signed-off-by: Niklaus Giger <niklaus.giger@member.fsf.org>

commit fcd3c87e495f3c48b70c919869fb1e0b93d4880b
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Jul 24 00:17:48 2009 +0200

    Make include/common.h usable by assembler code

    Commit 70ebf316 factored out the ROUND() macro into include/common.h,
    not realizing that the primary use of this macro on AT91 systems was
    in start.S where common.h was not included, and could not be included
    because it contains a lot of C code which the assembler doesn't
    understand.

    This patch wraps such code in common.h in a "#ifndef __ASSEMBLY__"
    construct, and then adds an include to cpu/arm926ejs/start.S thus
    solving the problem.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit deec15b3064d3bb0189aede3c2921fd7ee401a0f
Author: Heiko Schocher <heiko.schocher@invitel.hu>
Date:	Thu Jul 23 13:27:04 2009 +0200

    arm: add _lshrdi3.S

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 52b1bf2c5cd2f8af880dab503d0039b35570665b
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Jul 23 13:15:59 2009 +0200

    Make linking against libgcc configurable

    Many (especially ARM) tool chains seem to come with broken or
    otherwise unusable (for the purposes of builing U-Boot) run-time
    support libraries `libgcc.a'. By using the "USE_PRIVATE_LIBGCC"
    setting we allow to use alternative libraries instead.

    "USE_PRIVATE_LIBGCC" can either be set as an environment variable in
    the shell, or as a command line argument when running "make", i. e.
	$ make USE_PRIVATE_LIBGCC=yes
    or
	$ USE_PRIVATE_LIBGCC=yes
	$ export USE_PRIVATE_LIBGCC
	$ make

    The value of "USE_PRIVATE_LIBGCC" is the name of the directory which
    contains the alternative run-time support library `libgcc.a'. The
    special value "yes" selects the directory $(OBJTREE)/lib_$(ARCH) .

    Note that not all architectures provide an alternative `libgcc.a' in
    their lib_$(ARCH) directories - so far, only ARM does.

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Cc: Prafulla Wadaskar <prafulla@marvell.com>
    cc: Stefan Roese <sr@denx.de>

commit 479105065d965121f57b55dcfe83a940cba46ac1
Author: Dirk Behme <dirk.behme@googlemail.com>
Date:	Wed Jul 22 17:51:56 2009 +0200

    Use do_div from div64.h for vsprintf

    Use do_div from div64.h for vsprintf in case of 64bit division.
    For 32bit division, do_div from div64.h can't be used as it
    needs a 64bit parameter.

    Signed-off-by: Dirk Behme <dirk.behme@googlemail.com>
    Acked-by: Stefan Roese <sr@denx.de>
    CC: Simon Kagstrom <simon.kagstrom@netinsight.net>

commit 48287792384a93d77d43aaaa1c06cac275bbe1bb
Author: Kyungmin Park <kmpark@infradead.org>
Date:	Mon Jul 20 09:47:47 2009 +0900

    Fix compiler warnings after loff_t change

    Now 'env_addr' type is loff_t so use correct field type.

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>

commit 9c67352f727a5b5eff531c852f9cff59fcb17f7f
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Jul 26 23:28:02 2009 +0200

    Revert "ppc: Unlock cache-as-ram in a consistent manner"

    This reverts commit 982adfc610669482a32127282fe489857a92cfe3.

    This patch causes problems on MPC83xx boards - flash recognition stops
    working.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 35cf3b57eafe3ee1f693e24267e0ecfefab60251
Author: Jens Scharsig <esw@bus-elektronik.de>
Date:	Fri Jul 24 10:31:48 2009 +0200

    update the EB+MCF-EV123 board support

    This patch updates the support for EB+MCF-EV123 board and needs
    the [PATCH 1/2 V3] new video driver for bus vcxk framebuffers

    * remove the board framebuffer driver
    * use the common bus_vcxk framebuffer driver
    * adds bmp support
    * adds splashimage support
    * fix serveral cosmetical errors

    Signed-off-by: Jens Scharsig <esw@bus-elektronik.de>
    [agust@denx.de: fixed some style issues before applying]
    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit 04538cdb752eeea8fd23cf7ac3394439f189fb77
Author: Anatolij Gustschin <agust@denx.de>
Date:	Sun Jul 26 12:05:25 2009 +0200

    video: bus_vcxk.c: fix style issues added by 50217dee

    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit 50217deeb07911d686790d34d468eb9a5245f68d
Author: Jens Scharsig <esw@bus-elektronik.de>
Date:	Fri Jul 24 10:09:02 2009 +0200

    new video driver for bus vcxk framebuffers

    This patch adds a new video driver

    * adds common bus_vcxk framebuffer driver

    Signed-off-by: Jens Scharsig <esw@bus-elektronik.de>
    [agust@denx.de: fixed lots of style issues before applying]
    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit 60e97419246d0a3615758ad6af40680aefb5f7f1
Author: Alessandro Rubini <rubini@gnudd.com>
Date:	Tue Jul 21 14:09:45 2009 +0200

    lcd.h: define extern vidinfo_t for all cases

    include/lcd.h has different vidinfo for different platforms,
    and several extern declaration, but one for the default case was
    missing. This makes them a single extern declaration for everyone.

    Signed-off-by: Alessandro Rubini <rubini@gnudd.com>

commit bcf0b5248952c6b03081dc5cc4ff9e0b2299c5fa
Author: Anatolij Gustschin <agust@denx.de>
Date:	Sun Jul 26 11:04:59 2009 +0200

    mimc200.c: fix too long lines added by f68378d6

    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit f68378d60a905d43155f2e89bf81999d3c93a90a
Author: Mark Jackson <mpfj-list@mimc.co.uk>
Date:	Tue Jul 21 11:35:22 2009 +0100

    Add LCD support to MIMC200 board

    This patch updates the MIMC200 files to enable the LCD.

    Signed-off-by: Mark Jackson <mpfj@mimc.co.uk>

commit 69f32e6c24d41fcdf347ff64e9c13b25059ace58
Author: Mark Jackson <mpfj-list@mimc.co.uk>
Date:	Tue Jul 21 11:18:44 2009 +0100

    Add 16bit colour support in lcd.h

    This patch adds support for LCD_COLOR16 in include/lcd.h.

    Signed-off-by: Mark Jackson <mpfj@mimc.co.uk>

commit bdc873ea063b8cc6d44c6ab748b7723a97d8d7b3
Author: Anatolij Gustschin <agust@denx.de>
Date:	Sun Jul 26 10:34:58 2009 +0200

    lib_avr32/board.c: fix too long line added by 716ece1d

    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit 716ece1de9a7d43a61d8698ac41b71b64f66f9e9
Author: Mark Jackson <mpfj-list@mimc.co.uk>
Date:	Tue Jul 21 11:11:37 2009 +0100

    Add AVR32 LCD support

    This patch adds support for the AVR32 LCD controller.  This patch is
    based off the latest u-boot-video.

    A quick summary of what's going on:-

    Enable LCDC pixel clock
    Enable LCDC port pins
    Add framebuffer pointer to global_data struct
    Allocate framebuffer

    To use the new code, update your board config to include something like
    this:-

    #define CONFIG_LCD			1

    #if defined(CONFIG_LCD)
    #define CONFIG_CMD_BMP
    #define CONFIG_ATMEL_LCD		1
    #define LCD_BPP				LCD_COLOR16
    #define CONFIG_BMP_16BPP		1
    #define CONFIG_FB_ADDR			0x10600000
    #define CONFIG_WHITE_ON_BLACK		1
    #define CONFIG_VIDEO_BMP_GZIP		1
    #define CONFIG_SYS_VIDEO_LOGO_MAX_SIZE		262144
    #define CONFIG_ATMEL_LCD_BGR555		1
    #define CONFIG_SYS_CONSOLE_IS_IN_ENV	1
    #define CONFIG_SPLASH_SCREEN		1
    #endif

    The standard U-Boot BMP and Splash-screen features should just work.

    Signed-off-by: Mark Jackson <mpfj@mimc.co.uk>
    [agust@denx.de: fixed some style issues]
    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit 6111722a9281c6e04a7304d502556afff6a5a1f8
Author: Alessandro Rubini <rubini@gnudd.com>
Date:	Sun Jul 19 17:52:27 2009 +0200

    video: move extern declarations from C to headers

    This moves some extern declaration from lcd.c to lcd.h, removing
    unneeded ifdef around a pair of them.  Additionally, since
    gunzip_bmp() was declared static in cmd_bmp.c but extern in lcd.c, I
    removed the static.  The extra "#include <lcd.h>" in cmd_bmp.c is
    added to ensure the header is consistent with the source.

    This has been compile-tested on both ARM (at91 boards) and PowerPC
    (HH405_config, TQM823L_LCD_config, mcc200_config), to test all use
    combinations.

    Signed-off-by: Alessandro Rubini <rubini@gnudd.it>
    [agust@denx.de: removed gunzip_bmp() fixes as commit c01171ea did it]
    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit f51e001143c58447eb50e7aefa2b09eb4cc1410c
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Jul 23 16:26:58 2009 -0400

    Blackfin: restore EVT1 handling in linker script

    Sadly, the Blackfin linker script unification lost a small #ifdef logic
    needed on older parts.  Restore that CONFIG_BFIN_BOOTROM_USES_EVT1 logic.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit f33b325af666b12eafa9ab235b2cd59832d6e51c
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Jul 24 14:24:07 2009 +0200

    Revert "zlib: updated to v.1.2.3"

    This reverts commit b201171f2b4d509f3ad510b214bee70ff902e3d6.

    The commit caused problems for example when unpacking kernel images:

	   Uncompressing Kernel Image ... Error: inflate() returned -2
	   GUNZIP: uncompress, out-of-mem or overwrite error - must
	   RESET board to recover

    Conflicts:

	include/u-boot/zlib.h
	lib_generic/zlib.c

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 4b1389e0ceb19e9b50b96fd3908483a6c2274fb0
Author: Stefan Roese <sr@denx.de>
Date:	Tue Jul 21 14:06:29 2009 +0200

    ppc4xx: Add chip_config command to AMCC Kilauea eval board

    This patch removes the "alterpll" command and replaces it with the now
    ppc4xx standard "chip_config" command to configure the I2C bootstrap
    EEPROM.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit f6af8ce0c80327cb6aaa347642026ad838335c23
Author: Stefan Roese <sr@denx.de>
Date:	Tue Jul 21 14:33:52 2009 +0200

    ppc4xx: Fix EEPROM configuration on Kilauea

    Kilauea has an AT24C02 EEPROM which has an 8 byte page. Without defining
    CONFIG_SYS_EEPROM_PAGE_WRITE_BITS to 3 the "eeprom" command doesn't
    work correctly.

    Additionally the page write delay (CONFIG_SYS_EEPROM_PAGE_WRITE_DELAY_MS)
    is set to a more defensive value of 10ms.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 99d8b23bc7e2be04fcbf49c5cec9f5ae76df290c
Author: Matthias Fuchs <matthias.fuchs@esd.eu>
Date:	Wed Jul 22 13:56:21 2009 +0200

    ppc4xx: Add 405EP based PMC405DE board

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd.eu>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit da799f66ad1d4fc36dd20cc2d7e584493fda8546
Author: Matthias Fuchs <matthias.fuchs@esd.eu>
Date:	Mon Jul 20 12:15:38 2009 +0200

    ppc4xx: Add struct for 4xx GPIO controller registers

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd.eu>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 58ea142fb2e969f32306c8da1dabfaebd6fa141a
Author: Matthias Fuchs <matthias.fuchs@esd.eu>
Date:	Wed Jul 22 17:27:56 2009 +0200

    ppc4xx: Replace 4xx lowercase SPR references

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd.eu>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 87c0b72908e05662b8b415e26e1042f4779629da
Author: Stefan Roese <sr@denx.de>
Date:	Mon Jul 20 06:57:27 2009 +0200

    Add "chip_config" command for PPC4xx bootstrap configuration

    This patch adds a generic command for programming I2C bootstrap
    eeproms on PPC4xx. An implementation for Canyonlands board is
    included.

    The command name is intentionally chosen not to be PPC4xx specific.
    This way other CPU's/SoC's can implement a similar command under
    the same name, perhaps with a different syntax.

    Usage on Canyonlands:

    => chip_config
    Available configurations (I2C address 0x52):
    600-nor	     - NOR  CPU: 600 PLB: 200 OPB: 100 EBC: 100
    600-nand	     - NAND CPU: 600 PLB: 200 OPB: 100 EBC: 100
    800-nor	     - NOR  CPU: 800 PLB: 200 OPB: 100 EBC: 100
    800-nand	     - NAND CPU: 800 PLB: 200 OPB: 100 EBC: 100
    1000-nor	     - NOR  CPU:1000 PLB: 200 OPB: 100 EBC: 100
    1000-nand	     - NAND CPU:1000 PLB: 200 OPB: 100 EBC: 100
    1066-nor	     - NOR  CPU:1066 PLB: 266 OPB:  88 EBC:  88 ***
    1066-nand	     - NAND CPU:1066 PLB: 266 OPB:  88 EBC:  88
    => chip_config 600-nor
    Using configuration:
    600-nor	     - NOR  CPU: 600 PLB: 200 OPB: 100 EBC: 100
    done (dump via 'i2c md 52 0.1 10')
    Reset the board for the changes to take effect

    Other 4xx boards will be migrated to use this command soon
    as well.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Signed-off-by: Dirk Eibach <eibach@gdsys.de>
    Acked-by: Matthias Fuchs <matthias.fuchs@esd.eu>

commit 10c1b218556ed9871f36bc0c407f4f2f6196353b
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Jul 17 19:01:16 2009 -0500

    xpedite1k: Move to X-ES vendor directory

    The XPedite1000 is an X-ES product thus it can be put in board/xes along
    with other X-ES boards.  Along with the move, the board was renamed to
    XPedite1000 from XPedite1K to fit X-ES's standard naming convention.
    Maintainership was also transfered to Peter Tyser.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 54381b79d268e1bead5d78ed8423df31a3cb0e2c
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Jul 17 19:01:15 2009 -0500

    xpedite1k: Sync checkboard() with other X-ES boards

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 9b4ef1f5dc0daab64f46249a32e67279c4d44fd2
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Jul 17 19:01:14 2009 -0500

    xpedite1k: Sync up board config options with other X-ES boards

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 4cdad5f43ae67e4ceeac69ef4af4392bd2f7381f
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Jul 17 19:01:13 2009 -0500

    xpedite1k: Sync organization of board config with other X-ES boards

    This change should have no functional effect

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit c4ae1a0257a0f5008ee2686e8aa92fba3992f279
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Jul 17 19:01:12 2009 -0500

    xpedite1k: Sync up commands and environment with other X-ES boards

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit fbc7951ea84c2fe6da0f6007b672ed35bae91acb
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Jul 17 19:01:11 2009 -0500

    xpedite1k: Disable unused ethernet port 1

    The XPedite1000 only has 2 available ethernet ports:
    ppc_4xx_eth2 (EMAC2) and ppc_4xx_eth3 (EMAC3)

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 767e32ad369d83f55f950e6938e68b6dba7fa65f
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Jul 17 19:01:10 2009 -0500

    xpedite1k: Store environment in flash

    Previously an I2C EEPROM was used.	The EEPROM had size, reliability,
    and access issues which are resolved by storing the environment in
    flash.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit b88da157f9990cd2cb081e4faea4b9581b5d0e2f
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Jul 17 19:01:09 2009 -0500

    xpedite1k: Add support for additional GPIO pins

    Enable GPIO pins for an I2C EEPROM write protect, a system reset pin,
    and a PMC #MONARCH pin.  These pins are not currently used in U-Boot,
    but are used in OSes and may be used in U-Boot in the future.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 42735815dd9ba39efe51203868aebce04053c8de
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Jul 17 19:01:08 2009 -0500

    xpedite1k: Add support for optional flashes

    The XPedite1000 can be built with 4 total flashes:
    - 512KB AMD socketed
    - 16MB Intel soldered
    - 2 x 32MB AMD MirrorBit flashes

    Add support for the optional 2 32MB CFI-compliant AMD flashes

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit e02990764c7415c84668823a0fc8c5b4dd8d8cf0
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Jul 17 19:01:07 2009 -0500

    xpedite1k: Cleanup coding style

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 086ff34a3a7e5e595630d658c1c13778399452d1
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Jul 17 19:01:06 2009 -0500

    xpedite1k: Remove support for reading MACs from EEPROM

    By default, the XPedite1000 comes installed with xMon, a proprietary
    bootloader.  xMon stores its MAC address in an onboard EEPROM.  Rather
    than requiring a non-standard location in the EEPROM to be reserved for
    MAC addresses, store the MAC addresses in U-Boot's standard environment.
    A U-Boot application or OS application can be used to migrate xMon MAC
    addresses to U-Boot's environment if necessary.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 108d6d0099372f9f6532c3198fbaacabc121c9b3
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Jul 17 19:01:05 2009 -0500

    xpedite1k: Remove support for fixed SDRAM configuration

    All XPedite1000's have SPD EEPROMs present and no fixed configuration
    parameters are currently defined or used

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit c86d00a2ed923002f1ab0bfb0a925522628302e9
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Jul 17 19:01:04 2009 -0500

    xpedite1k: Remove CONFIG_SYS_DRAM_TEST support

    POST or command line tests provide similar functionality

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 11ad309c183b176d8866944026a63c0f1c626f56
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Jul 17 19:01:03 2009 -0500

    xpedite1k: Use standard CFI flash driver

    Using the CFI flash driver will allow write access to the 16MB Intel
    StrataFlash present on the XPedite1000.  The 512KB socketed (non
    CFI-compliant flash) will no longer be writable.

    The mapping of the 16MB Strata flash was moved to 0xff000000 and the
    512KB AMD socketed flash was moved to 0xfe000000.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit d4d2e79bb433fc7ec18c68cc49cc6b7433d1320c
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Thu Jul 16 22:13:57 2009 +0200

    ppc4xx: Cleanup PLU405 board code

    Some Coding style cleanup (braces, whitespaces, long lines)

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd.eu>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit b209a114829dc8a7a0e39a9335b6e4aebf9742cb
Author: Dirk Eibach <eibach@gdsys.de>
Date:	Fri Jul 17 14:16:40 2009 +0200

    ppc4xx: Add DL-Vision 405EP board support

    Board support for the Guntermann & Drunck DL-Vision.

    Signed-off-by: Dirk Eibach <eibach@gdsys.de>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 9b1b8c8a1bf52e9b65e1958e5205838576066cbc
Author: Dirk Eibach <eibach@gdsys.de>
Date:	Fri Jul 10 14:47:32 2009 +0200

    ppc4xx: Fix missing freqOPB for 405EP

    In cpu/ppc4xx/speed.c initialization of sysInfo->freqOPB for 405EP was
    left out for no obvious reason.

    Signed-off-by: Dirk Eibach <eibach@gdsys.de>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 0a371ca08908c9b2a58171223a79bffea1f7c6f5
Author: Stefan Roese <sr@denx.de>
Date:	Tue Jul 14 15:53:08 2009 +0200

    ppc4xx: Fix TLB reset problem with recent 44x images

    Patch d873133f [ppc4xx: Add Sequoia RAM-booting target] broke "normal"
    booting on some 44x platforms. This breakage is only noticed in some
    cases while powercycling. As it seems, the code in question in start.S
    didn't invalidate TLB #0. This makes sense since this TLB is used for
    the bootrom mapping. With the patch mentioned above even TLB #0 got
    invalidated resulting in an error later on.

    This patch now fixes this issue by only invalidating TLB #0 in the RAM-
    booting case.

    Tested succesfully on Sequoia and Canyonlands.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Cc: Dirk Eibach <Eibach@gdsys.de>

commit 44259bb9e696d22bf1773181111855a29f00cf33
Author: Prafulla Wadaskar <prafulla@marvell.com>
Date:	Fri Jul 17 19:56:30 2009 +0530

    usb: bugfix driver/usb/host/ehci-hcd.c function ehci_submit_root

    This change is cheked in Linux source and fix found to be in sync.
    This patch is tested for USB host interface on Kirkwood based
    Sheevaplug platform (ARM little endian board)

    Risk: the impact of this patch is not validated on big endian board.
    This need to be checked...

    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit 28958b8bea4c66629c5a22fd3c8b0d49df90383d
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Jul 23 22:23:23 2009 +0200

    Coding Style cleanup; update CHANGELOG.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 2632c008e2c2cd61fefb622ed671ea3e6bd2e2a6
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Tue Jul 21 22:59:36 2009 -0400

    autoconf.mk: include before config.mk for top level files

    By including autoconf.mk before config.mk, all top level files can use any
    config options it sets up (like <arch>_config.mk) or the Makefile itself
    without being forced to use lazy evaluation.

commit c01171eaecc963d2c1f56a0984a0cbcdd8a3ab3c
Author: Mark Jackson <mpfj-list@mimc.co.uk>
Date:	Tue Jul 21 11:30:53 2009 +0100

    Remove static declaration from gunzip_bmp()

    This patch removes the static declaration from gunzip_bmp()

    Without it, the gunzip_bmp() function is not visible to
    common/lcd.c and fails to compile with an error.

    Signed-off-by: Mark Jackson <mpfj@mimc.co.uk>

commit 2d4a43e230a3c8bfd03b9beaa0eb2a95e779c03b
Author: Peter Tyser <ptyser@gmail.com>
Date:	Mon Jul 20 21:51:38 2009 -0500

    cmd_tsi148: General cleanup

    - Fix command help message
    - Disable DEBUG by default
    - Fix whitespace issues
    - Fix lines > 80 characters

    Signed-off-by: Peter Tyser <ptyser@gmail.com>
    Acked-by: Stefan Roese <sr@denx.de>

commit 9aef73888509d10193615ee5cd9cf439ca44e937
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Jul 19 15:17:03 2009 -0400

    unify HOST_CFLAGS and HOSTCFLAGS

    The top build system sets up HOSTCFLAGS a bit and exports it, but other
    places use HOST_CFLAGS instead.  Unify the two as HOSTCFLAGS so that the
    values stay in sync.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 2e9393f500065f940e5e4ac7fe375e4c0b77b936
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Jul 23 21:16:59 2009 +0200

    Update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit e3b39f84e974df70065fa248f0f63993b1708c9d
Author: Andr Schwarz <andre.schwarz@matrix-vision.de>
Date:	Fri Jul 17 14:50:24 2009 +0200

    update config for mvBC-P (MPC5200)

    This patch adds I2C support for mvBC-P and defines flash layout
    matching the shipped product.

    Signed-off-by: Andr Schwarz <andre.schwarz@matrix-vision.de>

commit cb6d0b72c2c4f13c0075a7ae92e11682ec94a311
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Jul 13 09:24:00 2009 -0500

    ahci: Fix gcc 4.4 compiler warning

    ahci.c: In function 'ata_scsiop_read_capacity10':
    ahci.c:616: warning: dereferencing type-punned pointer will break strict-aliasing rules

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 51d91e1a253c97713c7f3e5c0b910a4db4979283
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Jul 13 09:23:59 2009 -0500

    drivers/bios_emulator: Fix gcc 4.4 compiler warning

    biosemu.c: In function 'BE_setVGA':
    biosemu.c:147: warning: dereferencing type-punned pointer will break strict-aliasing rules

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit f97ec30bb3c5a4a456159eb2b75b3bc68772bf2a
Author: Detlev Zundel <dzu@denx.de>
Date:	Mon Jul 13 16:01:19 2009 +0200

    Re-add support for image type 'Standalone Program'

    Support for this type was lost during the bootm refactoring.

    Signed-off-by: Detlev Zundel <dzu@denx.de>

commit ca95c9df0280f40e8e4befadbaae21fa67d92331
Author: Detlev Zundel <dzu@denx.de>
Date:	Mon Jul 13 16:01:18 2009 +0200

    Add error checking for unsupported OS types.

    Signed-off-by: Detlev Zundel <dzu@denx.de>

commit 982adfc610669482a32127282fe489857a92cfe3
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Jul 10 18:46:10 2009 -0500

    ppc: Unlock cache-as-ram in a consistent manner

    Previously, non-e500 architectures only unlocked their data cache which
    was used as early RAM when booting to Linux using the "bootm" command.
    This change causes all PPC boards with CONFIG_SYS_INIT_RAM_LOCK defined
    to unlock their data cache during U-Boot's initialization.	This
    improves U-Boot performance and provides a common cache state when
    booting to different OSes.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit b201171f2b4d509f3ad510b214bee70ff902e3d6
Author: Giuseppe CONDORELLI <giuseppe.condorelli@st.com>
Date:	Thu Jul 23 04:54:45 2009 -0400

    zlib: updated to v.1.2.3

    This patch updates zlib to the latest stable version.

    Only relevant zlib parts were ported to u-boot tree, as was done for
    the previously used version of zlib (0.95). New zlib gives faster
    inflate performance and other improvements, see www.zlib.net

    Signed-off-by: Giuseppe Condorelli <giuseppe.condorelli@st.com>
    Reviewed-by: Angelo Castello <angelo.castello@st.com>

    Edited commit message

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 97cfe86163505ea18e7ff7b71e78df5bb03dad57
Author: Robin Getz <rgetz@blackfin.uclinux.org>
Date:	Tue Jul 21 12:15:28 2009 -0400

    Save server's MAC address in environment

    Linux's netconsole works much better when you can pass it the MAC address of
    the server. (otherwise it just uses broadcast, which everyone else on my
    network complains about :)

    This sets the env var "serveraddr" (to match ethaddr), so that you can pass
    it to linux with whatever bootargs you want to....

    addnetconsole=set bootargs $(bootargs) netconsole=@$(ipaddr)/eth0,@$(serverip)/$(serveraddr)

    Signed-of-by: Robin Getz <rgetz@blackfin.uclinux.org>

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 0b23fb368d08c9669fac647971ff249c3f9fee8f
Author: Ilya Yanok <yanok@emcraft.com>
Date:	Tue Jul 21 19:32:21 2009 +0400

    fec_mxc: driver for FEC ethernet controller on i.MX27

    Signed-off-by: Ilya Yanok <yanok@emcraft.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 0544c63681d2ea3607faf374e9c56f101e365b42
Author: Alessio Centazzo <centazzo@gmail.com>
Date:	Sat Jul 11 11:56:06 2009 -0700

    ppc4xx: Fixed compilation warning in 4xx_enet.c

    This patch fixes a compilation warning for some Ethernet PHY-less
    PPC4xx platforms (440SPE based ones) and a potential compilation
    error for 440SP platforms (use of undefined 'ethgroup' variable).
    In the original code and in case of 440SPE platforms, 'ethgroup'
    is initialized to -1 and never modified.  Later in the function,
    within an #ifdef statement, an 'if statement' executes code only
    if 'ethgroup' is set to 4, therefore it is harmless to avoid
    executing the 'if statement' by removing the CONFIG_440SPE from
    the affected #ifdefs.  In case of 440SP platforms  with on-board
    Ethernet PHY, 'ethgroup' is undefined but used (there are not such
    platforms in the repository yet). All other architectures are not
    affected by this change.

    Signed-off-by: Alessio Centazzo acpatin@yahoo.com
    Acked-by: Stefan Roese <sr@denx.de>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 09133f8580f0106429ba3600f1855bd3577ae58b
Author: Michael Zaidman <michael.zaidman@gmail.com>
Date:	Tue Jul 14 23:37:12 2009 +0300

    DHCP regression on 2009-06

    Fixed the DHCP/BOOTP/RARP regression introduced in u-boot-2009.06
    by initializing our IP addr to 0 in order to accept any IP addr
    assigned to us by the DHCP/BOOTP/RARP server.

    Ack-by: Robin Getz <rgetz@blackfin.uclinux.org>
    Signed-off-by: Michael Zaidman <michael.zaidman@gmail.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 443ce4ac9d1138ae5ae6863b2d40a96fd6edf523
Author: Prafulla Wadaskar <prafulla@marvell.com>
Date:	Thu Jul 16 20:58:02 2009 +0530

    net: phy: bugfixes: mv88E61xx multichip addressing support

    With these fixes, this driver works properly for multi chip
    addressging mode

    Bugfixes:
    1. Build error fixed for function mv88e61xx_busychk_multic-fixed
    2. PHY dev address error detection- fixed
    3. wrong busy bit was refered in function mv88e61xx_busychk -fixed
    4. invalid data read ptr was refered for RD_PHY in case of
	multichip addressing mode -fixed

    The Multichip Address mode is tested with RD6281A board having
    MV88E6165 switch on it

    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 16025ea45539219f2a7c750c6f0ae983ea5c2737
Author: Simon Kagstrom <simon.kagstrom@netinsight.net>
Date:	Wed Jul 8 13:05:11 2009 +0200

    arm: Kirkwood: Check the error summary bit for error detection

    The Marvell documentation for the 88f6281 states that the error coding
    is only valid if the error summary and last frame bits in the transmit
    descriptor status field are set. This patch adds checks for these for
    transmit (I would get transmit errors on bootp with the current check,
    which I believe are spurious).

    Signed-off-by: Simon Kagstrom <simon.kagstrom@netinsight.net>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 7b05f5e027b81cd3a9a41c6c6d3fe09c72fa93f6
Author: Simon Kagstrom <simon.kagstrom@netinsight.net>
Date:	Wed Jul 8 13:03:18 2009 +0200

    arm: Kirkwood: Fix compiler optimization bug for kwgbe_send

    kwgbe_send/recv both have loops waiting for the hardware to set  a bit.
    GCC 4.3.3 cleverly optimizes the send case to ... a while(1); loop. This
    patch uses readl to force a read from device memory. Other volatile
    accesses have also been replaced with readl/writel where appropriate
    (as per suggestions on the U-boot mailing list).

    Signed-off-by: Simon Kagstrom <simon.kagstrom@netinsight.net>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 3f6b18ffd94621625de961bc566022b0266790f5
Author: Richard Retanubun <RichardRetanubun@RuggedCom.com>
Date:	Thu Jul 2 13:21:22 2009 -0400

    MIIPHYBB: Return 0xFFFF if the PHY is not asserting TA.

    This patch sets the returned value to 0xFFFF if the PHY does not exist
    and does not assert Transfer Acknowledge. A NULL check for the value
    pointer is also added for buffer overflow protection.

    Without this patch 'mii info' will	show 'phantom' devices because the
    value will be not be initialized and return with some random value.

    Signed-off-by: Richard Retanubun <RichardRetanubun@RuggedCom.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 736fead8fdbf8a8407048bebc373cd551d01ec98
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Mon Jul 20 22:01:11 2009 -0700

    Convert SMC911X Ethernet driver to CONFIG_NET_MULTI API

    All in-tree boards that use this controller have CONFIG_NET_MULTI added
    Also:
     - changed CONFIG_DRIVER_SMC911X* to CONFIG_SMC911X*
     - cleaned up line lengths
     - modified all boards that override weak function in this driver
     - added

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>
    Tested-by: Mike Frysinger <vapier@gentoo.org>

commit 3bd0a877b74b9c005ae7cb892480ccedfa308c20
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Fri Jul 17 00:50:15 2009 -0700

    Add warning about upcoming removal of old Ethernet API

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit b7fe25d2a8d1cede401d09e1f9c84f8fe47bdbb1
Author: Poonam Aggrwal <poonam.aggrwal@freescale.com>
Date:	Thu Jul 2 16:15:13 2009 +0530

    P2020RDB Added support of Vitesse PHYs VSC8641(RGMII) and VSC8221(SGMII)

    These PHYs are on P2020RDB platform.

    Also revamped Freescale copyright message in drivers/net/tsec.c.

    Signed-off-by: Poonam Aggrwal <poonam.aggrwal@freescale.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 1a32bf41881b5dbe3119cb77a33572b4d462cabf
Author: Robin Getz <rgetz@blackfin.uclinux.org>
Date:	Mon Jul 20 14:53:54 2009 -0400

    Add DNS support

    On 04 Oct 2008 Pieter posted a dns implementation for U-Boot.

    http://www.mail-archive.com/u-boot-users@lists.sourceforge.net/msg10216.html
    >
    > DNS can be enabled by setting CFG_CMD_DNS. After performing a query,
    > the serverip environment var is updated.
    >
    > Probably there are some cosmetic issues with the patch. Unfortunatly I
    > do not have the time to correct these. So if anybody else likes DNS
    > support in U-Boot and has the time, feel free to patch it in the main tree.

    Here it is again - slightly modified & smaller:
      - update to 2009-06 (Pieter's patch was for U-Boot 1.2.0)
      - README.dns is added
      - syntax is changed (now takes a third option, the env var to store
	the result in)
      - add a random port() function in net.c
      - sort Makefile in ./net/Makefile
      - dns just returns unless a env var is given
      - run through checkpatch, and clean up style issues
      - remove packet from stack
      - cleaned up some comments
      - failure returns much faster (if server responds, don't wait for
	timeout)
      - use built in functions (memcpy) rather than byte copy.

    Signed-off-by: Robin Getz <rgetz@blackfin.uclinux.org>
    Signed-off-by: Pieter Voorthuijsen <pieter.voorthuijsen@prodrive.nl>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 88ad3fd91c83a4343b25385fd78fd8e29ebb723f
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Fri Jul 17 12:17:00 2009 -0500

    net: tsec - fix dereferencing type-punned pointer will break strict-aliasing rules warning

    fix this gcc 4.4 warning:

    tsec.c: In function 'tsec_init':
    tsec.c:200: warning: dereferencing type-punned pointer will break strict-aliasing rules

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit d9bec9f42ab34383737c8a94429aa02fe76d7946
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Jul 18 21:04:08 2009 -0400

    net: rename NetRxPkt to NetRxPacket

    The net code is mostly consistent in using 'Packet' rather than 'Pkt', so
    rename the minor detractor to follow suite.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 88a4c2e77cd5674db745d0c2ebbad68c9baf760c
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Thu Jun 25 16:33:04 2009 +0900

    sh: sh_eth: Remove garbage from printf

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    CC: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 2ea20efa47da9d98ff38223ff51dea5439ad8708
Author: Andreas Pretzsch <apr@cn-eng.de>
Date:	Thu Jul 9 21:50:05 2009 +0200

    smc911x: add support for LAN9221

    Signed-off-by: Andreas Pretzsch <apr@cn-eng.de>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 7168eba729b9e6d730db7cd1028767f7b1a6128b
Author: David Brownell <david-b@pacbell.net>
Date:	Tue Jun 9 11:14:24 2009 -0700

    rm9200 ethernet driver: board-specific quirk (csb337)

    CSB337 boards originally shipped with MicroMonitor, not U-Boot;
    and with a version using a different convention for recording
    Ethernet addresses than anyone else.  To avoid breaking Linux
    when it uses U-Boot, have it use the same convention on that
    hardware.

    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 57215cd2e59fd403248df8f2f195e382900d5fc2
Author: Heiko Schocher <hs@denx.de>
Date:	Thu Jul 16 09:58:31 2009 +0200

    arm, kirkwood: added kw_gpio_set_valid() in gpio.h

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit ec16441085f471c03a8c0909579463e31e5b947a
Author: Dieter Kiermaier <dk-arm-linux@gmx.de>
Date:	Mon Jun 29 14:45:08 2009 +0200

    Kirkwood: add Marvell Kirkwood gpio driver

    Signed-off-by: Dieter Kiermaier <dk-arm-linux@gmx.de>
    Acked-by: Prafulla Wadaskar <prafulla@marvell.com>
    Tested-by: Heiko Schocher <hs@denx.de>

commit 688b6a0ff2dcbb0c7e63ef63cbbcc291f14f321f
Author: Heiko Schocher <hs@denx.de>
Date:	Thu Jul 16 09:59:10 2009 +0200

    arm, kirkwood: added KW_TWSI_BASE in kirkwood.h

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit fbc8365ad7ab0afd4143bdbffab2fd0b24df004f
Author: Prafulla Wadaskar <prafulla@marvell.com>
Date:	Thu Jul 16 21:02:24 2009 +0530

    Marvell RD6281A Board support

    This is Marvell's 88F6281_A0 based reference design board

    This patch is tested for-
    1. Boot from DRAM/NAND flash/NFS
    2. File transfer using tftp and loadb
    3. NAND flash read/write/erase

    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 2906e6d654fcc7f2451fde225e4e8b3f20c9555f
Author: Piotr Ziecik <kosmo@semihalf.com>
Date:	Fri Jul 17 16:35:19 2009 +0200

    api: Fix broken build on ARM.

    This patch fixes broken build introduced by commit
    84bf7ca522e94ec402a1264b01971b924b7e268f (api: remove un-needed
    ifdef CONFIG_API already handle by the Makefile).

    Signed-off-by: Piotr Ziecik <kosmo@semihalf.com>

commit 48677a1ef5f82adca49145a7baf11ece77f51945
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Jul 22 23:53:23 2009 +0200

    Fix "ld: cannot find -lstubs" build error

    Commit 1bc15386 moved the examples/ to examples/standalone but failed
    to adapt the Makefiles that need to link against libstubs.a

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit ae71121a111ddf9dd057cacbbdd0f51054be428a
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Jul 18 20:47:36 2009 +0200

    at91cap9adk: fix #ifdef/#endif pairing

    The #ifdef/#endif pairing in this file was obviously messed up.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 6b96a20d512b04a808438553874c00cf40812c44
Author: Minkyu Kang <mk7.kang@samsung.com>
Date:	Mon Jul 20 11:40:01 2009 +0900

    ARM Cortex A8: Move OMAP3 specific reset handler

    Because of the reset_cpu is soc specific, should be move to soc

    Cc: Dirk Behme <dirk.behme@googlemail.com>
    Signed-off-by: Minkyu Kang <mk7.kang@samsung.com>

commit 048e7efe91f66094f868281c12e488ce2bae8976
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Jul 22 10:12:39 2009 -0500

    85xx/86xx: Replace in8/out8 with in_8/out_8 on FSL boards

    The pixis code used in8/out8 all over the place.  Replace it with
    in_8/out_8 macros.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 0a6d0c6320b77bd6572393a93e6b8ccdf39c7100
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Tue Jul 21 13:51:08 2009 -0500

    xpedite5370: Enable NAND command support

    Use the MPC8572's eLBC to access 1 GB (or greater) onboard NAND flash
    via the 'nand' command.

    Previously, the XPedite5370's NAND chip selects were properly
    configured, but NAND support was not enabled.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 39121c0896a6760bd436d88c17892f49a97902d0
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Tue Jul 21 13:51:07 2009 -0500

    xes: Increase CONFIG_SYS_BOOTM_LEN to 16MB

    Increasing CONFIG_SYS_BOOTM_LEN from 8 MB to 16 MB is necessary to
    support uncompressing images larger than 8 MB when using the bootm
    command.

    Note that recent Linux kernels for the 85xx and 86xx map greater than
    16MB of memory on bootup, but we use 16MB to maintain compatibility with
    older Linux kernels for now.

    Signed-off-by: Nate Case <ncase@xes-inc.com>
    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 58f31b602dfd52eb7836ab82caa587514e046f02
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Sun Jul 19 19:17:41 2009 -0500

    xpedite5370: Fix I2C GPIO initialization typo

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Acked-by: Heiko Schocher<hs@denx.de>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 5ff821006c6e7647d183ea95817044943bb22e7e
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Sun Jul 19 19:17:40 2009 -0500

    xpedite5200,5370: Use buffered NOR flash writes

    Buffered writes are possible on the XPedite5200 and XPedite5370 and greatly
    improve NOR flash write speeds

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit d9c147f371800a479a507a816b2fe572c97da197
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Jul 17 10:14:48 2009 -0500

    85xx, 86xx: Add common board_add_ram_info()

    Previously, 85xx and 86xx boards would display DRAM information on
    bootup such as:

    ...
    I2C:   ready
    DRAM:
    Memory controller interleaving enabled: Bank interleaving!
     2 GB
    FLASH: 256 MB
    ...

    This patch moves the printing of the DRAM controller configuration to a
    common board_add_ram_info() function which prints out DDR type, width,
    CAS latency, and ECC mode.	It also makes the DDR interleaving
    information print out in a more sane manner:

    ...
    I2C:   ready
    DRAM:   2 GB (DDR2, 64-bit, CL=4, ECC on)
	   DDR Controller Interleaving Mode: bank
    FLASH: 256 MB
    ...

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 12a440ae6d09445140f1a0c2023dba76a9f1a617
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Jul 17 10:14:47 2009 -0500

    tqm85xx: Remove board_add_ram_info()

    This is in preparation for adding one common 8xxx board_add_ram_info()
    function for all 8xxx boards

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit ed2c9488bbe389b7b25cada1e42bdae5d0976327
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Jul 17 10:14:46 2009 -0500

    xes: Remove 8xxx board_add_ram_info() function

    This is in preparation for adding one common 8xxx board_add_ram_info()
    fuction for all 8xxx boards

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit e7ee23ec1788d8cf269a4cf6b9cd3722cbc7d592
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Jul 17 10:14:45 2009 -0500

    86xx: Rename ccsr_ddr's sdram_mode_1, sdram_cfg_1 fields

    Rename sdram_mode_1 to sdram_mode and sdram_cfg_1 to sdram_cfg to match
    the 86xx user's manual and other Freescale architectures

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit f6155c6fbb1d85f517b7c160570f0995ef14c43f
Author: Roy Zang <tie-fei.zang@freescale.com>
Date:	Thu Jul 9 10:05:48 2009 +0800

    85xx: Add pci/pcie E1000 ethernet support for MPC8544DS and MPC8536 boards

    Signed-off-by: Roy Zang <tie-fei.zang@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 6bb5b412291177e6edd42f9a80e5c5afe57a6a0f
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Jul 14 22:42:01 2009 -0500

    85xx: Report which "bank" of NOR flash we are booting from on FSL boards

    The p2020DS, MPC8536DS, MPC8572DS, MPC8544DS boards are capable of
    swizzling the upper address bits of the NOR flash we boot out of which
    creates the concept of "virtual" banks.  This is useful in that we can
    flash a test of image of u-boot and reset to one of the virtual banks
    while still maintaining a working image in "bank 0".

    The PIXIS FPGA exposes registers on LBC which we can use to determine
    which "bank" we are booting out of (as well as setting which bank to
    boot out of).

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 9af9c6bdc16da53772c56b1a79c2c91701fe94e6
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Jul 15 13:45:00 2009 -0500

    86xx: Report which "bank" of NOR flash we are booting from on MPC8641HPCN

    The MPC8641HPCN board is capable of swizzling the upper address bit of
    the NOR flash we boot out of which creates the concept of "virtual"
    banks.  This is useful in that we can flash a test of image of u-boot
    and reset to one of the virtual banks while still maintaining a
    working image in "bank 0".

    The PIXIS FPGA exposes registers on LBC which we can use to determine
    which "bank" we are booting out of (as well as setting which bank to
    boot out of).

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit caf72ff329759b4da71352ab098537c7698c0e9f
Author: Luigi 'Comio' Mantellini <luigi.mantellini@idf-hit.com>
Date:	Tue Jul 21 10:45:49 2009 +0200

    Refresh LZMA-lib to v4.65

    Signed-off-by: Luigi 'Comio' Mantellini <luigi.mantellini@idf-hit.com>

commit 70ebf31633f372a24505e47846b2628e8435ea37
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Jul 17 23:35:29 2009 +0200

    AT91: factor out ROUND() macro

    A large number of boards (all AT91 based) duplicated the ROUND()
    macro in their board specific config files. Add the definition to
    include/common.h and clean up the board config files.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 89188a62333c0841a7166783d2ebdd39d7044eb2
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Jul 15 08:54:50 2009 -0500

    85xx: Bump up the BOOTMAP to 16M on FSL 85xx boards

    We have always mapped at least 16M in the kernel and we have seen cases
    with new kernel features that a kernel image needs more than 8M of
    memory.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit d4abc757c26c531293f5bbc4262ade44a317eec9
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Mon Jul 20 19:02:21 2009 -0500

    Move api_examples to examples/api

    Also add a rule to remove demo.bin which was previously leftover
    after a "make clean"

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit af1d7d984a23a0faa1f436ebfeb55c876b1a99e1
Author: Heiko Schocher <hs@denx.de>
Date:	Tue Jul 21 06:37:28 2009 +0200

    83xx, kmeter: fix compile error

    CONFIG_SYS_MALLOC_LEN is defined in the board config, and
    the keymile-common.h, which collects common options used
    by all keymile-boards. This results in a compile error
    when compiling the kmeter1 board. So remove this define
    in the board config file.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 39df00d9aecfb465b9eec9af593f9b763fb5209a
Author: Heiko Schocher <hs@denx.de>
Date:	Thu Jul 9 12:04:26 2009 +0200

    i2c, mpc83xx: add CONFIG_SYS_I2C_INIT_BOARD for fsl_i2c

    This patch adds the possibility to call a board specific
    i2c bus reset routine for the fsl_i2c bus driver, and adds
    this option for the keymile kmeter1 board.

    The deblock sequence for this board is implemented and
    tested in the following way:

    CR = 0x20 (release SDA and SCL pin)
    CR = 0xa0 (start read)
    dummy read
    dummy read
    if 2. dummy read == 0x00
	3. dummy read

    CR = 0x80 (SDA and SCL now 1 SR = 0x86)
    CR = 0x00 (Modul reset SR=0x81)
    CR = 0x80 (SDA and SCL = 1, SR = 0x81)

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 1bc1538613d66cef3cbce680fc8d7c3561a0fbd0
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Jul 10 11:03:19 2009 -0500

    Move examples/ to examples/standalone

    The current files in examples are all standalone application examples,
    so put them in their own subdirectory for organizational purposes

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit b220c64d86f7c705a183302c3b50076d7e5d876c
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Jul 10 11:03:15 2009 -0500

    Move architecture specific config.mk files into subdirs

    This cleans up U-Boot's toplevel directory a bit and makes the
    architecture 'config.mk' file naming and location similar to board
    and cpu 'config.mk' files

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 082becd0d546399637fa94fdf9f1730a0f7bf348
Author: Po-Yu Chuang <ratbert@faraday-tech.com>
Date:	Fri Jul 10 18:25:34 2009 +0800

    Add "tags" to .gitignore file.

    Signed-off-by: Po-Yu Chuang <ratbert@faraday-tech.com>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit dc71b248ef0d5e12b19f33c6efb873e31df91fa9
Author: Heiko Schocher <hs@denx.de>
Date:	Thu Jul 9 12:04:18 2009 +0200

    powerpc: updates for the keymile boards

    - CONFIG_SYS_MAX_I2C_BUS changed to 1
      We use only one I2C hardwarecontroller on this boards, so
      change the CONFIG_SYS_MAX_I2C_BUS to 1.
    - common: dont print errormsg if second IVM Block lacks.
    - 82xx, mgcoge: fix double mtdpart entry in environment
    - 82xx, mgcoge: activate on second Flash the second bank.
    - common: CONFIG_ENV_SIZE 0x4000 for all keymile boards
    - common: Change malloc size to 1MByte for all Keymile boards
	We need a bigger malloc area for the environment support (128k)
	on some Keymile boards (kmeter1) and the upcoming UBI support.
	Change it to 1MB for all Keymile boards to be on the save side.
	Also define CONFIG_SYS_64BIT_VSPRINTF which is needed for
	UBI/UBIFS support.
    - Add UBI support to all Keymile boards
    - change manner of writing "/localbus/ranges" node
	instead of writting the complete "/localbus/ranges" node
	before booting Linux, only update the ranges entries
	which gets dynamical detected (size of flashes).
	This is needed, because keymile adds in the DTS
	"/localbus/ranges" node entries, which u-boot must
	not overwrite/delete.
    - kmeter, mgcoge: define 2 seperate regions needed for the Intel P30 chips
	The Intel P30 chip has 2 non-identical chips on
	one die, so we need to define 2 seperate regions
	that are scanned by physmap_of independantly.
    - kmeter1: Add MTD concat support to Keymile boards
    - 82xx, mgcoge: add "unlock=yes" to default environment
    - added CONFIG_MTD_DEVICE to get in sync with mainline code

    Signed-off-by: Heiko Schocher <hs@denx.de>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit f14d81050a9e0fa57aedb1bc746c60a07c1ad67f
Author: galak <galak@ducky.am.freescale.net>
Date:	Tue Jul 7 15:53:21 2009 -0500

    fsl_sata: Fix compiler warnings shown by gcc-4.4

    Update fsl_sata to use common structures instead of casting
    back and forth between the fsl specific ones and the common ones
    (which are identical).

    fsl_sata.c: In function 'scan_sata':
    fsl_sata.c:550: warning: dereferencing pointer 'cfis' does break strict-aliasing rules
    fsl_sata.c:549: warning: dereferencing pointer 'cfis' does break strict-aliasing rules
    fsl_sata.c:548: warning: dereferencing pointer 'cfis' does break strict-aliasing rules
    fsl_sata.c:545: note: initialized from here
    fsl_sata.c:592: warning: dereferencing pointer 'cfis' does break strict-aliasing rules
    fsl_sata.c:590: warning: dereferencing pointer 'cfis' does break strict-aliasing rules
    fsl_sata.c:588: warning: dereferencing pointer 'cfis' does break strict-aliasing rules
    fsl_sata.c:586: warning: dereferencing pointer 'cfis' does break strict-aliasing rules
    fsl_sata.c:579: warning: dereferencing pointer 'cfis' does break strict-aliasing rules
    ...

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 20938e54a207472a090f04f20f30c9e32b14137e
Author: Simon Kagstrom <simon.kagstrom@netinsight.net>
Date:	Tue Jul 7 15:58:51 2009 +0200

    Add unaligned.h for arm

    This patch adds unaligned.h for ARM (needed to build with LZO
    compression). The file is taken from the linux kernel, but includes
    u-boot headers instead.

    Signed-off-by: Simon Kagstrom <simon.kagstrom@netinsight.net>
    Acked-by: Stefan Roese <sr@denx.de>

commit 433ea8abd6adfae3138dd4ce238237a037e1e537
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Sun Jul 19 19:17:42 2009 -0500

    Remove last remanants of unused CONFIG_I2C_CMD_TREE

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit f6ca3b70949790ab5438d6c9a592216cc3616110
Author: Andrzej Wolski <awolski@poczta.fm>
Date:	Fri Jul 17 22:26:54 2009 +0200

    ubi: help message correction

    Fix incorrect information about size units and correct typo.

    Signed-off-by: Andrzej Wolski <awolski@poczta.fm>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 22f2017c31bc682e9b15612a5c2580ab5b84418e
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Sun Jul 19 19:17:42 2009 -0500

    Remove last remanants of unused CONFIG_I2C_CMD_TREE

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit f99a292aa6083057f5db8283d2ce4a2be22b8856
Author: Andrzej Wolski <awolski@poczta.fm>
Date:	Fri Jul 17 22:26:54 2009 +0200

    ubi: help message correction

    Fix incorrect information about size units and correct typo.

    Signed-off-by: Andrzej Wolski <awolski@poczta.fm>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit b86b85e2611d57d834795a92453431a1a340c3c9
Author: Ilya Yanok <yanok@emcraft.com>
Date:	Mon Jun 29 17:53:16 2009 +0400

    mmc: set bus width to 1 and clock to minimum early during initialization

    We need to switch back to 1-bit before initialization or SD 2.0 cards
    will fail to send SCR if we've switched to 4-bit already.

    Signed-off-by: Ilya Yanok <yanok@emcraft.com>

commit cff80f2cd12bf9767509b5334ecfc90cd7de5502
Author: Shinya Kuribayashi <skuribay@pobox.com>
Date:	Sat Jun 20 19:14:33 2009 +0900

    config.mk: Remove unused HPATH

    This variable is not unused anywhere.

    Signed-off-by: Shinya Kuribayashi <skuribay@pobox.com>

commit a781de12700e2cb3d3011fc83b47f7dd8cc3c154
Author: Grzegorz Bernacki <gjb@semihalf.com>
Date:	Wed Jun 17 16:20:14 2009 +0200

    digsy mtc: Enable command line history.

    Signed-off-by: Grzegorz Bernacki <gjb@semihalf.com>

commit 37566090766d61beef70c62986b90749920255d8
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Jul 2 19:23:25 2009 -0400

    compiler.h: unify system ifdef cruft here

    Shove a lot of the HOSTCC and related #ifdef checking crap into the new
    compiler.h header so that we can keep all other headers nice and clean.

    Also introduce custom uswap functions so we don't have to rely on the non
    standard implementations that a host may (or may not in the case of OS X)
    provide.  This allows mkimage to finally build cleanly on an OS X system.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 2a2ed845c085eb093b69fa6382fcf7534bb1f4b0
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Mon Jun 15 11:50:40 2009 -0500

    common: fix 'dummy' is used uninitialized in this function warning

    fix this gcc 4.4 warning:

    xyzModem.c: In function 'xyzModem_stream_open':
    xyzModem.c:564: warning: 'dummy' is used uninitialized in this function

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 1ea6bcd8590b3ff9fe2bfbb0eb29a3b0edaa9460
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Jun 14 23:33:14 2009 -0400

    push CROSS_COMPILE out to $(ARCH)_config.mk

    Each arch should handle setting a proper default CROSS_COMPILE value in
    their own config.mk file rather than having to maintain a large ugly list
    in the Makefile.  By using conditional assignment, we don't have to worry
    about the variable already being set (env/cmdline/etc...).

    The common config.mk file takes care of exporting CROSS_COMPILE already,
    and while a few variables (toolchain ones) utilize CROSS_COMPILE before
    including the arch config.mk, they do so with deferred assignment.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 60a3f404acbf8238a3138fe1f80a6bac75da4582
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Jun 13 12:55:37 2009 +0200

    malloc.h: protect it against multiple include

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 7640f41988a456a0b1f05263d2e2dc5cd7d93984
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Jul 19 19:37:24 2009 +0200

    Fix boards broken after removal of legacy NAND and DoC support

    Commit 2419169f removed support for legacy NAND and disk on chip but
    missed to update the code for a few boards. This patch fixes the
    resulting build issues.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 1a4664b53aaf23687b52d64b94be06a9aa260b86
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Jul 19 19:32:37 2009 +0200

    cmd_flash.c: fix fix compile error for boards with DataFlash

    Commit 5669ed45 ("cmd_flash.c: fix warning: unused variable
    'addr_first'/'addr_last'") changed the #ifdef logic areound the
    declaration of these variables and missed a combination of settings
    of HAS_DATAFLASH with SYS_NO_FLASH; this patch fixes this.

    Also spotted by Alessandro Rubini <rubini@gnudd.com>

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 341245a28830d3261c41b09d958eeea7bb93587a
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Jul 19 12:05:15 2009 +0200

    pcm030: fix out-of-tree building

    Commit 0a87dd90 that was supposed to fix out-of-tree building for the
    pcm030 board was unfortunately incomplete.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 8bf29b59fce8cc381114929082202d800e313ad5
Author: Simon Kagstrom <simon.kagstrom@netinsight.net>
Date:	Tue Jul 7 13:58:51 2009 +0200

    Add unaligned.h for arm

    This patch adds unaligned.h for ARM (needed to build with LZO
    compression). The file is taken from the linux kernel, but includes
    u-boot headers instead.

    Signed-off-by: Simon Kagstrom <simon.kagstrom@netinsight.net>
    Acked-by: Stefan Roese <sr@denx.de>

commit e405afab1dda66c9df3733f6b779d72fc36a0162
Author: Kazuaki Ichinohe <kazuichi@fsi.co.jp>
Date:	Fri Jun 12 18:10:12 2009 +0900

    Canyonlands SATA harddisk driver

    This patch adds a SATA harddisk driver for the canyonlands.
    This patch is kernel driver's porting.
    This patch corresponded to not cmd_scsi but cmd_sata.
    This patch divided an unused member with ifndef __U_BOOT__ in the structure.

    [environment variable, boot script]
    setenv bootargs root=/dev/sda7 rw
    setenv bootargs ${bootargs} console=ttyS0,115200
    ext2load sata 0:2 0x400000 /canyonlands/uImage
    ext2load sata 0:2 0x800000 /canyonlands/canyonlands.dtb
    fdt addr 0x800000 0x4000
    bootm 0x400000 - 0x800000

    If you drive SATA-2 disk on Canyonlands, you must change parts from
    PI2PCIE212 to PI2PCIE2212 on U25. We confirmed to boot by using
    following disks:

    1.Vendor: Fujitsu	 Type: MHW2040BS
    2.Vendor: Fujitsu	 Type: MHW2060BK
    3.Vendor: HAGIWARA SYS-COM:HFD25S-032GT
    4.Vendor: WesternDigital Type: WD3200BJKT (CONFIG_LBA48 required)
    5.Vendor: WesternDigital Type: WD3200BEVT (CONFIG_LBA48 required)
    6.Vendor: Hitachi	 Type: HTS543232L9A300 (CONFIG_LBA48 required)
    7.Vendor: Seagate	 Type: ST31000333AS (CONFIG_LBA48 required)
    8.Vendor: Transcend	 Type: TS32GSSD25S-M
    9.Vendor: MTRON		 Type: MSD-SATA1525-016

    Signed-off-by: Kazuaki Ichinohe <kazuichi at fsi.co.jp>

commit 52a0e2dee90c17e39634de814b16b96061cfb472
Author: Reinhard Arlt <reinhard.arlt@esd-electronics.com>
Date:	Wed Jun 10 19:09:40 2009 +0200

    Add support for the Tundra TSI148 VME-bridge

    From: Reinhard Arlt <reinhard.arlt@esd-electronics.com>

    This patch adds support for the Tundra TSI148 VME-bridge. It's used on
    the upcoming esd VME8349 board.

    Signed-off-by: Reinhard Arlt <reinhard.arlt@esd-electronics.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 8d1fea2c4041e665c96944e3f6fcffbde55db34b
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Jul 16 19:05:30 2009 -0400

    Blackfin: bf537-{minotaur,srv1}: do not hardcode CONFIG_ETHADDR

    MAC addresses should not be hardcoded in boards to avoid random link level
    conflicts.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit baf357050353aee30c04f3f4b868426cb54468ca
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Fri Jul 10 10:42:06 2009 -0400

    Blackfin: bf533-stamp: back down SCLK a bit

    While the 1.0 and 1.2 spin of the bf533-stamp boards can handle the higher
    SCLK speeds just fine, the 1.1 spin cannot due to the bugs introduced with
    the shortened SDRAM traces.  So lower the SCLK speed down to a value that
    all three can handle.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 490fe7349102012c48730f6fc14ef36c8d155068
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Jul 9 20:56:56 2009 -0400

    Blackfin: split cpu COBJS into multilines

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 909878fd3fda056d19b8b51a5cc51cb1c0b563d1
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Jul 9 01:15:05 2009 -0400

    Blackfin: add os log functions

    Part of the mini Blackfin ABI with operating systems is that they can use
    0x4f0-0x4f8 to pass log buffers to/from bootloaders.  So add support to
    U-Boot for reading the log buffer.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 9993e196da707a0a1cd4584f1fcef12382c1c144
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Sat Jul 18 18:42:13 2009 -0500

    mpc83xx: convert all remaining boards over to 83XX_GENERIC_PCI

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit d39041fcadb1231430201d298c31f6be03d654f7
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Jul 19 01:15:52 2009 +0200

    PATI board: fix compiler warnings

    Fix these:
    pati.c: In function 'checkboard':
    pati.c:358: warning: pointer targets in passing argument 2 of 'getenv_r' differ in signedness
    ../common/flash.c: In function 'write_word':
    ../common/flash.c:824: warning: dereferencing type-punned pointer will break strict-aliasing rules
    cmd_pati.c: In function 'do_pati':
    cmd_pati.c:279: warning: 'value' may be used uninitialized in this function

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 28c345042eafc550a34b9f52431bd4a22af6ac25
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat May 16 12:14:56 2009 +0200

    mpl: printing current stdio devices cleanup

    Currently the mpl boards duplicate the code to print the current
    devices from common/console.c; use stdio_print_current_devices()
    instead

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

    Edited commit message.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 7e3be7cf3bb344f717b6ec3d47a081269ea67ead
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat May 16 12:14:55 2009 +0200

    console: unify printing current devices

    Create stdio_print_current_devices() for this purpose

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 5669ed4557edf2714203aa8625c9fcd5a753b338
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Jul 18 23:18:14 2009 +0200

    cmd_flash.c: fix warning: unused variable 'addr_first'/'addr_last'

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 6bb6e6c75ec4ef496f00f7f530e549d3e073c5de
Author: Tom Rix <Tom.Rix@windriver.com>
Date:	Tue Jun 30 15:04:13 2009 -0500

    OMAP3 Fix compiler warning for v7_flush_dcache_all

    On build of omap3 targets in MAKEALL, the *.ERR files have

    cpu.c: In function 'cleanup_before_linux':
    cpu.c:64: warning: implicit declaration of function 'v7_flush_dcache_all'
    cpu.c:64: warning: implicit declaration of function 'get_device_type

    The functions v7_flush_dcache_all and get_device_type are declared
    in include/asm-arm/arch-omap3/sys_proto.h, so use this file to
    declare the functions.

    Signed-off-by: Tom Rix <Tom.Rix@windriver.com>

commit dba107b967332fc8a35867f4d58038626c968800
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Jul 18 22:09:38 2009 +0200

    ARM: make split_by_variant.sh output more useful

    The board/armltd/integrator/split_by_variant.sh script used to print
    "Configuring for integrator*p board..." no matter which board name
    was being compiled. This made it difficult to match MAKEALL output to
    board names. This patch fixes this.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 2eb99ca8029b44c988d5f6312f97e68d3b9cb2bd
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Jul 18 21:52:24 2009 +0200

    NAND: Part 2: Fix warning Please define CONFIG_SYS_64BIT_VSPRINTF...

    Commit 8d2effea added a warning for configurations that use NAND
    without defining the (then necessary) CONFIG_SYS_64BIT_VSPRINTF but
    failed to fix the affected boards.

    This patch covers the non-PPC boards that were missed in the previous
    patch (commit 170c1972).

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 7024aa14df2981b4e65c6189909da9aadb1c22da
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Jul 18 20:46:38 2009 +0200

    at91cap9adk: fix #ifdef/#endif pairing

    The #ifdef/#endif pairing in this file was obviously messed up.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 4abc5bffea244589fa1097e4c899a63efc609c8e
Author: Prafulla Wadaskar <prafulla@marvell.com>
Date:	Thu Jul 16 20:58:01 2009 +0530

    Marvell MV88F6281GTW_GE Board support

    This is Marvell's 88F6281_A0 based custom board developed
    for wireless access point product

    This patch is tested for-
    1. Boot from DRAM/SPI flash/NFS
    2. File transfer using tftp and loadb
    3. SPI flash read/write/erase
    4. Booting Linux kernel and RFS from SPI flash
    5. Boot from USB supported

    Reviewed-by: Ronen Shitrit <rshitrit@marvell.com>
    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>

commit 55dd4ba5413b14e8ee24058c89ac5c05376c331c
Author: Prafulla Wadaskar <prafulla@marvell.com>
Date:	Thu Jul 16 20:58:00 2009 +0530

    Marvell Sheevaplug Board support

    Reference:
    http://plugcomputer.org/
    http://openplug.org/plugwiki/index.php/Das_U-boot_plug_support

    This patch is tested for-
    1. Boot from DRAM/NAND flash
    2. File transfer using tftp
    3. NAND flash read/write/erase
    4. Linux kernel and RFS Boot from NAND
    5. Enabled USB PHY init for kernel need
    6. Boot from USB supported

    Note: to boot Kirkwood kernel with USB support,
	you should add "usb start" in the boot sequence

    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>

commit 0a87dd90a75d034301496285026fbd8106c7c6d5
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Jul 18 18:00:25 2009 +0200

    pcm030: fix out-of-tree building

    Commit c9969947, which added support for the pcm030 board
    (aka phyCORE-MPC5200B-tiny), broke out-of-tree building.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 9ff59601c71e800b9d0dfde22fa70d12c71c12b4
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Jul 18 16:36:11 2009 +0200

    MPC837XERDB: fix warning: "CONFIG_SYS_MONITOR_LEN" redefined

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 2b5243fc24a724e83409c0b70caa1a3180e997ae
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Jul 18 16:13:18 2009 +0200

    8xxx: fix warning: implicit declaration of function 'uec_standard_init'

    Commit 8e55258f created function uec_standard_init() to initialize
    all UEC interfaces for 83xx and 85xx but failed to provide a
    prototype for it.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 5b54df2674fdad5e7d316484c67efc68e79f3f0d
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Jul 18 15:46:02 2009 +0200

    MIP405T: fix compile problem

    The "stdio/device: rework function naming convention" patch
    (commit 52cb4d4f) broke the MIP405T board; this patch fixes it.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 170c19725ecd3a0e2e517dfd49979ca8822edec0
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Jul 18 15:32:10 2009 +0200

    NAND: Fix warning Please define CONFIG_SYS_64BIT_VSPRINTF...

    Commit 8d2effea added a warning for configurations that use NAND
    without defining the (then necessary) CONFIG_SYS_64BIT_VSPRINTF but
    failed to fix the affected boards.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 6e897a661fb9968ce354165a12cce82e4b889e04
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Jul 18 15:05:44 2009 +0200

    CPCI750: fix compile problem

    Commit bc0d3296 removed ppc_error_no.h from Marvell boards
    but forgot to update board/esd/cpci750/mv_eth.h

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 6aee3048348f1b19ab89156da98bfa4f7babf24b
Author: Alessandro Rubini <rubini-list@gnudd.com>
Date:	Fri Jul 17 14:42:11 2009 +0200

    cmd_i2c: bugfix: add missing brace

    The sub-command parser missed a brace, so "return 0;" is always
    taken and no error message is diplayed if you say "i2c scan"
    instead of "i2c probe", for example.

    Proper brace is added. Also, a misleading and unneeded else
    is removed.

    Signed-off-by: Alessandro Rubini <rubini@gnudd.com.it>

commit 52cb4d4fb3487313f5a72ea740f527a4aefaa365
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat May 16 12:14:54 2009 +0200

    stdio/device: rework function naming convention

    So far the console API uses the following naming convention:

	======Extract======
	typedef struct device_t;

	int	device_register (device_t * dev);
	int	devices_init (void);
	int	device_deregister(char *devname);
	struct list_head* device_get_list(void);
	device_t* device_get_by_name(char* name);
	device_t* device_clone(device_t *dev);
	=======

    which is too generic and confusing.

    Instead of using device_XX and device_t we change this
    into stdio_XX and stdio_dev

    This will also allow to add later a generic device mechanism in order
    to have support for multiple devices and driver instances.

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

    Edited commit message.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit f732a7598fa36d48241df20b1a1f4cdbf09f75ee
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Wed Jul 15 00:01:08 2009 -0500

    ppc: Fix compile error for boards with CONFIG_DDR_ECC

    A bug was introduced by commit e94e460c6e8741f42dab6d8dd4b596ba5d9d79ae
    which affected non-MPC83xx/85xx/86xx ppc boards which had CONFIG_DDR_ECC
    defined and resulted in errors such as:

    Configuring for canyonlands board...
    fsl_dma.c:50:2: error: #error "Freescale DMA engine not supported on your
    processor"
    make[1]: *** No rule to make target `.depend', needed by `libdma.a'.  Stop.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 18e067de9b6ed087fa60496e64887f0b7458dbaa
Author: Prafulla Wadaskar <prafulla@marvell.com>
Date:	Thu Jul 16 20:57:59 2009 +0530

    include/config_cmd_default.h cleanup

    arranged configurations in alphabetical order
    CONFIG_CMD_FLASH moved under ifndef CONFIG_SYS_NO_FLASH

    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>

commit 569460ebf14b87bd8fdb2352bde95d35ee96e13b
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Jun 14 21:35:22 2009 -0400

    sata: namespace curr_device variable

    The curr_device variable really should be namespaced with a "sata_" prefix
    since it is only used by the sata code.  It also avoids random conflicts
    with other pieces of code (like cmd_mmc):
    common/libcommon.a(cmd_sata.o):(.data.curr_device+0x0):
	multiple definition of `curr_device'
    common/libcommon.a(cmd_mmc.o):(.data.curr_device+0x0): first defined here

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 02e22c2de1ce2312f2636fa473a60c8d8f18d8aa
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Jun 14 21:35:21 2009 -0400

    cmd_mmc: make curr_device static

    The curr_device variable isn't used outside of cmd_mmc, so mark it static
    to avoid conflicts with other pieces of code (like sata which also exports
    a curr_device).  Otherwise we end up with stuff like:
    common/libcommon.a(cmd_sata.o):(.data.curr_device+0x0):
	multiple definition of `curr_device'
    common/libcommon.a(cmd_mmc.o):(.data.curr_device+0x0): first defined here

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 2d8d2adde3fce1152e4ad9f47238f07e70793c53
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Jun 14 21:35:16 2009 -0400

    envcrc: add missing dependencies on env storage

    When the envcrc building was made conditional, it missed a bunch of env
    storage types, so add all currently supported types.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 2419169f5749d7af501b3b77a5336d1d535320de
Author: Scott Wood <scottwood@freescale.com>
Date:	Thu Jul 16 19:08:04 2009 -0500

    Remove legacy NAND and disk on chip references from boards.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 12e9043c7ed961b60df865f45d9a3c74d6a38199
Author: Shinya Kuribayashi <skuribay@pobox.com>
Date:	Sat Jun 20 19:10:14 2009 +0900

    config.mk: Remove $(PCI_CLOCK) reference

    The following commit introduced $(PCI_CLOCK) reference so that
    we could tweak `PCI_66M' definition via an environment variable.

    > commit f046ccd15c8bc9613bfd72916b761a127d36e5c6
    > Author: Eran Liberty <liberty@freescale.com>
    > Date:   Thu Jul 28 10:08:46 2005 -0500
    >
    >	  * Patch by Eran Liberty
    >	    Add support for the Freescale MPC8349ADS board.

    But I suggest a removal of it for the following reasons:

    * In 2006, MPC8349ADS was merged into MPC8349EMDS port,
      and it seems that MPC8349EMDS port is PCI_66M free.

    * OTOH, PCI_66M is used by MPC832XEMDS an MPC8360EMDS ports,
      but they don't need $(PCI_CLOCK) environment variable at all.
      PCI_66M is automatically configured via $(BOARD)_config names
      with the help of $(findstring _66_,$@).

    * Unfortunately $(PCI_CLOCK) has been undocumented anywhere,
      so only a few people know the existence of it these days.

    * Keep config.mk independent from $(BOARD) as much as possible.

    Signed-off-by: Shinya Kuribayashi <skuribay@pobox.com>
    Acked-by: Kim Phillips <kim.phillips@freescale.com>

commit 3db75d9c11d37cc1d28bebd91b19f4e548b68155
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat May 23 21:42:36 2009 +0200

    fix: missing autoconfig.mk from general Makefile

    At the first run of make we generate the autoconf.mk and
    autoconf.mk.dep if not already the case and we currently include only
    to .dep

    In order to use these autogenerated values we need to include it also
    even if it's included in config.mk but it's done before their
    generation

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 1ca298ced07327749b54321815f76fcddb2f9479
Author: Matthias Weisser <matthias.weisser@graf-syteco.de>
Date:	Thu Jul 9 16:07:30 2009 +0200

    Added support for splash screen positioning

    This patch adds support splash image positioning by adding an
    additional variable "splashpos" to the environment. Please see
    README for details.

    Signed-off-by: Matthias Weisser <matthias.weisser@graf-syteco.de>
    Acked-by: Matthias Fuchs <matthias.fuchs@esd.eu>
    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit 9d173e0233493113c9b1aa81bd2208d0057ab9db
Author: Anatolij Gustschin <agust@denx.de>
Date:	Tue Jul 7 13:11:36 2009 +0200

    video: mb862xx: replace printf with puts

    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit cce99b2a7dd80683d61360aee56a6ece344950b2
Author: Anatolij Gustschin <agust@denx.de>
Date:	Tue Jul 7 13:27:07 2009 +0200

    video: mb862xx: use macros instead of magic numbers

    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit e86528671ece6d5c1162656a37fc68a8e0bf67f8
Author: Anatolij Gustschin <agust@denx.de>
Date:	Tue Jul 7 13:24:08 2009 +0200

    video: mb862xx: fix coding style and remove dead code

    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit 292ed489dba8cc97b458579003a8001cd4703cd8
Author: Michal Simek <monstr@monstr.eu>
Date:	Tue Jun 30 12:03:50 2009 +0200

    microblaze: Remove ignored return type for __arch__swab16 function

    This change remove compilation warnings.

    Signed-off-by: Michal Simek <monstr@monstr.eu>

commit e2776587c0eac131954ae100fda89cc3e7ed8b57
Author: Michal Simek <monstr@monstr.eu>
Date:	Tue Jun 30 12:02:45 2009 +0200

    microblaze: Removed unused variables

    Signed-off-by: Michal Simek <monstr@monstr.eu>

commit be33b046b549ad88c204c209508cd7657232ffbd
Author: Scott Wood <scottwood@freescale.com>
Date:	Wed Apr 1 15:02:13 2009 -0500

    Remove legacy NAND and disk on chip code.

    Legacy NAND had been scheduled for removal.  Any boards that use this
    were already not building in the previous release due to an #error.

    The disk on chip code in common/cmd_doc.c relies on legacy NAND,
    and it has also been removed.  There is newer disk on chip code
    in drivers/mtd/nand; someone with access to hardware and sufficient
    time and motivation can try to get that working, but for now disk
    on chip is not supported.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit fbdaafaee71e2c7f2c31b3582ab6d8679efee8d3
Author: Stefan Roese <sr@denx.de>
Date:	Thu Jun 4 16:40:36 2009 +0200

    nand: Change NAND_MAX_OOBSIZE to 218 as needed for some 4k page devices

    This is needed for the MPC512x NAND driver (fsl_nfc_nand.c) which already
    defines such a 4k plus 218 bytes ECC layout.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Cc: Scott Wood <scottwood@freescale.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit f2f376ab956c17d4a0c42a993133ca25cdc87278
Author: Stefan Roese <sr@denx.de>
Date:	Thu Jul 16 15:13:04 2009 +0200

    nand: ndfc: Remove unnecessary #ifdef's

    Now that the 4xx NAND driver ndfc is moved to the common NAND driver
    directory we don't need this #ifdef's anymore.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Cc: Scott Wood <scottwood@freescale.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 12582ac771b0bf3852817c3bfa4be326522a0665
Author: Stefan Roese <sr@denx.de>
Date:	Thu Jul 16 15:12:48 2009 +0200

    nand/ppc4xx: Move PPC4xx NAND driver to common NAND driver directory

    Signed-off-by: Stefan Roese <sr@denx.de>
    Cc: Scott Wood <scottwood@freescale.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 3ebf70db5452d3d47c316ddef09f40e76553bcba
Author: Valeriy Glushkov <gvv@lstec.com>
Date:	Tue Jul 14 13:51:10 2009 +0300

    nand: fixed failed reads on corrected ECC errors in nand_util.c

    Signed-off-by: Valeriy Glushkov <gvv@lstec.com>
    Signed-off-by: Paulraj, Sandeep <s-paulraj@ti.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit ed727d394c5ab139033719772dc95dc25cfa14f7
Author: David Brownell <david-b@pacbell.net>
Date:	Mon Jul 13 16:29:04 2009 -0700

    Typo fix: use CONFIG_SOC_DM644X, not CONFIG_SOC_DM646.

    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 937076f84c5064f0a79105fce352ac7cf7b33643
Author: Kyungmin Park <kmpark@infradead.org>
Date:	Sat Jul 11 16:49:55 2009 +0900

    MTD: OneNAND: Increase the environment size to 4KiB

    Also use mtd operation instead of onenand functions

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit bfadb17f69c256196620c32164775f063a59c34f
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Wed Jun 10 00:25:38 2009 +0400

    mpc83xx: MPC837xEMDS: Use hwconfig instead of pci_external_arbiter variable

    Since we have simple hwconfig interface now, we don't need
    pci_external_arbiter variable any longer.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Acked-by: Kim Phillips <kim.phillips@freescale.com>

commit b8b71ffbc35fde6905e65ffdbf4e4b87efc26b7e
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Wed Jun 10 00:25:36 2009 +0400

    mpc83xx: MPC8315ERDB: Use hwconfig for board type selection

    This patch simply converts the board to the hwconfig infrastructure.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Acked-by: Kim Phillips <kim.phillips@freescale.com>

commit c78c678354c8321737aa07e86831ff14176f4ed5
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Wed Jun 10 00:25:31 2009 +0400

    mpc83xx: MPC837XEMDS: Fixup eSDHC nodes in device tree

    fdt_fixup_esdhc() will either disable or enable eSDHC nodes, and
    also will fixup clock-frequency property.

    Plus, since DR USB and eSDHC are mutually exclusive, we should
    only configure the eSDHC if asked through hwconfig.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Acked-by: Kim Phillips <kim.phillips@freescale.com>

commit c9646ed758804fa1fa6c1425369a4eee5d618b1d
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Wed Jun 10 00:25:30 2009 +0400

    mpc83xx: MPC837XERDB: Add support for FSL eSDHC

    This patch adds support for eSDHC on MPC837XERDB boards. The WP
    switch doesn't seem to work on RDB boards though, the WP pin is
    always asserted (can see the pin state when it's in GPIO mode).

    FSL DR USB and FSL eSDHC are mutually exclusive because of pins
    multiplexing, so user should specify 'esdhc' or 'dr_usb' options
    in the hwconfig environment variable to choose between the
    devices.

    p.s.
    Now we're very close to a monitor len limit (196 bytes left using
    gcc-4.2.0), so also increase the monitor len by one sector (64 KB).

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Acked-by: Kim Phillips <kim.phillips@freescale.com>

commit b33433a63fe08c9e723ea15a7c7c7143bf527c6d
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Wed Jun 10 00:25:29 2009 +0400

    fsl_esdhc: Add device tree fixups

    This patch implements fdt_fixup_esdhc() function that is used to fixup
    the device tree.

    The function adds status = "disabled" propery if esdhc pins muxed away,
    otherwise it fixups clock-frequency for esdhc nodes.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Acked-by: Kim Phillips <kim.phillips@freescale.com>

commit 93f9dcf9e8b8182e97aeb7965c687176cbd0b933
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Wed Jun 10 00:25:27 2009 +0400

    Add simple hwconfig infrastructure

    This patch implements simple hwconfig infrastructure: an
    interface for software knobs to control a hardware.

    This is very simple implementation, i.e. it is implemented
    via `hwconfig' environment variable. Later we could write
    some "hwconfig <enable|disable|list>" commands, ncurses
    interface for Award BIOS-like interface, and frame-buffer
    interface for AMI GUI[1] BIOS-like interface with mouse
    support[2].

    Current implementation details/limitations:

    1. Doesn't support options dependencies and mutual exclusion.
       We can implement this by integrating apt-get[3] into the
       u-boot. But I didn't bother yet.

    2. Since we don't implement hwconfig command, i.e. we're working
       with the environement directly, there is no way to tell that
       toggling a particular option will need a reboot to take
       an effect. So, for now it's advised to always reboot the
       target after modifying hwconfig variable.

    3. We support hwconfig options with arguments. For example,

       set hwconfig dr_usb:mode=peripheral,phy_type=ulpi

       That means:
       - dr_usb - enable Dual-Role USB controller;
       - dr_usb:mode=peripheral - USB in Function mode;
       - dr_usb:phy_type=ulpi - USB should work with ULPI PHYs;

    The purpose of this simple implementation is to define some
    internal API and then we can continue improving user experience
    by adding more mature interface, like hwconfig command with
    bells and whistles. Or not adding, if we feel that current
    interface fits its needs.

    [1] http://en.wikipedia.org/wiki/American_Megatrends
    [2] Regarding ncurses and GUI with mouse support -- I'm just
	kidding.
    [3] The comment regarding apt-get is also a joke, meaning that
	dependency tracking could be non-trivial. For example, for
	enabling HW feature X we may need to disable Y, and turn Z
	into reduced mode (like RMII-only interface for ethernet,
	no MII).

	It's quite trivial to implement simple cases though.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Acked-by: Kim Phillips <kim.phillips@freescale.com>

commit 6c3fef28b9fff0d7f3fa4c51c3ee0ae8c2a3b043
Author: Jerry Van Baren <gvb.uboot@gmail.com>
Date:	Wed Jul 15 20:42:59 2009 -0400

    Improve U-Boot Porting Guide in the README

    Update for...
    * BDI2000 -> BDI3000 (BDI2000 is obsolete).
    * Add a line to read the doc/README.* files
    * Fix coding standard violations

    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>

commit 9578718c1b085cac73017d834001bc5cb0b2f73f
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Tue Jul 14 16:00:24 2009 -0500

    mtd: cfi - if defined, use MAX_FLASH_BANKS_DETECT for static declarations

    a.k.a cfi_mtd.c does as cfi_flash.c does.  This also prevents
    the TQM834x build from doing a:

    cfi_mtd.c:36: error: variably modified 'cfi_mtd_info' at file scope
    cfi_mtd.c:37: error: variably modified 'cfi_mtd_names' at file scope

    using gcc 4.4.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 4a9932a4364b548773bc131bf85e24a2ec15f2b0
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Tue Jul 7 18:04:21 2009 -0500

    mpc83xx: increase MONITOR_LEN to offset growing pains

    Saving the environment leads to overwriting u-boot itself,
    bricking boards.  Increase u-boot's image size so the environment
    base address doesn't end up overlapping u-boot text.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit c31e13260bcd048a94412a47b004386ea6112acf
Author: Valeriy Glushkov <gvv@lstec.com>
Date:	Tue Jun 30 15:48:41 2009 +0300

    usb: mpx8349itx: added support of loading images from USB storage (MPH/DR)

    Signed-off-by: Valeriy Glushkov <gvv@lstec.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit d89e1c36891de793a20a929282acc0fc7b98feac
Author: Valeriy Glushkov <gvv@lstec.com>
Date:	Tue Jun 30 15:48:40 2009 +0300

    usb: mpc834x: added support of the MPH USB controller in addition to the DR one

    Signed-off-by: Valeriy Glushkov <gvv@lstec.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit d9ac3d5a17ecef0beb70073018925e011b11684e
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Mon Jun 15 11:51:47 2009 -0500

    mpc83xx: set 64BIT_VSPRINTF for boards using nand_util

    When enabling NAND support for a board, one must also define
    CONFIG_SYS_64BIT_VSPRINTF because this is needed in nand_util.c
    for correct output.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>
    Cc: Dave Liu <daveliu@freescale.com>
    Cc: Ron Madrid <ron_madrid@sbcglobal.net>
    Cc: Anton Vorontsov <avorontsov@ru.mvista.com>

commit 052c08916532d1d9c2f69eb9229709c7b2fc1f02
Author: TsiChung Liew <tsicliew@gmail.com>
Date:	Wed Jul 8 07:41:24 2009 +0000

    ColdFire: Update bootargs

    Add a bootargs for M53017EVB and update bootargs
    for M54451EVB

    Signed-off-by: TsiChung Liew <tsicliew@gmail.com>

commit 6e8d58d36691520f8da74cd948661d28d5a5dc66
Author: TsiChung Liew <tsicliew@gmail.com>
Date:	Tue Jun 30 14:30:19 2009 +0000

    Command for accessing serial flash update

    Change strtoul number base of argv 3 from 0 to 16

    Signed-off-by: TsiChung Liew <tsicliew@gmail.com>

commit ee0a8462466dd284968536eb57c6eef4be0d6aad
Author: TsiChung Liew <tsicliew@gmail.com>
Date:	Tue Jun 30 14:18:29 2009 +0000

    ColdFire: Add DSPI support for MCF5227x and MCF5445x

    Remove individual CPU specific DSPI driver.
    Add required feature for the common DSPI driver in cpu_init and
    in platform configuration file.

    Signed-off-by: TsiChung Liew <tsicliew@gmail.com>

commit dec61c7851baa72151ef1d3657e7bb3b68907d48
Author: TsiChung Liew <tsicliew@gmail.com>
Date:	Tue Jun 30 14:09:47 2009 +0000

    Coldfire: Consolidate DSPI driver

    Unify both MCF5227x and MCF5445x DSPI driver in CPU to
    driver/spi folder for common use.

    Signed-off-by: TsiChung Liew <tsicliew@gmail.com>

commit 11d88b26a68bd4bf98b1c962fde6257a50978231
Author: TsiChung Liew <tsicliew@gmail.com>
Date:	Fri Jun 12 13:03:34 2009 +0000

    ColdFire: Remove compiler warning messages

    Remove unused variables and printf type mismatch in
    lib_m68k/board.c

    Signed-off-by: TsiChung Liew <tsicliew@gmail.com>

commit 4567c7bff2503fb1a7c738ff9b9f0bd00d274d9a
Author: TsiChung Liew <tsicliew@gmail.com>
Date:	Fri Jun 12 11:31:31 2009 +0000

    ColdFire: Fix M53017EVB flash size

    Increase the flash size from 8MB to 16MB

    Signed-off-by: TsiChung Liew <tsicliew@gmail.com>

commit bf9a521529e484b15e8fdb583a607cf7945d2f6b
Author: TsiChung Liew <tsicliew@gmail.com>
Date:	Fri Jun 12 11:29:00 2009 +0000

    ColdFire: Add M5208EVB and MCF520x CPU support

    Signed-off-by: TsiChung Liew <tsicliew@gmail.com>

commit 709b384b6493d9726dce20663ebe31bf7cab2925
Author: TsiChung Liew <tsicliew@gmail.com>
Date:	Thu Jun 11 15:39:57 2009 +0000

    ColdFire: Update for M54451EVB

    Update serial boot DRAM's Internal RAM, vector table and DRAM in
    start.S, serial flash's read status command over SPI and NOR
    flash.

    Signed-off-by: TsiChung Liew <tsicliew@gmail.com>

commit bbf6bbffcaf694c03504c661e58fbd1aefe5bf64
Author: TsiChung Liew <tsicliew@gmail.com>
Date:	Thu Jun 11 12:50:05 2009 +0000

    ColdFire: Update configuration file to use flash buffer write

    Update M52277EVB, M53017EVB and M54455EVB platform configuration
    file to use flash buffer write

    Signed-off-by: TsiChung Liew <tsicliew@gmail.com>

commit 7d4450a9773673052fcd7fdf0a4a88c089126ac1
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Jun 14 20:58:53 2009 +0200

    mpc5121ads: add JFFS2 and MTDPARTS support; adjust flash map

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 1f1f82f3de1660f398bf42bfd709b9859582ce5e
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Jun 14 20:58:52 2009 +0200

    aria: add JFFS2 and MTDPARTS support; adjust flash map

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit a6d6d46a4fef876455e11b45ed699c0fb3bd1ca1
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Jun 14 20:58:51 2009 +0200

    aria: enable NAND flash support

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 13946925e850db5351982acb691d51716fc754e2
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Jun 14 20:58:50 2009 +0200

    MPC512x: fix typo in comment listing the NAND driver name

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: Stefan Roese <sr@denx.de>
    Cc: Reinhard Arlt <reinhard.arlt@esd-electronics.com>

commit 2ca6f74d09653f8041b52cafd0d650fdc2a56c51
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Jun 14 20:58:49 2009 +0200

    mecp5123: cleanup - remove dead code

    Remove dead code that was obviously a left-over from copy & paste.

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: Stefan Roese <sr@denx.de>
    Cc: Reinhard Arlt <reinhard.arlt@esd-electronics.com>

commit 25671c8672f2d7b39555416a6b7a6b7b39b810bf
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Jun 14 20:58:48 2009 +0200

    aria: adjust memory controller initialization

    Needed for Rev. 2 silicon at 400 MHz

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 7629f1c06b6dea36bbc7bf70820b824e9b6d2227
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Jun 14 20:58:47 2009 +0200

    MPC512x: factor out common code

    Now that we have 3 boards for the MPC512x it turns out that they all
    use the very same fixed_sdram() code.

    This patch factors out this common code into cpu/mpc512x/fixed_sdram.c
    and adds a new header file, include/asm-ppc/mpc512x.h, with some
    macros, inline functions and prototype definitions specific to MPC512x
    systems.

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: Stefan Roese <sr@denx.de>
    Cc: Reinhard Arlt <reinhard.arlt@esd-electronics.com>

commit 0549353a6ba5aa03420c0962b9072e9cf1fa49d9
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Jun 14 20:58:46 2009 +0200

    mecp5123: fix build error

    The mecp5123 board did not compile because the MSCAN Clock Control
    Registers were missing; these got added, but as an array instead
    of 4 individual registers. Adapt the code so it builds.

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: Stefan Roese <sr@denx.de>
    Cc: Reinhard Arlt <reinhard.arlt@esd-electronics.com>

commit a9905db5d29a56aedd7db5bcb56b0385873aa6a3
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Jun 14 20:58:45 2009 +0200

    MPC512x: Add MSCAN1...4 Clock Control Registers

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: Stefan Roese <sr@denx.de>
    Cc: Reinhard Arlt <reinhard.arlt@esd-electronics.com>

commit f5489c4200b37c9a1d6dbde116f5adc0539610de
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Jun 14 20:58:44 2009 +0200

    MPC512x: enabling NAND support requires CONFIG_SYS_64BIT_VSPRINTF

    When enabling NAND support for a board, one must also define
    CONFIG_SYS_64BIT_VSPRINTF because this is needed in nand_util.c
    for correct output.

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: Stefan Roese <sr@denx.de>
    Cc: Reinhard Arlt <reinhard.arlt@esd-electronics.com>

commit b4db4a7638ef90cf0aacf7b954d9bf3043dda780
Author: Po-Yu Chuang <ratbert@faraday-tech.com>
Date:	Fri Jul 10 18:03:57 2009 +0800

    issue write command to base for JEDEC flash

    For JEDEC flash, we should issue word programming command relative to
    base address rather than sector base address. Original source makes
    SST Flash fails to program sectors which are not on the 0x10000 boundaries.

    e.g.
    SST39LF040 uses addr1=0x5555 and addr2=0x2AAA, however, each sector
    is 0x1000 bytes.

    Thus, if we issue command to "sector base (0x41000) + offset(0x5555)",
    it sends to 0x46555 and the chip fails to recognize that address.

    This patch is tested with SST39LF040.

    Signed-off-by: Po-Yu Chuang <ratbert@faraday-tech.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 986922714ffd21ad39f48522d285fffc7aed56b1
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat May 2 11:53:50 2009 +0200

    versatile: update config and merge to cfi flash driver

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Peter Pearse <peter.pearse@arm.com>
    Cc: Catalin Marinas <catalin.marinas@arm.com>

commit d6e8ed832b25d5db4fdd3fb91e73028e494dcd6e
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat May 2 11:53:49 2009 +0200

    versatile: specify the board type on the prompt

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Peter Pearse <peter.pearse@arm.com>
    Cc: Catalin Marinas <catalin.marinas@arm.com>

commit 5ccc2d99d61c81805348b0cd9f79731b271f7daf
Author: Sedji Gaouaou <sedji.gaouaou@atmel.com>
Date:	Thu Jun 25 17:04:15 2009 +0200

    at91: Introduction of at91sam9g10 SOC.

    AT91sam9g10 is an ARM 926ej-s SOC. It is an evolution of the at91sam9261 with a
    faster clock speed: 266/133MHz.

    Signed-off-by: Sedji Gaouaou <sedji.gaouaou@atmel.com>

commit 22ee647380c42f44528f99b7c1b423725e542102
Author: Sedji Gaouaou <sedji.gaouaou@atmel.com>
Date:	Thu Jul 9 10:16:29 2009 +0200

    at91: Introduction of at91sam9g45 SOC.

    AT91sam9g45 series is an ARM 926ej-s SOC family clocked at 400/133MHz.
    It embeds USB high speed host and device, LCD, DDR2 RAM, and a full set of
    peripherals.

    The first board that embeds at91sam9g45 chip is the AT91SAM9G45-EKES.
    On the board you can find 2 USART, USB high speed,
    a 480*272 LG lcd, ethernet, gpio/joystick/buttons.

    Signed-off-by: Sedji Gaouaou <sedji.gaouaou@atmel.com>

commit c33c5990cec7ced9ef1ef148debbca34adafa12b
Author: Daniel Mack <daniel@caiaq.de>
Date:	Tue Jun 23 17:30:05 2009 +0200

    pxa: fix CKEN_B register bits

    The current defition for CKEN_B register bits is nonsense. Adding 32 to
    the shifted value is equal to '| (1 << 5)', and this bit is marked
    'reserved' in the PXA docs.

    Signed-off-by: Daniel Mack <daniel@caiaq.de>

commit bd876be46f28b5fc2896537f6d01353f332789f7
Author: Daniel Mack <daniel@caiaq.de>
Date:	Tue Jun 23 17:30:04 2009 +0200

    pxa: add clock for system bus 2 arbiter

    This clock is needed for systems using the USB2 device unit or the 2d
    graphics accelerator.

    Signed-off-by: Daniel Mack <daniel@caiaq.de>

commit b016000a95514c08cab50e1cba00b019c0801bc4
Author: Grazvydas Ignotas <notasas@gmail.com>
Date:	Wed Jul 8 00:30:01 2009 +0300

    OMAP3 pandora: Fix CKE1 MUX setting to allow self-refresh

    Pandora is using both SDRC CSes. The MUX setting is needed
    for the second CS clock signal to allow the 2 RAM parts to
    be put in self-refresh correctly.

    Based on similar patch for beagle and overo by
    Jean Pihet and Steve Sakoman.

commit 8672c288703f3c51c829851c8fe6608c7869faaa
Author: Grazvydas Ignotas <notasas@gmail.com>
Date:	Wed Jul 8 00:30:00 2009 +0300

    OMAP3 pandora: setup pulls for various GPIOs

    Set pullups or pulldowns for GPIOs which need them.
    Disable them for others, which have external pulls.
    Also make disabled pull setting consistent (some pins had
    type set to "up" even if pull type selection was disabled).

commit 5ff78122f229946862a3f67a2f50a329e8e1bcf5
Author: Grazvydas Ignotas <notasas@gmail.com>
Date:	Wed Jul 8 00:29:59 2009 +0300

    OMAP3 pandora: setup pin mux for pins used on rev3 boards

    Setup pin mux for GPIO pins connected on rev3 or later
    boards. Also change NUB2 IRQ pin. This should not affect
    older boards because they don't have any nubs (analog
    controllers) attached to them.

commit 67c97c346b27c586a7263564f7afff6d1f8d8d0a
Author: Grazvydas Ignotas <notasas@gmail.com>
Date:	Wed Jul 8 00:29:58 2009 +0300

    OMAP3 pandora: pin mux cleanup

    Remove configuration of not unused pins, effectively
    leaving them in safe mode.

commit b996165f5a1623a055c03b22d64d6d5da81835d0
Author: Prafulla Wadaskar <prafulla@marvell.com>
Date:	Mon Jul 6 15:50:47 2009 +0530

    arm: Kirkwood: bugfix: UART1 bar correction

    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>

commit 50243e3e7a96a96c5418ce6c90b7252d26fdd5b0
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Jul 7 15:48:58 2009 -0500

    usb: Fix compiler warning with gcc4.4

    ehci-hcd.c: In function 'ehci_submit_root':
    ehci-hcd.c:719: warning: value computed is not used
    ehci-hcd.c:748: warning: value computed is not used

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit 04366d070a1a3f7affddf15aaaea87bcf44cdbb0
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Wed Jul 8 11:42:19 2009 +0900

    sh: Update pci config for Renesas r7780mp board

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 74d9c16a681aa24bb4125191fe39dc7c75cde56a
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Thu Jun 25 16:31:26 2009 +0900

    sh: Add support ESPT-GIGA borad

    ESPT-Giga is SH7763-based reference board.
    Board support is relatively sparse, presently supporting serial,
    gigabit ethernet, USB host, and MTD.

    More information (in Japanese) available at:
    http://www.cente.jp/product/cente_hard/ESPT-Giga.html

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit dae4e0148a1146a5610025ae4b445e841410b659
Author: Matthias Fuchs <matthias.fuchs@esd.eu>
Date:	Fri Jul 3 16:06:37 2009 +0200

    Add ESD PCI vendor ID

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd.eu>

commit 876b3cef537aab2cba8c19505db2876f6057f818
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Mon Jun 22 18:01:41 2009 -0500

    api_examples/Makefile: General cleanup

    * Remove symlinking of files located outside api_examples/

    * Auto generate dependencies for files located outside api_examples/

    * Update names of variables to be similar to those in tools/Makefile

    * Fix out of tree build error
      Dependencies are calculated for all files in the SRCS variable.
      Previously, the SRCS variable contained files which were symlinked
      into the api_examples/ directory.  These symlinked files did not exist
      when dependencies were calculated when building out of tree.  This
      resulted in errors such as:
	make[1]: *** No rule to make target `/work/wd/tmp-ppc/api_examples/.depend', needed by `_depend'.  Stop.
	make[1]: Leaving directory `/home/wd/git/u-boot/work/api_examples'
	make: *** [depend] Error 2

      Since symlinked source files are no longer used, this bug no longer
      exists.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Acked-by: Rafal Jaworowski <raj@semihalf.com>

commit 522f6f02adb93194e337016fe2e4e53c58d5d5ea
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Mon Jun 22 18:01:40 2009 -0500

    api_examples/Makefile: Get rid of unnecessary intermediate LIB target

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Acked-by: Rafal Jaworowski <raj@semihalf.com>

commit 117d0ab5e6f3b3dd48fc346df4919555a78afd39
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Mon Jun 22 18:01:39 2009 -0500

    api_examples/Makefile: Combine ELF and BIN targets

    Combining the two rules cleans up the Makefile a bit

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Acked-by: Rafal Jaworowski <raj@semihalf.com>

commit 644cb38108b8dc22e0ef3cf5f404fe310d1995f8
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Mon Jun 22 18:01:38 2009 -0500

    api_examples/Makefile: Split up variable declarations

    This cleans up the Makefile a bit and simplifies future changes

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Acked-by: Rafal Jaworowski <raj@semihalf.com>

commit 890d242facc4079ed21e979ced2e8c6d6974f6d3
Author: Timur Tabi <timur@freescale.com>
Date:	Fri Jun 19 14:10:52 2009 -0500

    remove _IO_BASE and KSEG1ADDR from board configuration files

    The KSEG1ADDR macro used to be necessary for the RTL8139 Ethernet
    driver, but the code that used that macro was removed over a year
    ago, so board configuration files no longer need to define it.

    The _IO_BASE macro is also automatically defined to 0 if it isn't
    already set, so there's no need to define that macro either in the
    board configuration files.

    Signed-off-by: Timur Tabi <timur@freescale.com>
    Acked-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
    Acked-by: Andy Fleming <afleming@freescale.com>
    Acked-by: Andre Schwarz <andre.schwarz@matrix-vision.de>
    Acked-by: Kim Phillips <kim.phillips@freescale.com>

commit c9969947a4687de90e2bb58e76842b491aa0e0b9
Author: Jon Smirl <jonsmirl@gmail.com>
Date:	Sun Jun 14 18:21:28 2009 -0400

    board support patch for phyCORE-MPC5200B-tiny

    Add support for the Phytec phyCORE-MPC5200B-tiny.
    Code originally from Pengutronix.de.
    Created CONFIG_SYS_ATA_CS_ON_TIMER01 define for when IDE CS is on
    Timer 0/1

    Signed-off-by: Jon Smirl <jonsmirl@gmail.com>
    Acked-by: Grant Likely <grant.likely@secretlab.ca>

commit 7bd49ad12cc36a4de6995ddabbc65ffa1aa1933d
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Jun 15 13:37:20 2009 -0400

    kallsyms: fix escaping of NUL char in strings

    The current kallsyms code is using \\0 to escape the backslash in the awk
    code, but the shell too needs escaping.  This way we make sure gcc is
    passed the \0.  Then gcc itself will consume this as an octal, so we have
    to use 000 so gcc will create the final NUL.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit ed540f07b8ad86909704e9806c1762462cb4995a
Author: Harald Krapfenbauer <Harald.Krapfenbauer@bluetechnix.at>
Date:	Fri Jun 26 10:18:49 2009 -0400

    Blackfin: cm-bf561: add example settings for EXT-BF5xx-USB-ETH2 add-on

    The cm-bf561 module can easily hook up to the EXT-BF5xx-USB-ETH2 extender
    board, so add a simple example of how to do that in the board config.

    Signed-off-by: Harald Krapfenbauer <Harald.Krapfenbauer@bluetechnix.at>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit f8bf54b4081c3c3d518830df0017a23ec672a841
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Jun 25 19:40:28 2009 -0400

    Blackfin: blackstamp: update spi flash settings

    The latest blackstamp boards can only run the SPI flash at 15MHz before
    they start to crap out, so lower the max speeds accordingly.  The new SPI
    flash also has different sector requirements, so update the environment
    sizes as well.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 286070ddc8339666c09bd7912e960b850a8a0318
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Oct 6 03:31:52 2008 -0400

    Blackfin: add cache_dump commands

    A few debug-type commands used to dump the raw icache/dcache data.	Useful
    when trying to track down cache-related bugs.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 632e9b671efb0a6c900499f7a49fe5b63292b5fc
Author: Matthias Fuchs <matthias.fuchs@esd.eu>
Date:	Wed Jul 8 15:31:57 2009 +0200

    ppc4xx: Set default PCI device ID for 405EP boards

    Current code only sets the PCI vendor id to 0x1014 and
    leaved device id to 0x0000.

    Ths patch ....
    a) uses the correct PCI_VENDOR_ID_IBM macro for this
    b) sets the default device ID as stated in the UM to 0x0156
       by using PCI_DEVICE_ID_IBM_405GP for this.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd.eu>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 123f102ec093fba6967066acdf9beb637df2e2d1
Author: Matthias Fuchs <matthias.fuchs@esd.eu>
Date:	Wed Jul 8 13:43:55 2009 +0200

    ppc4xx: Move 405EP pci code from cpu_init_f() to __pci_pre_init()

    This patch moves some basic PCI initialisation from the 4xx cpu_init_f()
    to cpu/ppc4xx/4xx_pci.c.

    The original cpu_init_f() function enabled the 405EP's internal arbiter
    in all situations. Also the HCE bit in cpc0_pci is always set.
    The first is not really wanted for PCI adapter designs and the latter
    is a general bug for PCI adapter U-Boots. Because it enables
    PCI configuration by the system CPU even when the PCI configuration has
    not been setup by the 405EP. The one and only correct place is
    in pci_405gp_init() (see "Set HCE bit" comment).

    So for compatibility reasons the arbiter is still enabled in any case,
    but from weak pci_pre_init() so that it can be replaced by board specific
    code.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd.eu>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit c71103f9dc66dfcce8ad6df942364043bf27ade8
Author: Matthias Fuchs <matthias.fuchs@esd.eu>
Date:	Wed Jul 8 13:43:23 2009 +0200

    ppc4xx: Make is_pci_host() available for all 440 and 405 CPUs

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd.eu>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 1d8937a469bfeb55ca1f6d89a4e7cd2dfee3cf17
Author: Prafulla Wadaskar <prafulla@marvell.com>
Date:	Mon Jun 29 20:56:43 2009 +0530

    usb: add Marvell Kirkwood ehci host controller driver

    This driver is tested on Sheevaplug platform

    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit db7b43e4681f6f93c336132708157a8a0cca1f8b
Author: Vivek Mahajan <vivek.mahajan@freescale.com>
Date:	Wed Jun 24 10:08:40 2009 +0530

    mpc83xx: USB: fix: access of ehci struct elements

    It fixes the access to the 'ehci' struct elements for mpc83xx which
    should have been taken care of in 4ef01010aa4799c759d75e67007fdd3a38c88c8a
    Sorry about that.

    Signed-off-by: Vivek Mahajan <vivek.mahajan@freescale.com>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit 08066152735417fc55a5c9de2cec0714c529e4f3
Author: Vivek Mahajan <vivek.mahajan@freescale.com>
Date:	Fri Jun 19 17:56:00 2009 +0530

    mpc8xxx: USB: fix: access of ehci struct elements

    This patch fixes the access to the 'ehci' struct elements which should
    have been taken care off in 4ef01010aa4799c759d75e67007fdd3a38c88c8a
    Sorry about that.

    Signed-off-by: Vivek Mahajan <vivek.mahajan@freescale.com>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit c3a012ce65818beb274195cd47f31ed80d0fbaa5
Author: Bryan Wu <bryan.wu@analog.com>
Date:	Tue Jun 16 05:26:27 2009 -0400

    usb: musb: add timeout via CONFIG_MUSB_TIMEOUT

    Signed-off-by: Bryan Wu <bryan.wu@analog.com>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit 7984967a9405672db1581402d2c2cfae268d1a67
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Tue Jun 16 05:26:25 2009 -0400

    usb: musb: drop old musb read/write prototypes

    These functions are no longer defined, so remove their prototypes.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit 4e04f16020115ab5ccf53158e100de58bcaf29bd
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Mon Jun 15 11:50:07 2009 -0500

    usb: fix CONFIG_SYS_MPC83xx_USB_ADDR not defined error

    fix a stray CONFIG_MPC83XX that escaped commit
    0f898604945af4543c1525fc33b6bae621a3b805.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit bc0d3296f1780b50e6b9630aee5eb368f2afb6cb
Author: Michal Simek <monstr@monstr.eu>
Date:	Tue Jun 30 23:47:30 2009 +1000

    asm-generic: Consolidate errno.h to asm-generic/errno.h

    This patch use blackfin errno.h implementation which
    correspond Linux kernel one.

    MIPS implemetation is different that's why I keep it.

    I removed ppc_error_no.h from Marvell boards which
    was the same too.

    I have got ack from ppc40x, blackfin, arm, coldfire and avr custodians.

    Acked-by: Stefan Roese <sr@denx.de>
    Signed-off-by: Michal Simek <monstr@monstr.eu>

commit 2896b5851f0430bf16529376a4193630e966c788
Author: Simon Kagstrom <simon.kagstrom@netinsight.net>
Date:	Tue Jul 7 16:01:02 2009 +0200

    Command improvements for ubifs

    Check that an argument is passed to ubifsmount and that addresses and
    sizes are actually numbers for ubifsload. Also improve the instructions
    a bit.

    Signed-off-by: Simon Kagstrom <simon.kagstrom@netinsight.net>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 25c8f4005979ab2d190713ba341d96a5fa905cdb
Author: Simon Kagstrom <simon.kagstrom@netinsight.net>
Date:	Tue Jul 7 16:59:46 2009 +0200

    Handle VID header offset in ubi part command

    The VID header offset is sometimes needed to initialize the UBI
    partition. This patch adds it (optionally) to the command line
    for the ubi part command.

    (Lines have been properly wrapped since last version)

    Signed-off-by: Simon Kagstrom <simon.kagstrom@netinsight.net>
    Acked-by: Stefan Roese <sr@denx.de>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 3672cd5c3b53d219d33345eebad4e25ad5bf6d52
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Jul 9 09:56:16 2009 +0200

    MAINTAINERS: fix sorting, remove duplicates.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit efbf14e9a2394a154b12643d4a011994b5096b5a
Author: Heiko Schocher <heiko.schocher@invitel.hu>
Date:	Wed Dec 10 08:27:01 2008 +0100

    all platforms: make show_boot_progress() work again

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 205a0988d8fd778c60746c34c2f17dbd2b7cd0d2
Author: Prafulla Wadaskar <prafulla@marvell.com>
Date:	Mon Jun 29 15:25:18 2009 +0530

    nand: Add Marvell Kirkwood NAND driver

    This patch adds a NAND driver for the Marvell Kirkwood SoC's

    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>
    Acked-by: Scott Wood <scottwood@freescale.com>

commit 0580e48f53f972783e56fcedadb9ce6e5b0b6f32
Author: Matthias Fuchs <matthias.fuchs@esd.eu>
Date:	Mon Jul 6 16:27:33 2009 +0200

    ppc4xx: Make pll_write global

    This patch makes pll_write on PPC405EP boards
    global and callable from C code.

    pll_write can be used to dynamically modify the PLB:PCI divider
    as it is required for 33/66 MHz pci adapters based on the 405EP.

    board_early_init_f() is a good place to do that (check M66EN signal
    and call pll_write() when it is required).

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd.eu>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 20b3c4b528606d51799aed5e4c71783720cd2b72
Author: Stefan Roese <sr@denx.de>
Date:	Mon Jul 6 11:44:33 2009 +0200

    ppc4xx: Remove compilation warning "pci_async_enabled defined but not used"

    Signed-off-by: Stefan Roese <sr@denx.de>

commit d0a1364f91c80d29daff6b27a7904a50cdc00b35
Author: Matthias Fuchs <matthias.fuchs@esd.eu>
Date:	Fri Jul 3 16:06:06 2009 +0200

    ppc4xx: Implement is_pci_host() for 405 CPUs

    This patch implements the is_pci_host() function in a similiar way
    as it is used on 440 targets.

    The former path with CONFIG_PCI_HOST == PCI_HOST_AUTO does not
    build on 405EP targets because checking the PCI arbiter is different.
    So putting the fixed code into a separate function makes the code
    more readable.

    Also using is_pci_host() on 405 brings 405 and 440 PCI code
    a little bit closer.

    In preparation for an upcoming 405EP based PMC module I made this
    function weak so that it can be overwritten from board specific code.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd.eu>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 04ddae915f295dee301f15c32100533a48e3b433
Author: Alessio Centazzo <centazzo@gmail.com>
Date:	Wed Jul 1 22:20:51 2009 -0700

    ppc4xx: Fixed PPC4xx debug compilation error in uic.c

    This patch fixes a debug compilation error for PPC4xx platforms, all
    other architectures are not affected by this change.  The 'handler'
    pointer was undefined.  The fix is exercised and has effect only if
    DEBUG is defined.

    Signed-off-by: Alessio Centazzo acpatin@yahoo.com
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 48e2b535a0dd3a7b77b674130934a24f9de6f48d
Author: Felix Radensky <felix@embedded-sol.com>
Date:	Wed Jul 1 11:37:46 2009 +0300

    4xx: Fix compilation warnings and MQ registers dump in SPD DDR2 code

    This patch fixes printf format string compilation warnings in several
    debug statements. It also fixes the dump of DDR controller MQ registers
    found on some 44x and 46x platforms. The current register dump code
    uses incorrect DCRs to access these registers.

    Signed-off-by: Felix Radensky <felix@embedded-sol.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 26d37f0061ad05e5c383c910f00e6006f3c89a3a
Author: Felix Radensky <felix@embedded-sol.com>
Date:	Mon Jun 22 15:30:42 2009 +0300

    ppc4xx: Fix FDT EBC mappings on Canyonlands

    This patch fixes 2 problems with FDT EBC mappings on Canyonlands.
    First, NAND EBC mapping was missing, making Linux NAND driver
    unusable on this board. Second, NOR remapping code assumed that
    NOR is always on CS0, however when booting from NAND NOR is on CS3.

    Signed-off-by: Felix Radensky <felix@embedded-sol.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit baa9f9ba4345ed6dc5c403871c32e6295316ea52
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Tue Jun 16 22:29:15 2009 +0900

    sh: Revised the build with newest compiler

    The check of data became severe from newest gcc.
    This patch checked in gcc-4.2 and 4.3 .

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit be45c632568ba76343c1453b3951ad793f482fd5
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Thu Jun 4 12:06:48 2009 +0200

    sh3/sh4: rename config option TMU_CLK_DIVIDER to CONFIG_SYS_TMU_CLK_DIV

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Cc: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 8dd29c87ba370072a8464b8cc19e0a1e6e0497b4
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Thu Jun 4 12:06:47 2009 +0200

    sh3/sh4: fix CONFIG_SYS_HZ to 1000

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Cc: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit add380f51f34ed1e2678c2abac8d53c91d652f26
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Thu Jun 4 12:06:46 2009 +0200

    sh: introduce clock framework

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Cc: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 3931a375de2c381d9ff5ec2767b2da9f62a41aef
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Thu Jun 4 12:06:45 2009 +0200

    sh: unify linker script

    all sh boards use the same cpu linker script so move it to cpu/$(CPU)

    that could be overwrite in following order
    SOC
    BOARD
    via the corresponding config.mk

    tested on r2dplus

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Cc: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 236aad875817771eb1f25ed32784b3cd7760b2e6
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Thu Jun 4 12:06:44 2009 +0200

    sh: make the linker scripts more generic

    currently we need to sync the linker script enty and TEXT_BASE manualy
    and the reloc_dst is based on it

    instead provide it now from the ldflags

    tested on r2dplus

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Cc: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit ce29817212792113cd2d67a9767049a2e262c406
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Thu Jun 4 12:06:43 2009 +0200

    sh7785lcr: fix out of tree build

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Cc: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 2e8a6f551cba550e9220dca4d8504066203b1f74
Author: HeungJun Kim <riverful.kim@gmail.com>
Date:	Tue Jun 30 14:42:22 2009 +0900

    env_onenand: change env_address type from unsigned long to loff_t

    If use the onenand boot, the env_relocate_spec() calls mtd->read(),
    and the type of the argument #2 of mtd->read() was changed to loff_t.
    But, the "env_addr" type is still unsigned long, thus this patch change
    the type from unsigned long to loff_t.

    Acked-by: Kyungmin Park <kyungmin.park@samsung.com>
    Signed-off-by: HeungJun, Kim <riverful.kim@samsung.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 66372fe2ab11cdeb0e841ad9eb6ba79769db4909
Author: Mingkai Hu <Mingkai.hu@freescale.com>
Date:	Thu Jun 18 18:23:27 2009 +0800

    fsl_elbc_nand: redirect the pointer of bbt pattern to RAM

    The bbt descriptors contains the pointer to the bbt pattern which
    are statically initialized memory struct. When relocated to RAM,
    these pointers will continue point to NOR flash(or L2 SRAM, or
    other boot device). If the contents of NOR flash changed or L2
    SRAM disabled, it'll hang the system.

    Signed-off-by: Mingkai Hu <Mingkai.hu@freescale.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 1dac3a51875967f32641bbc0d26dc382ef02330a
Author: Scott Wood <scottwood@freescale.com>
Date:	Wed Jun 24 17:23:49 2009 -0500

    nand_spl: Fix cmd_ctrl usage in nand_boot.c.

    When adding large page NAND support to this file, I had a misunderstanding
    about the exact semantics of NAND_CTRL_CHANGE (which isn't documented
    anywhere I can find) -- it is apparently just a hint to drivers,
    which aren't required to preserve the old value for subsequent
    non-"change" invocations.

    This change makes nand_boot.c no longer assume this.  Note that this
    happened to work by chance with some NAND drivers, which don't preserve
    the value, but treat 0 equivalently to NAND_CTRL_ALE.

    I don't have hardware to test this, so any testing is appreciated.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 98713d2663d5d30dde74f48f547114a2bfd9d463
Author: kevin.morfitt@fearnside-systems.co.uk <kevin.morfitt@fearnside-systems.co.uk>
Date:	Thu Jun 18 18:41:03 2009 +0100

    Bug-fix in drivers mtd nand Makefile

    The S3C2410 NAND driver source file is included in the makefile instead of
    the object file.

    Signed-off-by: Kevin Morfitt <kevin.morfitt@fearnside-systems.co.uk>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit b74ab737369bbbe66c15cbe6c0d0b6a351b00c96
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Mon May 18 16:07:22 2009 +0200

    nand_spl: read environment early, when booting from NAND using nand_spl

    Currently, when booting from NAND using nand_spl, in the beginning the default
    environment is used until later in boot process the dynamic environment is read
    out. This way environment variables that must be interpreted early, like the
    baudrate or "silent", cannot be modified dynamically and remain at their
    default values. Fix this problem by reading out main and redundand (if used)
    copies of the environment in the nand_spl code.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 378adfcdf4bbd77ee4cbc3276d4733e218308a21
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat May 16 14:27:40 2009 +0200

    mtd: nand: use loff_t for offset

    nand_util currently uses size_t which is arch dependent and not always a
    unsigned long.  Now use loff_t, as does the linux mtd layer.

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 8360b66bac9567701027a0087274d0c9b2fe8d6b
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun May 24 17:34:33 2009 +0200

    nand/onenand: Fix missing argument checking for "markbad" command

    The "nand markbad" and "onenand markbad" commands did not check if an
    argument was passed; if this was forgotten, no error was raised but
    block 0 was marked as bad.

    While fixing this bug, clean up the code a bit and allow to pass more
    than one block address, thus allowing to mark several blocks as bad
    in a single command invocation.

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit cd84423a09f3a08029fe41c1db96168debd0b51f
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon May 25 22:42:28 2009 -0400

    mtd: nand: new base driver for memory mapped nand devices

    The BF537-STAMP Blackfin board had a driver for working with NAND devices
    that are simply memory mapped.  Since there is nothing Blackfin specific
    about this, generalize the driver a bit so that everyone can leverage it.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit d27bc728cf35e7d7996fbd77154335e66615b213
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Mon May 18 16:06:45 2009 +0200

    env_nand: remove unused variable.

    Remove an unused "total" variable in multiple functions.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 154b5484ac7dcbcd0fb5ba388d930b02f87fa302
Author: David Brownell <dbrownell@users.sourceforge.net>
Date:	Sun May 10 15:43:01 2009 -0700

    davinci_nand chipselect/init cleanup

    Update chipselect handling in davinci_nand.c so that it can
    handle 2 GByte chips the same way Linux does:  as one device,
    even though it has two halves with independent chip selects.
    For such chips the "nand info" command reports:

      Device 0: 2x nand0, sector size 128 KiB

    Switch to use the default chipselect function unless the board
    really needs its own.  The logic for the Sonata board moves out
    of the driver into board-specific code.  (Which doesn't affect
    current build breakage if its NAND support is enabled...)

    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 496863b2440dd7cd69a1ad2443a9badd5f8968d1
Author: Sandeep Paulraj <s-paulraj@ti.com>
Date:	Sat May 9 12:35:20 2009 -0400

    NAND DaVinci: Update to ALE/CLE Mask values

    All DaVinci SOC's use a CLE mask of 0x10 and an ALE mask of 0x8
    except the DM646x. This was decided by the design team driving the design.
    This patch updates the CLE and ALE values for DM646x.
    Updated patches for DM646x will be sent shortly.
    This applies to u-boot-nand-flash git

    Signed-off-by: Sandeep Paulraj <s-paulraj@ti.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 0c1684437ef810c503df29e8d73f63191aa63862
Author: Sandeep Paulraj <s-paulraj@ti.com>
Date:	Wed Apr 29 09:47:09 2009 -0400

    ARM DaVinci: Changing ALE Mask Value

    The ALE mask used by DaVinci SOCs is wrong. The patch changes the mask value
    from '0xa' to '0x8'. This is the mask we use for all TI releases.

    Signed-off-by: Sandeep Paulraj <s-paulraj@ti.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 6e29ed8e576a6900c5d8dcde36b423ac576894dc
Author: David Brownell <dbrownell@users.sourceforge.net>
Date:	Tue Apr 28 13:19:53 2009 -0700

    davinci_nand: cleanup II (CONFIG_SYS_DAVINCI_BROKEN_ECC)

    Remove CONFIG_SYS_DAVINCI_BROKEN_ECC option.  It's not just nasty;
    it's also unused by any current boards, and doesn't even match the
    main U-Boot distributions from TI (which use soft ECC, or 4-bit ECC
    on newer chips that support it).

    DaVinci GIT kernels since 2.6.24, and mainline Linux since 2.6.30,
    match non-BROKEN code paths for 1-bit HW ECC.  The BROKEN code paths
    do seem to partially match what MontaVista/TI kernels (4.0/2.6.10,
    and 5.0/2.6.18) do ... but only for small pages.  Large page support
    is really broken (and it's unclear just what software it was trying
    to match!), and the ECC layout was making three more bytes available
    for use by filesystem (or whatever) code.

    Since this option itself seems broken, remove it.  Add a comment
    about the MV/TI compat issue, and the most straightforward way to
    address it (should someone really need to solve it).

    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit fcb774777562bb7bcdc53c608d0e6bae906ce0f6
Author: David Brownell <dbrownell@users.sourceforge.net>
Date:	Tue Apr 28 13:19:50 2009 -0700

    davinci_nand: cleanup I (minor)

    Minor cleanup for DaVinci NAND code:

     - Use I/O addresses from nand_chip; CONFIG_SYS_NAND_BASE won't
       be defined when there are multiple chipselect lines in use
       (as with common 2 GByte chips).

     - Cleanup handling of EMIF control registers
	* Only need one pointer pointing to them
	* Remove incorrect and unused struct supersetting them

     - Use the standard waitfunc; we don't need a custom version

     - Partial legacy cleanup:
	* Don't initialize every board like it's a DM6446 EVM
	* #ifdef a bit more code for BROKEN_ECC

    Sanity checked with small page NAND on dm355 and dm6446 EVMs;
    and large page on dm355 EVM (packaged as two devices, not one).

    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 8e5e9b940cdede0debe528cdd7edccccbb3ebf2a
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Jul 7 22:35:02 2009 +0200

    Coding style cleanup; update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit d318d0c44d8e91e937c4dad0c5b1d2f6bb9d9fd8
Author: Stefan Roese <sr@denx.de>
Date:	Mon Jun 29 13:30:50 2009 +0200

    UBI: Fix build problem noticed on Apollon (arm/testing repo)

    This patch fixes a build problem noticed on Apollon by using
    mtd_dev_by_eb() instead of "/" as done in the Linux UBI version.
    So this brings the U-Boot UBI version more in sync with the Linux
    version again.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 2efee52b09657e9353655b9dae9e1d1a67a2abe4
Author: Prafulla Wadaskar <prafulla@marvell.com>
Date:	Mon Jul 6 20:29:15 2009 +0530

    sf: Macronix additional chips supported

    new chips supported:-
    MX25L1605D, MX25L3205D, MX25L6405D, MX25L12855E
    out of which MX25L6405D and MX25L12855E tested on Kirkwood platforms

    Modified the Macronix flash support to use 2 bytes of device id instead of 1
    This was required to support MX25L12855E

    Signed-off-by: Piyush Shah <spiyush@marvell.com>
    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit dd54126715b89ed0c43322aa78b0dad306f043b6
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Fri Jun 19 03:27:28 2009 -0400

    sf: sst: add sst25vf###b ids

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 7d907f0ea993b179a197d8db2a36f122bc673c2d
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Fri Jun 19 03:20:06 2009 -0400

    sf: sst: fix sector size

    Looks like when I was encoding the sector sizes, I forgot to divide by 8
    (due to the stupid marketing driven process that declares all sizes in
    useless megabits and not megabytes).

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit ceb70b466e75ceb1a621b6163f7e31116bfc8094
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Jul 5 01:06:06 2009 +0200

    nhk8815: fix MAKEALL

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit d08e5ca301b69ab77ecdd34e2b06aee30d6057d1
Author: Magnus Lilja <lilja.magnus@gmail.com>
Date:	Sat Jul 4 10:31:24 2009 +0200

    MX31: Add NAND SPL boot support to i.MX31 PDK board.

    Signed-off-by: Magnus Lilja <lilja.magnus@gmail.com>

commit 78eabb90b793fafe875a7469526d1715fa56cbb4
Author: Prafulla Wadaskar <prafulla@marvell.com>
Date:	Mon Jun 29 20:55:54 2009 +0530

    arm: Kirkwood: arch specific updated for ehci-Kirkwood driver support

    This patch abstracts Kirkwood arch specific changes to support ehci-kirkwood driver

    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>

commit 095a460b49022e64df76134300643606e3acb4e9
Author: Alessandro Rubini <rubini@unipv.it>
Date:	Mon Jun 29 10:52:37 2009 +0200

    arm nomadik: use 1000 as HZ value and rewrite timer code

    This sets CONFIG_SYS_HZ to 1000 as required, and completely rewrites
    timer code, which is now both correct and much smaller.  Unused
    functions like udelay_masked() have been removed as no driver uses
    them, even the ones that are not currently active for this board.
    mtu.h is copied literally from the kernel sources.

    Signed-off-by: Alessandro Rubini <rubini@unipv.it>
    Acked-by: Andrea Gallo <andrea.gallo@stericsson.com>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit f7aa59b29a451cc502078a9e4ba32345a4250c05
Author: Alessandro Rubini <rubini@unipv.it>
Date:	Mon Jun 22 09:18:57 2009 +0200

    arm nomadik: allow Nand and OneNand to coexists

    The evaluation kit has both Nand and OneNand, both drivers are there
    and the two configurations only select a different default for the
    jffs partition. This adds the OneNand driver and cleans up storage.

    Signed-off-by: Alessandro Rubini <rubini@unipv.it>
    Acked-by: Andrea Gallo <andrea.gallo@stericsson.com>

commit fd14c41a861cd38ee2fe3abd61d59b57b4eb23c9
Author: Alessandro Rubini <rubini@unipv.it>
Date:	Mon Jun 22 09:18:47 2009 +0200

    arm nomadik: cleanup reset

    There is only one public release of the Nomadik chip, so the ifdef
    in reset code as well as a define in the config file are not needed

    Signed-off-by: Alessandro Rubini <rubini@unipv.it>
    Acked-by: Andrea Gallo <andrea.gallo@stericsson.com>

commit ee1363f2da3996bafdecdd8f4e48862ebff3f271
Author: Alessandro Rubini <rubini@unipv.it>
Date:	Mon Jun 22 09:18:37 2009 +0200

    arm nomadik: rename board to nhk8815

    This is an error in my side in the initial submission: nobody
    calls it ""nmdk8815", it's "nomadik hardware kit", nhk8815, instead.

    Signed-off-by: Alessandro Rubini <rubini@unipv.it>
    Acked-by: Andrea Gallo <andrea.gallo@stericsson.com>

commit 040f8f63e922bbfb8ba0958bf637f11a917f5c38
Author: Stefano Babic <sbabic@denx.de>
Date:	Wed Jul 1 20:40:41 2009 +0200

    xscale: add support for the polaris board

    The Polaris board is based on the TrizepsIV module of
    Keith & Koep (http://www.keith-koep.com).

    Signed-off-by: Stefano Babic <sbabic@denx.de>

commit 88bd97501314683b87f3f1edcf55b347c041b722
Author: Stefano Babic <sbabic@denx.de>
Date:	Wed Jul 1 04:33:56 2009 +0200

    xscale: fix USB initialization for Trizepsiv module

    Due to change in the usb_board_init() prototype, the USB for
    the TrizepsIV was not correctly initialized.
    Removed dummy print from usb_board_stop().

    Signed-off-by: Stefano Babic <sbabic@denx.de>

commit 0b785ddd60120cfb74d18e58c56054238219f6db
Author: Prafulla Wadaskar <prafulla@marvell.com>
Date:	Wed Jul 1 20:34:51 2009 +0200

    net: merge bugfix: Marvell Kirkwood gigabit ethernet driver

    This patch looks okay on u-boot-net.git/next branch
    but when it was merged to u-boot.git/master the last line is missing

    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>
    Acked-by: Ben Warren <biggerbadderben@gmail.com>

commit 33b1d3f43a16fbb79004075ce89ae4e618b288a2
Author: Daniel Gorsulowski <Daniel.Gorsulowski@esd.eu>
Date:	Tue Jun 30 21:03:37 2009 +0200

    at91: Add esd gmbh MEESC board support

    This patch adds support for esd gmbh MEESC board.
    The MEESC is based on an Atmel AT91SAM9263 SoC.

    Signed-off-by: Daniel Gorsulowski <Daniel.Gorsulowski@esd.eu>

commit 21761540b43c7086c75ee9afb412da1e5ddde2e9
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Tue Jun 30 21:03:35 2009 +0200

    ARM: Update mach-types

    update against linux v2.6.30

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 45627fce18139a74e0755124d27376b520db156c
Author: Daniel Gorsulowski <Daniel.Gorsulowski@esd.eu>
Date:	Tue Jun 30 23:03:33 2009 +0200

    at91: Add CAN init function

    To enable CAN init, CONFIG_CAN has to be defined in the board config file
    and at91_can_hw_init() has to be called in the board specific code.

    CAN is available on AT91SAM9263 and AT91CAP9 SoC.

    Signed-off-by: Daniel Gorsulowski <Daniel.Gorsulowski@esd.eu>

commit 2e23008e5dbde7fe4c4758bee5a393e1db796cdf
Author: Simon Kagstrom <simon.kagstrom@netinsight.net>
Date:	Tue Jun 30 23:03:31 2009 +0200

    arm: Kirkwood: Correct header define

    Correct define typo (. -> ,)

    Signed-off-by: Simon Kagstrom <simon.kagstrom@netinsight.net>

commit 8449f287f5c53d59db13c3c512e6bd1750b692d1
Author: Magnus Lilja <lilja.magnus@gmail.com>
Date:	Wed Jul 1 01:07:55 2009 +0200

    MX31: Add basic support for Freescale i.MX31 PDK board.

    Add support for Freescale's i.MX31 PDK board (a.k.a. 3 stack board).

    This patch assumes that some other program performs the actual
    NAND boot.

    Signed-off-by: Magnus Lilja <lilja.magnus@gmail.com>
    Acked-by: Fabio Estevam <fabioestevam@yahoo.com>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 8d460a573e2a2ac4834636903865a0428ad0e629
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Tue Jun 23 00:12:01 2009 +0200

    S3C24x0: extract interrupts from timer

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit c8badbe500a752f42049e51042767ee62ea714e0
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Jun 28 14:14:21 2009 +0200

    dm355/pm9261: add missing CONFIG_NET_MULTI

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 798bf9a9ade1cfbe85a16d180cad720927d8e10a
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Tue Jun 23 00:12:01 2009 +0200

    arm920t/interrupts: Move conditional compilation to Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 06e758e75c79ce8761866bf8165c443584a20893
Author: Kim, Heung Jun <riverful@gmail.com>
Date:	Sat Jun 20 11:02:17 2009 +0200

    move L2 cache enable/disable function to cache.c in the omap3 SoC directory

    Signed-off-by: HeungJun, Kim <riverful.kim@samsung.com>
    CC: Dirk Behme <dirk.behme@googlemail.com>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit d583ef5147066d3609de21f3beebbab99a19bad4
Author: Thomas Lange <thomas@corelatus.se>
Date:	Sat Jun 20 11:02:17 2009 +0200

    ARM DaVinci: EMIF settings

    NAND module should not modify EMIF registers unrelated to CS2
    that is used for NAND, i.e. do not modify EWAIT config register
    or registers for other Chip Selects.

    Without this patch, EMIF configurations made in board_init()
    will be invalidated.

    Signed-off-by: Thomas Lange <thomas@corelatus.se>

commit 2600b8571a26c10c1c43401d7af38e2333cc5381
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Jun 20 11:02:17 2009 +0200

    versatile: config coding style cleanup

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Cc: Peter Pearse <peter.pearse@arm.com>

commit 4efb77d41f9c5d93f0f92dda60e742023fa03c72
Author: Prafulla Wadaskar <prafulla@marvell.com>
Date:	Sat Jun 20 11:01:53 2009 +0200

    arm: Kirkwood: Basic SOCs support

    Kirkwood family controllers are highly integrated SOCs
    based on Feroceon-88FR131/Sheeva-88SV131/arm926ejs cpu core.

    SOC versions supported:-
    1) 88F6281-A0	define CONFIG_KW88F6281_A0
    2) 88F6192-A0	define CONFIG_KW88F6192_A0

    Other supported features:-
    1) get_random_hex() fucntion
    2) PCI Express port initialization
    3) NS16550 driver support

    Contributors:
    Yotam Admon <yotam@marvell.com>
    Michael Blostein <michaelbl@marvell.com

    Reviewed-by: Ronen Shitrit <rshitrit@marvell.com>
    Acked-by: Stefan Rose <sr@denx.de>
    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>

commit 5c3d5817e5e68b828c165c501c215e793dc63aac
Author: Prafulla Wadaskar <prafulla@marvell.com>
Date:	Sat Jun 20 11:01:52 2009 +0200

    arm: generic cache.h for ARM architectures

    This patch is required for Kirkwood SoC support
    may be used by other ARM architectures

    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>

commit 9c8c706c92e53433a871a563946c38075d76504d
Author: Matthias Ludwig <mludwig@ultratronik.de>
Date:	Sat Jun 20 11:01:50 2009 +0200

    OMAP3EVM: fix typo. replace CS6 by CS5, no functionality change

    Signed-off-by: Matthias Ludwig <mludwig@ultratronik.de>

commit 0aafde1dc76d6d65d6be10bf499ec86d9ffee8b9
Author: Sedji Gaouaou <sedji.gaouaou@atmel.com>
Date:	Wed Jun 24 08:32:09 2009 +0200

    at91sam9260/9263: add back up for the rst(reset controller).

    On the boards at91sam9260ek, at91sam9263ek and afed9260, the rstc register was
    set to 0 after being set to 500 ms for the PHY reset.
    Do backup the old reset length and restore it after the MACB initialisation.

    Signed-off-by: Sedji Gaouaou <sedji.gaouaou@atmel.com>
    Signed-off-by: Stelian Pop <stelian@popies.net>

commit afb0b1315c048ce2b1f35f0183b8b118ad0c14e1
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Jul 3 12:45:44 2009 -0500

    fsl: Fix compiler warnings from gcc-4.4 in sys_eeprom code

    sys_eeprom.c: In function 'do_mac':
    sys_eeprom.c:323: warning: dereferencing type-punned pointer will break strict-aliasing rules
    sys_eeprom.c: In function 'mac_read_from_eeprom':
    sys_eeprom.c:395: warning: dereferencing type-punned pointer will break strict-aliasing rules

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit e94e460c6e8741f42dab6d8dd4b596ba5d9d79ae
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Tue Jun 30 17:15:51 2009 -0500

    83xx: Add support for fsl_dma driver

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Reviewed-by: Ira W. Snyder <iws@ovro.caltech.edu>
    Tested-by: Ira W. Snyder <iws@ovro.caltech.edu>
    Acked-by: Kim Phillips <kim.phillips@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 9adda5459ca62120c0c50b82b766fe1cf6925bbf
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Tue Jun 30 17:15:50 2009 -0500

    83xx: Replace CONFIG_ECC_INIT_VIA_DDRC references

    Update 83xx architecture's CONFIG_ECC_INIT_VIA_DDRC references to
    CONFIG_ECC_INIT_VIA_DDRCONTROLLER, which other Freescale architectures
    use

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Acked-by: Kim Phillips <kim.phillips@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 039594a4301dadceb267db5e8b9c8c78b1bb86b5
Author: Poonam Aggrwal <poonam.aggrwal@freescale.com>
Date:	Thu Jul 2 16:15:01 2009 +0530

    8xxx: Second UART port added for MPC85xx, MPC83xx, MPC86xx processors

    Defining the next two configs allows to switch the serial port from the
    console using the setenv stdin and stdout
      1. #define CONFIG_SERIAL_MULTI 1 /* Enable both serial ports */
      2. #define CONFIG_SYS_CONSOLE_IS_IN_ENV /* determine from environment */

    Signed-off-by: Poonam Aggrwal <poonam.aggrwal@freescale.com>
    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 546b1032907df70f2dd0f98f3ad09885a88411e5
Author: Poonam Aggrwal <poonam.aggrwal@freescale.com>
Date:	Thu Jul 2 16:14:40 2009 +0530

    85xx: Adds GPIO registers to MPC85xx Memory Map.

    Signed-off-by: Poonam Aggrwal <poonam.aggrwal@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 5da6f806b400372b8a0664f3282c9e83a402eb66
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Tue Jun 30 17:26:01 2009 -0500

    86xx: XPedite5170 board support

    Initial support for Extreme Engineering Solutions XPedite5170 -
    a MPC8640-based 3U VPX single board computer with a PMC/XMC
    site.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit e66f38da8434425aca8df08d06d9ef41b3478d3b
Author: Timur Tabi <timur@freescale.com>
Date:	Wed Jul 1 16:51:59 2009 -0500

    fsl_ddr: Fix DDR3 calculation of rank density with 8GB or more

    The calculate for rank density in compute_ranksize() for DDR3 used all
    integers for the expression, so the result was also a 32-bit integer, even
    though the 'bsize' variable is a u64.  Fix the expression to calculate a
    true 64-bit value.

    Signed-off-by: Timur Tabi <timur@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 6af015b86b86d94de7ca1b23a3890bc93a50c2ab
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Tue Jun 30 17:15:49 2009 -0500

    fsl_dma: Make DMA transactions snoopable

    Make DMA transactions snoopable so that CPUs can keep caches up-to-date.
    This allows dma transactions to be used for operations such as memory
    copies without any additional cache control operations.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 0d595f76bc9c7c8dff5bd31dffed87a840a03c56
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Tue Jun 30 17:15:48 2009 -0500

    fsl_dma: Break out common memory initialization function

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 79f4333ceb059049b3ee560167d6cbaec493695f
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Tue Jun 30 17:15:47 2009 -0500

    8xxx: Move dma_init() call to common code

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 191c7118592cd182f2dc7f46b4f72d9bed0e2c76
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Tue Jun 30 17:15:46 2009 -0500

    fsl_dma: Move dma function prototypes to common header file

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 7892f619d40f4196e41e7114c5dfee9fad0f572f
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Tue Jun 30 17:15:45 2009 -0500

    8xxx: Rename dma_xfer() to dmacpy()

    Also update dmacpy()'s argument order to match memcpy's and use
    phys_addr_t/phy_size_t for address/size arguments

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 484919cf3351212ebf748b9b13ece1ddaf7e7d1c
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Tue Jun 30 17:15:44 2009 -0500

    fsl_dma: Fix Channel Start bug in dma_check()

    The Channel Start (CS) bit in the Mode Register (MR) should actually be
    cleared as the comment in the code suggests.  Previously, CS was being
    set, not cleared.

    Assuming normal operation of the DMA engine, this change shouldn't have
    any real affect.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 51402ac12be9a0025f16db51fbde7c050a54e5fe
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Tue Jun 30 17:15:43 2009 -0500

    fsl_dma: Add support for arbitrarily large transfers

    Support DMA transfers larger than the DMA controller's limit of
    (2 ^ 26 - 1) bytes

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit a730393a362741c318b21771b8d7b2647e546c3e
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Tue Jun 30 17:15:42 2009 -0500

    fsl_dma: Use proper I/O access functions

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 9c06071a6077ba95e9d43226156e39567d5d064a
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Tue Jun 30 17:15:41 2009 -0500

    fsl_dma: Add bitfield definitions for common registers

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 017f11f68ef543e866be033bcb7b8058a8a380d8
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Tue Jun 30 17:15:40 2009 -0500

    8xxx: Break out DMA code to a common file

    DMA support is now enabled via the CONFIG_FSL_DMA define instead of the
    previous CONFIG_DDR_ECC

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 6bbced671719518d0e28ff422623cd7ce396cbda
Author: Mark Jackson <mpfj-list@mimc.co.uk>
Date:	Mon Jun 29 15:59:10 2009 +0100

    Atmel LCD driver GUARDTIME fix

    This patch allows the guard time parameter to be set in
    the Atmel LCDC driver.

    By default, the previous value of 1 is used, unless the
    setting is defined elsewhere.

    Signed-off-by: Mark Jackson <mpfj@mimc.co.uk>

commit 29c35182462feea09f322e51913759a53359a3e0
Author: Roy Zang <tie-fei.zang@freescale.com>
Date:	Tue Jun 30 13:56:23 2009 +0800

    85xx: Add pci e1000 Ethernet support for P2020 board

    Signed-off-by: Roy Zang <tie-fei.zang@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 156984a3611c28093919d3e3c042f722b5548253
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Jun 18 08:39:42 2009 -0500

    8xxx: Fix PCI bus address setup for 36-bit configs

    We want the outbound PCI memory map to end at the 4G boundary so we
    can maximize the amount of space available for inbound mappings if
    we have large amounts of memory.

    This matches the device tree setup in the kernel for the 36-bit physical
    configs for the platforms that have one (MPC8641 HPCN & MPC8572 DS).

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 480f61790565d77432b70b4016b73f2ae27d530f
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Jun 18 08:23:01 2009 -0500

    86xx: Add CPU_TYPE_ENTRY support

    Unify with 83xx and 85xx and use CPU_TYPE_ENTRY.  We are going to use
    this to convey the # of cores and DDR width in the near future so its
    good to keep in sync.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 98ab14e858bf60306d0aa3f0df5a7a5f88264aff
Author: Peter Meerwald <pmeerw@pmeerw.net>
Date:	Mon Jun 29 15:48:33 2009 -0400

    Blackfin: TWI/I2C: fix pure writes

    If doing a pure write with register address and data (not a read/write
    combo transfer), we don't set the initial transfer length properly which
    ends up causing only the register address to be transferred.

    While we're here, fix the i2c_write() parameter description of the buffer.

    Signed-off-by: Peter Meerwald <pmeerw@pmeerw.net>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 5710de45808eb8f1cc34b51dc3e67e2422113249
Author: Prafulla Wadaskar <prafulla@marvell.com>
Date:	Sat May 30 01:13:33 2009 +0530

    spi: Add Marvell Kirkwood SPI driver

    This patch adds a SPI driver for the Marvell Kirkwood SoC's.

    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>

commit 6bde171a4c4116cee179167cb65335a28f99932d
Author: Minkyu Kang <mk7.kang@samsung.com>
Date:	Thu Jun 25 19:21:33 2009 +0900

    s3c64xx: move the reset_cpu function

    Because of the reset_cpu is soc specific, should be move to soc
    And read reset value from SYS_ID register instead of hard code
    this patch also supports s3c6410

    Signed-off-by: Minkyu Kang <mk7.kang@samsung.com>

commit 576afd4faeba1519bcb8c0083c3e4d45e5643a48
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun May 17 00:58:37 2009 +0200

    integrator: merge integratorap and integratorcp

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Acked-by: Peter Pearse <peter.pearse@arm.com>

commit 46937b27427688a56bf7f5944a92d962dc43c3fa
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun May 17 00:58:36 2009 +0200

    integratorap/cp: use cfi driver

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Acked-by: Peter Pearse <peter.pearse@arm.com>

commit de7a01abd8aeb167946f391327e1e0d1e01f90c9
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun May 17 00:58:36 2009 +0200

    integratorap/cp/versatile: remove non used functions

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Acked-by: Peter Pearse <peter.pearse@arm.com>

commit f54851a6e3844b7e01581b5a9681f294118b7529
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun May 17 00:58:36 2009 +0200

    integratorcp: split timer support

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Acked-by: Peter Pearse <peter.pearse@arm.com>

commit 2bcef0723ea11c4e9bfbcfff2a93ec2da520b5f1
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun May 17 00:58:36 2009 +0200

    integratorap: split timer support

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Acked-by: Peter Pearse <peter.pearse@arm.com>

commit 86baa085c52a7f3377a88074679c5aca9b9e4d38
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun May 17 00:58:36 2009 +0200

    integratorap: split pci support

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Acked-by: Peter Pearse <peter.pearse@arm.com>

commit 379e9fc0a319b8f6ae16d763590bf023f3afb87c
Author: Ilya Yanok <yanok@emcraft.com>
Date:	Mon Jun 8 04:12:50 2009 +0400

    arm: add support for CONFIG_GENERIC_MMC

    Signed-off-by: Ilya Yanok <yanok@emcraft.com>

commit 47d19da4d3f9ac4787abe9dee32406478424be52
Author: Ilya Yanok <yanok@emcraft.com>
Date:	Mon Jun 8 04:12:46 2009 +0400

    serial_mx31: allow it to work with mx27 too and rename to serial_mxc

    UART hardware on i.MX27 is the same as on the i.MX31 so we just
    need to provide the driver with correct address of the registers.

    Signed-off-by: Ilya Yanok <yanok@emcraft.com>

commit 1dc4da749dbde27ec862f5b65703e8e4541fbba3
Author: Ilya Yanok <yanok@emcraft.com>
Date:	Mon Jun 8 04:12:45 2009 +0400

    mx27: basic cpu support

    This patch adds generic code to support Freescale's i.MX27 SoCs.

    Signed-off-by: Ilya Yanok <yanok@emcraft.com>

commit dd2f6965a6c71f6f711ec98827880152e022c236
Author: Magnus Lilja <lilja.magnus@gmail.com>
Date:	Sat Jun 13 20:50:03 2009 +0200

    i.MX31: Create a common device file.

    Signed-off-by: Magnus Lilja <lilja.magnus@gmail.com>

commit 958f7da7887fea4a2091ae60944d62c1708c2c55
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Jun 13 20:50:02 2009 +0200

    ARM: Add macros.h to be used in assembler file.

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 40c642bc19b9fa2906e3172487a522fee456340b
Author: Magnus Lilja <lilja.magnus@gmail.com>
Date:	Sat Jun 13 20:50:01 2009 +0200

    MX31: Add NAND SPL for i.MX31.

    This patch adds the NAND SPL framework needed to boot i.MX31 boards
    from NAND.

    It has been tested on a i.MX31 PDK board with large page NAND. Small
    page NANDs should work as well, but this has not been tested.

    Note: The i.MX31 NFC uses a non-standard layout for large page NANDs,
    whether this is compatible with a particular setup depends on how
    the NAND device is programmed by the flash programmer (e.g. JTAG
    debugger).

    The patch is based on the work by Maxim Artamonov.

    Signed-off-by: Maxim Artamonov <scn1874@yandex.ru>
    Signed-off-by: Magnus Lilja <lilja.magnus@gmail.com>

commit df81238b3e27a791da996a9208402ac8f40b9862
Author: Magnus Lilja <lilja.magnus@gmail.com>
Date:	Sat Jun 13 20:50:00 2009 +0200

    ARM1136: Introduce CONFIG_PRELOADER macro.

    Currently CONFIG_ONENAND_IPL is used in a number of #ifdef's
    in start.S. In preparation for adding support for NAND SPL
    the macro CONFIG_PRELOADER is introducted and replaces the
    CONFIG_ONENAND_IPL in start.S.

    Signed-off-by: Magnus Lilja <lilja.magnus@gmail.com>

commit 8096c51fd4e611ed666dbe77767e81af5d94fc7b
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Jun 13 12:50:04 2009 +0200

    at91: unify nor boot support

    the lowlevel init sequence is the same so unify it

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 1b3b7c640d04df2ba9a9d947117d112a75fee7f4
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Jun 13 12:48:36 2009 +0200

    at91sam9263ek: add nor flash support

    this will allow you to store use it for the env and to boot directly U-Boot from

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 329492329700812c6df275aa0fda09d609cd0fd4
Author: Ilko Iliev <iliev@ronetix.at>
Date:	Fri Jun 12 21:20:39 2009 +0200

    at91: add support for the PM9261 board of Ronetix GmbH

    The PM9261 board is based on the AT91SAM9261-EK board.

    Here is the page on Ronetix website:
    http://www.ronetix.at/starter_kit_9261.html

    Signed-off-by: Ilko Iliev <iliev@ronetix.at>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 01550a2b650fbabc03334f9eadcc6083601a2414
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Jun 12 21:20:38 2009 +0200

    pm9263: use macro instead of hardcode value for the lowlevel_init

    optimize a few the RAM init

    Signed-off-by: Ilko Iliev <iliev@ronetix.at>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 7a11c7f9747240dc770954d320569596c0fbcb50
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Jun 12 21:20:37 2009 +0200

    pm9263: lowlevel init update

    move PSRAM init to pm9263.c
    this will allow us after to make the nor lowlevel_init generic

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 3e88337b225bf796f6df21d0a7f591530e9d4ce0
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Jun 15 00:25:19 2009 -0400

    Blackfin: move ALL += u-boot.ldr to blackfin_config.mk

    The way the ALL variable is used allows for config.mk's to add more
    targets themselves without having to clutter up the top level Makefile.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit afac8b07172d7e4a65f86ce1ec4c783a6165ba1f
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Jun 14 22:29:35 2009 -0400

    Blackfin: fix SPI flash speed define name

    The SPI flash define is named CONFIG_SF_DEFAULT_SPEED, not
    CONFIG_SF_DEFAULT_HZ, so fix the typos in the Blackfin boards.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 9ae55ccf601de7a5b75eb418f3fc3d5eca92c106
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Jun 14 22:26:31 2009 -0400

    Blackfin: enable -O2 in lib_generic/ for ADI/Bluetechnix boards

    Building the compression code in lib_generic/ with -O2 rather than -Os
    gives a nice speed boost without too much code size increase.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit fea63e2a44f0db51d2e39ee7793e8c6d7f3cf5d4
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Jun 14 21:23:27 2009 -0400

    Blackfin: bf548-ezkit: bump up monitor size

    The latest version of U-Boot got a bit fatter in the BSS section which
    caused overflows in the RAM region, so increase the monitor size.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit bc43a8d8994c2f0be29e09b13b15da7f79e2c081
Author: Vivi Li <vivi.li@analog.com>
Date:	Fri Jun 12 10:53:22 2009 +0000

    Blackfin: bf533-stamp/bf537-stamp: fix env settings for SPI flash

    The SPI flash layer is much stricter about sector usage than the eeprom
    layer we used to use, so update the env settings to better match the
    sector alignment of the flashes we use.

    Signed-off-by: Vivi Li <vivi.li@analog.com>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 63cb0f4eb2d3cf15e7a1add19d1289f4ae75816c
Author: Vivi Li <vivi.li@analog.com>
Date:	Fri Jun 12 10:33:23 2009 +0000

    Blackfin: bump up default JTAG console timeout

    The debug tools that interface with the other side of the JTAG console
    got much slower when generalizing things, so bump up the default timeout
    value on the U-Boot side to cope.  Hopefully at some point we can improve
    the debug tools to speed things back up.

    Signed-off-by: Vivi Li <vivi.li@analog.com>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit c11ff779f4e0e0c7edc322e84dd229ad28709595
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Jun 1 19:08:33 2009 -0400

    Blackfin: add jtagconsole helper script

    This script is similar to the netconsole script, but instead works with
    the JTAG console device driver that exists on Blackfin parts.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 60f61e6d7655400bb785a2ef637581679941f6d1
Author: Remy Bohmer <linux@bohmer.net>
Date:	Sat May 2 21:49:18 2009 +0200

    Convert DM9000 driver for CONFIG_NET_MULTI

    All drivers need to be converted to CONFIG_NET_MULTI.
    This patch converts the dm9000 driver.

    Signed-off-by: Thomas Smits <ts.smits@gmail.com>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 9131589ada4dda0718604d0a425ca46e52775f6e
Author: Prafulla Wadaskar <prafulla@marvell.com>
Date:	Sun Jun 14 22:33:46 2009 +0530

    net: Add Marvell Kirkwood gigabit ethernet driver

    This patch adds a egiga driver for the Marvell Kirkwood SoC's.

    Contributors:
    Yotam Admon <yotam@marvell.com>
    Michael Blostein <michaelbl@marvell.com

    Reviewed-by: Ronen Shitrit <rshitrit@marvell.com>
    Acked-by: Stefan Rose <sr@denx.de>
    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 7835f4b94927ecb5affd99aad62592108db606ad
Author: s-paulraj@ti.com <s-paulraj@ti.com>
Date:	Tue May 12 11:45:34 2009 -0400

    DaVinci Network Driver Updates

    Different flavours of DaVinci SOC's have differences in their EMAC IP
    This patch does the following
    1) Updates base addresses for DM365
    2) Updates MDIO frequencies for DM365 and DM646x
    3) Update EMAC wrapper registers for DM365 and DM646x

    Patch applies to u-boot-net git. the EMAC driver itself
    will be updated shortly to add support for DM365 and DM646x

    Signed-off-by: Sandeep Paulraj <s-paulraj@ti.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 44578bea14e49035331a8f0e000e935e0d830ff4
Author: Richard Retanubun <RichardRetanubun@RuggedCom.com>
Date:	Tue May 26 08:29:29 2009 -0400

    Subject: [PATCH] [repost] Standardize the use of MCFFEC_TOUT_LOOP as a udelay(1) loop counter.

     From 584b5fbd4abfc43f920cc1c329633e03816e28be Mon Sep 17 00:00:00 2001
    From: Richard Retanubun <RichardRetanubun@RuggedCom.com>
    Date: Wed, 20 May 2009 18:26:01 -0400
    Subject: [PATCH] Standardize the use of MCFFEC_TOUT_LOOP as a udelay(1) loop counter.

    Signed-off-by: Richard Retanubun <RichardRetanubun@RuggedCom.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit c9a2aab1512fb2d132670fff9c27656d2eb949cd
Author: Norbert van Bolhuis <nvbolhuis@aimvalley.nl>
Date:	Thu Jun 4 09:39:48 2009 +0200

    A VLAN tagged DHCP request/discover is 4 bytes short

    The problem is that BOOTP_SIZE uses ETHER_HDR_SIZE which is 14 bytes.
    If sending a VLAN tagged frame (when env variable vlan is set) this
    should be VLAN_ETHER_HDR_SIZE=18 which is what NetSetEther returns.

    Signed-off-by: Norbert van Bolhuis <nvbolhuis@aimvalley.nl>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 6e0d2fc7fe0dcfa2f51ab8931d706940ee364193
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Tue Apr 28 16:39:19 2009 -0700

    Remove support for non-CONFIG_NET_MULTI on PPC4xx EMAC

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 8453587ef9137daf98b7c9cf4f3b865f4039cea0
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Tue May 26 00:34:07 2009 -0700

    Switched davinci_emac Ethernet driver to use newer API

    Added CONFIG_NET_MULTI to all Davinci boards
    Removed all calls to Davinci network driver from board code
    Added cpu_eth_init() to cpu/arm926ejs/cpu.c

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 8cc13c13f1d154c8fa8fff56cea357ed38af76bf
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Mon Apr 27 23:19:10 2009 -0700

    Initial cleanup of Davinci Ethernet driver

     Removed pointless #ifdefs
     Moved functions around in file in preparation for switch to newer API

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 09cdd1b9b01450e91786d26ff3c866dc9c8d8d6b
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Tue May 26 00:17:59 2009 -0700

    Moved Davinci Ethernet driver to drivers/net

    This driver has been renamed davinci_emac.c

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 6f51deb7f298413cfcb0a36d24c97ef7dd69d48f
Author: Prafulla Wadaskar <prafulla@marvell.com>
Date:	Tue May 19 01:40:16 2009 +0530

    Marvell MV88E61XX Switch Driver support

    Chips supported:-
    1. 88E6161 6 port gbe swtich with 5 integrated PHYs
    2. 88E6165 6 port gbe swtich with 5 integrated PHYs
    2. 88E6132 3 port gbe swtich with 2 integrated PHYs
    Platform specific configuration supported for:-
    default or router port vlan configuration
    led_init configuration
    mdip/n polarity reversal configuration

    Note: This driver is supported and tested against
    kirkwood egiga interface

    Contributors:
    Yotam Admon <yotam@marvell.com>
    Michael Blostein <michaelbl@marvell.com

    Reviewed by: Ronen Shitrit <rshitrit@marvell.com>
    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 091dc9f6adaf572b067ae91af92c4e7db33d7903
Author: Zach LeRoy <zleroy@xes-inc.com>
Date:	Fri May 22 10:26:33 2009 -0500

    tsec: Add support for BCM5482S PHY

    Signed-off-by: Zach LeRoy <zleroy@xes-inc.com>
    Acked-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 9ff67e5e4c719556d57f136a6453f8e4798d85c0
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Jun 14 06:29:07 2009 -0400

    Blackfin: unify u-boot linker scripts

    All the Blackfin linker scripts were duplicated across the board dirs with
    no difference save from the semi-often used ENV_IS_EMBEDDED option.  So
    unify all of them in the lib_blackfin/ dir and for the few boards that
    need to embedded the environment directly, add a LDS_BOARD_TEXT define for
    them to customize via their board config file.  This is much simpler than
    forcing them to duplicate the rest of the linker script.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit f52efcae98cbb8a39f1d0535df8d9646a776af9e
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Fri May 29 17:02:37 2009 -0400

    Blackfin: bf518f-ezbrd: enable SST SPI flash driver

    The BF51xF parts have an internal SST SPI flash, so make sure the driver is
    enabled by default so we can access it.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit f348ab85f741dc98b2d202c04b5f430eace94925
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Fri Apr 24 17:22:40 2009 -0400

    Blackfin: convert specific pre/post config headers to common method

    The Blackfin port was using asm/blackfin-config-{pre,post}.h to setup
    common Blackfin board defines.  The common method now is to use config.h,
    so convert blackfin-config-post.h to that.	Rename the still Blackfin
    specific blackfin-config-pre.h to config-pre.h so the naming conventions
    at least line up.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 7c7503ee6cd03c0f3b16e98d33d5aa23b30d65b1
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Fri Apr 24 17:11:47 2009 -0400

    Blackfin: enable LZMA for all ADI boards

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 0e63dc0679451d48f8b727c543ce48b488f7a33f
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Apr 13 05:52:45 2009 -0400

    Blackfin: make default ADI env more flexible

    Allow boards to easily override the root= and default bootcmd, allow
    people to tweak the file used in default bootcmds at runtime via one env
    var, and add a stock nandboot command.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 0f52b560f19623ec651f9b9b40405d138ec251d3
Author: Hoan Hoang <hnhoan@i-syst.com>
Date:	Sun Jan 18 22:44:17 2009 -0500

    Blackfin: ibf-dsp561: new board port

    Signed-off-by: Hoan Hoang <hnhoan@i-syst.com>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 3088189a15d219c48fd7e71623ca4daa08b80b59
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Oct 12 23:28:33 2008 -0400

    Blackfin: blackstamp: new board port

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 59ac9729700db1d4446c1a6db3ffe38398b7abb2
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Oct 12 23:22:25 2008 -0400

    Blackfin: bf537-srv1: new board port

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit d7fdc1410b5fa5ef623b35a283733b6bcee3753b
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Oct 12 23:16:52 2008 -0400

    Blackfin: bf537-minotaur: new board port

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit cb4b5e874f3c9b882a6f4394bbebbbd91fd01bbf
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Oct 12 23:08:03 2008 -0400

    Blackfin: bf537-pnav: new board port

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 59e4be945b6469e31eee721e0bcdccf4940d75ac
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Oct 12 21:55:45 2008 -0400

    Blackfin: cm-bf527: new board port

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 8b219cf07c186cc9d97354cf4b14f24a53d193c5
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Oct 12 21:54:07 2008 -0400

    Blackfin: cm-bf548: new board port

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 9417d9a21384279308abe5b4dd8dfd418742484c
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Oct 12 21:49:28 2008 -0400

    Blackfin: tcm-bf537: new board port

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit e548321af00e869af7194896576beb9b68457ff7
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Oct 12 21:45:05 2008 -0400

    Blackfin: cm-bf561: new board port

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 8a9bab08a6fe93e5f3bf57b90438f1d2a67fad3c
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Oct 12 21:41:06 2008 -0400

    Blackfin: cm-bf537e: new board port

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit e82d8a1f028bedb12c4ab88a35a935010d92898c
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Oct 12 21:36:22 2008 -0400

    Blackfin: cm-bf533: new board port

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit dd14af7640f7d48d8e9768eeeb09592e6f94ed38
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Nov 27 16:50:32 2008 -0500

    Blackfin: new spibootldr command

    Newer Blackfin parts can an on-chip ROM that can boot LDRs over SPI flashes,
    so add a new 'spibootldr' command to take advantage of it.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 67c2829b646bb5b859088b36fbc89e971b9c1960
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Oct 6 04:42:33 2008 -0400

    Blackfin: support embedding the environment into loader files (LDRs)

    For the most part, the Blackfin processor boots files in the LDR format
    rather than binary/ELF files.  So we want to export the environment as a
    raw blob to the LDR utility so it can embed it at the right location.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 31f30c9eb60d9ab0bd702e31f66345f99b34bdc6
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Jun 14 11:03:48 2009 -0400

    add %.c->%.i and %.c->%.s rules

    The Linux kernel has some helper rules which allow you to quickly produce
    some of the intermediary files from C source.  Specifically, you can
    create .i files which is the preprocessed output and you can create .s
    files which is the assembler output.  This is useful when you are trying
    to track down header/macro expansion errors or inline assembly errors.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Acked-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 6d1ce387874c1060f27656f70151a52c511cd0e3
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat May 30 01:02:03 2009 -0400

    make sure toplevel $(SUBDIRS) is always declared

    The $(SUBDIRS) variable is only declared when U-Boot has been configured,
    but it gets used all the time.  In the non-configured case, it is used to
    generate a helpful error message, but it needs to be set properly for that
    to occur.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 1260233982f7dfbdfd1adee12daa95a0c0e84a43
Author: Grzegorz Bernacki <gjb@semihalf.com>
Date:	Fri Jun 12 11:33:55 2009 +0200

    digsy mtc: Add description to GPIO initial configuration.

    Signed-off-by: Grzegorz Bernacki <gjb@semihalf.com>

commit 12304871bc7839145f2b4238923e9023616d7399
Author: Grzegorz Bernacki <gjb@semihalf.com>
Date:	Fri Jun 12 11:33:54 2009 +0200

    digsy MTC: Add 'mtc' command.

    New command allows to:
	 o check FW version
	 o set LED status
	 o set digital output status
	 o get digital input status

    Signed-off-by: Grzegorz Bernacki <gjb@semihalf.com>

commit f1f66edfc76f4a9f5b9f63972d90309784a8cae5
Author: Grzegorz Bernacki <gjb@semihalf.com>
Date:	Fri Jun 12 11:33:53 2009 +0200

    digsy MTC: Add SPI support.

    Signed-off-by: Grzegorz Bernacki <gjb@semihalf.com>

commit 6325b7780dad8be26ba6fc25ef88ba338c50205b
Author: Grzegorz Bernacki <gjb@semihalf.com>
Date:	Fri Jun 12 11:33:52 2009 +0200

    mpc52xx: Add SPI driver.

    Signed-off-by: Grzegorz Bernacki <gjb@semihalf.com>

commit 5ec5529b82f314ca2cf9c262cdfc985d5fc468a0
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Jun 14 09:33:00 2009 -0400

    allow boards to customize compiler options on a per-file/dir basis

    With our Blackfin boards, we like to build the compression routines with
    -O2 as our tests show a pretty good size/speed tradeoff.  For the rest of
    U-Boot though, we want to stick with the default -Os as that is mostly
    control code.  So in our case, we would add a line like so to the board
    specific config.mk file:
	CFLAGS_lib_generic += -O2

    Now all files under lib_generic/ will have -O2 appended to their build.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Acked-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 6b1f78ae6ad037382ad430b07064105c88f7ac02
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Jun 14 21:30:39 2009 +0200

    Prepare v2009.06

    Update CHANGELOG, fix minor coding stylke issue. Update Makefile.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit c3147c1762f8caf99649051116a2411bdf887c10
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Jun 14 20:31:36 2009 +0200

    Revert "SMC911x driver fixed for NFS boot"

    This reverts commit ca9c8a1e10fac01e6a1129f82a7ce18bd818fa43,
    which causes compile warnings ("large integer implicitly truncated
    to unsigned type") on all systems that use this driver. The warning
    results from passing long constants (TX_CFG, RX_CFG) into
    smc911x_set_mac_csr() which is declared to accept "unsigned
    character" arguments only.

    Being close to a release, with nobody available to actually test the
    code or the suggested fixes, it seems better to revert the patch.

commit 388517e4b745b00256c2fa201ce7bccb67b4f245
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri May 22 10:26:37 2009 -0500

    xes: Update Freescale clock code to work with 86xx processors

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 25623937bb81cae788d767e6c59a11c96fc82866
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri May 22 10:26:36 2009 -0500

    xes: Update Freescale DDR code to work with 86xx processors

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit bef3013908bbc68f24084174a3ca86cc2a3eb986
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri May 22 10:26:35 2009 -0500

    xes: Update Freescale PCI code to work with 86xx processors

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 6442b71b522face775c1c31bd43121db3b4bf7d6
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri May 22 10:26:32 2009 -0500

    85xx: Add PORBMSR and PORDEVSR shift defines

    Add defines similar to those already used for the the 86xx architecture.
    This will ease sharing of PCI code between the 85xx and 86xx
    architectures.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 2f21ce4d546d31289ac49a680f78bcc9a792c6ec
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Thu May 21 12:10:00 2009 -0500

    fsl/85xx, 86xx: Sync up DMA code

    The following changes were made to sync up the DMA code between the 85xx
    and 86xx architectures which will make it easier to break out common
    8xxx DMA code:

    85xx:
    - Don't set STRANSINT and SPCIORDER fields in SATR register.  These bits
      only have an affect when the SBPATMU bit is set.
    - Write 0xffffffff instead of 0xfffffff to clear errors in the DMA
      status register.	We may as well clear all 32 bits of the register...

    86xx:
    - Add CONFIG_SYS_MPC86xx_DMA_ADDR define to address DMA registers
    - Add clearing of errors in the DMA status register when initializing
      the controller
    - Clear the channel start bit in the DMA mode register after a transfer

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit b1f12650d332eadac1306a772cab6096abee6ddd
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Thu May 21 12:09:59 2009 -0500

    fsl: Create common fsl_dma.h for 85xx and 86xx cpus

    Break out DMA structures for the Freescale MPC85xx and MPC86xx cpus to
    reduce a large amount of code duplication

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 3bd8e532b5de20647aeaff94a1cbf33fb8b897b9
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Wed May 20 12:30:41 2009 -0400

    85xx: Add UEC6 and UEC8 at SGMII mode for MPC8569MDS

    On MPC8569MDS board, UCC6 and UCC8 can be configured to work at SGMII mode via
    UEM on PB board. Since MPC8569 supports up to 4 Gigabit Ethernet ports, we
    disable UEC6 and UEC8 by default.

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit e8efef7c1b457442583a8b9d38d8a5b667661616
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Thu Jun 4 16:12:42 2009 -0400

    drivers/qe: add sgmii support in for UEC driver

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 8e55258f144764de8902e9f078a7ad4c6c022c2f
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Thu Jun 4 16:12:41 2009 -0400

    qe: Pass in uec_info struct through uec_initialize

    The uec driver contains code to hard code configuration information for the uec
    ethernet controllers. This patch creates an array of uec_info structures, which
    are then parsed by the corresponding driver instance to determine configuration.
    It also creates function uec_standard_init() to initialize all UEC interfaces
    for 83xx and 85xx.

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 9a6110897fc9282ade598bbba70ad72b940436e3
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Thu Jun 4 16:12:40 2009 -0400

    fsl: Update the number of ethxaddr in reading system eeprom

    We support up to 8 mac addresses in system eeprom, so we define the macro
    MAX_NUM_PORTS to limit the mac_count to 8, and update the number of ethxaddr
    according to mac_count.

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit f82107f637f167a77803c0933f9b24741a91c711
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Wed May 20 12:30:37 2009 -0400

    85xx: Add RMII support for MPC8569MDS

    This patch supports UCC working at RMII mode on PIB board, fixup fdt blob to
    support rmii in kernel. It also changes the name of enable_mpc8569mds_qe_mdio to
    enalbe_mpc8569mds_qe_uec which is  more accurate.

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 750098d33bc362ac4263863e92da158cf011063f
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Wed May 20 12:30:36 2009 -0400

    85xx: Add UEC3 and UEC4 support for MPC8569MDS

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 4e7b25e4fe777f525e426cbd58c3a3976c564f2e
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Wed May 20 12:30:35 2009 -0400

    drivers/qe: Add more SNUM number for QE

    Some QE chips like 8569 need more SNUM numbers for supporting 4 UECs in RGMII-
    1000 mode.

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>
    Acked-by: Timur Tabi <timur@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 7211fbfa18f3061858696150ee6e9e093d9eceae
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Thu May 21 15:34:14 2009 -0400

    drivers/qe: Change QE RISC ALLOCATION to support 4 RISCs

    Also define the QE_RISC_ALLOCATION_RISCs to MACROs instead of using enum, and
    define MAX_QE_RISC for QE based silicons.

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>
    Acked-by: Timur Tabi <timur@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit b3d7f20f43a0f8d11c65e2f92153b5512b11580c
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Wed May 20 12:30:29 2009 -0400

    85xx: Add QE clk support

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>
    Acked-by: Timur Tabi <Timur@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 71b358cc26792889bbac35054d8e89d59b3fabc4
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed May 20 01:11:33 2009 -0500

    85xx: Added MPC8535/E identifiers

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 22419d77976bbd0df9fcf45513f1b96bd73e50d1
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu May 21 08:36:43 2009 -0500

    85xx: Always attempt ethernet device tree fixup

    Its reasonable that we may have ethernet devices but dont have drivers
    or support enabled for them in u-boot and want the device tree fixed up.
    Unconditionally calling the ethernet fixup is fine since if we dont have
    ethernet nodes that match (or aliases) we will not attempt to do
    anything.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: Timur Tabi <timur@freescale.com>

commit 52d6ad5ecfb22938441c8e3e62935fbd7b0f0920
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Thu May 21 15:32:13 2009 -0400

    drivers/qe: Rename the camel-case identifiers in uec

    Rename riscRx/riscTx to risc_rx/risc_tx to comply with Codingstyle.

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>

commit feb7838f979ec2b581df3c791b9ae3284c36bb47
Author: Srikanth Srinivasan <srikanth.srinivasan@freescale.com>
Date:	Fri Apr 3 15:36:13 2009 -0500

    85xx: Add P2020DS support

    The patch adds support for P2020DS reference platform.
    DDR3 interface uses hard-coded initialization rather than SPD
    for now and was tested at 667Mhz. Some PIXIS register
    definitions and associated code sections need to be fixed.
    TSEC1/2/3, NOR flash, MAC/SYS ID EEPROM, PCIE1/2/3 are all
    tested under u-boot.

    Signed-off-by: Srikanth Srinivasan <srikanth.srinivasan@freescale.com>
    Signed-off-by: Travis Wheatley <Travis.Wheatley@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 229549a56d9ae413c00f64fd7c728c6879a1b54b
Author: Stefan Roese <sr@denx.de>
Date:	Tue Jun 9 16:57:47 2009 +0200

    mpc512x: MPC5121ADS: Add NAND support

    This patch adds NAND support to the MPC5121ADS board. Please
    note that the image size increased since NAND support didn't
    fit in the current image size (256k).

    Signed-off-by: Stefan Roese <sr@denx.de>
    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: Wolfgang Denk <wd@denx.de>

commit 35f2edbb6cad043ccd5ea6e78fe9b7aa21d8395f
Author: Stefan Roese <sr@denx.de>
Date:	Tue Jun 9 16:57:03 2009 +0200

    nand/mpc512x: Add MPC512x NAND support (NFC)

    This patch adds NAND Flash Controller driver for MPC5121 revision 2.
    All device features, except hardware ECC and power management, are
    supported.

    This NFC driver replaces the one orignally posted by John Rigby:

    "[PATCH] Freescale NFC NAND driver"

    It's a port of the Linux driver version posted by Piotr Ziecik a few
    weeks ago. Using this driver has the following advantages (from my
    point of view):

    - Compatibility with the Linux NAND driver (e.g. ECC usage)
    - Better code quality in general
    - Resulting U-Boot image is a bit smaller (approx. 3k)
    - Better to sync with newer Linux driver versions

    The only disadvantage I can see, is that HW-ECC is not supported right
    now. But this could be added later (e.g. port from Linux driver after
    it's supported there). Using HW-ECC on the MCP5121 NFC has a general
    problem because of the ECC usage in the spare area. This collides with
    JFFS2 for example.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Cc: Piotr Ziecik <kosmo@semihalf.com>
    Cc: Wolfgang Denk <wd@denx.de>
    Cc: John Rigby <jcrigby@gmail.com>
    Cc: Scott Wood <scottwood@freescale.com>

commit e53b507cee5d976953134a565c72fd32c967d7dd
Author: Stefan Roese <sr@denx.de>
Date:	Tue Jun 9 11:50:40 2009 +0200

    mpc512x: Add esd gmbh mecp5123 board support

    MECP5123 is a MPC5121E based module by esd gmbh.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Cc: Reinhard Arlt <reinhard.arlt@esd-electronics.com>

commit 6bd55cc65d0c3aa84d719518254fb3c650239ed9
Author: Stefan Roese <sr@denx.de>
Date:	Tue Jun 9 11:50:05 2009 +0200

    mcp512x: Add macros for SCFR LPC divisor access

    Thos macros will be used by the esd mecp5123 board.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit c60dc8527dbb2a1318c03bc18bdebcfbd0164551
Author: Stefan Roese <sr@denx.de>
Date:	Mon Jun 8 09:38:07 2009 +0200

    mpc512x: Fix problem with I2C access before relocation

    This is needed for the upcoming esd MECP5123 board port which uses
    I2C EEPROM for environment storage.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Cc: Reinhard Arlt <reinhard.arlt@esd-electronics.com>
    Acked-by: Heiko Schocher<hs@denx.de>

commit 58f10460b05e0928d986b15edd4f2e1e99403f7e
Author: Stefan Roese <sr@denx.de>
Date:	Thu Jun 4 13:35:39 2009 +0200

    74xx_7xx: CPCI750: Add CPCI adapter/target support

    The CPCI750 can be built as CPCI host or adapter/target board. This patch
    adds support for runtime detection of those variants.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Cc: Reinhard Arlt <reinhard.arlt@esd-electronics.com>

commit ae7a2739d7a0704437376e229bb21940952c55be
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jun 5 05:45:41 2009 +0200

    74xx_7xx: CPCI750: Enable access to PCI function > 0

    The Marvell bridge 64360 supports serveral PCI functions, not only 0. This
    patch enables access to those functions.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Cc: Reinhard Arlt <reinhard.arlt@esd-electronics.com>

commit e5b563e9ec54c3f6d702c8fa2b711b4a6150243a
Author: Stefan Roese <sr@denx.de>
Date:	Thu Jun 4 13:35:37 2009 +0200

    74xx_7xx: CPCI750: Minor coding style cleanup of cpci750.c

    Signed-off-by: Stefan Roese <sr@denx.de>
    Cc: Reinhard Arlt <reinhard.arlt@esd-electronics.com>

commit 0e5ef07d0d91bd3d87ebea0534f538561aa974d5
Author: Stefan Roese <sr@denx.de>
Date:	Thu Jun 4 13:35:36 2009 +0200

    74xx_7xx: CPCI750: Add loadpci command

    This command is used to load/boot an OS-image which is transferred from
    the CPCI host to the CPCI target/adapter.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Cc: Reinhard Arlt <reinhard.arlt@esd-electronics.com>

commit 0a14d6b8f4d21ff59a9b7686a49a77069a9fcd2a
Author: Stefan Roese <sr@denx.de>
Date:	Thu Jun 4 13:35:35 2009 +0200

    74xx_7xx: CPCI750: Add commandline editing/history

    Signed-off-by: Stefan Roese <sr@denx.de>
    Cc: Reinhard Arlt <reinhard.arlt@esd-electronics.com>

commit 60cfe87bd39e6f07f2b92eb4bff82bfd105f4724
Author: Stefan Roese <sr@denx.de>
Date:	Thu Jun 4 16:55:34 2009 +0200

    UBI: Add compile-time check for correct malloc area configuration

    UBI is quite memory greedy and requires at least approx. 512k of malloc
    area. This patch adds a compile-time check, so that boards will not
    build with less memory reserved for this area (CONFIG_SYS_MALLOC_LEN).

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 7ce6031afc8671c8b47c6135b3678d43fcd02852
Author: Prafulla Wadaskar <prafulla@marvell.com>
Date:	Mon Apr 6 21:24:43 2009 +0530

    sf: new Macronix MX25xx SPI flash driver

    Added macronix SF driver for MTD framework
    MX25L12805D is supported and tested
    TBD: sector erase implementation, other deivces support

    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 2a6cc58869305f346e389eefdfa96dea5146cb0c
Author: Todor I Mollov <tmollov@ucsd.edu>
Date:	Sat Apr 4 07:14:44 2009 -0400

    sf: atmel: implement power-of-two write/erase funcs

    Signed-off-by: Todor I Mollov <tmollov@ucsd.edu>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    CC: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit 4bc6eb79be2a7317425575184324b94e3b43fbc2
Author: Vivek Mahajan <vivek.mahajan@freescale.com>
Date:	Mon May 25 17:23:18 2009 +0530

    mpc85xx: 8536ds: Add USB related CONFIGs

    This patch adds CONFIGs for enabling USB in mpc8536ds and also
    adds usb_phy_type in CONFIG_EXTRA_ENV_SETTINGS. Also revamps its
    Copyright.

    Signed-off-by: Vivek Mahajan <vivek.mahajan@freescale.com>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit 6823e9b01290977c4d9c90381459c01f66e12e79
Author: Vivek Mahajan <vivek.mahajan@freescale.com>
Date:	Mon May 25 17:23:17 2009 +0530

    mpc83xx: 8315erdb: Add USB related CONFIGs

    This patch adds CONFIGs for enabling USB in mpc8315erdb and also
    adds usb_phy_type in CONFIG_EXTRA_ENV_SETTINGS. Also revamps its
    Copyright.

    Signed-off-by: Vivek Mahajan <vivek.mahajan@freescale.com>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit a07bf180efc3c0de4a89a3bd49a7c7584dfb95a8
Author: Vivek Mahajan <vivek.mahajan@freescale.com>
Date:	Thu May 21 17:32:48 2009 +0530

    mpc85xx: USB: Add support

    The following patch adds 85xx-specific USB support and also
    revamps Copyright in immap_85xx.h

    Signed-off-by: Vivek Mahajan <vivek.mahajan@freescale.com>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit 4ef01010aa4799c759d75e67007fdd3a38c88c8a
Author: Vivek Mahajan <vivek.mahajan@freescale.com>
Date:	Mon May 25 17:23:16 2009 +0530

    mpc83xx: USB: Reorganized its support

    The following patch reorganizes/reworks the USB support for mpc83xx
    as under:-

      * Moves the 83xx USB clock init from drivers/usb/host/ehci-fsl.c to
	cpu/mpx83xx/cpu_init.c

      * Board specific usb_phy_type is read from the environment

      * Adds USB EHCI specific structure in include/usb/ehci-fsl.h

      * Copyrights revamped in most of the following files

    Signed-off-by: Vivek Mahajan <vivek.mahajan@freescale.com>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit ed90d2c87158e5114b6009fa95bb6417e4b27b3e
Author: Vivek Mahajan <vivek.mahajan@freescale.com>
Date:	Thu May 21 17:32:27 2009 +0530

    mpc8xxx: USB: Relocates ehci-fsl.h to include/usb

    The following patch moves 8xxx-specifc USB #defines from
    drivers/usb/host/ehci-fsl.h to include/usb.

    Signed-off-by: Vivek Mahajan <vivek.mahajan@freescale.com>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit cfd39cdf9422d3d25e9b3c058865f4c1f66f34da
Author: Vivek Mahajan <vivek.mahajan@freescale.com>
Date:	Thu May 21 17:32:15 2009 +0530

    mpc8xxx: USB: Removed reenablement of its interface

    To prepare for the 85xx USB support, which requires interface enablement
    only once in (specified) order, no different than instructions for
    enabling the interface under 83xx.	It is unknown why the original author
    enabled the interface twice (checked for references in errata, etc).

    Signed-off-by: Vivek Mahajan <vivek.mahajan@freescale.com>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit 2c7920afaf96d9779304202cd8a355b4f7576a83
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri May 22 17:23:25 2009 -0500

    83xx: Replace CONFIG_MPC83[0-9]X with MPC83[0-9]x

    Use the standard lowercase "x" capitalization that other Freescale
    architectures use for CPU defines to prevent confusion and errors

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 0f898604945af4543c1525fc33b6bae621a3b805
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri May 22 17:23:24 2009 -0500

    83xx: Replace CONFIG_MPC83XX with CONFIG_MPC83xx

    Use the standard lowercase "xx" capitalization that other Freescale
    architectures use for CPU defines to prevent confusion and errors

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit ba4feae90ca71de1681d5808f17e73224d8f03c4
Author: Stefan Roese <sr@denx.de>
Date:	Tue Jun 2 16:53:16 2009 +0200

    mpc512x: Use serial_setbrg() in serial_init() to not duplicate the code

    This patch removes the duplicated code for baudrate generator configuration
    in the PSC serial_init() implementation by calling serial_setbrg() instead
    of duplicating the code.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit b8c1d6a54ff8195488b68e163de8ec31f1603496
Author: Stefan Roese <sr@denx.de>
Date:	Tue Jun 2 16:53:15 2009 +0200

    mpc512x: Fix PSC divisor calculation for baudrate setting

    The wrong input frequency was used in serial_setbrg(). This patch fixes
    this by using ips_clk as input frequency for the PSC baudrate generator.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 52568c3654b2b257016d52167805ae132faac14e
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat May 16 10:47:46 2009 +0200

    MPC512x: add support for ARIA board

    ARIA is a MPC5121E based COM Express module by Dave/DENX.

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: John Rigby <jcrigby@gmail.com>

commit 3b74e7ec58e2cc352b0a396a614065cfeb8d138f
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat May 16 10:47:45 2009 +0200

    MPC512x: remove include/mpc512x.h

    Move needed definitions (register descriptions etc.) from
    include/mpc512x.h  into  include/asm-ppc/immap_512x.h.

    Instead of using a #define'd register offset, use a function that
    provides the PATA controller's base address.

    All the rest of include/mpc512x.h are register offset definitions
    which can be eliminated by proper use of C structures.

    There are only a few register offsets remaining that are needed in
    cpu/mpc512x/start.S; for these we provide cpu/mpc512x/asm-offsets.h
    which is intended as a temporary workaround only. In a later patch
    this file will be removed, too, and then auto-generated from the
    respective C structs.

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: John Rigby <jcrigby@gmail.com>

commit a927e491b2a326c1e9c4313e3ce4042988422697
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat May 16 10:47:44 2009 +0200

    MPC512x FEC: get rid of duplicated struct ethernet_regs

    Use existing struct fec512x instead.

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: John Rigby <jcrigby@gmail.com>
    Acked-by: Ben Warren <biggerbadderben@gmail.com>

commit 843efb1192cc8fd4f904a23dbab4e0fe3e1c5bc2
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat May 16 10:47:43 2009 +0200

    MPC512x: use I/O accessors instead of pointer accesses

    This commit changes the MPC512x code to use I/O accessor calls (i.e.
    out_*() and in_*()) instead of using deprecated pointer accesses.

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: John Rigby <jcrigby@gmail.com>

commit 19dc7e179268be148e550c36203208c662610d76
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat May 16 10:47:42 2009 +0200

    MPC512x: add more hardware description to immap_512x.h

    - add GPIO module description
    - add Address Latch Timing Register description
    - add IO Control Memory Map
    - add FEC Memory Map

    Also change board/freescale/mpc5121ads/mpc5121ads.c and
    cpu/mpc512x/iopin.c as needed.

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: John Rigby <jcrigby@gmail.com>

commit 72601d04fdfdd4c7597afcf1f6aab654bd99366c
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat May 16 10:47:41 2009 +0200

    Rename ads5121 board into mpc5121ads

    We rename the board so we use a consistent name in U-Boot and in
    Linux.  Also, we use this opportunity to move the board into the
    Freecale vendor directory.

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: John Rigby <jcrigby@gmail.com>

commit debf87415579c0f50aab9e0832976d4506babe0f
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat May 16 10:47:40 2009 +0200

    cpu/mpc512x/diu.c: fix warning: assignment from incompatible pointer type

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: John Rigby <jcrigby@gmail.com>

commit 8b251263191ec554967dd1add6237c1ba7f7eb25
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat May 16 10:47:39 2009 +0200

    cpu/mpc512x/pci.c: minor coding style cleanup

    Get rid of variable declaration in the middle of the code.

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: John Rigby <jcrigby@gmail.com>

commit de26ef99bddbce4ed225f93afcf0bee99c3b6f87
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat May 16 10:47:38 2009 +0200

    mpc512x: Move common files to share them by several boards

    We will soon see several new MPC521x based boards added.  This patch
    moves files that are not board specific to a common directory so they
    can be shared by all such ports.  It also splits off common IDE code
    into a new file, cpu/mpc512x/ide.c .

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: John Rigby <jcrigby@gmail.com>

commit 03e069dc0a765d506f78a68319acf33d432e035b
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat May 16 10:47:37 2009 +0200

    mpc512x: change cpu/mpc512x/Makefile to use Kconfig style

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: John Rigby <jcrigby@gmail.com>

commit a89c33db96a1e55319a286dd4c3c05ca64ac6bfd
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun May 24 17:06:54 2009 +0200

    General help message cleanup

    Many of the help messages were not really helpful; for example, many
    commands that take no arguments would not print a correct synopsis
    line, but "No additional help available." which is not exactly wrong,
    but not helpful either.

    Commit ``Make "usage" messages more helpful.'' changed this
    partially. But it also became clear that lots of "Usage" and "Help"
    messages (fields "usage" and "help" in struct cmd_tbl_s respective)
    were actually redundant.

    This patch cleans this up - for example:

    Before:
	=> help dtt
	dtt - Digital Thermometer and Thermostat

	Usage:
	dtt	    - Read temperature from digital thermometer and thermostat.

    After:
	=> help dtt
	dtt - Read temperature from Digital Thermometer and Thermostat

	Usage:
	dtt

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 94796d8544d4248028141bad11c6a74b840e9d6e
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun May 24 19:17:29 2009 +0200

    Make "usage" messages more helpful.

    In case of incorrect command invocations U-Boot used to print pretty
    useless "usage" messages, for example:

	=> nand markbad
	Usage:
	nand - NAND sub-system

    In the result, the user would have to run the "help" command to get
    the (available) information about correct command usage. Change this,
    so that this information gets always printed.

    Note that this changes the user interface of all commands, but
    hopefully to the better.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 4c94f6c54bbc4dc5f418da01d8ec01e2adf636be
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun May 24 02:26:19 2009 -0400

    nvedit: speed up printing of environment

    The printing code would check the same environment byte multiple times and
    write to the console one byte at a time.  For some devices (such as the
    Blackfin JTAG console which operates in 8 bytes at a time), this is pretty
    damned slow.  So create a small 16 byte buffer to fill up and send to puts
    as needed.	In the process, unify the different print functions, shrink
    the resulting code (source and compiled), and avoid excess env reads as
    those too can be somewhat expensive depending on the board.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 3112030a430553768de5d30c05bedf8710784452
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri May 22 19:28:52 2009 +0200

    config.mk: remove un-needed REMOTE_BUILD check

    as $(obj) is empty when in tree build

    %.s:	%.S
	$(CPP) $(AFLAGS) -o $@ $<

    and

    $(obj)%.s:	%.S
	$(CPP) $(AFLAGS) -o $@ $<

    are the same

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Acked-by: Mike Frysinger <vapier@gentoo.org>

commit 651351fe980b20217b014b9a888398f18d77951c
Author: Tom Rix <Tom.Rix@windriver.com>
Date:	Wed May 20 07:55:41 2009 -0500

    FAT replace compare_sign with strncmp.

    The static function compare_sign is only used to compare the fs_type string
    and does not do anything more than what strncmp does.

    The addition of the trailing '\0' to fs_type, while legal, is not needed
    because the it is never printed out and strncmp does not depend on NULL
    terminated strings.

    Signed-off-by: Tom Rix <Tom.Rix@windriver.com>

commit ecb1dc892297d5d99876907328fed732feefeab2
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed May 20 04:35:14 2009 -0400

    Add support for Linux-like kallsysms

    The kernel stores address<->symbol names in it so things can be decoded at
    runtime.  Do it in U-Boot, and we get nice symbol decoding when crashing.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 36c9169aa6f79ddf604a3bca64e145654f94888b
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun May 17 16:01:54 2009 +0200

    cmd_mtdparts.c: allow to omit definitions for default settings

    There is actually no good reason to enforce that all board
    configuations must define default settings for "mtdids" and
    "mtdparts".  Actually this may be difficult to handle, especially on
    boards where different sizes of flash chips can be fit, so there is no
    real "default" partition map for all boards.

    Lift this arbitrary limitation.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 864aa034f3a0e10ce710e8bbda171df3cab59414
Author: Stefan Roese <sr@denx.de>
Date:	Tue May 12 14:31:56 2009 +0200

    cmd_mtdparts: Move to common handling of FLASH devices via MTD layer

    This patch removes all references to the direct CFI FLASH interface
    (via flash_info[]). Now that all FLASH types currently handled in
    mtdparts are available (if selected, see below) via the MTD infrastructure.
    This is NOR, NAND and OneNAND right now. This can be achieved by defining
    the following options:

    CONFIG_MTD_DEVICE (for all FLASH types)

    plus

    CONFIG_FLASH_CFI_MTD (for NOR FLASH)

    So we need to add those defines to the board config headers currently
    using the mtdparts commands. This is done via another patch, so
    we shouldn't break mtdparts compatibility.

    One big advantage from this solution is that the cmd_mtdparts.c is
    *much* cleaner now. Lot's of #ifdef's are removed and the code itself
    is smaller. Additionally the newly added MDT concatenation feature
    can new be used via the mtdparts infrastructure and therefor via
    UBI etc.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Cc: Ladislav Michl <ladis@linux-mips.org>
    Cc: Scott Wood <scottwood@freescale.com>

commit d558107c18708050f05b6639b2192efb67c905dc
Author: Stefan Roese <sr@denx.de>
Date:	Tue May 12 14:31:18 2009 +0200

    mtd: Introduce CONFIG_MTD_DEVICE to select compilation of mtdcore.o

    This new define enables mtdcore.c compilation and with this we can
    select the MTD device infrastructure needed for the reworked mtdparts
    command.

    We now have the 2 MTD infrastructure defines, CONFIG_MTD_DEVICE and
    CONFIG_MTD_PARTITIONS. CONFIG_MTD_DEVICE is needed (as explained above)
    for the "mtdparts" command and CONFIG_MTD_PARTITIONS is needed for UBI.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Cc: Scott Wood <scottwood@freescale.com>

commit 942556a92a8c1eb1bd76584a5143f6f57dcb25ad
Author: Stefan Roese <sr@denx.de>
Date:	Tue May 12 14:32:58 2009 +0200

    mtd: MTD related config header changes (mtdparts command)

    By changing the cmd_mtdparts to only use the MTD infrastructure and
    not the direct interface to the CFI NOR FLASH driver we now need
    to add the MTD infrastructure to all boards using those mtdparts
    commands. This patch adds those components:

    CONFIG_MTD_DEVICE (for all FLASH types)

    plus

    CONFIG_FLASH_CFI_MTD (for NOR FLASH)

    To all board maintainers: Please test this on your platforms and
    report any problems/issues found. Thanks.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Cc: Wolfgang Denk <wd@denx.de>
    Cc: Ron Madrid <info@sheldoninst.com>
    Cc: Georg Schardt <schardt@team-ctech.de>
    Cc: Michal Simek <monstr@monstr.eu>
    Cc: Ladislav Michl <ladis@linux-mips.org>
    Cc: Martin Krause <martin.krause@tqs.de>
    Cc: Gary Jennejohn <garyj@denx.de>
    Cc: Ricardo Ribalda <ricardo.ribalda@uam.es>

commit 8d2effea23e938631126a7888008a0637e13b389
Author: Stefan Roese <sr@denx.de>
Date:	Mon May 11 16:03:55 2009 +0200

    mtd: Update MTD infrastructure to support 64bit device size

    This patch brings the U-Boot MTD infrastructure in sync with the current
    Linux MTD version (2.6.30-rc3). Biggest change is the 64bit device size
    support and a resync of the mtdpart.c file which has seen multiple fixes
    meanwhile.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Cc: Scott Wood <scottwood@freescale.com>
    Cc: Kyungmin Park <kmpark@infradead.org>

commit 0a57265533c412adf6024f4b4955141f4346b2b9
Author: Stefan Roese <sr@denx.de>
Date:	Tue May 12 14:29:39 2009 +0200

    mtd: Add MTD concat support to concatenate multiple MTD NOR devices

    This patch adds concatenation support to the U-Boot MTD infrastructure.
    By enabling CONFIG_MTD_CONCAT this MTD CFI wrapper will concatenate
    all found NOR devices into one single MTD device. This can be used by
    e.g by UBI to access a partition that spans over multiple NOR chips.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 55e0ed6078b10b0d425b6a0677f38a015c277df6
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Apr 25 14:57:52 2009 +0200

    make MODEM SUPPORT generic instead of duplicate it

    and fix comment

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

    Adjusted Copyright message.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit a30f519bd0cde78ba46b424314de94fdab863726
Author: Tom Rix <Tom.Rix@windriver.com>
Date:	Tue Jun 2 20:53:56 2009 -0500

    ZOOM2 detect the version of the zoom2 board at runtime.

    There are currently 3 versions of the zoom2 board.
    The production board, that is currently being released.
    The beta board, similar in form to the production board but not released.
    The alpha board, a set of PCBs with a very limited circulation.

    GPIO 94 is used to determine the version of the board. If GPIO 94 is clear,
    the board is a production board, otherwise it is a beta board.

    The alpha board will likely be mistaken for a beta board.  An alpha board
    was unavailible for testing.

    This has been tested on the beta and production boards.

    Signed-off-by: Tom Rix <Tom.Rix@windriver.com>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 718763c4745fd3d987a5576d2a67325e9444f9d4
Author: Tom Rix <Tom.Rix@windriver.com>
Date:	Wed Jun 3 01:53:57 2009 -0500

    Beagle Convert the board version detection to use the OMAP3 GPIO interface.

    There is no new functionality in the change.

    This change is a conversion from the using raw register access to using
    the OMAP3 GPIO API described in doc/README.omap3.

    Signed-off-by: Tom Rix <Tom.Rix@windriver.com>
    Acked-by: Dirk Behme <dirk.behme@googlemail.com>

commit 7caa13fdd2d3dc957b4e0a228810a3a4a8ba499b
Author: Tom Rix <Tom.Rix@windriver.com>
Date:	Wed Jun 3 01:53:55 2009 -0500

    Fix a typo in the instructions on using omap3's gpio interface.

    Using the example for reading a gpio, shows the problem.
    NULL should be the gpio number.

    Signed-off-by: Tom Rix <Tom.Rix@windriver.com>
    Acked-by: Dirk Behme <dirk.behme@googlemail.com>

commit 0c9520efd651ce13451654a35307ec87d4a13a69
Author: Tom Rix <Tom.Rix@windriver.com>
Date:	Fri May 29 18:57:32 2009 -0500

    ZOOM2 Define GPIO banks used.

    Enable the function and interface clocks for banks 2,3,5 and 6.

    Signed-off-by: Tom Rix <Tom.Rix@windriver.com>
    Acked-by: Dirk Behme <dirk.behme@googlemail.com>

commit 708cfb74b7c6df9c37d3c48988a154be79daefeb
Author: Tom Rix <Tom.Rix@windriver.com>
Date:	Fri May 29 18:57:31 2009 -0500

    OMAP3 Turn on the GPIO bank clocks

    The function and interface clocks for each GPIO bank, except the first, must
    be explicitly turned on.  These are controlled by the config level defines
    CONFIG_OMAP3_GPIO_n where n is from 2 to 6.

    Signed-off-by: Tom Rix <Tom.Rix@windriver.com>
    Acked-by: Dirk Behme <dirk.behme@googlemail.com>

commit 59272620c24549b5bcd03c94ba12ec302c1476a2
Author: Richard Retanubun <RichardRetanubun@RuggedCom.com>
Date:	Thu Mar 26 15:26:01 2009 -0400

    Coldfire M5271: Activate u-boot system timer interrupt.

    This patch assigns the u-boot system timer interrupt to
    interrupt level 3, priority 6. Without this patch the interrupt
    will be a level 0, priority 0, which disables it and cause
    u-boot functions that relies on the timer (e.g. sleep command)
    to never return.

    Signed-off-by: Richard Retanubun <RichardRetanubun@RuggedCom.com>

commit dc26965ad3acdfb18780361d77a276b2843a90af
Author: Richard Retanubun <RichardRetanubun@RuggedCom.com>
Date:	Mon Mar 23 13:35:48 2009 -0400

    Compier warning cleanup

    Follow up to git commit: 19b5b533ccd522abeb501d510750693c35e20456

    Cleanup on compiler warnings on unused variables now that
    bd->bi_enetaddr is no longer used.

    Signed-off-by: Richard Retanubun <RichardRetanubun@RuggedCom.com>

commit 42a83765d54f042b4079e05a3438789542429981
Author: Richard Retanubun <RichardRetanubun@RuggedCom.com>
Date:	Fri Mar 20 15:30:10 2009 -0400

    Adds WATCHDOG_RESET() function call to lib_m68k dtimer_interrupt.

    Ported from lib_ppc/interrupts.c, this adds the ability for
    the coldfire system timer to auto-reset the watchdog when
    dtimer_interrupts is called.

    Signed-off-by: Richard Retanubun <RichardRetanubun@RuggedCom.com>

commit a24d96e40e1ca66dde6e6c158e7ecffafc5a2199
Author: Prafulla Wadaskar <prafulla@marvell.com>
Date:	Sun May 31 14:53:20 2009 +0200

    arch_misc_init support for ARM architectures

    This patch is required for Kirkwood support
    may be used by other ARM architectures

    Signed-off-by: Prafulla Wadaskar <prafulla@marvell.com>

commit b2403589b4d9996394bafc73eca3623f43ac2c31
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun May 31 14:53:18 2009 +0200

    at91: move cpu info print to cpu

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit b32e189079fa16e1b647ac6b949fd4e0a9435343
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun May 31 12:44:46 2009 +0200

    at91: move cpu name define to arm/arch/ cpu header

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 5bb59b3c906ee01adfaac9565443e5236a793079
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun May 31 12:44:45 2009 +0200

    at91: extract reset from timer

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 61cf851b09cf8b67009ec11fc47c16add6b142a5
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun May 31 12:44:43 2009 +0200

    omap24xx: rename reset file

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 9d4fc99dbdbfda1260aad478e83fca7cdf0e1a32
Author: Dirk Behme <dirk.behme@googlemail.com>
Date:	Sun May 31 12:44:42 2009 +0200

    OMAP3: Fix CKE1 MUX setting to allow self-refresh

    The Beagle rev Cx and Overo boards are using both SDRC CSes. The MUX
    setting is needed for the second CS clock signal to allow the 2 RAM
    parts to be put in self-refresh correctly. This also works on rev B
    Beagle boards with 128M of RAM.

    From: Steve Sakoman <steve@sakoman.com>
    From: Jean Pihet <jpihet@mvista.com>
    Signed-off-by: Jean Pihet <jpihet@mvista.com>
    Signed-off-by: Steve Sakoman <steve@sakoman.com>
    Signed-off-by: Dirk Behme <dirk.behme@googlemail.com>

commit 3962c4f9fc4482a6547f3c3d3d5e986e625abb8a
Author: Dirk Behme <dirk.behme@googlemail.com>
Date:	Sun May 31 12:44:41 2009 +0200

    OMAP3: Zoom2: Enable Board and CPU info

    With other OMAP3 boards we recently switched to CPU and Board
    info API. From parallel merge, this is missing for Zoom2.
    Enable it for Zoom2, too.

    Signed-off-by: Dirk Behme <dirk.behme@googlemail.com>
    Acked-by: Tom Rix <Tom.Rix@windriver.com>

commit 83ae698ff26b81b569ca32f7f2b008ad0da15e66
Author: Tom Rix <Tom.Rix@windriver.com>
Date:	Sun May 31 12:44:39 2009 +0200

    ZOOM2 Add led support.

    This patch controls the large LED on the top left of the zoom2.

    Signed-off-by: Tom Rix <Tom.Rix@windriver.com>

commit 660888b7fb8840ce169dcd2589e49ab44c46b87b
Author: Tom Rix <Tom.Rix@windriver.com>
Date:	Sun May 31 12:44:37 2009 +0200

    ZOOM2 Add serial support.

    Zoom2 serial is in general supplied by one of the 4 UARTS on the debug board.
    The default serial is from the USB connector on left side of the debug board.
    The USB connector will produce 2 of the 4 UARTS.  On your host pick the first
    enumeration.

    The details of the setting of the serial gpmc setup are not available.
    The values were provided by another party.

    The serial port set up is the same with Zoom1.
    Baud rate 115200, 8 bit data, no parity, 1 stop bit, no flow.

    The kernel bootargs are
    console=ttyS3,115200n8

    Signed-off-by: Tom Rix <Tom.Rix@windriver.com>

commit 3ea201b016ab259a5ac8824af767569522768c47
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun May 31 12:44:27 2009 +0200

    lh7a40x: move serial driver to drivers/serial

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 379be585eb2343d8814a5cee5fb3da930d846bee
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat May 16 22:48:46 2009 +0200

    pxa: move serial driver to drivers/serial

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit ad7e8aac6920f8b8a85b3cc2e93bca7458e99aa1
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat May 9 13:21:19 2009 +0200

    arm: remove cpu_init

    move s3c44b0 to arch_cpu_init and as noone use cpu_init remove it

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit c358d9c3f16571e8f825e81b75eaf32e228cb669
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat May 9 13:21:18 2009 +0200

    arm: unify interrupt init

    all arm init the IRQ stack the same way
    so unify it in lib_arm/interrupts.c and then call arch specific interrupt init

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 10a451cd57cffbca875c97bbd8929059c5627ec6
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri May 8 20:24:12 2009 +0200

    arm: unify linker script

    all arm boards except a few use the same cpu linker script
    so move it to cpu/$(CPU)

    that could be overwrite in following order
    SOC
    BOARD
    via the corresponding config.mk

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 9475c63c7855edd863c93a9bb0f4b8e240d9d212
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat May 16 10:02:05 2009 +0200

    afeb9260: fix macb device init

    uses PA10, PA11 for ETX2 and ETX3.

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 1bbae2b816d4ed38db2ebf42166a973b1ffc0df7
Author: Stefan Roese <sr@denx.de>
Date:	Wed May 27 10:34:32 2009 +0200

    ppc4xx: Remove PCI async bootup message if PCI is not used

    Signed-off-by: Stefan Roese <sr@denx.de>

commit a3455c00510c5abf1e91743c4a02d8393b6df18d
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri May 15 09:19:52 2009 +0200

    TQM834x: use buffered writes to accelerate writing to flash

    Also enable display of 'E'mpty sectors in "flinfo" output.

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 4681e673a51c48f4c096aa3c8fae5e6217ffd58d
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu May 14 23:18:34 2009 +0200

    TQM834x: add FDT support

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 929b79a0b5e48303ab04aae9d0abceb0c707f111
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu May 14 23:18:33 2009 +0200

    TQM834x: fix environment size; add redundant env.

    Also reserve more space for U-Boot as it will probably grow soon.

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 2ae0f35fd60c7345446835b95a4daff356e1f031
Author: Thomas Lange <thomas@corelatus.se>
Date:	Sun May 3 20:07:33 2009 +0200

    ARM DaVinci: Reset with watchdog enabled

    Once the Davinci watchdog has been enabled, the timeout
    value cannot be changed. If the timeout in use is long,
    it can take a long time for card to reset. By writing
    an invalid service key, we can trigger an immediate reset.

    Signed-off-by: Thomas Lange <thomas@corelatus.se>

commit 6cc7ba9ed43106946aa9aa868302aa2faf1d17be
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri May 15 10:07:43 2009 +0200

    video: Add an option to skip video initialization

    This patch adds an option to skip the video initialization on for all
    video drivers. This is needed for the CPCI750 which can be built as
    CPCI host and adapter/target board. And the adapter board can't
    access the video cards located on the CompactPCI bus.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Cc: Anatolij Gustschin <agust@denx.de>

    Rebased against simplifying patch.
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit f62f64692ff7f6226ad221d5df6487ea5ef39bdd
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri May 15 10:07:42 2009 +0200

    drv_video_init(): simplify logic

    Simplify nesting of drv_video_init() and use a consistent way of
    indicating failure / success. Before, it took me some time to realize
    which of the returns was due to an error condition and which of them
    indicated success.

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: Anatolij Gustschin <agust@denx.de>

commit 1699da6297b8c22da16cf85b3c79192f1a6d70ca
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed May 13 21:01:13 2009 +0200

    at91: regroup IP hw init in one file per soc

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 28b00324becf3552134ae1e086509dc9c3d6e932
Author: David Brownell <dbrownell@users.sourceforge.net>
Date:	Fri May 15 23:48:37 2009 +0200

    dm355 evm support

    Initial U-Boot support for the DaVinci DM355 EVM.  This is a board
    from Spectrum Digital.  Board docs include schematic and firmware
    for its microcontroller:

      http://c6000.spectrumdigital.com/evmdm355/revd/

    Most of the DM355 chip is fully documented by TI, the most notable
    exception being the MPEG/JPEG coprocessor (programmable using codecs
    available at no cost from TI), which is omitted from its DM335 sibling:

      http://focus.ti.com/docs/prod/folders/print/tms320dm355.html

    This version can boot from the on-board DM9000 Ethernet chip, after
    being loaded (from NAND, MMC/SD, or UART).	In the near future, NAND
    and USB support could be added ... NAND support is being held back
    until the support for the 4-bit ECC hardware is ready.

    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

commit 136cf92dc9e84c9a1bf567f1fe741092bf765495
Author: Sanjeev Premi <premi@ti.com>
Date:	Fri May 15 23:48:37 2009 +0200

    OMAP3EVM: Set default bootfile

    The current configuration doesn't define default
    bootfile; leading to this warning at execution:

    OMAP3_EVM # dhcp
    ...
    ...
    DHCP client bound to address 192.168.1.11
    *** Warning: no boot file name; using 'AC18BE16.img'
    TFTP from server 0.0.0.0; our IP address is 192.168.1.11;
    sending through gateway 192.168.1.1
    Filename 'AC18BE16.img'.
    Load address: 0x82000000
    Loading: *
    TFTP error: 'File not found' (1)

    Signed-off-by: Sanjeev Premi <premi@ti.com>

commit 1a09d05abfc6d4d4f1fce9f6bd0275bd1c08d4f5
Author: s-paulraj@ti.com <s-paulraj@ti.com>
Date:	Fri May 15 23:48:36 2009 +0200

    ARM DaVinci: Minor Updates to base addresses

    Patch adds base addresses for DaVinci DM365. Updated patches for DM365
    will be posted soon.

    Signed-off-by: Sandeep Paulraj <s-paulraj@ti.com>

commit de193e8e369f5f029ed3b6e2fc60341098eea766
Author: Tom Rix <Tom.Rix@windriver.com>
Date:	Fri May 15 23:48:36 2009 +0200

    ZOOM2 Add support for debug board detection.

    The logicpd web site is a good source for general information on this board.
    Please start looking here if the below links are broken.
    http://www.logicpd.com

    This is a pdf of the product
    http://www.logicpd.com/sites/default/files/1012659A_Zoom_OMAP34x-II_MDP_Brief.pdf

    This is a pdf of the product quick start guide.
    The debug board is described here.
    http://support.logicpd.com/downloads/1165/

    This is a wiki showing the debug board in use
    https://omapzoom.org/gf/project/omapzoom/wiki/?pagename=GettingStartedWithZoomII_AKA_OMAP34XII_MDP

    The zoom2 has an auxillary board that contains the serial, net, jtag and
    battery simulator.	This change supports a runtime check if the debug board is
    connected.

    Signed-off-by: Tom Rix <Tom.Rix@windriver.com>

commit 0c872ecd01d6782ae9d37b6eb721404a4a48f356
Author: Tom Rix <Tom.Rix@windriver.com>
Date:	Fri May 15 23:48:36 2009 +0200

    OMAP3 Port kernel omap gpio interface.

    Port version 2.6.27 of the linux kernel's omap gpio interface to u-boot.
    The orignal source is in linux/arch/arm/plat-omap/gpio.c

    See doc/README.omap3 for instructions on use.

    Signed-off-by: Tom Rix <Tom.Rix@windriver.com>

commit 376aee78dd66ae0dc4ce496cbe93ecc80aaad48e
Author: Tom Rix <Tom.Rix@windriver.com>
Date:	Fri May 15 23:48:36 2009 +0200

    ZOOM2 Add initial support for Zoom2

    Zoom2 is a new board from Texas Instruments and LogicPD

    The logicpd web site is a good source for general information on this board.
    Please start looking here if the below links are broken.
    http://www.logicpd.com

    This is a pdf of the product
    http://www.logicpd.com/sites/default/files/1012659A_Zoom_OMAP34x-II_MDP_Brief.pdf
    This is the product description web page
    http://www.logicpd.com/products/development-kits/texas-instruments-zoom%E2%84%A2-omap34x-ii-mdp

    This patch provides a zoom2 base target by copying zoom1 and by making some
    obvious changes.

    To configure, run
    make omap3_zoom2_config

    Signed-off-by: Tom Rix <Tom.Rix@windriver.com>

commit 53925acf1b5c1a1e6230cda2697640cd05bd1104
Author: Sandeep Paulraj <s-paulraj@ti.com>
Date:	Fri May 15 23:48:33 2009 +0200

    ARM DaVinci:Consolidate common u-boot.lds

    The u-boot.lds is common for all DaVinci boards. The patch removes
    multiple instances and moves the u-boot.lds to /cpu/arm926ejs/davinci
    folder. This addresses one of the comments i received while submitting
    patches for DM3xx

    Signed-off-by: Sandeep Paulraj <s-paulraj@ti.com>

commit 68a531fd465f5c0b3d373e0010afed32e88d37c4
Author: Tom Rix <Tom.Rix@windriver.com>
Date:	Fri May 15 23:47:52 2009 +0200

    OMAP Consolidate common u-boot.lds to cpu layer.

    The u-boot.lds file is common for all omap boards.
    Move a cleaned up version to the cpu layer and add makefile logic to use it.

    Signed-off-by: Tom Rix <Tom.Rix@windriver.com>

commit 65a76d4f947a193e57bb8f8093c481f27e059f8f
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri May 15 23:47:14 2009 +0200

    arm/dcc: add xscale support

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 66e8f9da6879fe37f3159b3997bff874842dc51d
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri May 15 23:47:14 2009 +0200

    arm/dcc: use static support to allow to use it at anytime

    the dcc can be used at the start of the cpu

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 7893aa1eb6f52c3957efc301b436f1fa11e91a00
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri May 15 23:47:13 2009 +0200

    ARM: Update mach-types

    update against linux v2.6.29

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 2907798926ee932f453ac8538e7a6c05c18428a5
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri May 15 23:47:13 2009 +0200

    arm920/926/926: remove non needed header

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 269dfea017b09c5a999d3053d00505c19789c350
Author: David Brownell <david-b@pacbell.net>
Date:	Fri May 15 23:47:13 2009 +0200

    davinci dm6446evm NAND update

    This updates the optional (non-default!) NAND support for the
    DaVinci DM6446 EVM:

     - include MTD partitioning, defaulting to what Linux uses

     - use a flash-based BBT, which among other things speeds bootup

    This matches code that's now queued for mainline Linux, and might
    even merge in an upcoming 2.6.30-rc; and the MTIDS are set up so
    that the U-Boot $mtdparts environment variable can be passed as-is
    on the kernel command line as a cmdlinepart override.

    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

commit 7a4f511b59f08f51dde4ceacbd45f49b8bf2a5cc
Author: David Brownell <dbrownell@users.sourceforge.net>
Date:	Fri May 15 23:47:12 2009 +0200

    davinci: display correct clock info

    Move the clock-rate dumping code into the cpu/.../davinci area
    where it should have been, enabled by CONFIG_DISPLAY_CPUINFO,
    updating the format and showing the DSP clock (where relevant).

    Switch boards to use the cpuinfo() hook for this stuff.

    Remove a few now-obsolete PLL #defines.

    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

commit daea928829098cae3c9ec6b801e52ba616725034
Author: Tom Rix <Tom.Rix@windriver.com>
Date:	Fri May 15 23:47:12 2009 +0200

    ZOOM1 Remove more legacy NAND defines.

    These legacy NAND defines are no longer needed by this target.

    Signed-off-by: Tom Rix <Tom.Rix@windriver.com>

commit 65fd21c80fcaca2bbfe3ab06ab6ac68207408078
Author: Tom Rix <Tom.Rix@windriver.com>
Date:	Fri May 15 23:47:12 2009 +0200

    LED Add documentation describing the status_led and colour led API.

    This document describes the u-boot status LED API.
    This allows common u-boot commands to use a board's leds to
    provide status for activities like booting and downloading files.

    Signed-off-by: Tom Rix <Tom.Rix@windriver.com>

commit 7cdf804f34378b910b4c4edd2dac7e3ca61c0825
Author: Tom Rix <Tom.Rix@windriver.com>
Date:	Fri May 15 23:47:12 2009 +0200

    ARM Add blue colour LED to status_led.

    There is exiting support for red,yellow,green but no blue.
    The main LED on the zoom2 is a blue LED.

    Signed-off-by: Tom Rix <Tom.Rix@windriver.com>

commit b54384e3ba6b5535751f317fcd3940a53eed0d3a
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri May 15 23:47:02 2009 +0200

    arm: timer and interrupt init rework

    actually the timer init use the interrupt_init as init callback
    which make the interrupt and timer implementation difficult to follow

    so now rename it as int timer_init(void) and use interrupt_init for interrupt

    btw also remane the corresponding file to the functionnality implemented

    as ixp arch implement two timer - one based on interrupt - so all the timer
    related code is moved to timer.c

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 5b4bebe1d20c4f2b70d48b06aed1016785efcc25
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri May 15 23:45:22 2009 +0200

    OMAP3: Reorganize Makefile style

    Reformat COBJS handling.

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Dirk Behme <dirk.behme@googlemail.com>

commit b1966982718347f67317b3fb356439743ca68a37
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri May 15 23:45:22 2009 +0200

    OMAP3: Remove dublicated interrupt code

    Remove duplicated interrupt code. Original, identical code can be found
    in lib_arm/interrupts.c

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Dirk Behme <dirk.behme@googlemail.com>

commit ac7260a4190315eba4a6e526c764f6cad0bbf8c5
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri May 15 23:45:22 2009 +0200

    at91rm9200: move reset code to reset.c

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 2c75c78d94574ee996db2aa9b511258519471dd6
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri May 15 23:45:22 2009 +0200

    ixp/interrupts: Move conditional compilation to Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 8fc3bb4b0603516ad641e2de252a400b85fd869b
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri May 15 23:45:20 2009 +0200

    arm: cleanup remaining CONFIG_INIT_CRITICAL

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit c20e28f49aaf38c7dede46d8f8fe8234fe90822c
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri May 15 23:45:12 2009 +0200

    arm946es: remove non used timer

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit f1d944e30eb8ff89080fa03fb98d8fb5c82388d2
Author: David Brownell <dbrownell@users.sourceforge.net>
Date:	Fri May 15 23:44:09 2009 +0200

    davinci: add basic dm355/dm350/dm335 support

    Add some basic declarations for DaVinci DM355/DM350/DM335 support,
    keyed on CONFIG_SOC_DM355.	(DM35X isn't quite right because the
    DM357 is very different; while the DM355 is like a DM355 without
    the MPEG/JPEG coprocessor).

    These have different peripherals than the DM6446, and some of
    the peripherals are at different addresses.  Notably for U-Boot,
    there's no EMAC, and the NAND controller address is different

    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

commit bd36fdc146654f9de4e2ad346126e6bd2990fb19
Author: David Brownell <dbrownell@users.sourceforge.net>
Date:	Fri May 15 23:44:09 2009 +0200

    davinci: fix dm644x buglets

    Fix two buglets in the dm644x support:  don't set two must-be-zero
    bits in the UART management register; and only include the I2C hooks
    if the I2C driver is being included.

    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

commit f79043681ff44bae435c06f830e51e1546db7e19
Author: David Brownell <dbrownell@users.sourceforge.net>
Date:	Fri May 15 23:44:08 2009 +0200

    davinci: split out some dm644x-specific bits from psc

    Split out DaVinci DM6446-specific bits from more generic bits:

     - Add a CONFIG_SOC_DM644X.  All current boards use DM6446 chips;
       DM6443 and DM6441 chips differ in available peripherals.

     - Move most DM644X-specific bits from psc.c to a new dm644x.c file,
       which is conditionally built.  It provides device-specific setup.

    Plus minor coding style and comment updates with respect to the PSC.

    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

commit 48ef5729555f41f51618b6a3016ac5c53c7c75dc
Author: David Brownell <dbrownell@users.sourceforge.net>
Date:	Fri May 15 23:44:08 2009 +0200

    davinci: cpu-specific build uses conditional make syntax

    Update cpu/arm926ejs/davinci/Makefile to use COBJ-y type syntax.
    Add the first conditional: for EMAC driver support.  Not all
    chips have an EMAC; and boards might not use it, anyway.

    This doesn't touch PHY configuration; that should eventually
    become conditional too.

    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

commit 7b7808ae6dace59287f565e9323cda7b098a5612
Author: David Brownell <dbrownell@users.sourceforge.net>
Date:	Fri May 15 23:44:06 2009 +0200

    davinci: move psc support board-->cpu

    Move DaVinci PSC support from board/* to cpu/* where it belongs.
    The PSC module manages clocks and resets for all DaVinci-family
    SoCs, and isn't at all board-specific.

    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

commit 84f7411cb901b8df2391cf7e967ad0737f6194aa
Author: David Brownell <david-b@pacbell.net>
Date:	Tue Apr 14 08:52:58 2009 -0700

    DaVinci now respects SKIP_LOWLEVEL_INIT

    Don't needlessly include lowlevel init code; that's only really
    needed with boot-from NOR (not boot-from-NAND).  The 2nd stage
    loader (UBL) handles that before it loads U-Boot.

    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

commit 641e0925e4bf7adf8e2e04e3ad81b840fd71cadd
Author: David Brownell <dbrownell@users.sourceforge.net>
Date:	Sun Apr 12 22:49:26 2009 -0700

    DaVinci Ethernet cleanup

    Chips without the EMAC controller won't need the utilities
    it uses to read an Ethernet address from EEPROM; so don't
    include them needlessly.

    Use is_valid_ether() to validate the address from EEPROM.
    All-zero addresses aren't the only invalid addresses.
    A fully erased EEPROM returns all-ones, also invalid...

    Switch those Ethernet utilities to use "%pM" for printing
    MAC addresses; and not say ROM when they mean EEPROM.

    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Acked-by: Ben Warren <biggerbadderben@gmail.com>

commit c790b04d230363d03939dc008bcc80f3ba4de1ae
Author: Stefan Roese <sr@denx.de>
Date:	Mon May 11 15:50:12 2009 +0200

    lib_arch/board.c: Move malloc initialization before flash_init()

    This patch moves the malloc initialization before calling flash_init().
    Upcoming changes to the NOR FLASH common CFI driver with optional
    MTD infrastructure and MTD concatenation support will call malloc().
    And nothing really speaks against enabling malloc just a little earlier
    in the boot stage. Some architectures already enable malloc before
    calling flash_init() so they don't need any changes here.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Cc: Wolfgang Denk <wd@denx.de>
    Cc: Mike Frysinger <vapier@gentoo.org>
    Cc: Scott McNutt <smcnutt@psyent.com>
    Cc: Shinya Kuribayashi <shinya.kuribayashi@necel.com>
    Cc: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
    Cc: Daniel Hellstrom <daniel@gaisler.com>
    Cc: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Cc: John Rigby <jcrigby@gmail.com>

commit d873133f2ba9bd613d5f6552c31cc70fb13f15d3
Author: Stefan Roese <sr@denx.de>
Date:	Mon May 11 13:46:14 2009 +0200

    ppc4xx: Add Sequoia RAM-booting target

    This patch adds another build target for the AMCC Sequoia PPC440EPx
    eval board. This RAM-booting version is targeted for boards without
    NOR FLASH (NAND booting) which need a possibility to initially
    program their NAND FLASH. Using a JTAG debugger (e.g. BDI2000/3000)
    configured to setup the SDRAM, this debugger can load this RAM-
    booting image to the target address in SDRAM (in this case 0x1000000)
    and start it there. Then U-Boot's standard NAND commands can be
    used to program the NAND FLASH (e.g. "nand write ...").

    Here the commands to load and start this image from the BDI2000:

    440EPX>reset halt
    440EPX>load 0x1000000 /tftpboot/sequoia/u-boot.bin
    440EPX>go 0x1000000

    Please note that this image automatically scans for an already
    initialized SDRAM TLB (detected by EPN=0). This TLB will not be
    cleared. This TLB doesn't need to be TLB #0, this RAM-booting
    version will detect it and preserve it. So booting via BDI2000
    will work and booting with a complete different TLB init via
    U-Boot works as well.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 837db3d87f4bfe9261629fb4a1bb433506a3056a
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed May 6 08:41:45 2009 -0400

    tools/envcrc: add --binary option to export embedded env

    The --binary option to envcrc can be used to export the embedded env as a
    binary blob so that it can be manipulated/examined/whatever externally.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 18cc7afd9a153a66854af862d14ba01c5496cf07
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Tue Apr 28 16:50:53 2009 -0700

    Enable CONFIG_NET_MULTI on all remaining PPC4xx boards

    All in-tree PPC4xx boards now use CONFIG_NET_MULTI

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 70be6c2d40076f14062b892152649f9a62832fc9
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Wed Apr 29 09:51:01 2009 +0200

    4xx: Add support for DP405 hardware variants

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd.eu>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit de47a34d4de1d007a8951efd072283516d580ffa
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Wed Apr 29 09:51:00 2009 +0200

    4xx: Remove binary cpld bitstream from DP405 board

    This patch removes the cpld binary bitstream that is
    used by esd's cpld command on DP405 boards.

    Because u-boot with an external cpld bitstream may not
    take more space in flash than before the u-boot binary is
    shrinked a little bit. Some unused featues have been
    removed therefore.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd.eu>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 700d553fd3afe804086de8f73d95153315eb0c32
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Wed Apr 29 09:50:59 2009 +0200

    4xx: Remove binary cpld bitstream from VOM405 board

    This patch removes the cpld binary bitstream that is
    used by esd's cpld command on VOM405 boards.

    Because u-boot with an external cpld bitstream may not
    take more space in flash than before the u-boot binary is
    shrinked a little bit.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd.eu>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 0bb10630364c48d9857cbf5353da609fc4dd6751
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Wed Apr 29 09:50:58 2009 +0200

    4xx: Remove binary cpld bitstream from PMC405 board

    This patch removes the cpld binary bitstream that is
    used by esd's cpld command on PMC405 boards.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd.eu>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 7cc635fb35f5b94e304fa2243d56758f57f6416b
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Wed Apr 29 09:50:57 2009 +0200

    4xx: Remove binary cpld bitstream from CMS700 board

    This patch removes the cpld binary bitstream that is
    used by esd's cpld command on CMS700 boards.

    Because u-boot with an external cpld bitstream may not
    take more space in flash than before the u-boot binary is
    shrinked a little bit. Some unused featues have been
    removed therefore.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd.eu>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit c1b2f79788deec75773b1d944d8aaf4a6d5baf9e
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Wed Apr 29 09:50:56 2009 +0200

    esd/common: extend cpld command with address parameter

    This patch adds support for an address parameter to esd's
    cpld command. This is in preparation to remove compiled-in
    binary cpld (xsvf) bitstreams.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd.eu>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 9166b776350d16460c7330bfb0a50154ea0a1903
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Sat Apr 18 22:34:06 2009 -0500

    cmd_i2c: Fix i2c help command output when CONFIG_I2C_MUX

    When CONFIG_I2C_MUX was defined the output of 'help i2c' was not
    correct, eg:

    => help i2c
    i2c bus [muxtype:muxaddr:muxchannel] - add a new bus reached over muxes.
    speed [speed] - show or set I2C bus speed
    i2c dev [dev] - show or set current I2C bus
    ...

    It has been changed to:
    i2c speed [speed] - show or set I2C bus speed
    i2c bus [muxtype:muxaddr:muxchannel] - add a new bus reached over muxes
    i2c dev [dev] - show or set current I2C bus
    ...

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 0a45a6357b02e5ce5bf899a60db09def6a129fee
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Sat Apr 18 22:34:05 2009 -0500

    cmd_i2c: Clean up trivial helper functions

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit e96ad5d3aba42f8ffe99f7cc5ec1bb9f21810035
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Sat Apr 18 22:34:04 2009 -0500

    cmd_i2c: Clean up i2c command argument parsing

    argc and argv should only be modified once instead of once for
    every i2c sub-command

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 0f89c54be92773b23d66ac401ba6acb6144100c3
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Sat Apr 18 22:34:03 2009 -0500

    i2c: Update references to individual i2c commands

    The individual i2c commands imd, imm, inm, imw, icrc32, iprobe, iloop,
    and isdram are no longer available so all references to them have been
    updated to the new form of "i2c <cmd>".

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit d48eb5131d287f52bb85b4c58c8680a2e8e3b641
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Sat Apr 18 22:34:02 2009 -0500

    i2c: Remove deprecated individual i2c commands

    The following individual I2C commands have been removed: imd, imm, inm,
    imw, icrc32, iprobe, iloop, isdram.

    The functionality of the individual commands is still available via
    the 'i2c' command.

    This change only has an impact on those boards which did not have
    CONFIG_I2C_CMD_TREE defined.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 655b34a78adf60ef260981688837904208883ae9
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Sat Apr 18 22:34:01 2009 -0500

    i2c: Create common default i2c_[set|get]_bus_speed() functions

    New default, weak i2c_get_bus_speed() and i2c_set_bus_speed() functions
    replace a number of architecture-specific implementations.

    Also, providing default functions will allow all boards to enable
    CONFIG_I2C_CMD_TREE.  This was previously not possible since the
    tree-form of the i2c command provides the ability to display and modify
    the i2c bus speed which requires i2c_[set|get]_bus_speed() to be
    present.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 8229e9c04f7019ddd76aea05d4dca044cbc9a34a
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Sat Apr 18 22:34:00 2009 -0500

    cm5200: Make function test command names more unique

    Add "_test" to cm5200's function test command names to prevent
    overlap with common, global function names.  Originally, the
    "do_i2c" function test command interfered with
    common/cmd_i2c.c's "do_i2c" when CONFIG_I2C_CMD_TREE was defined.

    The functions were also made static as they are not globally accessed.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit f0722ee762e8dada9d7f74ac2745e043f83aae85
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Apr 24 15:34:09 2009 -0500

    tsi108_i2c: Add i2c_init() stub function

    Add the i2c_init() function so that the tsi108_i2c.c driver fits
    U-Boot's standard I2C API which is utilized by cmd_i2c.c

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 8d907e79bc9babb27396e34be54cfdc36ff62fb9
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Apr 24 15:34:08 2009 -0500

    mpc7448hpc2: Add CONFIG_SYS_I2C_SPEED define

    Add standard CONFIG_SYS_I2C_SPEED define for the mpc7448hpc2 so that
    it can use the common 'i2c speed' command.	Note that the I2C controller
    utilized by the mpc7448hpc2 has a fixed speed and cannot be changed
    dynamically.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit a056b1ce9e19b4d4ab3dd01c3f897dcd832cd37f
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Apr 24 15:34:07 2009 -0500

    Marvell: i2c cleanup

    The following changes were made, primarily to bring the Marvell i2c
    driver in line with U-Boot's current I2C API:
    - Made i2c_init() globally accessible
    - Made i2c_read() and i2c_write() return an integer
    - Updated i2c_init() calls to pass in CONFIG_SYS_I2C_SLAVE in the
      offhand chance someone adds slave support in the future

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 54afc6ee10c8cd09598d814d49e601359b005e49
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Apr 24 15:34:06 2009 -0500

    cpci750: i2c cleanup

    The following changes were made, primarily to bring the cpci750 i2c
    driver in line with U-Boot's current I2C API:
    - Made i2c_init() globally accessible
    - Made i2c_read() and i2c_write() return an integer
    - Updated i2c_init() calls to pass in CONFIG_SYS_I2C_SLAVE in the
      offhand chance someone adds slave support in the future

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 9c90a2c8e87414007a016b7cd099ac1e32fd301b
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Apr 24 15:34:05 2009 -0500

    i2c.h: Provide a default CONFIG_SYS_I2C_SLAVE value

    Many boards/controllers/drivers don't support an I2C slave interface,
    however CONFIG_SYS_I2C_SLAVE is used in common code so provide a
    default

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit e7563aff174f77aa61dab1ef5d9b47bebaa43702
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Jun 11 23:42:35 2009 -0500

    fsl-ddr: Fix handling of >4G of memory when !CONFIG_PHYS_64BIT

    The ddr code computes most things as 64-bit quantities and had some places
    in the middle that it was using phy_addr_t and phys_size_t.

    Instead we use unsigned long long through out and only at the last stage of
    setting the LAWs and reporting the amount of memory to the board code do we
    truncate down to what we can cover via phys_size_t.

    This has the added benefit that the DDR controller itself is always setup
    the same way regardless of how much memory we have.  Its only the LAW
    setup that limits what is visible to the system.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit d4b130dc80761b430dc5b410159cd158fca1a348
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Jun 11 23:40:34 2009 -0500

    85xx: Use print_size to report amount of memory not mapped by TLBs

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 6e2aebc33fa740c068fe28d40eaf0319b7c7287e
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Wed May 20 12:30:42 2009 -0400

    85xx: Add README for MPC8569MDS

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit b2aab386e957ba684d4f2a466bfaa91770e5058a
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Wed May 20 12:30:33 2009 -0400

    85xx: Add UART1 support for MPC8569MDS

    MPC8569 UART1 signals are muxed with PortF bit[9-12], we need to define
    those pins before using UART1.

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 399b53cbab0b377ac4c5c16c19c6e41b68a9c719
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Wed May 20 12:30:32 2009 -0400

    85xx: Add PIB support at CS4/CS5 for MPC8569MDS

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>
    Signed-off-by: Yu Liu <Yu.Liu@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit fb27949059f1bc84381a6216a819090f0cdbaa70
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Thu Jun 4 16:12:39 2009 -0400

    85xx: Fix some settings for MPC8569MDS board

    - Increase the size of malloc to 512KB because MPC8569MDS needs more memory for
    malloc to support up to eight Ethernet interfaces.
    - Move Environment address out of uboot thus the saved environment variables
    will not be erased after u-boot is re-programmed.

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit c7f60fd29f2d638d080cdf1a49ad985b85f9429d
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Wed May 20 12:30:30 2009 -0400

    85xx: Fix MURAM size for MPC8569

    MPC8569 has 128K bytes MURAM.

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit a53c997dd7fc858f2a27f5a47b200567b9343ae5
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri May 22 20:23:51 2009 +0200

    at91/cpu.c: add missing Copyright & GPL header

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit aa446a591aca46ef2b53cc6598ea8091feb45444
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Sun Jun 7 21:45:16 2009 +0900

    apollon: Fix a OBJCFLAGS typo

    Signed-off-by: Shinya Kuribayashi <skuribay@pobox.com>

commit 580611cb0932143fc2d7a735cfa9ce1ef34d6002
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Jun 10 00:19:28 2009 +0200

    Prepare 2009.06-rc3

    Update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 3a76ab5c166d5956885f803ce975e7151cc0ca0e
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Jun 10 00:15:11 2009 +0200

    rmu board: fix error: 'CONFIG_ENV_SECT_SIZE' undeclared

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 165f9859b64ff59f0cfae3cc70a7e7ded7aaa4a7
Author: Daniel Mack <daniel@caiaq.de>
Date:	Thu Jun 4 19:44:12 2009 +0200

    ubifs: fix small error path mismatch

    In do_readpage(), don't free 'dn' if its allocation failed.

    Signed-off-by: Daniel Mack <daniel@caiaq.de>

commit de7cf709ebd3c01fbd094e8853dabb410c0370a1
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Jun 4 00:31:07 2009 +0200

    EP88x: fix broken linker script

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Tested-by: Mikhail Zaturenskiy <mzaturenskiy@shoppertrak.com>

commit 7a2063bd80d3b58b2dd5d5e58f4411f8d250576c
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri May 15 00:16:02 2009 +0200

    TQM85xx: minor config file cleanup

    Remove "saveenv" from "update" definition: the environment is outside
    the U-Boot image on TQM85xx and therefor not affected by updates.

    Also "beautify" code a bit (vertical alignment).

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit c0296b1801fc9426d772fa75fe58458db605dfee
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri May 15 00:16:01 2009 +0200

    TQM85xx: adapt for new flash types

    Old TQM85xx boards had 'M' type Spansion Flashes from the S29GLxxxM
    series while new boards have 'N' type Flashes from the S29GLxxxN
    series, which have bigger sectors: 2 x 128 instead of 2 x 64 KB.

    We now change the configuration to the new flash types for all
    boards; this also works on old boards - we just waste two flash
    sectors for the environment which could be smaller there.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 6735104924f06340071a6914a9ee3345607fc102
Author: Dave Liu <daveliu@freescale.com>
Date:	Mon May 18 17:49:23 2009 +0800

    85xx: Fix the wrong SYS_CLK_IN for 8569MDS

    The SYS_CLK_IN of MPC8569MDS is 66.66MHz,
    The DDR_CLK_IN is same with SYS_CLK_IN in 8569 processor.
    so, change the SYS_CLK_IN from 66MHz to 66.66MHz.

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit 16e7559c08b6f29db4596d795b92914c01e6a1b3
Author: Dave Liu <daveliu@freescale.com>
Date:	Fri May 15 10:27:44 2009 +0800

    85xx: Fix the wrong BCSR address of 8569MDS

    The BCSR17[7] = 1 will unlock the write protect of FLASH.
    The WP# pin only controls the write protect of top/bottom sector,
    That is why we can save env, but we can't write the first sector
    before the patch.

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit 90d13b8ac3d515349626d7c8a3dc34ef38c43fa6
Author: Fredrik Arnerup <fredrik.arnerup@edgeware.tv>
Date:	Tue Jun 2 16:27:10 2009 -0500

    85xx: bugfix for reading maximum TLB size on mpc85xx

    The MAXSIZE field in the TLB1CFG register is 4 bits, not 8 bits.
    This made setup_ddr_tlbs() try to set up a TLB larger than the e500 maximum
    (256 MB)
    which made u-boot hang in board_init_f() when trying to create a new stack
    in RAM.
    I have an mpc8540 with one 1GB dimm.

    Signed-off-by: Fredrik Arnerup <fredrik.arnerup@edgeware.tv>
    Signed-off-by: Andy Fleming <afleming@freescale.com>
    Acked-by: Kumar Gala <galak@kernel.crashing.org>

commit 1b5291dddf5f16c7ae10e3cb165882fa96038b26
Author: Dave Liu <daveliu@freescale.com>
Date:	Fri Mar 27 14:32:43 2009 +0800

    85xx: Fix the clock adjust of mpc8569mds board

    Currently the clk_adj is 6 (3/4 cycle), The settings will cause
    the DDR controller hang at the data init. Change the clk_adj
    from 6 to 4 (1/2 cycle), make the memory system stable.

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit faa14babd7466dfade358f9cac128ae246b9bf1b
Author: RONETIX - Ilko Iliev <iliev@ronetix.at>
Date:	Fri Jun 5 16:54:31 2009 +0200

    at91: fix a USB problem for AT91SAM9261

    This patch corrects the missing PLLB initialization in usb_cpu_init()
    for AT91SAM9261.
    Because of the missing PLLB initialization, the USB support for all
    AT91SAM9261 based boards will work only if the PLLB is configured by a
    precedent bootloader.

    Signed-off-by: Ilko Iliev <iliev@ronetix.at>
    Acked-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit 0c24dec550ddb7d86b8bfdd8645b18479f73e6e2
Author: Felix Radensky <felix@embedded-sol.com>
Date:	Sun May 31 20:44:15 2009 +0300

    ppc4xx/net: Fix MDIO clock setup

    This patch fixes MDIO clock setup in case when OPB frequency is 100MHz.
    Current code assumes that the value of sysinfo.freqOPB is 100000000
    when OPB frequency is 100MHz. In reality it is 100000001. As a result
    MDIO clock is set to incorrect value, larger than 2.5MHz, thus violating
    the standard. This in not a problem on boards equipped with Marvell PHYs
    (e.g. Canyonlands), since those PHYs support MDIO clocks up to 8.3MHz,
    but can be a problem for other PHYs (e.g. Realtek ones).

    Signed-off-by: Felix Radensky <felix@embedded-sol.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit d65e34d12514de2bbe3b8f519761d641c081bad0
Author: Yoshihiro Shimoda <shimoda.yoshihiro@renesas.com>
Date:	Wed Feb 25 14:27:29 2009 +0900

    rtl8169: fix PCI system memory address

    When PCI device use system memory, some PCI host controller should be
    set physical memory address.

    Signed-off-by: Yoshihiro Shimoda <shimoda.yoshihiro@renesas.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit ca9c8a1e10fac01e6a1129f82a7ce18bd818fa43
Author: Manikandan Pillai <mani.pillai@ti.com>
Date:	Wed Apr 8 09:14:35 2009 +0530

    SMC911x driver fixed for NFS boot

    eth_halt() function in the smc911x drivers used to call the
    smc911x_reset() function. eth_halt() used to be called after
    tftp transfers. This used to put the ethernet chip in reset
    while the linux boots up resulting in the ethernet driver
    not coming up. NFS boot used to fail as a result.

    This patch calls smc911x_shutdown() instead of smc911x_reset().
    Some comments received has also been fixed.

    Signed-off-by: Manikandan Pillai <mani.pillai@ti.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit e5a3bc2401a23f1890611f020f57f94824a534db
Author: Remy Bohmer <linux@bohmer.net>
Date:	Sun May 3 12:11:40 2009 +0200

    Add config option for disabling DM9000-SROM support.

    Some boards do not have SROM support for the DM9000 network adapter.
    Instead of listing these board names in the driver code, make this
    option configurable from the board config file.

    It also removes a build warning for the at91sam9261ek board:
    'dm9000x.c:545: warning: 'read_srom_word' defined but not used'

    And it repaires the trizepsiv board build which was broken around the
    same routines

    Signed-off-by: Remy Bohmer <linux@bohmer.net>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 3c9b1ee17e19bd6d80344678d41a85e52b0be713
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Fri Jun 5 14:11:33 2009 -0500

    mpc83xx: don't set SICRH_TSOBI1 to RMII/RTBI operation

    In GMII mode (which operates at 3.3V) both SICRH TSEC1/2 output buffer
    impedance bits should be clear, i.e., SICRH[TSIOB1] = 0 and SICRH[TSIOB2] = 0.
    SICRH[TSIOB1] was erroneously being set high.

    U-Boot always operated this PHY interface in GMII mode.  It is assumed this
    was missed in the clean up by the original board porters, and copied along
    to the TQM and sbc boards.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>
    Acked-by: Ira Snyder <iws@ovro.caltech.edu>
    Reviewed-by: David Hawkins <dwh@ovro.caltech.edu>
    Tested-by: Paul Gortmaker <paul.gortmaker@windriver.com>
    CC: Dave Liu <DaveLiu@freescale.com>

commit 2c0234fa79122a5aa77c4e17c33eb2fe184b61a7
Author: Daniel Mack <daniel@caiaq.de>
Date:	Wed Apr 8 13:23:37 2009 +0200

    smc911x: write back the manually set MAC address

    If the MAX address is given by the environment, write it back to the
    hardware.

    Signed-off-by: Daniel Mack <daniel@caiaq.de>
    Cc: Sascha Hauer <s.hauer@pengutronix.de>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit dfcd7f21607fd847236b04bb1a8d59a7c10ab99c
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri May 15 00:16:03 2009 +0200

    Redundant Environment: protect full sector size

    Several boards used different ways to specify the size of the
    protected area when enabling flash write protection for the sectors
    holding the environment variables: some used CONFIG_ENV_SIZE and
    CONFIG_ENV_SIZE_REDUND, some used CONFIG_ENV_SECT_SIZE, and some even
    a mix of both for the "normal" and the "redundant" areas.

    Normally, this makes no difference at all. However, things are
    different when you have to deal with boards that can come with
    different types of flash chips, which may have different sector
    sizes.

    Here we may have to chose CONFIG_ENV_SECT_SIZE such that it fits the
    biggest sector size, which may include several sectors on boards using
    the smaller sector flash types. In such a case, using CONFIG_ENV_SIZE
    or CONFIG_ENV_SIZE_REDUND to enable the protection may lead to the
    case that only the first of these sectors get protected, while the
    following ones aren't.

    This is no real problem, but it can be confusing for the user -
    especially on boards that use CONFIG_ENV_SECT_SIZE to protect the
    "normal" areas, while using CONFIG_ENV_SIZE_REDUND for the
    "redundant" area.

    To avoid such inconsistencies, I changed all sucn boards that I found
    to consistently use CONFIG_ENV_SECT_SIZE for protection. This should
    not cause any functional changes to the code.

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: Paul Ruhland
    Cc: Pantelis Antoniou <panto@intracom.gr>
    Cc: Stefan Roese <sr@denx.de>
    Cc: Gary Jennejohn <garyj@denx.de>
    Cc: Dave Ellis <DGE@sixnetio.com>
    Acked-by: Stefan Roese <sr@denx.de>

commit b81830f6e3b3e6ed114d071eb107965e49fa9b5a
Author: Ilya Yanok <yanok@emcraft.com>
Date:	Thu May 14 14:03:09 2009 +0400

    mmc: it's safe to ignore mmc_send_if_cond() return value

    Return value of mmc_send_if_cond() can be safely ignored (as it is
    done in Linux). This makes older cards work with MXC MCI controller.

    Signed-off-by: Ilya Yanok <yanok@emcraft.com>

commit dba6fcf6517faa5dda7df8109febe03c9c72a6f5
Author: Stefan Roese <sr@denx.de>
Date:	Mon May 11 15:54:13 2009 +0200

    cfi_mtd: Fix bug in last sector detection

    This patch now enabled this cfi-mtd wrapper to correctly detect and
    erase the last sector in an NOR FLASH device.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 4e3d89ba948eef801ffd46ef862cdede5b3f8320
Author: Yauhen Kharuzhy <jekhor@gmail.com>
Date:	Thu May 7 00:43:30 2009 +0300

    mmc: Fix decoding of SCR & function switch data on little-endian machines

    SCR & switch data are read from card as big-endian words and should be
    converted to CPU byte order.

    Signed-off-by: Yauhen Kharuzhy <jekhor@gmail.com>
    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit f33cb34b3971dabe3720d577b0e1b8601c09fe17
Author: Yauhen Kharuzhy <jekhor@gmail.com>
Date:	Thu May 7 13:08:53 2009 +0300

    mmc: Remove return from mmc_init for non SD 2.0 compatible cards.

    Cards which are not compatible with SD 2.0 standard, may return response
    for CMD8 command, but it will be invalid in terms of SD 2.0. We should
    accept this case as admissible, just like Linux does.

    Signed-off-by: Yauhen Kharuzhy <jekhor@gmail.com>
    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 998be3dd59ed0af4bec38324047fecfa88ac45db
Author: Rabin Vincent <rabin@rab.in>
Date:	Sun Apr 5 13:30:56 2009 +0530

    mmc: drop unnecessary casts

    Now that response is a uint, we can drop all the casts.

    Signed-off-by: Rabin Vincent <rabin@rab.in>

commit 0b453ffe28bb9227d86ddbe0893bd19c93f04ed7
Author: Rabin Vincent <rabin@rab.in>
Date:	Sun Apr 5 13:30:55 2009 +0530

    mmc: fix response decoding on little endian

    The mmc code defines the response as an array of chars.  However, it
    access the response bytes both as (i) an array of four uints (with
    casts) and (ii) as individual chars.  The former case is used more
    often, including by the driver when it assigns the response.

    The char-wise accesses are broken on little endian systems because they
    assume that the bytes in the uints are in big endian byte order.

    This patch fixes this by changing the response to be an array of four
    uints and replacing the char-wise accesses with equivalent uint-wise
    accesses.

    Signed-off-by: Rabin Vincent <rabin@rab.in>

commit 9b1f942c09dd942e6de3185caa81c111b14de567
Author: Rabin Vincent <rabin@rab.in>
Date:	Sun Apr 5 13:30:54 2009 +0530

    mmc: use lldiv to fix arm eabi build

    The generic MMC core uses direct long long divisions, which do not build
    with ARM EABI toolchains.  Use lldiv() instead, which works everywhere.

    Signed-off-by: Rabin Vincent <rabin@rab.in>

commit e85649c7e683faea1ccfddc9fa9abc62f38e4201
Author: Rabin Vincent <rabin@rab.in>
Date:	Sun Apr 5 13:30:53 2009 +0530

    mmc: check find_mmc_device return value

    find_mmc_device returns NULL if an invalid device number is specified.
    Check for this to avoid dereferencing NULL pointers.

    Signed-off-by: Rabin Vincent <rabin@rab.in>

commit ac0865ff33870cdf2cd480165045e1bc311e9fa2
Author: Rabin Vincent <rabin@rab.in>
Date:	Sun Apr 5 13:30:52 2009 +0530

    mmc: clean up help texts

    Remove some repeated words and superfluous newlines in the mmc command
    help entries.

    Signed-off-by: Rabin Vincent <rabin@rab.in>

commit 7d6900ebe16d679c0e03f8d1584b64057a64ce39
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Fri May 29 17:01:48 2009 -0400

    Blackfin: spi: fix pin handling of SPI0 SSEL4

    CS4 on SPI0 has a dedicated PH8 pin which needs to be enabled as a
    peripheral in order to work.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 2157359dad2533987f5eb0181ef543693fad6a33
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Tue May 26 02:51:57 2009 -0400

    Blackfin: fix if() logic in bootrom evt1 check

    A missing set of parenthesis caused the silicon revision to apply only to
    the BF533 and not the BF531/BF532 variants.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 76b5883da2cf049cd410901c04ea450e5f5c27c3
Author: Stefan Roese <sr@denx.de>
Date:	Sat May 16 12:04:22 2009 +0200

    jffs2/mtdparts: Fix problem with usage from JFFS2 and MTDPARTS together

    Currently using JFFS2 with MTDPARTS enabled doesn't work. This is because
    mtdparts_init() is available in both files, cmd_mtdparts.c and
    cmd_jffs2.c. Please note that in the original cmd_jffs2.c file (before
    the jffs2/mtdparts command/file split those 2 different versions
    already existed. So this is nothing new. The main problem is that the
    variables "current_dev" and "current_partnum" are declared in both
    files now. This doesn't work.

    This patch now changes the names of those variable to more specific
    names: "current_mtd_dev" and "current_mtd_partnum". This is because
    this patch also changes the declaration from static to global, so
    that they can be used from both files.

    Please note that my first tests were not successful. The MTD devices
    selected via mtdparts are now accessed but I'm failing to see the
    directory listed via the "ls" command. Nothing is displayed. Perhaps
    I didn't generate the JFFS2 image correctly (I never used JFFS2 in
    U-Boot before). Not sure. Perhaps somebody else could take a look at
    this as well. I'll continue looking into this on Monday.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Cc: Wolfgang Denk <wd@denx.de>
    Cc: Detlev Zundel <dzu@denx.de>
    Cc: Ilya Yanok <yanok@emcraft.com>
    Cc: Renaud barbier <renaud.barbier@ge.com>

commit ab687907980fa28940a1a992d3f1c5d17cdbbf5d
Author: Graf Yang <graf.yang@analog.com>
Date:	Sun May 24 02:34:34 2009 -0400

    Blackfin: bf518f-ezbrd: setup portmux for async flash

    The pins for async memory where parallel flash lives are not enabled by
    default, so make sure we mux them as needed.

    Signed-off-by: Graf Yang <graf.yang@analog.com>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit f40f6db278f602b55820693634a7256b0b4e4b80
Author: Stefan Roese <sr@denx.de>
Date:	Wed May 20 10:58:03 2009 +0200

    nand: Fix problem with ECC ordering for PPC4xx NDFC platforms

    This patch enables Smart Media (SMC) ECC byte ordering which is used
    on the PPC4xx NAND FLASH controller (NDFC). Without this patch we have
    incompatible ECC byte ordering to the Linux kernel NDFC driver.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Acked-by: Scott Wood <scottwood@freescale.com>

commit 399aab7748bef053d59612211e1bd7a3fabfce18
Author: Stefan Roese <sr@denx.de>
Date:	Wed May 20 10:58:02 2009 +0200

    ppc4xx: Fix problem with ECC ordering for PPC4xx NDFC platforms

    This patch now uses the correct ECC byte order (Smart Media - SMC)
    to be used on the 4xx NAND FLASH driver. Without this patch we have
    incompatible ECC byte ordering to the Linux kernel NDFC driver.

    Please note that we also have to enable CONFIG_MTD_NAND_ECC_SMC in
    drivers/mtd/nand/nand_ecc.c for correct operation. This is done with
    a seperate patch.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Acked-by: Scott Wood <scottwood@freescale.com>

commit 5d841fac8249a2b3f9a814da2140132be0a9f60d
Author: Stefan Roese <sr@denx.de>
Date:	Wed May 20 10:58:01 2009 +0200

    ppc4xx: Move definition for PPC4xx NAND FLASH controller to header

    This patch moves the definition for the PPC4xx NAND FLASH controller
    (NDFC) CONFIG_NAND_NDFC into include/ppc4xx.h. This is needed for the
    upcoming fix for the ECC byte ordering of the NDFC driver.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Acked-by: Scott Wood <scottwood@freescale.com>

commit 2df72b82bc9e17b88dc82735a067749220beb025
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Tue May 19 12:53:36 2009 -0500

    common: fix inline--weak error spotted by gcc 4.4

    cmd_ide.c:547: error: inline function 'ide_inb' cannot be declared weak

    removing the inline attribute fixes it.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 9fd9abedcc3c10cf89353265cbe05f58609d51f3
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Tue May 19 12:53:32 2009 -0500

    TQM834x: remove defines causing gcc4.4 warnings

    Configuring for TQM834x board...
    cpu_init.c: In function 'cpu_init_f':
    cpu_init.c:262: warning: array subscript is above array bounds
    cpu_init.c:263: warning: array subscript is above array bounds
    cpu_init.c:270: warning: array subscript is above array bounds
    ...

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 0850301747228a3327f2815a85284d26ade3de95
Author: Andreas Huber <andreas.huber@keymile.com>
Date:	Tue May 19 11:06:30 2009 +0200

    UBI: fix return code in ubi_volume_read

    Return -ENODEV instead of 0 when trying to read from a non existing volume.

    Signed-off-by: Andreas Huber <andreas.huber@keymile.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit ec01481ddc4cf302c7f6d760b776ca94819ec21e
Author: Graf Yang <graf.yang@analog.com>
Date:	Tue May 19 04:40:08 2009 -0400

    Blackfin: fix timer_init()/timer_reset()

    The timer_init() function was not using the right csync instruction, nor
    was it doing it right after disabling the core timer.

    The timer_reset() function would reset the timestamp, but not the actual
    timer, so there was a common edge case where get_timer() return a jump of
    one timestamp (couple milliseconds) right after resetting.	This caused
    many functions to improperly timeout right away.

    Signed-off-by: Graf Yang <graf.yang@analog.com>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit c06326c73bf90e48a8e1cf8893ad31c575423f50
Author: Shinya Kuribayashi <skuribay@pobox.com>
Date:	Sat May 16 09:12:09 2009 +0900

    MIPS: lib_mips/board.c: Remove unused variables

    This fixes the following build warnings:

    board.c: In function 'board_init_r':
    board.c:328: warning: unused variable 'i'
    board.c:326: warning: unused variable 'e'

    Signed-off-by: Shinya Kuribayashi <skuribay@pobox.com>

commit 47f6a36cc3f3427cc8e4f1d0f3e6678be6f33769
Author: Shinya Kuribayashi <skuribay@pobox.com>
Date:	Sat May 16 09:12:09 2009 +0900

    MIPS: Make all extern-ed functions in bitops.h static

    All these functions are expected to be static inline-ed.
    This patch also fixes the following build warnings on MIPS targets:

    include/asm/bitops.h: In function 'ext2_find_next_zero_bit':
    include/asm/bitops.h:862: warning: '__fswab32' is static but used in inline function 'ext2_find_next_zero_bit' which is not static
    include/asm/bitops.h:885: warning: '__fswab32' is static but used in inline function 'ext2_find_next_zero_bit' which is not static
    include/asm/bitops.h:887: warning: '__fswab32' is static but used in inline function 'ext2_find_next_zero_bit' which is not static

    Signed-off-by: Shinya Kuribayashi <skuribay@pobox.com>

commit 87423d740b91329b8d1d0b73cafd6930993b558a
Author: Thomas Lange <thomas@corelatus.se>
Date:	Fri Apr 24 16:22:16 2009 +0200

    MIPS: Implement ethernet halt for au1x00

    Implement ethernet halt() by putting MAC0 in reset.
    If we do not do this, we will get memory corruption
    when ethernet frames are received during early OS boot.

    Signed-off-by: Thomas Lange <thomas@corelatus.se>
    Signed-off-by: Shinya Kuribayashi <skuribay@pobox.com>

commit a2e0ffcf2d9a22c582a93e84a4bef20fd3877f47
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri May 15 23:29:23 2009 +0200

    Prepare v2009.06-rc2

    Update CHANGELOG.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit f4317ea91942f44cc1c433277927b61618e9b0a5
Author: Daniel Mack <daniel@caiaq.de>
Date:	Tue May 5 12:48:29 2009 +0200

    ARM: fix PXA build by defining UP2OCR

    U-Boot does not currently build for PXA platforms with USB support
    enabled:

    usb.c:46: error: 'UP2OCR' undeclared (first use in this function)

    Signed-off-by: Daniel Mack <daniel@caiaq.de>
    Cc: Markus Klotzbuecher <mk@denx.de>

    Edited commit message.
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit e26ad0eabd10a8cda51920fbcfe4da5b4ccf0c98
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri May 15 22:32:57 2009 +0200

    Minor Coding Style fix; update CHANGELOG.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit af75a45d23b72a59ac5cc0427696c7f634fdc94b
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri May 15 09:27:58 2009 +0200

    IDE: bail out of dev_print() for unknown device types

    Commit 574b319512 introduced a subtle bug by mixing a list of tests
    for "dev_desc->type" and "dev_desc->if_type" into one switch(), which
    then mostly did not work because "dev_desc->type" cannot take any
    "IF_*" type values. A later fix in commit 8ec6e332ea changed the
    switch() into testing "dev_desc->if_type", but at this point the
    initial test for unknown device types was completely lost, which
    resulted in output like that for IDE ports without device attached:

      Device 1: Model:	Firm:  Ser#:
		Type: # 1F #
		Capacity: not available

    This patch re-introduces the missing test for unknown device types.

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: Stefan Roese <sr@denx.de>
    Cc: Detlev Zundel <dzu@denx.de>
    Tested-by: Stefan Roese <sr@denx.de>

commit c21f62d8483fbab44cd98d93ff2e9355a330d225
Author: Stefan Roese <sr@denx.de>
Date:	Thu May 14 07:25:13 2009 +0200

    74xx_7xx: Fix rounding problem in CPU frequency calculation

    This patch fixes a problem in the CPU frequency calculation. Without it
    a 798MHz CPU is displayed as 368.503 MHz. And with it it's 798 MHz.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 3ad8a0517b724782ab36f2b554a94de4c00c1adb
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed May 13 22:24:12 2009 +0200

    console.h: remove unused prototype 'console_realloc'

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 84bf7ca522e94ec402a1264b01971b924b7e268f
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed May 13 22:16:31 2009 +0200

    api: remove un-needed ifdef CONFIG_API already handle by the Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 792a09eb9d5d8c4f74b7e9f2e887316d511a4e80
Author: Detlev Zundel <dzu@denx.de>
Date:	Wed May 13 10:54:10 2009 +0200

    Fix e-mail address of Gary Jennejohn.

    Signed-off-by: Detlev Zundel <dzu@denx.de>

commit 5e2c08c3ac90808e9be64856916bfd6df984823c
Author: Emil Medve <Emilian.Medve@Freescale.com>
Date:	Tue May 12 13:48:32 2009 -0500

    Remove inline qualifier from show_boot_progress()

    The 'inline' is conflicting with the semantic of 'weak' attribute and with the
    way the show_boot_progress() function is used.

    Also gcc 4.4 is complaining about it:

    main.c:51: error: inline function 'show_boot_progress' cannot be declared weak

    Signed-off-by: Emil Medve <Emilian.Medve@Freescale.com>

commit fe6da4837308aa33d537ac3e7f36c2d66e3d9a36
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue May 12 15:17:35 2009 +0200

    MPC8260: fixup device tree by property instead of path

    cpu/mpc8260/cpu.c used to use do_fixup_by_path_u32() to update the
    clock frequencies in the device tree, using a CPU path
    "/cpus/OF_CPU", with OF_CPU beind defined in the board config file.

    However, this does not work when one board config file (here:
    MPC8260ADS.h) is intended to be used for several diffrent CPUs and
    therefor contains a generic definition like "cpu@0", as the device
    trees that will then be loaded will contain specific names like
    "PowerPC,8272@0".

    We switch to using do_fixup_by_prop_u32() instead, so we can search
    for device_type="cpu", as it is done in other architectures, too.

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Cc: Heiko Schocher <hs@denx.de>
    Acked-by: Heiko Schocher <hs@denx.de>
    Tested-by: Heiko Schocher <hs@denx.de>

commit 12a6753155716e5c3c181a8f40e8b2d3d669aefd
Author: Rohit Hagargundgi <h.rohit@samsung.com>
Date:	Mon Mar 9 19:45:46 2009 +0530

    Fix OneNAND ipl to read CONFIG_SYS_MONITOR_LEN

    Add CONFIG_SYS_MONITOR_LEN macro to apollon board config.
    CONFIG_SYS_MONITOR_LEN defines the U-Boot image size.
    and is used by OneNAND ipl when reading U-Boot image.

    Signed-off-by: Rohit Hagargundgi <h.rohit at samsung.com>
    Acked-by: Kyungmin Park <kyungmin.park@samsung.com>

commit c404cc5884b0c82fd82d751dbd8e8b3f8919a23a
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Tue Apr 28 17:04:51 2009 -0700

    Schedule removal of non-CONFIG_NET_MULTI net driver API

    This will make CONFIG_NET_MULTI the only net driver configuration and
    we'll be able to remove this option.

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 60bbcf0cc6e55095dd186e59a557d584b9b56eb1
Author: Detlev Zundel <dzu@denx.de>
Date:	Tue May 5 16:04:06 2009 +0200

    powerpc/inka4x0: Remove left-over ide reset code.

    The pin which was used in preliminary versions of the board for ide
    reset is really connected to the rtc clock.

    Signed-off-by: Detlev Zundel <dzu@denx.de>

commit f578a2da6770951239ad91ee9a1875fdc71dbe48
Author: Marco Stornelli <marco.stornelli@gmail.com>
Date:	Tue Apr 28 19:04:02 2009 +0200

    Add imls utility command

    This patch adds, under tools folder, a new command called imls. Its
    goal is the same of UBoot's imls but it can be used as Linux shell
    command. It reads from raw mtd partition and prints the list of the
    stored images.

    Signed-off-by: Marco Stornelli <marco.stornelli@gmail.com>

commit da95427ce431908714ae5e9f663ee6e2bc3bcc33
Author: Heiko Schocher <hs@denx.de>
Date:	Tue Apr 28 08:36:11 2009 +0200

    netloop: updates for NetLoop

    Fix some issues introduced from commit:
    2f70c49e5b9813635ad73666aa30f304c7fdeda9
    suggested by Mike Frysinger.

    - added some comment for the env_id variable in common_cmd_nvedit.c
    - moved some variables in fn scope instead of file scope
    - NetInitLoop now static void

    Signed-off-by: Heiko Schocher <hs@denx.de>
    Acked-by: Ben Warren <biggerbadderben@gmail.com>

commit 3c1d89545de11822f8b5afb5646a57757620bd95
Author: Heiko Schocher <hs@denx.de>
Date:	Tue Apr 28 07:48:39 2009 +0200

    82xx, ids8247: added ids8247 board to MAKEALL script

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 890a017a8a995c921d1e889d360e8d6538ceecfe
Author: Detlev Zundel <dzu@denx.de>
Date:	Thu May 7 13:08:55 2009 +0200

    arm/imx31_phycore: Fix bi_arch_number

    Signed-off-by: Detlev Zundel <dzu@denx.de>
    Cc: Sascha Hauer <s.hauer@pengutronix.de>

commit ee47bfabefeb25bdfc83f49ef3bae0f325d3e69e
Author: Sascha Hauer <s.hauer@pengutronix.de>
Date:	Fri May 15 10:21:33 2009 +0200

    remove myself as phycore/litekit Maintainer

    I never acked a patch that adds me as phycore i.MX31 maintainer nor was
    it me who pushed the patches, so remove myself from the maintainer list
    so that other people do not longer wait for my ack.

    Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>

commit c63254ef5628efe1c77cb2fdba20753f9666f55d
Author: Sergey Lapin <slapin@ossfans.org>
Date:	Tue May 12 12:25:14 2009 +0400

    AFEB9260 network fix

    AFEB9260 uses PA10, PA11 for ETX2 and ETX3.
    Also, due to extarnal pull-up on IRQ line, Micrel PHY ID is 1 after reset sequence,
    not 0.

    Signed-off-by: Sergey Lapin <slapin@ossfans.org>

commit f8ddcd58221cab63dd25c2324dd2032487f748b1
Author: Graf Yang <graf.yang@analog.com>
Date:	Tue May 5 02:26:27 2009 -0400

    Blackfin: bf518f-ezbrd: reset ethernet PHY during init

    We don't know what state the ethernet PHY is in when starting up, so make
    sure we set it to a sane state.  This fixes troubles seen when Linux boots
    up, configures the PHY is a non-default state, and then the system reboots
    into U-Boot which previously expected a reset state only.

    Signed-off-by: Graf Yang <graf.yang@analog.com>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 53310b88eaa27fb5cb83144d0b22389190ad87a1
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Tue May 5 01:35:41 2009 -0400

    Blackfin: bf527-ezkit: fix SPI flash env params

    The BF527-EZKIT settings for storing the environment in SPI flash wasn't
    using the correct sector settings for the SPI flash part that is actually
    on the board.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit f58bf804a14324c6c9186a7a664fa23281780e8b
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Fri Apr 24 23:54:19 2009 -0400

    Blackfin: avoid get_sclk() with early serial debug

    When the clock functions were changed to use cached values (and thereby
    avoiding expensive math functions), early serial debug broke because the
    baud programming is called before external memory is available.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 02778f2f1b4b1a28b492367477db27c58d45ae35
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Fri Apr 24 23:39:41 2009 -0400

    Blackfin: fix booting with older bootroms (no EVT1)

    When dropping jump block support, the assumption was that all bootroms
    supported entry point redirection via the EVT1 register.  Unfortunately,
    this turned out to be incorrect for the oldest Blackfin parts (BF533-0.2
    and older and BF561).  No one really noticed earlier because these parts
    usually are booted by bypassing the bootrom entirely, and older BF533
    parts are not supported at all (too many anomalies).

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit af2c37378f203857d5e6c957e77a14c2da5b59d2
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Fri Apr 24 23:22:48 2009 -0400

    Blackfin: recurse with early serial initcode

    Make sure we recurse through serial_putc() rather than bang on the UART
    transmit register directly to avoid hardware overflows when using \n.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 6b8edfde22acc574b5532e9f086e6a7287a9bc78
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri May 1 21:59:12 2009 +0200

    Prepare v2009.06-rc1

    Update CHANGELOG.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 6b2beb5626a143ca5347e7d2c6005be9936c1fbb
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri May 1 15:38:06 2009 +0200

    at91: remove lowlevel_init.S

    lowlevel_init.S is not used any more so remove it.
    As consequence, we also don't have to generate u-boot.lds
    but can use a static version as before.

    This also fixes the out-of-tree build problem introduced
    with commit f0a2c7b4 "at91: add support for the PM9263 board"

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 0ee7a310479640ef17ce2fc0f6c13cf7961d2330
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri May 1 00:16:11 2009 +0200

    Update CHANGELOG; minor coding style cleanup.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit d3a513c23ba4100d6983161cdc1f747dfd087bbd
Author: Manikandan Pillai <mani.pillai@ti.com>
Date:	Tue Apr 21 17:29:05 2009 +0200

    OMAP3: Fix timer handling to 1ms and CONFIG_SYS_HZ to 1000

    Signed-off-by: Dirk Behme <dirk.behme@googlemail.com>
    Signed-off-by: Manikandan Pillai <mani.pillai@ti.com>

commit ac9140037a84629c5583066ff1a177396c47d89d
Author: Dirk Behme <dirk.behme@googlemail.com>
Date:	Fri Apr 17 14:27:56 2009 +0200

    OMAP3: Beagle: Set pinmux conditionally for Rev C boards

    The Beagle Rev C boards pull UART2 from an alternate set of balls.

    Signed-off-by: Steve Sakoman <steve@sakoman.com>
    Signed-off-by: Dirk Behme <dirk.behme@googlemail.com>

commit c1a0fd5f2864e9d381f4a3dc948942cac974e89a
Author: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>
Date:	Mon Apr 27 18:33:33 2009 +0200

    ubifs: BUG: Blocks commpressed with zlib

    Blocks compressed with zlib dont have the full gzip header.

    Without this patch, block compressed with zlib cannot be readed!

    Signed-off-by: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>

commit 35f6a943f7d92145d607c1d55f5c2e2eae5be630
Author: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>
Date:	Mon Apr 27 18:33:32 2009 +0200

    lib_generic: gunzip: New function zunzip

    Separate gunzip in

    gunzip: Find the end of the header and call zunzip.
    zunzip: Inflate gunzip block without header.

    UBI fs blocks can be compresed in lzo, zlib or no-compression. The
    current implementation of u-boot supported all the compressions but
    there was a bug in the implementation of the zlib blocks.

    UBIFS's Zlib blocks do not have header but they were compressed using
    gunzip, a function used to decompress gunzip files/sectors with a
    header.

    This patch adds a new function zunzip that uncompress a zlib block with
    no header.

    Signed-off-by: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>

commit a1e5f93185d0d85a4b3fad3b6c743cddcd373b0c
Author: Daniel Gorsulowski <Daniel.Gorsulowski@esd.eu>
Date:	Thu Apr 23 15:37:16 2009 +0200

    at91: fixed plla calc when no USB support is active

    Signed-off-by: Daniel Gorsulowski <Daniel.Gorsulowski@esd.eu>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 3791a1187c1401c33c9512595e6e89dbb46230c5
Author: Ladislav Michl <ladis@linux-mips.org>
Date:	Wed Apr 22 01:12:04 2009 +0200

    arm925t: Fix CONFIG_SYS_HZ to 1000

    Let CONFIG_SYS_HZ to have value of 1000 effectively fixing all users of
    get_timer.

    Changes since original version:
    * Set PTV=2 (divisor 8) for boards using 12MHz timer clock source to
      improve timer resolution.

    Signed-off-by: Ladislav Michl <ladis@linux-mips.org>

commit 42bf4b2248146abdc592bde0009c6ea42067f437
Author: Dirk Behme <dirk.behme@googlemail.com>
Date:	Tue Apr 14 20:15:17 2009 +0200

    OMAP3: Remove legacy NAND defines

    Remove remaining legacy NAND defines for Beagle, EVM, Overo and Pandora.

    Signed-off-by: Dirk Behme <dirk.behme@googlemail.com>

commit cba0b778dd5f1ea32959b6825c7f0a31501a99d5
Author: Sanjeev Premi <premi@ti.com>
Date:	Mon Apr 27 21:27:54 2009 +0530

    OMAP3: Print correct silicon revision

    The function display_board_info() displays incorrect
    silicon revision - based on the return value from
    function get_cpu_rev().

    This patch fixes the problem.

    Signed-off-by: Sanjeev Premi <premi@ti.com>

commit 90006e9b33bcdbf241b0295d186e3634137907a9
Author: Sanjeev Premi <premi@ti.com>
Date:	Mon Apr 27 21:27:44 2009 +0530

    OMAP3: Remove unused board-types

    The board-types defined in struct omap3_sysinfo seem to be
    unused. The function display_board_info() is passed
    board type as an argument; which is ignored.

    This patch removes all uses of board-type, related definitions
    and functions.

    Signed-off-by: Sanjeev Premi <premi@ti.com>

commit 6a6b62e3aa4b340c4f8fc67b1487ddb5436c684d
Author: Sanjeev Premi <premi@ti.com>
Date:	Mon Apr 27 21:27:27 2009 +0530

    OMAP3: Use functions print_cpuinfo() and checkboard()

    Use the functions print_cpuinfo() and checkboard() to
    display the cpu and board specific information.

    These functions reuse content from the existing function
    display_board_info() - which has been removed.

    Also, updated the existig OMAP3 configurations to
    define:
     - CONFIG_DISPLAY_CPUINFO
     - CONFIG_DISPLAY_BOARDINFO

    Signed-off-by: Sanjeev Premi <premi@ti.com>

commit f8e2b3107ee00f2782f8ebf47e3f09cda4e2353a
Author: Stefan Roese <sr@denx.de>
Date:	Wed Mar 18 11:17:37 2009 +0100

    MTD: Change cfi-mtd to accept non-uniform sector sizes

    With this patch non-uniform NOR FLASH chips (chips with multiple erase
    regions) can be exported via the cfi-mtd layer and therefor used by UBI.
    We select the largest sector size as erasesize. The cfi driver will make
    sure that the smaller sectors are handled correctly.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 3dcbe628d66b648e954bc8147d4faff2983206d9
Author: Anatolij Gustschin <agust@denx.de>
Date:	Thu Apr 23 12:35:22 2009 +0200

    video: fix bug in cfb_console.c code

    Fix bug in drawing long version/info strings:
    U-Boot version string like
    "U-Boot 2009.03-05647-g7c51e06 (Apr 23 2009 - 12:40:00) MPC83XX"
    is long and doesn't wrap around correctly while drawing
    beside the logo. Such long strings partially overwrite
    the logo. This patch is an attempt to fix it.

    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit 4d9eab89b3b2c2ed432b14d355a56f274d8aac75
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Apr 28 08:50:31 2009 +0200

    cmd_ext2.c: fix compile warnings

    Get rid of these warnings:

    cmd_ext2.c:247: warning: format '%ld' expects type 'long int', but argument 2 has type 'int'
    cmd_ext2.c:248: warning: format '%lX' expects type 'long unsigned int', but argument 3 has type 'int'

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 28afe0160f87ff74574150d703055a965f91422a
Author: Heiko Schocher <hs@denx.de>
Date:	Mon Apr 27 10:48:20 2009 +0200

    ids8247: Remove legacy NAND defines

    because legacy NAND support is deprecated converting to current
    NAND interface. !This just compile, because I have no more the
    hardware to test it.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit dbd33614404b65aa441c5620c3dbd560c4460c09
Author: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>
Date:	Mon Apr 27 09:13:31 2009 +0200

    ubifs: BUG realpath string must be ended with NULL

    If the memory used to copy the link_make is "dirty" the string wont
    be ended with NULL, throwing out multiple memory bugs.

    Signed-off-by: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>
    Acked-by: Stefan Roese <sr@denx.de>

commit 65351a8793c51f3787efbbcf3aa1df0ad543c127
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Apr 24 15:59:56 2009 -0500

    bmp_logo: Check return value of fread()

    Add basic error handling to fread() function calls.  This prevents
    compililation warnings such as:

    bmp_logo.c: In function main:
    bmp_logo.c:71: warning: ignoring return value of fread, declared with
    attribute warn_unused_result
    ...

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit eea8be86d1c2b570660d1f6c553845e13164231a
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Apr 24 15:59:46 2009 -0500

    ncb: Check return value of write()

    This prevents the compilation warning:

    ncb.c: In function 'main':
    ncb.c:32: warning: ignoring return value of write, declared with
    attribute warn_unused_result

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit dbe29e36a4c2775b69b5a63b0ce2bac89c08e691
Author: Stefan Roese <sr@denx.de>
Date:	Fri Apr 24 15:59:35 2009 +0200

    mtd: nand/onenand: Register mtd device upon device scanning

    With this patch the NAND and OneNAND devices are registered in the MTD
    subsystem and can then be referenced by the mtdcore code (e.g.
    get_mtd_device_nm()). This is needed for the new "ubi part" command
    syntax without the flash type parameter (nor|nand|onenand).

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 10bb62d85a0850dbad1fdd34123378686373f166
Author: Stefan Roese <sr@denx.de>
Date:	Fri Apr 24 15:58:33 2009 +0200

    mtd: nand: Include linux/mtd/partitions.h in nand_base.h

    This patch removes this compilation warning when CONFIG_MTD_PARTITIONS is
    defined:

    nand_base.c: In function 'nand_release':
    nand_base.c:2922: warning: implicit declaration of function 'del_mtd_partitions'

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 2d579e5060413af5a740cb396dc87e1ff31bf5a9
Author: Stefan Roese <sr@denx.de>
Date:	Fri Apr 24 20:24:19 2009 +0200

    ubi: Remove flash selection parameter (nor|nand|onenand) from "ubi part"

    This patch removes the now unnecessary flash type parameter from the
    "ubi part" command. Currently the user has to define the type of flash
    he will be using UBI on. Example:

    => ubi part nor partition1

    With this patch this type parameter is not needed anymore. The user can
    now select the partition directly without the flash type paramter.
    Example:

    => ubi part partition1

    This breaks backward compatibility right now because of the change in the
    command syntax. But UBI support is still quite fresh and the advantage of
    this new command is syntax big enough for this change. Additionally the
    code is much cleaner now.

    Signed-off-by: Stefan Roese <sr@denx.de>
    CC: Kyungmin Park <kyungmin.park@samsung.com>

commit 294f10ca9ea82a15e135dcb0fc658382ab206940
Author: Detlev Zundel <dzu@denx.de>
Date:	Thu Apr 23 13:14:20 2009 +0200

    mips/vcth: Use generic 16550 uart driver

    As the common code also handles baudrate switching, which the board
    specific vct.c driver did not support, this is one of the rare
    occassions where deleting code actually adds a feature :)

    Signed-off-by: Detlev Zundel <dzu@denx.de>
    Acked-by: Stefan Roese <sr@denx.de>
    Acked-by: Shinya Kuribayashi <shinya.kuribayashi@necel.com>

commit 0c8a84916c5dacccdc5b27b63fc463e9f3b04f07
Author: Ladislav Michl <ladis@linux-mips.org>
Date:	Tue Apr 21 02:26:31 2009 +0200

    Separate mtdparts command from jffs2

    On Thu, Mar 19, 2009 at 01:30:36PM +0100, Stefan Roese wrote:
    > Currently the mtdparts commands are included in the jffs2 command support.
    > This doesn't make sense anymore since other commands (e.g. UBI) use this
    > infrastructure as well now. This patch separates the mtdparts commands from
    > the jffs2 commands making it possible to only select mtdparts when no JFFS2
    > support is needed.

    One more leftover... Let nboot command know about partitions even if JFFS2
    support is not enabled.

    Signed-off-by: Ladislav Michl <ladis@linux-mips.org>
    Acked-by: Stefan Roese <sr@denx.de>

commit 67c2e57c0875139dbfcd6f41c43e6ad0cb2e40c9
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Mon Apr 20 11:22:13 2009 -0500

    cmd_ide: Remove unused AmigaOneG3SE code

    The output_data_short() and input_data_short() functions for the
    AmigaOneG3SE are unused and result in compiler warnings.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit c93c102ace00764a56dbdf78bac134a23906721e
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Mon Apr 20 11:21:40 2009 -0500

    AmigaOneG3SE: Fix CONFIG_CMD_CONSOLE definition

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 54e822f9590cc6c70411bd8cabd42236e07a2aa7
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Mon Apr 20 11:09:05 2009 -0500

    Replace __asm references with __asm__

    __asm__ follows gcc's documented syntax and is generally more common
    than __asm.  This change is only asthetic and should not affect
    functionality.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit f9a109b3adc5e8647535357500e2a38f0558b5c2
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Mon Apr 20 11:08:46 2009 -0500

    Replace __attribute references with __attribute__

    __attribute__ follows gcc's documented syntax and is generally more
    common than __attribute.  This change is only asthetic and should not
    affect functionality.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 08f077da9298ff65cc6f85f90d2770000a1beee9
Author: David Brownell <dbrownell@users.sourceforge.net>
Date:	Thu Apr 16 19:55:48 2009 -0700

    mtdpart command: align output columns

    Make the headers in the "mtdparts" command output line up
    with their columns ... strike the extra TAB character.

    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

commit 06f41f825c23344d889d5419bb5eaeceb3ed2a02
Author: Shinya Kuribayashi <shinya.kuribayashi@necel.com>
Date:	Thu Apr 16 10:51:03 2009 +0900

    Remove sa1100.h

    sa1100.h is not used anywhere, then remove it.

    $ find . -name '*.h' -empty -print
    ./include/sa1100.h
    $ git grep 'sa1100.h' .
    $

    Signed-off-by: Shinya Kuribayashi <shinya.kuribayashi@necel.com>
    Acked-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 7d3d30b1b3fbd0a07db254ead99fa6fff4f4d992
Author: Stefan Roese <sr@denx.de>
Date:	Tue Apr 14 17:51:21 2009 +0200

    UBIFS: Remove tnc_commit.c which is not used in the read-only version

    I missed removing this file while implementing the UBIFS support. It's
    not referenced at all, so let's remove it. Thanks to Artem Bityutskiy
    for spotting.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 6356daff70867822bdb23cea49f98e65421a25b8
Author: Adrian Hunter <adrian.hunter@nokia.com>
Date:	Tue Apr 14 17:50:38 2009 +0200

    UBIFS: fix recovery bug

    UBIFS did not recovery in a situation in which it could
    have. The relevant function assumed there could not be
    more nodes in an eraseblock after a corrupted node, but
    in fact the last (NAND) page written might contain anything.
    The correct approach is to check for empty space (0xFF bytes)
    from then on.

    Signed-off-by: Adrian Hunter <adrian.hunter@nokia.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 351f40caf2f7806b2cefb93e077ea619b9f684e8
Author: Gao Guanhua <B22826@freescale.com>
Date:	Tue Apr 14 14:37:35 2009 +0800

    fs: Fix the wrong type of var

    The filelen should be signed type, not unsigned type.
    otherwise, The condition as below never take.
	if (filelen < 0)

    Signed-off-by: Gao Guanhua <B22826@freescale.com>
    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit 05f474c4d0469bebc0bb05df60a39dc7fdf28e62
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Apr 28 00:29:34 2009 +0200

    Update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit ad74cae9ff8790727bc81ee91c6bca7d50dca446
Author: David Brownell <dbrownell@users.sourceforge.net>
Date:	Thu Apr 16 23:15:15 2009 -0700

    dm9000 EEPROM reading bugfix

    Make the U-Boot dm9000 driver read addresses from EEPROM just
    like Linux does ... read six bytes, instead of reading twelve
    bytes and then discarding every other one.

    Using the right Ethernet address is a big win.

    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Acked-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Acked-by: Ben Warren <biggerbadderben@gmail.com>

commit d4c02e6f5d49880123e7f584b88f857ffd874381
Author: Yoshihiro Shimoda <shimoda.yoshihiro@renesas.com>
Date:	Wed Feb 25 14:27:24 2009 +0900

    rtl8169: fix cache coherency problem

    Fix the problem that cannot access actual data when CPU data cache enabled.

    Signed-off-by: Yoshihiro Shimoda <shimoda.yoshihiro@renesas.com>
    Tested-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Acked-by: Ben Warren <biggerbadderben@gmail.com>

commit a85693b3bd4431b05b7df608b6f7733c0f80c53e
Author: Dirk Behme <dirk.behme@googlemail.com>
Date:	Tue Apr 21 17:30:51 2009 +0200

    OMAP3: Fix changed mmc init command

    In recent U-Boot mmcinit changed to mmc init.

    Signed-off-by: Steve Sakoman <steve@sakoman.com>
    Signed-off-by: Dirk Behme <dirk.behme@googlemail.com>

commit 34b76a14f676bc6501c27a96564e4dfb4793f033
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Apr 26 20:39:26 2009 +0200

    lib_arm/board.c: remove misleading "test-only" comment.

    For a long time, the print_cpuinfo() declaration in lib_arm/board.c
    had been marked as "test-only", which is plain wrong considering
    current usage.  Delete this misleading comment.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 7239c5da5e9197accb3dfe395be4502c3b9bca8e
Author: David Brownell <dbrownell@users.sourceforge.net>
Date:	Sun Apr 12 15:40:16 2009 -0700

    minor DaVinci clock cleanup

    Minor cleanup to clock-related defines for DaVinci DM6446 boards:

     - CONFIG_SYS_CLK_FREQ is unused; remove it.

     - CONFIG_SYS_NS16550_CLK must be the same as CONFIG_SYS_HZ_CLOCK

    On DM6446 both of those peripheral clocks actually come from the
    same source, the primary oscillator.  Having them use the same
    symbol avoids bugs in the clone'n'modify development cycle.

    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

commit ffd8c7170d55c34bbfcfd2c84093dcaff796cbf3
Author: Minkyu Kang <mk7.kang@samsung.com>
Date:	Mon Apr 6 19:59:29 2009 +0900

    s3c64xx: remove unnecessary definition

    CONFIG_S3C6400 is must defined at config header file
    That definition is unnecessary at this file

    Signed-off-by: Minkyu Kang <mk7.kang@samsung.com>

commit 14b9308d511b53042ef478936e367a67282df66a
Author: Heiko Schocher <hs@denx.de>
Date:	Fri Apr 24 06:50:45 2009 +0200

    83xx: searching "muram-data" by compatible property

    if using CONFIG_BOOTCOUNT_LIMIT feature on a MPC8360 CPU
    in the muram-data node, the reg entry needs to be updated.
    This is done in fdt_fixup_muram(), but we should use
    the compatible "fsl,qe-muram-data" for searching the
    node instead of searching the muram-data node with
    an absolute path.

    Signed-off-by: Heiko Schocher <hs@denx.de>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 8e15088794807944b221c11609d36789efc7f767
Author: Anatolij Gustschin <agust@denx.de>
Date:	Thu Apr 23 21:29:34 2009 +0200

    mpc83xx: MPC8360ERDK: fix environment offset configuration bug

    The size of U-Boot binary for MPC8360ERDK increased
    (> 2 flash sectors now), so 'saveenv' will partially
    overwrite U-Boot in flash and will brick the board.
    This patch moves environment offset to fourth flash
    sector and also fixes CONFIG_SYS_MONITOR_LEN.

    Signed-off-by: Anatolij Gustschin <agust@denx.de>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 3c172c4fdbbb5858fae38478d6399be4a16be3fc
Author: Michael Zaidman <michael.zaidman@gmail.com>
Date:	Sat Apr 4 01:43:00 2009 +0300

    NetLoop initialization bug

    The patch fixes the bug of partial initialization of global network
    parameters.

    Upon u-boot's start up the first ping command causes a failure of the
    consequent TFTP command. It happens in the recently added mechanism of
    the NetLoop initialization where initialization of global network
    parameters is separated in the NetInitLoop routine which is called per
    env_id change. Thus, ping request will initialize the network parameters
    necessary for ping operation only, afterwards the env_changed_id will be
    set to the env_id that will prevent all following initialization requests
    from other protocols.
    The problem is that the initialized by ping subset of network parameters
    is not sufficient for other protocols and particularly for TFTP which
    requires the NetServerIp also.

    Signed-off-by: Michael Zaidman <michael.zaidman@gmail.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit b11f664f52c2855990107c18f242223377183575
Author: Timur Tabi <timur@freescale.com>
Date:	Thu Apr 9 10:27:05 2009 -0500

    net: fix ULI 526x macro usage in netdev.h

    Change netdev.h to use CONFIG_ULI526X instead of CONFIG_ULI526.  CONFIG_ULI526X
    is used everywhere else, so that's the correct macro name.	Without this fix,
    Ethernet will not work on the Freescale MPC8610 HPCD.

    Signed-off-by: Timur Tabi <timur@freescale.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 7ee38c044ca5041d3378d6507580ea4ec344af96
Author: David Brownell <dbrownell@users.sourceforge.net>
Date:	Sun Apr 12 15:38:06 2009 -0700

    fix DaVinci NS16550_REG_SIZE regression

    Update the DaVinci DM6446 boards to use the new convention
    for CONFIG_SYS_NS16550_REG_SIZE ... the size hasn't changed
    from the original 4 bytes, but these chips are little-endian.

    (Resolves a regression added recently by the include/ns16550.h
    patch to "Unify structure declaration for registers".  The code
    previously worked just fine because the registers were accessed
    as host-endian words, not as bytes.)

    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

commit dfc99e143fca44a492918ac6cf3f76ee9c2473a9
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Apr 12 22:29:20 2009 -0400

    cmd_nand: drop duplicate NULL ptr check

    The first if statement checks for NULL ptrs, so there is no need to check
    it again in later else cases (such as .oob).

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    CC: Scott Wood <scottwood@freescale.com>

commit 7732cef2eeb4e339cfcd8553fab773af73a20805
Author: David Brownell <dbrownell@users.sourceforge.net>
Date:	Mon Apr 13 08:03:38 2009 -0700

    CMD_UBI != MTD_PARTITIONS

    Fix dependency goofage:  it should certainly be possible to have the
    partition support without bringing in UBI commands.

    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    Acked-by: Stefan Roese <sr@denx.de>

commit 6ebff365eb63093ca35b687316002535c6a18820
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Thu Apr 16 21:30:48 2009 +0200

    at91sam9/at91cap: fix CONFIG_SYS_HZ to 1000

    The timer has been rewrote with a precision at ~0,18%

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Tested-by: Sergey Lapin <slapin@ossfans.org>
    Tested-by: Eric BENARD <ebenard@free.fr>

commit f0a2c7b4b64eacd06bb272856bcc056be8719f5a
Author: Ilko Iliev <iliev@ronetix.at>
Date:	Thu Apr 16 21:30:48 2009 +0200

    at91: add support for the PM9263 board of Ronetix GmbH

    The PM9263 board is based on the AT91SAM9263-EK board.

    Here is the page on Ronetix website:
    http://www.ronetix.at/starter_kit_9263.html

    Signed-off-by: Ilko Iliev <iliev@ronetix.at>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit dc39ae9513c32dfeb9e018dc0d22c6484514fefb
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Thu Apr 16 21:30:44 2009 +0200

    at91sam9/at91cap: improve clock framework

    calculate dynamically the clock rate and pllb setting for usb

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit dd7c302099ef5590069bdbf292aaa8230cd59de7
Author: Stefan Roese <sr@denx.de>
Date:	Wed Apr 15 14:08:48 2009 +0200

    ppc4xx: Disable POST memory test on NAND-booting Kilauea

    Don't run the memory POST on the NAND-booting version. It will
    overwrite part of the U-Boot image which is already loaded from NAND
    to SDRAM. We were just lucky that it booted at all with this SDRAM
    test enabled.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 9a929170be89b27bce677504da27e88600c06c49
Author: Stefan Roese <sr@denx.de>
Date:	Wed Apr 15 14:06:26 2009 +0200

    ppc4xx: Disable POST memory test on NAND-booting Sequoia

    Don't run the memory POST on the NAND-booting version. It will
    overwrite part of the U-Boot image which is already loaded from NAND
    to SDRAM. We were just lucky that it booted at all with this SDRAM
    test enabled.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 17c1b0e89b8be7d90f605eb19af9218c6275bfb3
Author: Stefan Roese <sr@denx.de>
Date:	Wed Apr 15 11:32:53 2009 +0200

    ppc4xx: Remove unused code for Sequoia NAND booting version

    The current define of get_bus_freq() in the CONFIG_NAND_SPL #ifdef is not
    used at all. This patch changes it's define to the currently used value of
    133333333 and removes the unnecessary code.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit cf9409885cbe01405bad76790e99f8adf3351f4d
Author: Stefan Roese <sr@denx.de>
Date:	Wed Apr 15 10:50:48 2009 +0200

    ppc4xx: Add "booting from NAND" to 4xx NAND-booting targets

    This additional text in the bootup log helps to see if the board is
    configured for NAND-booting. Especially helpful for boards that can
    boot from NOR and NAND (e.g. most of the AMCC eval boards).

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 5132106a27b8fb302677852b26ffd319b40d17e2
Author: Stefan Roese <sr@denx.de>
Date:	Wed Apr 8 10:36:22 2009 +0200

    ppc4xx: Fixup chip-selects in dtb for NAND-booting Sequoia

    Currently the NOR & NAND support in Linux only works for the "standard"
    Sequoia, the version booting for NOR flash. The NAND-booting version
    has the chip-selects swapped. Here the chip-select mappings:

    "Standard" NOR-booting version:
    CS0	NOR
    CS3	NAND

    NAND-booting version:
    CS0	NAND
    CS3	NOR

    With this path the dtb gets fixed-up, so that the correct chip-select
    numbers are patched in the dtb enabling correct NOR & NAND support
    in Linux on the NAND-booting Sequoia version.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit aad4eca4ba8d597747199d8af723426681557dda
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Apr 4 09:10:27 2009 -0400

    Blackfin: audit UART for all known anomalies

    There is no code change here, just new comments, but this keeps me from
    having to do another audit from scratch in the future.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 8ef929afa43c77c9573caa57c6e17a97a33775c0
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Apr 4 08:40:13 2009 -0400

    Blackfin: add check for anomaly 05000362

    DESCRIPTION:
    The column address width settings for banks 2 and 3 are misconnected in
    the SDRAM controller.  Accesses to bank 2 will result in an error if the
    Column Address Width for bank 3 (EB3CAW ) is not set to be the same as
    that of bank 2.

    WORKAROUND:
    If using bank 2, make sure that banks 2 and 3 have the same column address
    width settings in the EBIU_SDBCTL register.  This must be the case
    regardless of whether or not bank 3 is enabled.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit c2e07449f546fb375289cdac1a608fdc20357873
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Apr 4 08:29:55 2009 -0400

    Blackfin: add comment about anomaly 05000430 avoidance

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 48ab1509254a4c175e4f65c478a978928ffe09ec
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Apr 4 08:10:22 2009 -0400

    Blackfin: add workaround for anomaly 05000242

    DESCRIPTION:
    If the DF bit is set prior to a hardware reset, the PLL will continue to
    divide CLKIN by 2 after the hardware reset, but the DF bit itself will be
    cleared in the PLL_CTL register.

    WORKAROUND:
    Reprogram the PLL with DF cleared if the desire is to not divide CLKIN by
    2 after reset.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit ce1fe4ba6bb9df7c57351436fa17d1af8bbe7916
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Apr 4 08:09:24 2009 -0400

    Blackfin: add workaround for anomaly 05000171

    DESCRIPTION:
    The Boot ROM is executed at power up/reset and changes the value of the
    SICA_IWR registers from their default reset value of 0xFFFF, but does not
    restore them.

    WORKAROUND:
    User code should not rely on the default value of these registers.	Set
    the desired values explicitly.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 51ee6e057f7a920e2a125cd9f985d10f625e355f
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Apr 4 08:22:36 2009 -0400

    Blackfin: update anomaly sheets

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit a343ba87ea0320ca0a4ecfa2c42cd9d4f18883df
Author: Graf Yang <graf.yang@analog.com>
Date:	Sat Apr 4 07:45:57 2009 -0400

    Blackfin: nand: flush peripheral before polling it

    We need to make sure the data written to the nand flash controller makes
    it there before we start polling its status register.  Otherwise, we may
    get stale data and return before the controller is actually ready.

    Signed-off-by: Graf Yang <graf.yang@analog.com>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Acked-by: Scott Wood <scottwood@freescale.com>

commit 3ccbfb25f48af78e7092ac75f3115e924e76c748
Author: Remy Bohmer <linux@bohmer.net>
Date:	Sun Apr 5 11:43:28 2009 +0200

    Support for PXA27X UDC.

	This Patch adds Support for PXA27X UDC.
	(Rebased to drivers/usb reorganisation)

    Signed-off-by: Vivek Kutal <vivek.kutal@azingo.com>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit 2731b9a86685190d26b1883f27afda5ac8e1a313
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Apr 3 12:46:58 2009 +0200

    drivers/usb: regorganisation

    move to linux usb driver organisation

    as following

    drivers/usb/gadget
    drivers/usb/host
    drivers/usb/musb

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit d04371a116d102e587ba7aa4c329b441cdbea3f4
Author: Todor I Mollov <tmollov@ucsd.edu>
Date:	Sat Apr 4 06:53:06 2009 -0400

    Blackfin: spi: make cs deassert function deterministic

    Blackfin SPI driver was not driving the SPI chip-select high before
    putting the chip-select signals into tri-state mode.  This is probably
    something that slipped by unnoticed in most designs.  If the signals are
    put directly into a tri-state mode, then the board is relying on the
    pull-up resistors to pull up the chip-select before the next transaction.
    Most of the time this is fine, except when you have two transactions that
    follow each other very closely, such as the flash erase and read status
    register commands.	In this case I was seeing a 500ns separation between
    the transactions.  In my setup, with a 10kOhm pull-up, it would meet
    timing spec about half the time and resulted in intermittent errors.  (A
    stronger pull up would fix this, but our design is targeted for low power
    consumption and a 3.3kOhm @ 3.3v is 3.3mW of needless power consumption.)
    I modified the spi_cs_deactivate() function in bfin_spi.c to drive the
    chip-selects high before putting them into tri-state.  For me, this
    resulted in a rise time of 5ns instead of the previous rise time of about
    1us, and fully satisfied the timing spec of the chip.

    Signed-off-by: Todor I Mollov <tmollov@ucsd.edu>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit c6fadb9c73a6a3e0c7f20696e978304a593a8d2d
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Dec 13 21:08:05 2008 +0100

    integratorap: fix PCI support

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 1c397508c836dfcb01fb2471c71de0727051f117
Author: Dirk Behme <dirk.behme@googlemail.com>
Date:	Mon Mar 30 21:15:23 2009 +0200

    OMAP3: Update Overo pin mux for new expansion board

    A new Overo expansion board uses GPIO 14, 21, 22 and 23 for LED's and
    switches. This patch changes the pinmux configuration for those pins.
    They were previously set up for unused MMC3_DAT4-7.

    Signed-off-by: Steve Sakoman <steve@sakoman.com>
    Signed-off-by: Dirk Behme <dirk.behme@googlemail.com>

commit ab298231518675b3784aea88ee9b978438f99e63
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Apr 5 13:08:03 2009 +0200

    arm: unify reset command

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit b3acb6cd4059dfb29a5e99095d802717f53ff784
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Apr 5 13:06:31 2009 +0200

    arm: clean cache management

    unify arm cache management except for non standard cache as ARM7TDMI

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 677e62f43235de9a1701204d7bcea0fb3d233fa1
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Apr 5 13:02:43 2009 +0200

    arm: update co-processor 15 access

    import system.h from linux

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 23e4af49e066a53cd3e3659b68ef90572d88de84
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Sun Apr 5 00:42:02 2009 +0200

    ARM: add the imx31_phycore_eet target to MAINTAINERS

    imx31_phycore_eet is a variant of the imx31_phycore board with a few
    extensions, which justifies a separate entry in the MAINTAINERS list,
    whereas normally all entries sharing a single configuration file and a
    board/ directory have only one entry in MAINTAINERS.

    Reported-by: Wolfgang Denk <wd@denx.de>
    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit 69c5bf29908b3a7f8e23bd9891b7ecc5b21f23e5
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Sun Apr 5 00:37:07 2009 +0200

    ARM: fix out-of-tree build of imx31_phycore_eet

    Fix out-of-tree build of the imx31_phycore_eet target.

    Reported-by: Wolfgang Denk <wd@denx.de>
    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit 3c853f31d6a8e4407f73a2ca2c63d383a245f237
Author: Jon Smirl <jonsmirl@gmail.com>
Date:	Sat Apr 4 17:44:51 2009 -0400

    mpc5200: reduce delays in i2c

    The previous code waited 1000us before checking i2c
    status. Measurement shows i2c is usually ready in
    under 50us. Change the polling interval to 15us,
    loop 6,667 times to keep the polling timeout constant
    at 100ms.

commit 36003268968949110ef145d9f2eaf8439c96d25b
Author: Sanjeev Premi <premi@ti.com>
Date:	Fri Apr 3 14:00:07 2009 +0530

    OMAP: Fix compile issue

    Fixes this compile error:
    board.c: In function 'do_switch_ecc':
    board.c:339: error: 'cmd_tbl_t' has no member named 'help'
    make[1]: *** [board.o] Error 1
    make[1]: Leaving directory `/db/psp_git/users/a0756819/u-boot/cpu/arm_cortexa8/omap3'
    make: *** [cpu/arm_cortexa8/omap3/libomap3.a] Error 2

    This is due to the fact that current command uses long
    help for the usage print even if the CONFIG_SYS_LONGHELP
    is not enabled. (Thanks Jean-Christophe for explanation).

    Signed-off-by: Sanjeev Premi <premi@ti.com>

commit 342c1a5d9ab74febf3226a86216dc5aa05295d46
Author: Minkyu Kang <mk7.kang@samsung.com>
Date:	Fri Apr 3 09:56:16 2009 +0900

    s3c64xx: fix the wrong gpio offset

    This patch fix the wrong gpio offset

    Signed-off-by: Minkyu Kang <mk7.kang@samsung.com>

commit ab0689c316c9b2ee33f4de1c50263b64e539f12a
Author: Kyungmin Park <kmpark@infradead.org>
Date:	Wed Nov 26 10:18:13 2008 +0900

    Move machine specific code to board at s3c64xx (v2)

    Move machine specific code to smdk6400.
    Some board use OneNAND instead of NAND.

    Some register MP0_CS_CFG[5:0] are controled by both h/w and s/w.
    So it's better to use macro instead of hard-coded value.

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>

commit 767f3acd9f6e1dcb8ada926c333945382eddc7e8
Author: Tom Rix <Tom.Rix@windriver.com>
Date:	Wed Apr 1 22:02:19 2009 -0500

    ZOOM1 Remove legacy NAND defines

    Signed-off-by: Tom Rix <Tom.Rix@windriver.com>

commit 5891151707ee5902fe62d554c247f42865815757
Author: Tom Rix <Tom.Rix@windriver.com>
Date:	Wed Apr 1 22:02:20 2009 -0500

    OMAP3 Fix multiline formatting in board init files.

    Signed-off-by: Tom Rix <Tom.Rix@windriver.com>

commit c0a14aedc3440d6591b8c86d45861a0a8b46e11d
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Apr 5 00:27:57 2009 +0200

    Update CHANGELOG, coding style cleanup.

commit f63728c804ab7413a67d70f6774cd30c3f7b40fb
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Apr 5 00:18:44 2009 +0200

    One more fix for building env_embedded.o

    In addition to the changes for CONFIG_ENV_IS_IN_FLASH as done in
    commit afcbce07, we also need to do the same for
    CONFIG_ENV_IS_IN_EEPROM and CONFIG_ENV_IS_IN_NVRAM.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit e3d1ac7bb1955d36980d267cb4cec40b0f7d30b5
Author: Scott Wood <scottwood@freescale.com>
Date:	Thu Apr 2 16:15:10 2009 -0500

    common/image.c: Relocate strings in tables.

    Without this, u-boot can crash or print garbage if the original link
    address no longer points to a valid string.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 3a671fc06ae1d9e8eba76600372317c75ae0eb3e
Author: Scott Wood <scottwood@freescale.com>
Date:	Thu Apr 2 16:10:36 2009 -0500

    mpc8260: Fill in brg's clock-frequency in device tree.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit c73ed274a211699739d83c2cef92853dc6716e15
Author: Scott Wood <scottwood@freescale.com>
Date:	Thu Apr 2 18:20:43 2009 -0500

    MPC8260ADS: Add nfsboot/ramboot to default environment.

    This brings it in line with other Freescale boards.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit c203ef5db0476a8c4f6dd86b2e9e9db0ea973f84
Author: Andreas Huber <andreas.huber@keymile.com>
Date:	Thu Apr 2 17:15:34 2009 +0200

    UBI/cfi-mtd: Fix mtd name for multiple chips

    On platforms with multiple NOR chips, currently only the first one
    can be selected using the "ubi part" command. This patch fixes this
    problem by using different names for the NOR "mtd devices".

    It also changes the name of the NOR MTD device from "cfi-mtd" to
    "norX" (X indexing the device numer) to better match the mtdparts
    defaults.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Signed-off-by: Andreas Huber <andreas.huber@keymile.com>

commit 6b6bb02f27fcabfb37ea717fb7e243248e1e2acf
Author: Peter Korsgaard <jacmet@sunsite.dk>
Date:	Tue Mar 31 17:52:16 2009 +0200

    tools/setlocalversion: use git svn instead of git-svn

    Use the new "git <subcmd>" syntax instead of the deprecated
    "git-<subcmd>".

    Signed-off-by: Peter Korsgaard <jacmet@sunsite.dk>

commit 7fa96a9a54eb0d87d73888ec2565cda790ba0dff
Author: Mingkai Hu <Mingkai.hu@freescale.com>
Date:	Tue Mar 31 14:09:40 2009 +0800

    eSPI: add the eSPI register support

    Signed-off-by: Mingkai Hu <Mingkai.hu@freescale.com>

commit 869f6bf4def5a053fbd1aecd8b2fc36f05196c0b
Author: Minkyu Kang <mk7.kang@samsung.com>
Date:	Mon Mar 30 14:55:51 2009 +0900

    cmd_mmc: add support for device command for selecting mmc device

    This patch improves device command for selecting mmc device

    Signed-off-by: Minkyu Kang <mk7.kang@samsung.com>

commit 9abc9ef8fbe079bf75a634ce64b7dcdb7b0d8bdc
Author: Alan Carvalho de Assis <acassis@gmail.com>
Date:	Sat Mar 28 19:50:16 2009 -0300

    Small fix to m5282evb

    This is just a small fix to get u-boot on m5282evb.

    Signed-off-by: Alan Carvalho de Assis <acassis@gmail.com>

commit febd7e4174e54579c9aa165c85c519fe5288f9d2
Author: Artem Bityutskiy <Artem.Bityutskiy@nokia.com>
Date:	Fri Mar 27 10:21:14 2009 +0100

    UBIFS: add R/O compatibility

    Now UBIFS is supported by u-boot. If we ever decide to change the
    media format, then people will have to upgrade their u-boots to
    mount new format images. However, very often it is possible to
    preserve R/O forward-compatibility, even though the write
    forward-compatibility is not preserved.

    This patch introduces a new super-block field which stores the
    R/O compatibility version.

    Signed-off-by: Artem Bityutskiy <Artem.Bityutskiy@nokia.com>
    Acked-by: Adrian Hunter <Adrian.Hunter@nokia.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 852dbfdd56f68eb67d138b306a64e4de58dabb91
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Mar 23 22:27:34 2009 -0400

    more command usage cleanup

    Fix up a few dangling commands like in "Command usage cleanup" commit.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit b93b24bf76f8a8220b236df3a5f30b2204eb4edc
Author: Ladislav Michl <ladis@linux-mips.org>
Date:	Mon Mar 23 12:06:07 2009 +0100

    Separate mtdparts command from jffs2

    On Thu, Mar 19, 2009 at 01:30:36PM +0100, Stefan Roese wrote:
    > Currently the mtdparts commands are included in the jffs2 command support.
    > This doesn't make sense anymore since other commands (e.g. UBI) use this
    > infrastructure as well now. This patch separates the mtdparts commands from
    > the jffs2 commands making it possible to only select mtdparts when no JFFS2
    > support is needed.

    ... and to make it useful for NAND chips as well, we should also remove now
    unrelated CONFIG_JFFS2_NAND. Note that struct part_info etc is in
    jffs2/load_kernel.h which is a bit misleading filename for that purpose,
    but that can be fixed later (tm).

    Signed-off-by:  Ladislav Michl <ladis@linux-mips.org>

commit b196ca75503ce307c535b87bf47d51f05e7530df
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Mar 22 22:18:01 2009 -0400

    smc91111_eeprom: move board-specific init into SMC91111_EEPROM_INIT()

    Rather than sticking Blackfin-specific stuff into the eeprom example, use
    an indirect macro so that any board can override it with their own magic
    sauce in their board config file.

    Also fix some spurious semi-colons in defines while I'm at it ...

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    CC: Ben Warren <biggerbadderben@gmail.com>

commit f5cf2ef2ad2a8bf321712ab460ed846120163d74
Author: Sascha Hauer <s.hauer@pengutronix.de>
Date:	Sat Mar 21 09:38:46 2009 -0400

    mpc52xx phy: initialize only when needed

    Do not initialize phy on startup, instead initialize it
    when we actually need it.

    Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>

commit 03bab0091948196b9558248684c04f60943ca4b5
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Mon Mar 30 16:51:40 2009 +0200

    at91sam9263ek: enable hush and auto complete support

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Acked-by: Stelian Pop <stelian@popies.net>

commit 4758ebdd53571d4d183be5c2db8f0ee4ef368915
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Mar 27 23:26:44 2009 +0100

    at91: move dataflash spi driver to drivers/spi

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 2b7178afce59f71e95da657273f4132012098c1f
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Mar 27 23:26:44 2009 +0100

    at91: move usb driver to drivers/usb

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit f82518d7f443ebac5f8821103a3c521c963aa6ee
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Mar 27 23:26:43 2009 +0100

    at91rm9200: Reset update

    Update the rm9200 reset sequence to try executing a board-specific reset
    function and move specific board reset to board.

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 3524049cd053746298e4cfab2449882e75c146fc
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Mar 27 23:26:43 2009 +0100

    at91rm9200: move serial shutdown code to serial drivers

    introduce serial_exit for this purpose. Use it only when the rm9200
    serial driver is active

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit beebd851cdbc9dd070bcdfec1fd8f17e3cc91bc0
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Mar 27 23:26:43 2009 +0100

    at91rm9200: move serial driver to drivers/serial

    add CONFIG_AT91RM9200_USART to activate the driver

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit cb82a532669f6b02225ec3429ea4d49ff2b97d0a
Author: Ulf Samuelsson <ulf@atmel.com>
Date:	Fri Mar 27 23:26:43 2009 +0100

    Add support for the AT91RM9200EK Board.

    The AT91RM9200-EK Evaluation Board supports the AT91RM9200
    ARM9-based 32-bit RISC microcontroller and enables real-time code development
    and evaluation.

    Here is the chip page on Atmel website:
    http://www.atmel.com/dyn/products/tools_card.asp?tool_id=3507

    with
	- NOR (cfi driver)
	- DataFlash
	- USB OHCI
	- Net
	- I2C (hard)

    Signed-off-by: Ulf Samuelsson <ulf@atmel.com>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit b9c0e4c29e3ec12668ac50e954e7c9ba8f7aa10a
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Mar 27 23:26:42 2009 +0100

    add dataflash mmc mux missing support

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 2a325ce3c705ab2d82760afc541c511328472df8
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Mar 27 23:26:42 2009 +0100

    at91rm9200dk: Move conditional compilation to Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 90a92a708d5180a20d600ba0fc2352ec76dc3829
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Mar 27 23:26:42 2009 +0100

    at91: rename DATAFLASH_MMC_SELECT to CONFIG_DATAFLASH_MMC_SELECT

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 843a2654bce74192de2b5a43474fdc27a572ab40
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Mar 27 23:26:42 2009 +0100

    at91sam9: add watchdog support

    Signed-off-by: Nicolas Ferre <nicolas.ferre@atmel.com>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit a47492ac60657dd9d59c713aa049319ea6eabd52
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Mar 27 13:14:52 2009 +0100

    at91sam9/at91cap: spi init add hardware chip select support

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 66932ac3929c7a145a6ef6574a96fd7535154951
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Apr 4 19:15:40 2009 +0200

    netstar: fix crc32.c dependancy location

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 42f9ebff2f758bef524780a00c712eb63a72d99b
Author: Scott Wood <scottwood@freescale.com>
Date:	Fri Apr 3 15:24:40 2009 -0500

    MPC8260ADS: Define CONFIG_HAS_ETH0.

    This is required so that the MAC address will be updated in the device tree.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 8701eceffdf77e2908d0b58add0dabc16edf6087
Author: Scott Wood <scottwood@freescale.com>
Date:	Fri Apr 3 15:26:45 2009 -0500

    PQ2FADS: Enable PCI.

    PCI on PQ2FADS is very similar to PCI on MPC8272ADS.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 83863df04bd30bfe2430b0c43ca9f78596d3f0bc
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Apr 4 16:57:50 2009 +0200

    Fix quoting bug introduced by commit 74de7aef

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit ecf3fb223a56e3c6aa696d94d694eeaca0f44d33
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Apr 4 16:14:51 2009 +0200

    Fix implicit declaration of function 'htons'

    Include <netinet/in.h> instead of <linux/in.h> to get htons()
    prototpye.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit e6a6789f41f0560ce280089fbd3f1bd0f0f64306
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Sat Apr 4 10:21:02 2009 -0500

    fsl_law: Fix bug in calculation of LAW sizing

    In set_ddr_laws() when we determined how much of the size requested
    to be mapped was covered by the the first LAW we needed to recalculate
    the size based on what was actually mapped.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 32049b4048ff8e59bd5ba6160d6d5206d283b2a2
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Apr 2 13:57:05 2009 -0500

    fsl_pci: Move prototypes into fsl_pci.h and remove explicit externs

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit c8514622e2713d9c47919acfe23fce386782afe7
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Apr 2 13:22:48 2009 -0500

    fsl_pci: Renamed immap_fsl_pci.h to fsl_pci.h

    Rename the pci header for FSL HW so we can move some prototypes
    in there and stop doing explicit externs

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit afcbce07e9323c0e8aeb783ba7ce6104860fd7a7
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Apr 4 16:10:40 2009 +0200

    Fix building of env_embedded.o

    Since commit a706bfc7 common/env_embedded.o and tools/envcrc were
    only built when CONFIG_ENV_IS_EMBEDDED was set, but this breaks
    building for many boards.

    We always have to build these files when CONFIG_ENV_IS_IN_FLASH is
    set.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit a31e091ad70915278fb15b79d6ae53ea2d44b251
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Apr 4 12:49:11 2009 +0200

    rename include/zlib.h to include/u-boot/zlib.h

    Some systems have zlib.h installed in /usr/include/. This isn't the
    desired file for u-boot code - we want the one in include/zlib.h.
    This rename will avoid the conflict.

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit ae644c178f097874a92a6d934f364985fc7e075a
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Apr 4 12:46:31 2009 +0200

    tools/Makefile: fix image.c dependancy location

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit b074a7081124d7f05fd1651a3bc0b5579fdfa473
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Apr 4 07:42:25 2009 -0400

    tools: add ncb to gitignore

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 453c0d7558215cbc8636d94af172886d84e0dbba
Author: Detlev Zundel <dzu@denx.de>
Date:	Fri Apr 3 16:45:46 2009 +0200

    include/ns16550.h: Unify structure declaration for registers

    Instead of special casing the different access patterns, use common
    code with light macros sprinkled in to accomodate for the different
    layouts of the register structure.

    Note that this also changes the types of the registers for the
    "positively packed (>1)" cases.  As the registers truly are unsigned
    chars, this is surely the Right Thing, but it is a semantic change.
    Note that for this case depending on the endianness on the bus, we may
    see a change of behaviour.

    Signed-off-by: Detlev Zundel <dzu@denx.de>

commit 0a145ce6e7075aa0f4869d6f6149a5ff205d95df
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Mar 13 18:54:52 2009 -0500

    Delete now unused tools/Makefile.win32

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 2f8d396b9302eddcd8d552648e101a46b7a80acd
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Mar 13 18:54:51 2009 -0500

    Add support for building native win32 tools

    Add support for compiling the host tools in the tools directory using
    the MinGW toolchain.  This produces executables which can be used on
    standard Windows computers without requiring cygwin.

    One must specify the MinGW compiler and strip utilities as if they
    were the host toolchain in order to build win32 executables, eg:

    make HOSTCC=i586-mingw32msvc-gcc HOSTSTRIP=i586-mingw32msvc-strip tools

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit e50abf662efbf4ce0e731062c8d3c8ec54763ae2
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Mar 13 18:54:50 2009 -0500

    tools/Makefile: Simplify HOST_CFLAGS/HOST_LDFLAGS generation

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit b0d4d7219a4806e46affc96bd1f65397194a6e72
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Mar 13 18:54:49 2009 -0500

    tools/Makefile: Create generic build rules

    Create a few generic build rules to replace the current method which has
    1 build target for each file

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 273174ddbcce215c42f6c307470cd5580a3f72bf
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Mar 13 18:54:48 2009 -0500

    tools/Makefile: Use auto-generated object file dependencies

    Files in the SRCS variable have their dependencies automatically
    generated so remove duplicate explicit dependencies

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit fb8b33c1e6d621ea3347a75ad3a42a386b44e589
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Mar 13 18:54:47 2009 -0500

    tools/Makefile: Remove symlinks for remaining source files

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit eed073315b6447eceadf7468a4c2b757442c7c6f
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Mar 13 18:54:46 2009 -0500

    tools/Makefile: Dynamically generate libfdt object dependencies

    Add the libfdt files to the SRCS variable so that they have their
    dependencies automatically generated

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit c0170175393b94560fa7a5da6dd31377df5f4a72
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Mar 13 18:54:45 2009 -0500

    tools/Makefile: Remove symlinks for fdt targets

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 45d6bdff68877ea214ff33cc1c89a29c76e96f51
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Mar 13 18:54:44 2009 -0500

    tools/Makefile: Add libfdt/ to the include search path

    This change makes the process of symlinking libfdt_internal.h
    unnecessary

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit fba0e3a0814f9bf48c32a4c8a7987c36ae96651b
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Mar 13 18:54:43 2009 -0500

    tools: Remove unecessary symlinking of zlib.h

    crc32.c uses the zlib.h header in include/u-boot/zlib.h.  The symlink
    was previously necessary to give U-Boot's version of zlib.h precedence
    over the host computer's version of zlib.h.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 40b8d909ace06f6f494dee08ffa64a82493e72e9
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Mar 13 18:54:42 2009 -0500

    tools/Makefile: Add tools/ to the include search path

    This change makes the process of symlinking mkimage.h and fdt_host.h
    unnecessary

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 1cd300de5e19c9e8383ee2eb2b6bd3b8b9378c78
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Mar 13 18:54:41 2009 -0500

    tools/Makefile: Compile ncb when CONFIG_NETCONSOLE

    Also conditionally add ncb.o to OBJ_FILES list

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 123c48a21ce08b4a33f36e96cc75f92324e761d7
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Mar 13 18:54:40 2009 -0500

    tools/Makefile: Make gen_eth_addr dependent upon CONFIG_CMD_NET

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 4d93a0a807b8ca0289ba5da00c646cd2d54af120
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Mar 13 18:54:39 2009 -0500

    tools/Makefile: Make envcrc dependent upon CONFIG_ENV_IS_EMBEDDED

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit cd26a31a23f9a58ba52870f8ffb57d77d1baee20
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Mar 13 18:54:38 2009 -0500

    tools/Makefile: Make inca-swap-bytes dependent on CONFIG_INCA_IP

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 7cd5cbc34699ccc15d0277f48375cad928d04faf
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Mar 13 18:54:37 2009 -0500

    tools/Makefile: Make ubsha1 dependent upon CONFIG_SHA1_CHECK_UB_IMG

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit eeba8617908e33f7e7db3b1588c04ca65b856793
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Mar 13 18:54:36 2009 -0500

    tools/Makefile: Make img2srec dependent upon CONFIG_CMD_LOADS

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 335ffe7e0e0a30e90ce409c3279016a582157d8e
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Mar 13 18:54:35 2009 -0500

    tools/Makefile: Build bmp_logo only when LCD or VIDEO logos are enabled

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit ee3584a5970230ee96aae19505ad3226734ee4ff
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Mar 13 18:54:34 2009 -0500

    tools/Makefile: Split variable declarations into multiple lines

    Split variable declarations into multiple lines and use the standard
    VAR-y convention.  Also move object and binary variable declarations to
    after config.mk has been included to allow for these lists to utilize
    the CONFIG_XXX variables.

    These changes lay the groundwork for conditional compilation of files
    in the tools directory.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 21d28e95ed874ab1ed9787f939d8a53e99d30ddb
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Mar 13 18:54:33 2009 -0500

    tools/Makefile: Remove inappropriate double-tabs

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 652f4ba076689fd0acd447561a777b1c440a4b57
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Mar 13 18:54:32 2009 -0500

    tools/Makefile: Remove HOSTARCH HOSTOS defines

    The values of HOSTARCH and HOSTOS which are exported from the top-level
    Makefile should be used

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 2eeb4e95fbfafe54645fae7ec0b2594101f0573b
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Mar 13 18:54:31 2009 -0500

    gen_eth_addr: Use POSIX rand() and srand()

    Replace random()/srandom() use with rand()/srand() to support
    compilation with the mingw toolchain.  The rand()/srand() functions are
    generally more common and are functionally equivalent to the original
    random()/srandom() calls.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 24d2ae5e9debe4b75151a55251031a14477fa875
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Mar 13 18:54:28 2009 -0500

    elf.h: Use stdint.h to provide standard typedefs for WIN32

    The original code provided an incomplete set of typedefs for WIN32
    compiles and replicated the standard typedefs that are already
    provided by stdint.h

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit a706bfc7d0e2d1935c5670045288e6cd1ffdfabc
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Mar 13 18:54:27 2009 -0500

    common/Makefile: Conditionally compile env_embedded.o

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 2b48f7d5f62835f87278efb498397b6ae9e2d117
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Mar 13 18:54:26 2009 -0500

    Makefile: Add removal of *.exe files to clean target

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit d0d6144e0e4a03a68311b781f3dde38dc9316b82
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Mar 13 18:54:25 2009 -0500

    Makefile: Make autoconf.mk a dependency of the depend target

    The original code did not generate autoconf.mk until after some targets
    dependencies had already been calculated, for example the directories in
    the SUBDIRS variable

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 75eb82ec7cacb18d059d701b35677b93d2bb7596
Author: unsik Kim <donari75@gmail.com>
Date:	Wed Feb 25 11:31:24 2009 +0900

    mflash: Initial mflash support

    Mflash is fusion memory device mainly targeted consumer eletronic and
    mobile phone.
    Internally, it have nand flash and other hardware logics and supports
    some different operation (ATA, IO, XIP) modes.

    IO mode is custom mode for the host that doesn't have IDE interface.
    (Many mobile targeted SoC doesn't have IDE bus)

    This driver support mflash IO mode.

    Followings are brief descriptions about IO mode.

    1. IO mode based on ATA protocol and uses some custom command. (read
       confirm, write confirm)
    2. IO mode uses SRAM bus interface.

    Signed-off-by: unsik Kim <donari75@gmail.com>

commit 200779e3e2a9aeda7030b171a8c39d7797019917
Author: Detlev Zundel <dzu@denx.de>
Date:	Fri Apr 3 11:53:01 2009 +0200

    Rename common ns16550 constants with UART_ prefix to prevent conflicts

    Fix problems introduced in commit
    7b5611cdd12ca0cc33f994f0d4a4454788fc3124 [inka4x0: Add hardware
    diagnosis functions for inka4x0] which redefined MSR_RI which is
    already used on PowerPC systems.

    Also eliminate redundant definitions in ps2mult.h.	More cleanup will
    be needed for other redundant occurrences though.

    Signed-off-by: Detlev Zundel <dzu@denx.de>

commit 99067b08f4a0ce20ff337a35211239f334d8f451
Author: Scott Wood <scottwood@freescale.com>
Date:	Wed Apr 1 15:33:24 2009 -0500

    Noisily disable the legacy NAND subsystem.

    Legacy NAND is marked for feature removal after April 2009 (i.e. this
    upcoming release).	There are still several boards that reference it
    (though many do so only for disk-on-chip support which has been silently
    disabled for a while now).	These boards will now fail to build
    with #error, though the code is still there if the user removes #error.

    The plan is to remove the code outright in the next release, along with
    any board code that refers to it (such as board/esd/common/auto_update.c).

    Also, remove the legacy NAND API description from README.nand.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 69bcabb51686fdd133cb1848c0d3b0a4fc6ca5cf
Author: apgmoorthy <moorthy.apg@samsung.com>
Date:	Fri Mar 27 14:45:23 2009 +0530

    Fix OneNAND ipl to read CONFIG_SYS_MONITOR_LEN

    Currently OneNAND initial program loader (ipl) reads only block 0 ie 128KB.
    However, u-boot image for apollon board is 195KB making the board
    unbootable with OneNAND.

    Fix ipl to read CONFIG_SYS_MONITOR_LEN.
    CONFIG_SYS_MONITOR_LEN macro holds the U-Boot image size.

    Signed-off-by: Rohit Hagargundgi <h.rohit@samsung.com>
    Signed-off-by: Gangheyamoorthy   <moorthy.apg@samsung.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 74de7aefd79690bae8cf5a5120f5962d444be089
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Apr 1 23:34:12 2009 +0200

    Add "source" command; prepare removal of "autoscr" command

    According to the doc/feature-removal-schedule.txt, the "autoscr"
    command will be replaced by the "source" command in approximately 6
    months from now.

    This patch prepares this change and starts a 6 month transition
    period as follows:

    - The new "source" command has been added, which implements exactly
      the same functionlaity as the old "autoscr" command before
    - The old "autoscr" command name is kept as an alias for compatibility
    - Command sequences, script files atc. have been adapted to use the
      new "source" command
    - Related environment variables ("autoscript", "autoscript_uname")
      have *not* been adapted yet; these will be renamed resp. removed in
      a separate patch when the support for the "autoscr" command get's
      finally dropped.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 78237df55248034a2d7c2daea992b9dbe7ca8e96
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Apr 2 17:31:09 2009 +0200

    Add "GPL cleanup" task to feature-removal-schedule.txt

    Announce removal of all non-GPL or GPL-incompatible files
    after August 2009.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit d9596ffbdc79cea285010b67dd20a4618303f624
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Apr 2 12:51:28 2009 -0400

    sf: stmicro: dont send 4 bytes when reading status register

    I can't find anywhere in the datasheet that says the status register needs
    3 dummy bytes sent to it before being able to read back the first real
    result.  Tests on a Blackfin board show that after writing the opcode, the
    status register starts coming back immediately.  So only write out the
    read status register opcode before polling the result.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    CC: Jason McMullan <mcmullan@netapp.com>
    CC: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit 1abe365ffcfc29c061e8fd8b45551be5ad1428dd
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Apr 2 08:11:31 2009 -0400

    sf: set common timeouts in seconds, not milliseconds

    Since timeouts are only hit when there is a problem in the system, we
    don't want to prematurely timeout on a functioning setup.  Thus having
    low timeouts (in milliseconds) doesn't gain us anything in the production
    case, but rather increases likely hood of causing problems where none
    otherwise exist.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    CC: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit 2a6ce1115b3cbe746965cfa0058ce645b6c1ada1
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Apr 2 06:51:49 2009 -0400

    sf: stmicro: use common page timeout define

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    CC: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit 0dcdbb172c2fdf60c5c578980308b312fd56496f
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Mar 28 06:41:09 2009 -0400

    sf: always read 5 bytes for the idcode

    Some SPI flash drivers like to have extended id information available
    (like the spansion flash), so rather than making it re-issue the ID cmd
    to get at the last 2 bytes, have the common code read 5 bytes rather than
    just 3.  This also matches the Linux behavior where it always reads 5 id
    bytes from all flashes.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Acked-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
    CC: Mingkai Hu <Mingkai.hu@freescale.com>

commit 9726ba4abaa16cd6c385ad350d403f98a8eacf52
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Fri Mar 27 16:34:21 2009 -0400

    sf: stmicro: drop redundant id read

    The common SPI flash code reads the idcode and passes it down to the SPI
    flash driver, so there is no need to read it again ourselves.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Acked-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
    CC: Jason McMullan <mcmullan@netapp.com>
    CC: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit 1c5874374e091b4bb62917c519861f7682fe066e
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Fri Mar 27 19:27:58 2009 -0400

    sf: add driver for SST flashes

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Acked-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit f773a1bbdb8f3bf1ddab2874f36f043c4f8f044d
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Mar 23 23:03:58 2009 -0400

    sf: drop DEBUG defines

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Acked-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit 6b850a9fa8a216f3692da2511cb1a6c16409b1af
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Jan 4 07:44:07 2009 +0100

    mtd: add some at45 spi flash support

     - AT45DB321D
     - AT45DB161D
     - AT45DB081D
     - AT45DB041D
     - AT45DB021D
     - AT45DB011D

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 6805e4bf83e6f444f7411101228766c8a7aec5f7
Author: Mingkai Hu <Mingkai.hu@freescale.com>
Date:	Tue Mar 31 14:09:41 2009 +0800

    mtd: SPI Flash: Support the Spansion Flash

    Add MTD SPI Flash support for S25FL008A, S25FL016A,
    S25FL032A, S25FL064A, S25FL128P.

    Signed-off-by: Mingkai Hu <Mingkai.hu@freescale.com>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 40587701924aa0afc86b3840421b4cc6de42c748
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Mar 30 20:56:45 2009 -0400

    Blackfin: force all boards to HZ of 1000

    Since the Blackfin timer code requires HZ to be 1000, barf on any board
    that tries to use a different value.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit f4032d2eec9d71a59c6c724671e577f67a76839b
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Fri Mar 27 21:07:45 2009 -0400

    Blackfin: bf533-stamp: drop old spi flash driver

    Now that the common SPI flash code supports all the flashes, we can stop
    using the old driver.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit bc72f50a659d0d1b551817e1910b9b2be1c7e496
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Mar 26 15:42:12 2009 -0400

    Blackfin: add BF538/BF539 SPI portmux handling

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 46ac352f0f9406a5f9aa157ac62867fb4650dfd3
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Mar 23 22:36:10 2009 -0400

    Blackfin: do not delay on output bytes

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit dbc6ab9f75bd0c13d3f42692e9463f8ab65fc382
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Mar 23 22:17:27 2009 -0400

    Blackfin: drop newline from OTP help

    Looks like I accidentally added a newline to the OTP help when merging and
    older change.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit d3c38d96b991d641a33f7748130dae008563cdc9
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Mar 22 23:43:31 2009 -0400

    Blackfin: convert bfin_sdh to legacy mmc

    The Blackfin SDH controller is still using the legacy framework, so update
    the driver to use the renamed functions.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit d248cfb2d940b742f6bfdba9b832a3df96da3101
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Feb 22 16:30:38 2009 -0500

    Blackfin: bf537-stamp: split CF/IDE code out into dedicated cf-ide.c

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit ad9073211ca9e62162a39851e082b8d07a662fb6
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Fri Feb 13 17:10:58 2009 -0500

    Blackfin: fix crash when booting from external memory

    When testing a u-boot binary that hasn't been booted from the bootrom, we
    have to make sure the bootstruct structure has sane storage space.	If we
    don't, the initcode will crash when it tries to dereference an invalid
    pointer.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 84a9dda324c3faa56be14449d7519b993d9397a9
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Oct 12 21:32:52 2008 -0400

    Blackfin: bf518f-ezbrd: new board port

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 0c31ddf7b70f77dede42dc82ecab7753a819acaa
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Oct 12 21:30:48 2008 -0400

    Blackfin: bf526-ezbrd: new board port

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 5c45f7cac2f74e2c14aa6b028cd969651cc9ac8e
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Oct 12 21:25:33 2008 -0400

    Blackfin: bf538f-ezkit: new board port

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit d9a5d113b93583c984711127ab8503e136ed1e4a
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Oct 12 20:59:12 2008 -0400

    Blackfin: bf527-ezkit: new board port

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 76d21803ddd7dc4bcb81739ea2d3cd679e052f46
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Oct 12 05:05:42 2008 -0400

    Blackfin: bf548-ezkit: new board port

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 67b89c79e72fe86b0ea0199425d880630beb95d8
Author: Laurent Gregoire <laurent.gregoire@tomtom.com>
Date:	Tue Mar 3 14:23:59 2009 +0100

    libfdt: Fix C++ compile-time cast error on gnu 4.2.1

    Allow the inclusion of libfdt.h in C++ source.

    Signed-off-by: Laurent Gregoire <laurent.gregoire@tomtom.com>
    Acked-by: David Gibson <david@gibson.dropbear.id.au>

commit 13d93f38e86818739317b0206d597265cf9e675e
Author: Emil Medve <Emilian.Medve@Freescale.com>
Date:	Mon Feb 23 10:43:36 2009 -0600

    Fix a possible overflow case detected by gcc 4.3.2

    .../dtc/libfdt/fdt_sw.c: In function 'fdt_end_node':
    .../dtc/libfdt/fdt_sw.c:81: error: assuming signed overflow does not occur when assuming that (X + c) < X is always false

    Signed-off-by: Emil Medve <Emilian.Medve@Freescale.com>

commit a22d9cfbb5bcfb3dc6ffd64d391b568e8a0ce383
Author: David Gibson <david@gibson.dropbear.id.au>
Date:	Fri Feb 6 14:03:24 2009 +1100

    libfdt: Rework/cleanup fdt_next_tag()

    Currently, callers of fdt_next_tag() must usually follow the call with
    some sort of call to fdt_offset_ptr() to verify that the blob isn't
    truncated in the middle of the tag data they're going to process.
    This is a bit silly, since fdt_next_tag() generally has to call
    fdt_offset_ptr() on at least some of the data following the tag for
    its own operation.

    This patch alters fdt_next_tag() to always use fdt_offset_ptr() to
    verify the data between its starting offset and the offset it returns
    in nextoffset.  This simplifies fdt_get_property() which no longer has
    to verify itself that the property data is all present.

    At the same time, I neaten and clarify the error handling for
    fdt_next_tag().  Previously, fdt_next_tag() could return -1 instead of
    a tag value in some circumstances - which almost none of the callers
    checked for.  Also, fdt_next_tag() could return FDT_END either because
    it encountered an FDT_END tag, or because it reached the end of the
    structure block - no way was provided to tell between these cases.

    With this patch, fdt_next_tag() always returns FDT_END with a negative
    value in nextoffset for an error.  This means the several places which
    loop looking for FDT_END will still work correctly - they only need to
    check for errors at the end.  The errors which fdt_next_tag() can
    report are:
	- -FDT_ERR_TRUNCATED if it reached the end of the structure
	   block instead of finding a tag.

	- -FDT_BADSTRUCTURE if a bad tag was encountered, or if the
	       tag data couldn't be verified with fdt_offset_ptr().

    This patch also updates the callers of fdt_next_tag(), where
    appropriate, to make use of the new error reporting.

    Finally, the prototype for the long gone _fdt_next_tag() is removed
    from libfdt_internal.h.

    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>

commit 2c0b843e710aa1e2da25c2592e6dbe5d0b0ab7da
Author: David Gibson <david@gibson.dropbear.id.au>
Date:	Fri Feb 6 14:01:56 2009 +1100

    libfdt: Rework fdt_next_node()

    Currently fdt_next_node() will find the next node in the blob
    regardless of whether it is above, below or at the same level in the
    tree as the starting node - the depth parameter is updated to indicate
    which is the case.	When a depth parameter is supplied, this patch
    makes it instead terminate immediately when it finds the END_NODE tag
    for a node at depth 0.  In this case it returns the offset immediately
    past the END_NODE tag.

    This has a couple of advantages.  First, this slightly simplifies
    fdt_subnode_offset(), which no longer needs to explicitly check that
    fdt_next_node()'s iteration hasn't left the starting node.	Second,
    this allows fdt_next_node() to be used to implement
    _fdt_node_end_offset() considerably simplifying the latter function.

    The other users of fdt_next_node() either don't need to iterate out of
    the starting node, or don't pass a depth parameter at all.	Any
    callers that really need to iterate out of the starting node, but keep
    tracking depth can do so by biasing the initial depth value.

    This is a semantic change, but I think it's very unlikely to break any
    existing library users.

    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>

commit c123098035be8bae3859bbfbd06861f197c07631
Author: Scott Wood <scottwood@freescale.com>
Date:	Tue Mar 31 17:49:36 2009 -0500

    mpc83xx: Set guarded bit on BAT that covers the end of the address space

    The mpc8313erdb board currently sets DBAT6 to cover all of the final 256MiB of
    address space; however, not all of this space is covered by a device.  In
    particular, flash sits at 0xfe000000-0xfe7fffff, and nothing is mapped
    at the far end of the address space.

    In zlib, there is a loop that references p[-1] if p is non-NULL.  Under
    some circumstances, this leads to the CPU speculatively loading from
    0xfffffff8 if p is NULL.  This leads to a machine check.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

    continuation to the remaining mpc83xx boards that suffer from the same problem.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit c2eb8be7f760a2efe30a495bfb10857838dcf3fa
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Mon Mar 30 14:28:05 2009 -0500

    rtc: remove broken rtc_read and rtc_write declarations

    commit 04e11cf3 "rtc: add support for 4543 RTC (manufactured by e.g.
    EPSON)" introduces the following build error on boards configuring e.g,
    the ds1374 rtc:

    Configuring for MPC837XEMDS board...
    ds1374.c:103: error: static declaration of 'rtc_read' follows non-static declaration
    /home/r1aaha/git/u-boot/include/rtc.h:64: error: previous declaration of 'rtc_read' was here
    ds1374.c:104: error: conflicting types for 'rtc_write'
    /home/r1aaha/git/u-boot/include/rtc.h:65: error: previous declaration of 'rtc_write' was here

    this reverts the erroneous chunk.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>
    Acked-by: Detlev Zundel <dzu@denx.de>
    CC: Detlev Zundel <dzu@denx.de>
    CC: Andreas Pfefferle <ap@denx.de>

commit fc39c2fd51e64707de4d61ed49479ebea2847e1b
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Mar 31 17:58:13 2009 -0500

    85xx/86xx: Ensure MP boot page is not used

    We had a bug on 86xx in which the boot page used to bring up secondary
    cores was being overwritten and used for the malloc region in u-boot.

    We need to reserve the region of memory that the boot page is going to
    be put at so nothing uses it.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: Becky Bruce <beckyb@kernel.crashing.org>

commit c840d26c752141b94bbc24ac748ddd45752a955a
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Mar 31 23:11:05 2009 -0500

    85xx: Introduce determine_mp_bootpg() helper.

    Match determine_mp_bootpg() that was added for 86xx.  We need this to
    address a bug introduced in v2009.03 with 86xx MP booting.	We have to
    make sure to reserve the region of memory used for the MP bootpg() so
    other u-boot code doesn't use it.

    Also added a comment about how cpu_reset() is dealing w/an errata on
    early 85xx MP HW.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 7649a590b53ee548f41428bf20780f74ce9fc099
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Mar 31 23:02:38 2009 -0500

    86xx: Cleanup MP support

    * Use CONFIG_MP instead of CONFIG_NUM_CPUS to match 85xx
    * Introduce determine_mp_bootpg() helper.  We'll need this to address a
      bug introduced in v2009.03 with 86xx MP booting.	We have to make sure
      to reserve the region of memory used for the MP bootpg() so other
      u-boot code doesn't use it.
    * Added dummy versions of cpu_reset(), cpu_status() & cpu_release() to
      allow cmd_mp.c to build and work. In the future we should look at
      implementing all these functions. This could be common w/85xx if we
      use spin tables on 86xx.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit f6ef8b7a43ed7f68a4bb524faad5e4f75ea3e3e2
Author: Becky Bruce <beckyb@kernel.crashing.org>
Date:	Tue Mar 31 18:38:37 2009 -0500

    mpc8641hpcn/sbc8641d: Add missing board_lmb_reserves

    We're missing the board_lmb_reserve definitions that allow
    cpu_mp_lmb_reserve to be called; this means that Linux
    is free to reallocate reserved pages.  Linux currently boots
    because we're getting lucky - the page we've reserved is
    high enough in memory that it isn't allocated by Linux
    while we still need it to be in existence.

    Signed-off-by: Becky Bruce <beckyb@kernel.crashing.org>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 0fc4f64c59873a47d555dd66bad25797d4ecb0ed
Author: Ladislav Michl <ladis@linux-mips.org>
Date:	Tue Mar 31 13:43:10 2009 +0200

    NetStar: fix NAND

    Fix NAND support broken during new NAND code merge. Move those few lines of
    code to board/netstar/netstar.c

    Signed-off-by: Ladislav Michl <ladis@linux-mips.org>

commit d144f94d590b5190a9963bd0f2026b2a7ce67eda
Author: Jens Scharsig <esw@bus-elektronik.de>
Date:	Tue Mar 31 08:18:29 2009 +0200

    soft_i2c.c compiler/linker error

    This patch fix the compiler/linker errors

    common/cmd_i2c.c:1252: undefined reference to `i2c_get_bus_speed'
    common/cmd_i2c.c:1256: undefined reference to `i2c_set_bus_speed'

    if board use CONFIG_I2C_CMD_TREE and CONFIG_I2C_MULTI_BUS is not
    uesd/undef (wrong define order)

    and

    removes additional empty lines

    Signed-off-by: Jens Scharsig <esw@bus-elektronik.de>

commit 765547dc5e0e8cbe6b8f4ea8a5d6ff237935c352
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Fri Mar 27 17:02:45 2009 -0400

    MPC85xx: Add MPC8569MDS board support

    This patch adds MPC8569MDS board support. The UART, QE UEC1 and UEC2, BRD
    EEPROM on I2C2 bus, PCI express and DDR3 SPD are supported in this patch.

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>
    Signed-off-by: Hillel Avni <Hillel.Avni@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 22b6dbc1696d927d938dd4e16f65d83c0d4fb3f4
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Fri Mar 27 17:02:44 2009 -0400

    MPC85xx: Add MPC8569 CPU support

    There is a workaround for MPC8569 CPU Errata, which needs to set Bit 13 of
    LBCR in 4K bootpage. We setup a temp TLB for eLBC controller in bootpage,
    then invalidate it after LBCR bit 13 is set.

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 2d4de6ae5be54b367a72a7ef4e0cf36a9cd4881f
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Thu Mar 26 17:01:49 2009 -0400

    MPC85xx: Load and enable QE microcode patch in IRAM

    For the silicon which doesn't have ROM support in QE, it always needs to load
    a pre-built ucode binary to IRAM so that QE can work.

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>
    Signed-off-by: Hillel Avni <Hillel.Avni@freescale.com>

commit 1b3e4044a28a3d95b0aad41bdc52482bb2cc9b2b
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Mar 19 09:16:10 2009 -0500

    85xx: Add support for additional e500mc features

    * Enable backside L2
    * e500mc no longer has timebase enable in HID (moved to CCSR register)

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit c360ceac0286159f94d9d1a9496fc9858c8d9bec
Author: Dave Liu <daveliu@freescale.com>
Date:	Sat Mar 14 12:48:30 2009 +0800

    fsl-ddr: add the DDR3 SPD infrastructure

    - support mirrored DIMMs, not support register DIMMs
    - test passed on P2020DS board with MT9JSF12872AY-1G1D1
    - test passed on MPC8569MDS board with MT8JSF12864HY-1G1D1

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Signed-off-by: Travis Wheatley <travis.wheatley@freescale.com>

commit 6a8197836702991468cead5ead073f589e2623ad
Author: Dave Liu <daveliu@freescale.com>
Date:	Sat Mar 14 12:48:19 2009 +0800

    fsl-ddr: Fix two bugs in the ddr infrastructure

    1. wr_lat
       UM said the total write latency for DDR2 is equal to
       WR_LAT + ADD_LAT, the write latency is CL + ADD_LAT - 1.
       so, the WR_LAT = CL - 1;
    2. rd_to_pre
       we missed to add the ADD_LAT for DDR2 case.

    Reported-by: Joakim Tjernlund <Joakim.Tjernlund@transmode.se>
    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit 540dcf1cb86961e11aa92c47671f27762c581d8c
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Mar 26 01:34:39 2009 -0500

    83xx: Use common LSDMR defines from asm/fsl_lbc.h

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: Kim Phillips <kim.phillips@freescale.com>

commit b0fe93eda69721aef1fdef576164b668fad83bbd
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Mar 26 01:34:38 2009 -0500

    85xx: Use common LSDMR defines from asm/fsl_lbc.h

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 0088c298f0eeb90ec001f744e9959dea83dd563a
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Mar 26 01:34:37 2009 -0500

    Add LSDMR (SDRAM Mode Register) definition on localbus

    The masks for various bit defines of LSDMR are common and thus we can
    define them in one place rather than replicating them in each config.h

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 89c00fb15859213788f0ad089934c376fb356099
Author: Ladislav Michl <ladis@linux-mips.org>
Date:	Mon Mar 30 18:58:41 2009 +0200

    OMAP: use {read,write}l to access timer registers

    Signed-off-by: Ladislav Michl <ladis@linux-mips.org>

commit 81472d893fa565c9d300928a40e504a689bde131
Author: Ladislav Michl <ladis@linux-mips.org>
Date:	Mon Mar 30 18:58:41 2009 +0200

    OMAP: rename timer divisor

    Divisor field is called PTV not PVT.

    Signed-off-by: Ladislav Michl <ladis@linux-mips.org>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit fe672d60b2a8c9e803596ba4533fa1776015551d
Author: Ladislav Michl <ladis@linux-mips.org>
Date:	Mon Mar 30 18:58:40 2009 +0200

    OMAP: reindent timer code

    Signed-off-by: Ladislav Michl <ladis@linux-mips.org>

commit b3f66b0ba09949e0796ce7fad6367f75f15ed890
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Mon Mar 30 18:58:40 2009 +0200

    s3c2410: move nand driver to drivers/mtd/nand

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit d3b635774194404bcd424f6b376419bce22076ad
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Mon Mar 30 18:58:40 2009 +0200

    s3c24x0: move i2c driver to drivers/i2c

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 300f99f4539dd5caf7e19af5e4ea5eb259445913
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Mon Mar 30 18:58:39 2009 +0200

    s3c24x0: move serial driver to drivers/serial

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 942ba9969b9efa25f816c238861ecb339c54ed73
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Mon Mar 30 18:58:39 2009 +0200

    davinci: move i2c driver to drivers/i2c

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit ee4f3e2765a1c65c9861c5d2cf2e6feb84b90bd8
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Mon Mar 30 18:58:39 2009 +0200

    davinci: move nand driver to drivers/mtd/nand

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit d3e55d0774a180c1837bd7ddec464015e883bd86
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Mon Mar 30 18:58:38 2009 +0200

    imx: move serial driver to drivers/serial

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 2344bb8de2354101a8264c2123303c9d8d2aed3c
Author: Detlev Zundel <dzu@denx.de>
Date:	Mon Mar 30 00:31:36 2009 +0200

    inka4x0: Use proper accessor macros for memory mapped registers.

    Signed-off-by: Detlev Zundel <dzu@denx.de>

commit e979e85fd39b06436922bb4d6bb5fafcbc775182
Author: Detlev Zundel <dzu@denx.de>
Date:	Mon Mar 30 00:31:35 2009 +0200

    inka4x0: Add hardware diagnosis and RTC in configuration.

    This patch adds the board specific communication routines needed by
    the external 4543 RTC.

    Signed-off-by: Detlev Zundel <dzu@denx.de>
    Signed-off-by: Andreas Pfefferle <ap@denx.de>

commit 7b5611cdd12ca0cc33f994f0d4a4454788fc3124
Author: Detlev Zundel <dzu@denx.de>
Date:	Mon Mar 30 00:31:34 2009 +0200

    inka4x0: Add hardware diagnosis functions for inka4x0

    This patch adds advanced diagnosis functions for the inka4x0 board.

    Signed-off-by: Andreas Pfefferle <ap@denx.de>
    Signed-off-by: Detlev Zundel <dzu@denx.de>

commit 04e11cf383ff6231535fd981023bb1306b2133d4
Author: Detlev Zundel <dzu@denx.de>
Date:	Mon Mar 30 00:31:33 2009 +0200

    rtc: add support for 4543 RTC (manufactured by e.g. EPSON)

    Signed-off-by: Detlev Zundel <dzu@denx.de>
    Signed-off-by: Andreas Pfefferle <ap@denx.de>

commit 572e6179adb5447ff42ec2aa5cf3a26decf97583
Author: Detlev Zundel <dzu@denx.de>
Date:	Mon Mar 30 00:31:32 2009 +0200

    drivers/twserial: Add protocol driver for "three wire serial" interface.

    This pretty unintelligent interface is used on some RTC chips.

    Signed-off-by: Detlev Zundel <dzu@denx.de>

commit a6ef3ddeafbe8007af3662cc4509b897c53ab395
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Mar 29 23:01:42 2009 +0200

    arm720t/clps7111: move serial driver to drivers/serial

    add CONFIG_CLPS7111_SERIAL to activate the driver

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 6790c55704531eb98f76b51d50e0f73d19fa2988
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Mar 29 23:01:42 2009 +0200

    lpc2292: move serial driver to drivers/serial

    add CONFIG_LPC2292_SERIAL to activate the driver

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 176a600d0ecdaccbac483d2ba992d0119f853119
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Mar 29 23:01:42 2009 +0200

    ks8695: move serial driver to drivers/serial

    add CONFIG_KS8695_SERIAL to activate the driver

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 6d27bca15d445fcf07d6e7e30ced95c945c875ea
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Mar 29 23:01:42 2009 +0200

    s3c64xx: move usb driver to drivers/usb

    add CONFIG_USB_S3C64XX to activate the driver

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit ecfa8dda2f55e1fbe12dee0b5cc16e7d484674c9
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Mar 29 23:01:41 2009 +0200

    imx31: move serial driver to drivers/serial

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 9ea91c9fefb3920d735533a7798c1a44a3ed3ffc
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Mar 29 23:01:41 2009 +0200

    netarm: move serial driver to drivers/serial

    add CONFIG_NETARM_SERIAL to activate the driver

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 412ab705888742add435dd6ffc2e8bda14962235
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Mar 29 23:01:41 2009 +0200

    sa1100: move serial driver to drivers/serial

    add CONFIG_SA1100_SERIAL to activate the driver

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit b2368754a9202225fd072e159fb78da7d2cdb623
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Mar 29 23:01:41 2009 +0200

    s3c44b0: extract cache from cpu.c

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 40fd626223eae5363719bcb9a6896f08ceeee90a
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Mar 29 23:01:41 2009 +0200

    s3c44b0: move serial driver to drivers/serial

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 5fe1377cc46199fe71c47be4b1aa81440ae96f9f
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Mar 29 23:01:40 2009 +0200

    s3c44b0: move rtc driver to drivers/rtc

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 50f601cca8985615f9e3de4c34887448ade8a64b
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Mar 29 23:01:40 2009 +0200

    s3c44b0: move i2c driver to drivers/i2c

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 281dfb0c0c531194f99e60d6285cca4e2a9fb1b6
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Mar 29 23:01:36 2009 +0200

    s3c4510b: move specific code to soc directory

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 04531f3c11c693dc54924f82c41979d960309c9d
Author: Ladislav Michl <ladis@linux-mips.org>
Date:	Wed Mar 25 23:43:58 2009 +0100

    NetStar: add RTC support

    Add RTC support.

    Signed-off-by: Ladislav Michl <ladis@linux-mips.org>

commit 71f7bd305d9768bcb7ddbe4b5823cbf3b3597b11
Author: Ladislav Michl <ladis@linux-mips.org>
Date:	Wed Mar 25 23:43:50 2009 +0100

    NetStar: use generic flash driver

    Signed-off-by: Ladislav Michl <ladis@linux-mips.org>

commit 3f464b0fc009d41d2734c08e472eb6d445f73a5c
Author: Ladislav Michl <ladis@linux-mips.org>
Date:	Mon Mar 16 23:31:20 2009 +0100

    NetStar: update crcit utility

    Make crc32 function to match its prototype. Use more meaningful identifiers.

    Signed-off-by: Ladislav Michl <ladis@linux-mips.org>

commit 488f5d8790c451fc527fe5d2ef218f2a5e40ea17
Author: Ladislav Michl <ladis@linux-mips.org>
Date:	Mon Mar 23 17:46:27 2009 +0100

    Remove nowhere used symbol CONFIG_SYS_CLKS_IN_HZ

    Signed-off-by: Ladislav Michl <ladis@linux-mips.org>

commit 88685b5f62274167ad2ba8a58e108d89ff71955b
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Mar 29 00:58:16 2009 +0100

    VCMA9: fix compile errors

    Fix these:
    cmd_vcma9.c:82: warning: implicit declaration of function 'eth_getenv_enetaddr'
    cmd_vcma9.c:89: error: 'enetaddr' undeclared (first use in this function)

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 26e42cbd786241fec370a0b92ad591f4e9cc423b
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Mar 29 00:54:21 2009 +0100

    ARM: fix warning: 'print_eth' defined but not used

    This warning got issued for all ARM systems that don't have
    CONFIG_CMD_NET enabled.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit fd88d91a639ce41b825c8d50dc2182050e98fe53
Author: Ladislav Michl <ladis@linux-mips.org>
Date:	Mon Mar 23 18:16:34 2009 +0100

    cs8900 compile fix

    cs8900.c: In function 'eth_init':
    cs8900.c:164: warning: passing argument 2 of 'eth_getenv_enetaddr' from incompatible pointer type
    cs8900.c:165: error: invalid operands to binary <<
    cs8900.c:166: error: invalid operands to binary <<
    cs8900.c:167: error: invalid operands to binary <<

    Signed-off-by: Ladislav Michl <ladis@linux-mips.org>
    Acked-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit d2567be915036720693f3ddd00c39b5b4d86fb8d
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Mar 28 20:16:16 2009 +0100

    Fix implicit declaration of function 'eth_[gs]etenv_enetaddr'

    ...and some other compile warnings.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 97b05d7d524a6b4f195f07b8f90e98561a85596c
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Mar 28 16:17:29 2009 +0100

    mpc8xx/ether.c: fix warning: unused variable 'bd'

    Also minor coding style cleanup.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 2dce551e10728f9e5655279f761f1d3cc0a8fe90
Author: Detlev Zundel <dzu@denx.de>
Date:	Wed Mar 25 17:27:52 2009 +0100

    command.c: Expose the core of do_help as _do_help to the rest of u-boot.

    Other commands implementing subcommands can reuse this code nicely.

    Signed-off-by: Detlev Zundel <dzu@denx.de>
    Signed-off-by: Andreas Pfefferle <ap@denx.de>

commit 4e325fbfa4dea04eceb6392e00807c40d214dc6f
Author: Detlev Zundel <dzu@denx.de>
Date:	Tue Mar 24 18:02:33 2009 +0100

    mpc5xxx: Add structure definition for several more register blocks.

    Signed-off-by: Detlev Zundel <dzu@denx.de>

commit 739b0e594677a0676577bc95db4495a5563fc7f8
Author: Detlev Zundel <dzu@denx.de>
Date:	Fri Mar 27 15:03:55 2009 +0100

    MAINTAINERS: Add entry for 'inka4x0' board.

    Signed-off-by: Detlev Zundel <dzu@denx.de>

commit e55ecec45340755ef47cbbb13fb35ceed60eb115
Author: Detlev Zundel <dzu@denx.de>
Date:	Fri Mar 27 15:03:54 2009 +0100

    MAINTAINERS: Keep list sorted.

    Signed-off-by: Detlev Zundel <dzu@denx.de>

commit 0baeca4b09b703728f8e66b52418039fd8f8ce35
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Mar 26 11:17:41 2009 -0400

    karef/metrobox/xpedite1k: fix eth_setenv_enetaddr typos

    The function is called "eth_setenv_enetaddr", not "eth_putenv_enetaddr".

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    CC: Ben Warren <biggerbadderben@gmail.com>

commit 76756e41cde0a617e781a604cc47dfaef63697cd
Author: Heiko Schocher <hs@denx.de>
Date:	Thu Mar 26 07:33:59 2009 +0100

    ppc: cleanup compiler errors/warnings

    Current u-boot top of tree builds with warnings/errors for
    the following boards:

    ads5121 cpci5200 mecp5200 v38b IAD210 MBX MBX860T NX823
    RPXClassic debris PN62

    following patch solves this.

    Signed-off-by: Heiko Schocher <hs@denx.de>
    Acked-by: Mike Frysinger <vapier@gentoo.org>

commit 3edf68c47fdd52f19c1e840771c19ba90cf5ced1
Author: Stefan Roese <sr@denx.de>
Date:	Thu Mar 26 16:14:13 2009 +0100

    ppc4xx: Sequoia: Fix TLB reassignment in NAND booting code

    This patch fixes a bug in the Sequoia TLB init code to reconfigure
    the correct TLB (boot space) after running from RAM. This bug was
    introduced with patch 4d332dbeb08f5863d1ea69d91a00c5499d3a87ed
    [ppc4xx: Make Sequoia boot vxWorks] which changed the order of the
    TLB in the Sequoia init.S file.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit e2b66fe453a3679f807b37fc5923d89214302764
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Mar 26 10:00:57 2009 +0100

    ads5121: enable instruction cache

    Enabling the instruction cache significantly accelerates U-Boot
    operations like CRC checking, image uncompression, etc.

    Kudos to Andrea Scian for pointing out.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 33e88c557b29c84c52039ba05993fa70fe62afe3
Author: Jon Smirl <jonsmirl@gmail.com>
Date:	Sun Mar 22 22:55:45 2009 -0400

    mpc5200: suppress printf until console initialized

    On boards which have the environment in eeprom, i2c_init() is called
    before the console and RAM are initialized.
    Suppress printfs until the console is initialized.

    Signed-off-by: Jon Smirl <jonsmirl@gmail.com>
    Acked-by: Heiko Schocher <hs@denx.de>

commit 0c6926736effbb9a19047949b7e9b3e8feab7c46
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Wed Mar 25 11:36:50 2009 +0100

    ARM: Add the imx31_phycore_eet board to MAKEALL

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit 917cfc70c18b74fa8a80189bdce8395199fa8360
Author: Nishanth Menon <nm@ti.com>
Date:	Wed Mar 25 22:13:56 2009 +0100

    OMAP3:Beagle: Enable mtdparts

    http://www.denx.de/wiki/DULG/UBootCmdGroupFlash#UBootCmdFlMtdparts
    provides a flexible way to create and maintain u-boot mtd
    partitions. This allows commands such as "nand erase fs"
    to work and the user no longer needs to decode the absolute
    nand offsets. This patch enables this function for beagleboard

    Signed-off-by: Nishanth Menon <nm@ti.com>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 4de1a5daab079ddc8ce1274144700203d692105c
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Feb 22 16:26:35 2009 -0500

    Blackfin: bf537-stamp: split post code out into dedicated post.c

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 5e8f245743ed14c89e495ba2c027703db9813160
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Oct 11 22:51:56 2008 -0400

    Blackfin: add support for S25FL128 parts

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit bf1e028bf3eab1d702fa0627cade4460688f3913
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Oct 11 22:51:23 2008 -0400

    Blackfin: overhaul SPI flash handling to speed things up

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit efcc08cededa2168b96f12a22a5872340880d334
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Oct 11 22:51:05 2008 -0400

    Blackfin: add support for SST SPI flashes

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 5b8cfbe63f7242ebb1008f30bbbc85a9d54b38cf
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Oct 11 22:50:10 2008 -0400

    Blackfin: add hack for crappy m25p80

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 6f5fd56f0832ea5c254e2e4be84ea21fc8ecd5c5
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Jan 21 20:47:12 2009 -0500

    Blackfin: bf537-stamp: increase monitor size

    The new jffs2 code pushed the code size just over the limit, so increase
    the limit a bit more.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit f82caaccc87e1f76448ff42a6b930e59797e4f65
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Dec 8 16:16:11 2008 -0500

    Blackfin: bf537-stamp: bump default SCLK up to 125MHz

    Since all of the bf537-stamp and bf537-ezkit boards out there can handle it,
    increase the speed of SCLK to 125MHz rather than 100MHz.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 751e54c3b77311b720b794813cce20546f288ada
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Oct 11 22:44:14 2008 -0400

    Blackfin: bf537-stamp: rewrite MAC-in-flash handling

    Use the common net eth functions to setup the env/global data with the MAC
    address, and properly handle the case where CONFIG_SYS_NO_FLASH is defined.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 88f9faffb383bbc6f23b8cc8519c5ffecfa2c8ad
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Tue Dec 9 13:47:39 2008 -0500

    Blackfin: add clkin_hz= to default kernel command line for ADI boards

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 9f64ba2412d3cede9eb1f290987e5c3a28df3232
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Oct 12 23:49:13 2008 -0400

    Blackfin: bf533-stamp: bump up default clocks

    Since the hardware can handle it, bump the default clocks from 80mhz SCLK
    and 398mhz CCLK to 100mhz SCLK and 498mhz CCLK.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 23fd959eeaaa0434ac7f9c1191de66c76d97d699
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Oct 11 22:40:22 2008 -0400

    Blackfin: bf533-stamp: rewrite startup LED notifications

    Again, don't clobber pins that we aren't actually using, and use the common
    LED framework rather than our own hob-job-but-not-really-working.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit cf6f469e2730fc8ab3523808b828be000d6eee77
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Jun 1 09:09:48 2008 -0400

    Blackfin: unify common ADI board settings

    Rather than duplicate the same ADI settings in every ADI board, create a
    common ADI config header and have all ADI boards start using that.	This
    will also make merging the ~10 boards I have to forward port a lot easier.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 196c74311f394c6eb08bd9ab07a35671299b9851
Author: Kyungmin Park <kmpark@infradead.org>
Date:	Tue Mar 3 09:05:53 2009 +0900

    Reduce OneNAND IPL common code

    OneNAND IPL has common codes for RAM init, load data, and jump to 2nd
    bootloader, but it's common code used about 300~400 bytes. So board
    specific codes, such as lowlevel_init, can't has enough code. It make
    a difficult to implement OneNAND IPL.

    his patch make this common code as small as possible. and give
    lowlevel_init can have more codes.

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 16f2f5a351004129e79e79816697a367fd9e5446
Author: Wolfgang Grandegger <wg@grandegger.com>
Date:	Wed Feb 11 18:38:24 2009 +0100

    Add multi-chip NAND support for the TQM8548 modules

    This patches configures the NAND UPM-FSL driver with multi-chip
    support for the Micron MT29F8G08FAB NAND flash memory on the
    TQM8548 modules.

    Signed-off-by: Wolfgang Grandegger <wg@grandegger.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 33846df28fa1f4cf96a96c18142d48d813caa892
Author: Wolfgang Grandegger <wg@grandegger.com>
Date:	Wed Feb 11 18:38:23 2009 +0100

    Add wait flags to support board/chip specific delays

    The NAND flash on the TQM8548_BE modules requires a short delay after
    running the UPM pattern like the MPC8360ERDK board does. The TQM8548_BE
    requires a further short delay after writing out a buffer. Normally the
    R/B pin should be checked, but it's not connected on the TQM8548_BE.
    The corresponding Linux FSL UPM driver uses similar delay points at the
    same locations. To manage these extra delays in a more general way, I
    introduced the "wait_flags" field allowing the board-specific driver to
    specify various types of extra delay.

    Signed-off-by: Wolfgang Grandegger <wg@grandegger.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 06e9f7df054d26d7f49c56bf9a6844b193ad6313
Author: Wolfgang Grandegger <wg@grandegger.com>
Date:	Wed Feb 11 18:38:22 2009 +0100

    Add support for TQM-specific chip select logic to FSL-UPM

    For the NAND chips on the TQM8548 modules, a special chip-select logic is
    used. It uses dedicated address lines to be set via UPM machine address
    register (mar). This patch adds such support to the FSL-UPM driver.

    Signed-off-by: Wolfgang Grandegger <wg@grandegger.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit e93c1c169d49eda7babad9c781f541e2e34f0ff0
Author: Wolfgang Grandegger <wg@grandegger.com>
Date:	Wed Feb 11 18:38:21 2009 +0100

    Add multi chip support to the FSL-UPM driver

    This patch adds support for multi-chip NAND devices to the FSL-UPM
    driver. The "dev_ready" callback of the "struct fsl_upm_nand" is now
    called with the argument "chip_nr" to allow testing the proper chip
    select line. The NAND support of the MPC8360ERDK is updated as well.
    No other boards are currently using the FSL UPM driver.

    Signed-off-by: Wolfgang Grandegger <wg@grandegger.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 672ed2aee91b4856f6671fc72cd34168d8f1b624
Author: Wolfgang Grandegger <wg@grandegger.com>
Date:	Wed Feb 11 18:38:20 2009 +0100

    Enable multi chip support in the NAND layer

    This patch adds support for NAND_MAX_CHIPS to the MTD NAND layer.
    Multi-chips devices are displayed as shown:

      Device 0: 2x NAND 512MiB 3,3V 8-bit, sector size 128 KiB

    Signed-off-by: Wolfgang Grandegger <wg@grandegger.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 74398b23f9c2ffdc137fd92910a46e3333fb93f9
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Oct 11 21:58:33 2008 -0400

    Blackfin: put memory into self-refresh before/after programming clocks

    When initializing the core clocks, stick external memory into self-refresh.
    This gains us a few cool things:
     - support suspend-to-RAM with Linux
     - reprogram clocks automatically when doing "go" on u-boot.bin in RAM
     - make sure settings are stable before flashing new version
     - finally fully unify initialize startup code path between LDR/non-LDR

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit d347d572ab1f2d47bf257c9f7ca2e602038a136b
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Oct 11 21:56:08 2008 -0400

    Blackfin: do not program voltage regulator on parts that do not have one

    Some newer Blackfins (like the BF51x) do not have an on-chip voltage
    regulator, so do not attempt to program the memory as if it does.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 0d4f24b70f7a979f58174f3eb271874950b551b6
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Jun 1 01:28:24 2008 -0400

    Blackfin: setup a sane default EBIU_SDBCTL for SDRAM controllers

    If the board config does not specify an explicit EBIU_SDBCTL value, set it
    up with sane values based on other configuration options.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 3986e981f565c08f10c7e526af8cb518d741c349
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Dec 6 18:06:58 2008 -0500

    Blackfin: handle reboot anomaly 432

    Workaround anomaly 432:
    The bfrom_SysControl() firmware function does not clear the SIC_IWR1
    register before executing the PLL programming sequence.  Therefore, any
    interrupt enabled in the SIC_IWR1 register prior to the call to
    bfrom_SysControl() can prematurely terminate the idle sequence required
    for the PLL to relock properly. SIC_IWR0 is properly handled.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 7e1d212b6da492c6ea32c62af92e185284f41291
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Oct 18 04:04:49 2008 -0400

    Blackfin: kill off LDR jump block

    The Boot ROM uses EVT1 as the entry point so set that rather than having
    to use a tiny jump block in the default EVT1 location.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit a75fa148d60b1975403441e45565621bba50d2d9
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Tue Jan 6 10:00:48 2009 -0500

    Blackfin: simplify symbol_lookup() a bit

    No need to skip a byte as the symbol table handles this.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 59f0978a7e78d20277ddbde7caf0ea877f3cfd98
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Feb 7 05:43:21 2009 -0500

    Blackfin: fix SIC_RVECT definition: it is 16bits, not 32bits

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 58130f8920151d9e8942bbdf3388f2defb47e415
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Feb 7 05:41:17 2009 -0500

    Blackfin: drop SPORT_TX read helper macros

    The SPORT_TX registers cannot be read (the hardware will trigger an error),
    so drop the read helper macros.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 820b076c449688bcd4af6db5a33ae424d1a60d0e
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Feb 7 05:25:35 2009 -0500

    Blackfin: unify duplicate CPU port definitions

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 744fd240d181b0b05b1436e1b655c9a62526c752
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Fri Feb 6 00:59:50 2009 -0500

    Blackfin: drop now-unused CONFIG_SYS_BFIN_CMD_XXX

    With the new CONFIG_XXX system and CONFIG_CMD_XXX handling, these defines
    are no longer used/needed.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 45c48953e8a4038bd49c46813fcff5a207867ae4
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Oct 6 04:01:26 2008 -0400

    Blackfin: print out Flash: before checking it

    If there is some problem in the flash init/checking code, it's nicer to see
    the message "Flash:" before crashing.  This way the source of the problem
    is a bit more straightforward.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 1c7a79a04eb916f685f7275520b5eea6968a1559
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Aug 7 15:33:09 2008 -0400

    Blackfin: safely flush data caches when in writeback mode

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit c06f2b13022703611bc3e512bd34f9014a46f448
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Aug 7 13:21:48 2008 -0400

    Blackfin: update lockbox api according to latest documentation

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 2decc2a8d17a5397cb5956e46c8466c736e305a2
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Oct 11 21:49:06 2008 -0400

    Blackfin: mark bfin_reset static

    The function is only used locally, so mark it static.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 974473caa732f63312687ef2bd2d22dad8e99b9a
Author: Sonic Zhang <Sonic.Zhang@analog.com>
Date:	Fri Mar 20 19:28:20 2009 -0400

    Blackfin: spi: there is no PORTJ_FER MMR on BF537

    Since the PORTJ on the BF537 is peripheral-only (no GPIO functionality),
    then there is no PORTJ_FER register for us to worry about.

    Signed-off-by: Sonic Zhang <Sonic.Zhang@analog.com>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit e82b762f293debc53c5afa90f37264f6b07520f9
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Tue Mar 17 13:58:23 2009 -0400

    Blackfin: fix jtag console tstc

    The jtag tstc operation was checking the hardware to see if data is
    available from it (which is fine for the jtag getc operation), but the
    higher layers need to know whether any data is available.  Since we have
    to read up to 4 bytes at a time from the hardware, the higher layers need
    to know they can consume the cached bytes as well.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit bc683f58b1f1d8d20546fe019483967a51a49df1
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Feb 22 16:23:41 2009 -0500

    Blackfin: bf537-stamp: move CONFIG_POST handling to COBJS-$(...)

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 8996d1608acb8f59fcb186dc7ed7d87f8fee1297
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Feb 22 16:02:27 2009 -0500

    Blackfin: unify net-related init code

    Unify all of the net-related init code in the common Blackfin board init
    code to clean up the ifdef mess a bit.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit c6ea30e52ea82af4858d2b6f99e0fd2ea276d657
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Feb 18 12:51:48 2009 -0500

    Blackfin: fix SWRST/SYSCR register sizes

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit a9d6777d39154978b9ef9c682b2627a3480b194c
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Feb 18 12:51:31 2009 -0500

    Blackfin: update anomaly lists

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 4d7c32dad2e787f890ebcd51bfb723a126913c90
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Thu Mar 19 18:31:38 2009 +0100

    avr32: fix cacheflush.h location introducted by d8f2aa3298610b

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit 3a3baf3ee61e6b28af3b49ebabc9ab4f6015aa48
Author: Eric Schumann <E.Schumann@phytec.de>
Date:	Sat Mar 21 09:59:34 2009 -0400

    Make flash protection work, when the environment is in EEPROM

    On the pcm030 the environment is located in the onboard EEPROM. But we want
    to handle flash sector protection in a safe manner. So we must read the
    unlock environment variable from EEPROM instead from flash.

    This patch is required as long the evironment is saved into the EEPROM.

    Stefan: Additional change as suggested by Wolfgang, use bigger char array
    (instead of 4).

    Signed-off-by: Eric Schumann <E.Schumann@phytec.de>
    Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
    Acked-by: Wolfgang Denk <wd@denx.de>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit de3ce8c59f48f99779d7d7379a5432ded12ec06c
Author: Jon Smirl <jonsmirl@gmail.com>
Date:	Sat Mar 21 11:17:56 2009 -0400

    Add define for mpc5200 CDM_CLK_ENA

    Signed-off-by: Jon Smirl <jonsmirl@gmail.com>

commit df486b1fa3f750b153eac7daa0b3bf1f594e5098
Author: Nicolas Ferre <nicolas.ferre@atmel.com>
Date:	Sun Mar 22 14:48:16 2009 +0100

    at91: Support for the at91sam9g20 : Atmel 400Mhz ARM 926ej-s SOC.

    AT91sam9g20 is an evolution of the at91sam9260 with a faster clock speed.

    The AT91SAM9G20-EK board is an updated revision of the AT91SAM9260-EK board.
    It is essentially the same, with a few minor differences.

    Here is the chip page on Atmel website:
    http://www.atmel.com/dyn/products/product_card.asp?part_id=4337

    Signed-off-by: Justin Waters <justin.waters@timesys.com>
    Signed-off-by: Nicolas Ferre <nicolas.ferre@atmel.com>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 118d168035cc93f586da4812c89cb153eb9f4243
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Mar 22 14:28:14 2009 +0100

    cmc_pu2: fix implicit declaration of function 'eth_setenv_enetaddr'

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 176c4a982c6531f96426afaa1126cf9a5e2d5e03
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Mar 22 14:28:13 2009 +0100

    cmc_pu2: fix misc_init_r prototype

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 53158aea995221706b42c7bad9f717b31ae20414
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Jan 11 03:32:01 2009 +0100

    at91sam9xeek: fix soc name

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 74c076d6c33d6d42ab065541a38383587879e7b7
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Mar 22 10:22:34 2009 +0100

    at91sam9/at91cap: move nand drivers to drivers/mtd/nand

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 163966087d62680547f188a93c61d01c8155254e
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Mar 21 21:08:01 2009 +0100

    atmel/at91/boards: compile dataflash partition only when dataflash is

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit e2c0476f958f8e0b269a1118f4ba4a5cd475aa56
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Mar 21 21:08:00 2009 +0100

    at91sam9/at91cap: move common macb initialisation to cpu

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit f3f91f886bc8927fd692ac411b7423a87ffec532
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Mar 21 21:08:00 2009 +0100

    at91sam9/at91cap: move common usb host initialisation to cpu

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit a484b00b86e72ac6da6ee4fce13dbc6b256672fe
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Mar 21 21:08:00 2009 +0100

    at91sam9/at91cap: move common led management to cpu

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 7ebafb7ec1a0285af8380623c009576f92583b98
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Mar 21 21:07:59 2009 +0100

    at91sam9/at91cap: move common spi initialisation to cpu

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 1332a2a0694c8e10a5bade397cf83645b2c3fd7e
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Mar 21 21:07:59 2009 +0100

    at91sam9/at91cap: move common serial initialisation to cpu

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit e60beb13cf0135dc71c541021487b5ccc4d269cb
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Mar 21 22:04:41 2009 +0100

    Prepare 2009.03

    Update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 9e78dae2b276c5bf9ab92cd85173f6cb92b1b7d5
Author: Vivek Kutal <vivek.kutal@azingo.com>
Date:	Mon Feb 23 21:35:11 2009 +0530

    Replaced endpoint numbers with appropriate macros in usbtty.c.

    Signed-off-by: Vivek Kutal <vivek.kutal@azingo.com>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit faac4fd852e39cb1d7a740801b060e41aeacef1f
Author: Michael Lawnick <ml.lawnick@gmx.de>
Date:	Thu Mar 19 10:06:41 2009 +0100

    UBIFS: Missing offset relocation for compressor 'none'

    On systems where U-Boot is linked to another address than it really lays
    (e.g. backup image), calls via function pointers must be fixed with a
    '+= gd->reloc_off'.
    This was not done for none_compr in ubifs_compressors_init() what leads
    to system crash on ubifsmount command.

    Signed-off-by: Michael Lawnick <ml.lawnick@gmx.de>
    Acked-by: Stefan Roese <sr@denx.de>

commit ce6d0c8de031f345bde745f3b855082adf1c4e45
Author: Stefan Roese <sr@denx.de>
Date:	Thu Mar 19 15:35:50 2009 +0100

    UBIFS: Add UBIFS commands

    This patchset adds these UBIFS related commands:

    - ubifsmount
      Mount an UBIFS volume

    - ubifsls
      List a directory of the mounted UBIFS volume

    - ubifsload
      Load a file from the mounted UBIFS volume to memory

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 9eefe2a2b37a838558e3d213a9f5519503d0c180
Author: Stefan Roese <sr@denx.de>
Date:	Thu Mar 19 15:35:05 2009 +0100

    UBIFS: Implement read-only UBIFS support in U-Boot

    The U-Boot UBIFS implementation is largely a direct copy from the current
    Linux version (2.6.29-rc6). As already done in the UBI version we have an
    "abstraction layer" to redefine or remove some OS calls (e.g. mutex_lock()
    ...). This makes it possible to use the original Linux code with very
    little changes. And by this we can better update to later Linux versions.

    I removed some of the Linux features that are not used in the U-Boot
    version (e.g. garbage-collection, write support).

    Signed-off-by: Stefan Roese <sr@denx.de>
    CC: Artem Bityutskiy <dedekind@infradead.org>
    CC: Adrian Hunter <ext-Adrian.Hunter@nokia.com>

commit b1b4e89a0f3b75854c39a62cae41bad56d210adf
Author: Stefan Roese <sr@denx.de>
Date:	Thu Mar 19 15:34:56 2009 +0100

    Add LZO decompressor support

    This patch adds LZO decompression support to U-Boot. It is needed for
    the upcoming UBIFS support, since UBIFS uses LZO as default compressor/
    decompressor. Since we only support read-only in UBIFS, only the
    decompressor is needed.

    All this is copied with minor changes from the current Linux kernel
    version (2.6.28-rc8).

    This patch only implements this LZO decompressor support for PPC.
    Other platforms using UBIFS will have to add the required
    "include/asm/unaligned.h" as well. It should be fairly easy to copy this
    from the Linux source tree as I have done it for PPC in this patch.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 68d7d65100e84df00bca971c114092731b441090
Author: Stefan Roese <sr@denx.de>
Date:	Thu Mar 19 13:30:36 2009 +0100

    Separate mtdparts command from jffs2

    Currently the mtdparts commands are included in the jffs2 command support.
    This doesn't make sense anymore since other commands (e.g. UBI) use this
    infrastructure as well now. This patch separates the mtdparts commands from
    the jffs2 commands making it possible to only select mtdparts when no JFFS2
    support is needed.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>

commit 02a301cd5087eaffdf456e0a5cec1100c4d9a398
Author: Stefan Roese <sr@denx.de>
Date:	Wed Feb 25 12:11:15 2009 +0100

    powerpc: Only use eth_getenv_enetaddr() if networking is enabled

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 5c4fa9b474af95d60f019ec6369cbe77b9dab4b5
Author: Grzegorz Bernacki <gjb@semihalf.com>
Date:	Tue Mar 17 10:06:40 2009 +0100

    Add support for the digsy MTC board.

    This is the InterControl custom device based on the MPC5200B chip.

    Signed-off-by: Grzegorz Bernacki <gjb@semihalf.com>

commit ff7dc067369e30066744f096995aef7d97574d15
Author: Stefan Roese <sr@denx.de>
Date:	Mon Feb 23 16:52:36 2009 +0100

    powerpc: Fix compilation warning in board.c

    Fix this warning:

    board.c: In function 'board_init_r':
    board.c:653: warning: unused variable 'i'
    board.c:651: warning: unused variable 'e'

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 9cd690160d3ce1a7fb4ceeee6c99cedb1ac1d49c
Author: Stefan Roese <sr@denx.de>
Date:	Mon Feb 23 16:42:51 2009 +0100

    ppc4xx: Don't write the MAC address into the internal SoC registers

    Remove this code. It's not needed. The 4xx EMAC driver stores the MAC
    addresses into the SoC registers instead.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit bb57ad4be76d0e2e7f9ec56678235cc9872ff40f
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Fri Feb 20 10:19:19 2009 +0100

    ppc4xx: Use correct io accessors for esd 405/440 boards

    This patch replaces in/out8/16/32 macros by in/out_8/_be16/_be32
    macros. Also volatile pointer references are replaced by the
    new accessors.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd.eu>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 049216f045fd8e0f45bcef121c2bb1c7d3de6988
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Fri Feb 20 10:19:18 2009 +0100

    ppc4xx: Use correct io accessors for esd 405 boards

    This patch replaces in/out8/16/32 macros by in/out_8/_be16/_be32
    macros. Also volatile pointer references are replaced by the
    new accessors.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd.eu>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit a59205d1519375d027f97a545ad642ab20fce6f8
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Fri Feb 20 10:19:17 2009 +0100

    ppc4xx: Cleanup linker scripts of esd 4xx boards

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd.eu>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 2f103ee284e68934a648732db5e0b6ceb4a1ed8f
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Fri Feb 20 10:19:16 2009 +0100

    ppc4xx: Update TEXT_BASE for DASA_SIM boards

    Fix building DASA_SIM boards by increasing U-Boot's size in flash.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd.eu>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 09db8f4de6805f1dde510c167f20e56a5405d29e
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Fri Feb 20 10:19:15 2009 +0100

    ppc4xx: DU405 maintenance fix

    -strip unused features
    -fix resetting phy

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd.eu>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 75511b47ac2647be48218dbb93af05b21f404f67
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Fri Feb 20 10:19:14 2009 +0100

    ppc4xx: Abort autoboot only by space key on CPCI405 boards

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit e17ee157ca9ff0d4cc5841d06c4b70c1603df29c
Author: Graeme Russ <graeme.russ@gmail.com>
Date:	Tue Feb 24 21:14:56 2009 +1100

    Add basic relocation to i386 port

    Signed-off-by: Graeme Russ <graeme.russ@gmail.com>

commit 8c63d47651f77d9fb887cad433370b866eb0a193
Author: Graeme Russ <graeme.russ@gmail.com>
Date:	Tue Feb 24 21:14:45 2009 +1100

    Implement SC520 timers

    Signed-off-by: Graeme Russ <graeme.russ at gmail.com>

commit 6d7f610b09f813b1239eedcbfe921cfd439aea25
Author: Graeme Russ <graeme.russ@gmail.com>
Date:	Tue Feb 24 21:14:32 2009 +1100

    Factor out SC520 sub-features

    Moved sub-features of the SC520 code which is currently selectively compiled
    using #ifdef out of sc520.c into individual files selectively compiled via
    the makefile

    Signed-off-by: Graeme Russ <graeme.russ at gmail.com>

commit abf0cd3dff227cfb6e82ad13be62e28e6e89d5df
Author: Graeme Russ <graeme.russ@gmail.com>
Date:	Tue Feb 24 21:13:40 2009 +1100

    Rewrite i386 interrupt handling

    Rewrite interrupt handling functionality for the i386 port. Separated
    functionality into separate CPU and Architecture components.

    It appears as if the i386 interrupt handler functionality was intended
    to allow multiple handlers to be installed for a given interrupt.
    Unfortunately, this functionality was not fully implemented and also
    had the problem that irq_free_handler() does not allow the passing
    of the handler function pointer and therefore could never be used to
    free specific handlers that had been installed for a given IRQ.

    There were also various issues with array bounds not being fully
    tested.

    I had two objectives in mind for the new implementation:

    1) Keep the implementation as similar as possible to existing
       implementations. To that end, I have used the leon2/3
       implementations as the reference

    2) Seperate CPU and Architecture specific elements. All specific i386
       interrupt functionality is now in cpu/i386/ with the high level
       API and architecture specific code in lib_i386. Functionality
       specific to the PC/AT architecture (i.e. cascaded i8259 PICs) has
       been further split out into an individual file to allow for the
       implementation of the PIC architecture of the SC520 CPU (supports
       more IRQs)

    Signed-off-by: Graeme Russ <graeme.russ at gmail.com>

commit ece444b42b71eb5bce34a24ec584573b3c8c4a98
Author: Graeme Russ <graeme.russ@gmail.com>
Date:	Tue Feb 24 21:12:35 2009 +1100

    Move ali512x.h

    Moved ali512x.h from include/asm-i386/ic/ to /include

    Signed-off-by: Graeme Russ <graeme.russ at gmail.com>

commit 6d83e3ac61dcdbcb7f04664309a9689fe01c5704
Author: Graeme Russ <graeme.russ@gmail.com>
Date:	Tue Feb 24 21:12:20 2009 +1100

    Rename SC520 Configuration Options

    Options are now all uniformly CONFIG_SYS_SC520_<option>

    Signed-off-by: Graeme Russ <graeme.russ at gmail.com>

commit f62fb99941c625605aa16a0097b396a5c16d2c88
Author: Trent Piepho <xyzzy@speakeasy.org>
Date:	Wed Feb 18 15:22:05 2009 -0800

    Fix all linker script to handle all rodata sections

    A recent gcc added a new unaligned rodata section called '.rodata.str1.1',
    which needs to be added the the linker script.  Instead of just adding this
    one section, we use a wildcard ".rodata*" to get all rodata linker section
    gcc has now and might add in the future.

    However, '*(.rodata*)' by itself will result in sub-optimal section
    ordering.  The sections will be sorted by object file, which causes extra
    padding between the unaligned rodata.str.1.1 of one object file and the
    aligned rodata of the next object file.  This is easy to fix by using the
    SORT_BY_ALIGNMENT command.

    This patch has not be tested one most of the boards modified.  Some boards
    have a linker script that looks something like this:

    *(.text)
    . = ALIGN(16);
    *(.rodata)
    *(.rodata.str1.4)
    *(.eh_frame)

    I change this to:

    *(.text)
    . = ALIGN(16);
    *(.eh_frame)
    *(SORT_BY_ALIGNMENT(SORT_BY_NAME(.rodata*)))

    This means the start of rodata will no longer be 16 bytes aligned.
    However, the boundary between text and rodata/eh_frame is still aligned to
    16 bytes, which is what I think the real purpose of the ALIGN call is.

    Signed-off-by: Trent Piepho <xyzzy@speakeasy.org>

commit 566b652c7cdb0e5e0529bb3d1eaffbd2bf45a032
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Feb 11 18:26:08 2009 -0500

    remove bi_enet*addr from global data for all arches

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    CC: Ben Warren <biggerbadderben@gmail.com>
    CC: Daniel Hellstrom <daniel@gaisler.com>
    CC: Michal Simek <monstr@seznam.cz>
    CC: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
    CC: Scott McNutt <smcnutt@psyent.com>
    CC: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit eb85aa594c1b57a1e3be9689b65171a137a36432
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Feb 11 20:07:19 2009 -0500

    ppc: mark global bi_enet*addr as legacy

    The environment is the canonical storage location of the mac address, so
    we're killing off the global data location and moving everything to
    querying the env directly.

    In the ppc case, these things are part of the legacy ABI, so keep them
    around but mark them as legacy so no new code will touch them.

    Also stop calling load_sernum_ethaddr() since all boards now implement
    this as a stub.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    CC: Ben Warren <biggerbadderben@gmail.com>

commit 9c150102bc1de375d36d97a1cc2dd0e9639b15df
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Feb 11 20:09:52 2009 -0500

    boards: get mac address from env and move load_sernum_ethaddr() to board init

    The environment is the canonical storage location of the mac address, so
    we're killing off the global data location and moving everything to
    querying the env directly.

    Rather than have common ppc code call a board-specific function like
    load_sernum_ethaddr(), have each board call it in its own board-specific
    misc_init_r() function.

    The boards that get converted here are:
	- kup4k/kup4x
	- pcs440ep
	- tqm8xx

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    CC: Ben Warren <biggerbadderben@gmail.com>
    CC: Stefan Roese <sr@denx.de>

commit 92b50ffef978f05858a0ff4cbe88430bc51a28a2
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Feb 11 19:55:01 2009 -0500

    cmc_pu2: get mac address from environment

    The environment is the canonical storage location of the mac address, so
    we're killing off the global data location and moving everything to
    querying the env directly.

    Also rename load_sernum_ethaddr() to misc_init_r() so we don't need to
    handle this board specially in common ARM code.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    CC: Ben Warren <biggerbadderben@gmail.com>

commit d8d21e699d7fcfb6ab11635110266dd09b7edc62
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Feb 16 18:03:14 2009 -0500

    boards: move board_get_enetaddr() into board-specific init

    The environment is the canonical storage location of the mac address, so
    we're killing off the global data location and moving everything to
    querying the env directly.

    Rather than have the common ppc code have board-specific hooks, move the
    board_get_enetaddr() function into the board-specific init functions.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    CC: Ben Warren <biggerbadderben@gmail.com>

commit f11e6ff5b1859d9213f0d501b3309e065f487543
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Feb 11 19:39:55 2009 -0500

    arm: get mac address from environment

    The environment is the canonical storage location of the mac address, so
    we're killing off the global data location and moving everything to
    querying the env directly.

    Some warts are remaining and should be killed off (by moving the func to
    the appropriate board init code):
	- davinci_eth_set_mac_addr
	- cs8900_get_enetaddr
	- smc_set_mac_addr

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    CC: Ben Warren <biggerbadderben@gmail.com>

commit 0107cf66f7346e8c7d6cf0fe99d2f265134afd59
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Feb 11 19:36:20 2009 -0500

    nx823: get mac address from environment

    The environment is the canonical storage location of the mac address, so
    we're killing off the global data location and moving everything to
    querying the env directly.

    For the nx823, the serial number is moved out of load_sernum_ethaddr() and
    into misc_init_r() as is the env setup.  This lets us kill off the former
    function in the process.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    CC: Ben Warren <biggerbadderben@gmail.com>

commit 19b5b533ccd522abeb501d510750693c35e20456
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Feb 11 18:27:18 2009 -0500

    lib_*/board.c: do not initialize bi_enet*addr in global data

    Since everyone is using the environment for mac address storage, there is
    no point in seeding the global data.

    The arches that are converted here:
	i386
	m68k
	microblaze
	mips
	nios
	nios2
	sh
	sparc

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    CC: Ben Warren <biggerbadderben@gmail.com>
    CC: Daniel Hellstrom <daniel@gaisler.com>
    CC: Michal Simek <monstr@seznam.cz>
    CC: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
    CC: Scott McNutt <smcnutt@psyent.com>
    CC: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 740e8ba7d475c49c1b76058e1bf354e376b5c4e0
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Feb 11 19:19:54 2009 -0500

    npe: get mac address from environment

    The environment is the canonical storage location of the mac address, so
    we're killing off the global data location and moving everything to
    querying the env directly.

    The resulting code can also be simplified even further.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    CC: Stefan Roese <sr@denx.de>
    CC: Ben Warren <biggerbadderben@gmail.com>

commit 6bacfa6a8e9b264d37c1262fc1f3e948d1feab81
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Feb 11 19:18:41 2009 -0500

    cpu/: get mac address from environment

    The environment is the canonical storage location of the mac address, so
    we're killing off the global data location and moving everything to
    querying the env directly.

    The cpus that get converted here:
	at91rm9200
	mpc512x
	mpc5xxx
	mpc8260
	mpc8xx
	ppc4xx

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    CC: Ben Warren <biggerbadderben@gmail.com>
    CC: John Rigby <jrigby@freescale.com>
    CC: Stefan Roese <sr@denx.de>

commit 03f3d8d3b39cf85c0ce7ca903b436701e8aa610b
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Feb 11 19:09:54 2009 -0500

    lan91c96/smc91111/smc911x: get mac address from environment

    The environment is the canonical storage location of the mac address, so
    we're killing off the global data location and moving everything to
    querying the env directly.

    Also, do not bother checking the EEPROM if the env is setup.  This
    simplifies the code greatly.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Signed-off-by: Wolfgang Dnek <wd@denx.de>
    CC: Ben Warren <biggerbadderben@gmail.com>
    CC: Rolf Offermanns <rof@sysgo.de>
    CC: Erik Stahlman <erik@vt.edu>
    CC: Daris A Nevil <dnevil@snmc.com>
    CC: Sascha Hauer <s.hauer@pengutronix.de>

commit c527ce92511cbf723c2ca77bee1cf9ecf83dac81
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Feb 11 19:14:09 2009 -0500

    sh_eth: get mac address from environment

    The environment is the canonical storage location of the mac address, so
    we're killing off the global data location and moving everything to
    querying the env directly.

    The sh_eth driver can also be simplified a bit by using enetaddr member of
    the eth_device structure.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    CC: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
    CC: Carlos Munoz <carlos@kenati.com>
    CC: Ben Warren <biggerbadderben@gmail.com>

commit 0a5238cea90665c230297a8fd77bb0b3b61ca177
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Feb 11 19:06:09 2009 -0500

    cs8900: get mac address from environment

    The environment is the canonical storage location of the mac address, so
    we're killing off the global data location and moving everything to
    querying the env directly.

    The cs8900 driver also changes slightly in that the hardware is not
    consulted if the mac address in the env is sane.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    CC: Marius Groeger <mgroeger@sysgo.de>
    CC: Ben Warren <biggerbadderben@gmail.com>

commit c4b8762f11d337e6a9d90c227b2871d65d372469
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Feb 11 19:04:25 2009 -0500

    bcm570x: get mac address from environment

    The environment is the canonical storage location of the mac address, so
    we're killing off the global data location and moving everything to
    querying the env directly.

    Since the address is in the PLM_DEVICE_BLOCK structure already, there is
    no need to pass the NodeAddress as a second parameter.  So drop the second
    argument to the LM_SetMacAddress() function (and update the tigon3 driver
    accordingly).

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    CC: Ben Warren <biggerbadderben@gmail.com>

commit d3f871482f06f6a4eaf4a3fafde84846bad87b4f
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Feb 11 19:01:26 2009 -0500

    drivers/net/: get mac address from environment

    The environment is the canonical storage location of the mac address, so
    we're killing off the global data location and moving everything to
    querying the env directly.

    The drivers that get converted here:
	3c589
	4xx_enet
	dc2114x
	dm9000x
	enc28j60
	fsl_mcdmafec
	ks8695eth
	mcffec
	rtl8019
	rtl8169
	s3c4510b_eth
	xilinx_emac
	xilinx_emaclite

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    CC: Ben Warren <biggerbadderben@gmail.com>
    CC: Rolf Offermanns <rof@sysgo.de>
    CC: Stefan Roese <sr@denx.de>
    CC: Sascha Hauer <saschahauer@web.de>
    CC: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
    CC: Greg Ungerer <greg.ungerer@opengear.com>
    CC: Xue Ligong <lgxue@hotmail.com>
    CC: Masami Komiya <mkomiya@sonare.it>
    CC: Curt Brune <curt@cucy.com>
    CC: Michal SIMEK <monstr@monstr.eu>

commit b6b4625d175019e387e5b0f65a17322a78f6bb90
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Feb 11 18:38:38 2009 -0500

    boards: get mac address from environment

    The boards that get converted here to use the environment for the mac
    address rather than global data:
	debris
	mgcoge
	mgsuvd
	muas3001
	netstal
	pn62
	sixnet
	vcma9
	xilinx (the ones that use xilinx_enet)

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    CC: Ben Warren <biggerbadderben@gmail.com>
    CC: Sangmoon Kim <dogoil@etinsys.com>
    CC: Heiko Schocher <hs@denx.de>
    CC: David Mueller <d.mueller@elsoft.ch>
    CC: Niklaus Giger <niklaus.giger@netstal.com>
    CC: Wolfgang Grandegger <wg@denx.de>
    CC: Dave Ellis <DGE@sixnetio.com>
    CC: Ricardo Ribalda <ricardo.ribalda@uam.es>

commit 06a0c4381a65ed500c816a05b9ae7b207c3b1d4b
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Feb 11 18:36:45 2009 -0500

    AmigaOneG3SE/enet: get mac address from environment

    Always use the MAC address that is stored in the environment first before
    falling back to the ROM.  This also cuts out any comparison steps: if the
    mac in the env is sane, the ROM is never consulted.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    CC: Thomas Frieden <ThomasF@hyperion-entertainment.com>
    CC: Ben Warren <biggerbadderben@gmail.com>

commit 56b555a644f3cbb1b3929cb52b61d3ce483885f5
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Feb 11 18:52:38 2009 -0500

    nvedit: do not update global bi_enetaddr and do not call eth_set_enetaddr()

    Since the ethernet layer handles updating of device addresses itself from
    the environment, there is no point in calling eth_set_enetaddr().

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    CC: Ben Warren <biggerbadderben@gmail.com>

commit 5013533467c1de731c2f0c9beb4b41ce3f07cbeb
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Feb 11 18:54:07 2009 -0500

    lynxkdi: get mac address from environment

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    CC: Ben Warren <biggerbadderben@gmail.com>

commit 62c93d92f1b6266b2f33c5f403931b51cbd2a246
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Feb 11 18:51:43 2009 -0500

    bootvx: get mac address from environment

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    CC: Niklaus Giger <niklaus.giger@member.fsf.org>
    CC: Ben Warren <biggerbadderben@gmail.com>

commit de2dff6ff89f98c6062f4d224fd434a3ede035d1
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Feb 11 18:50:10 2009 -0500

    bdinfo: get mac address from environment

    Add a new print_eth() function to automate the eth*addr env var acquisition
    and display.  Affects all arches.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    CC: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
    CC: Scott McNutt <smcnutt@psyent.com>
    CC: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
    CC: Michal Simek <monstr@seznam.cz>
    CC: Daniel Hellstrom <daniel@gaisler.com>
    CC: Ben Warren <biggerbadderben@gmail.com>

commit 95823ca0773356860e622ee3304a4b7cafcbf19a
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Feb 11 18:23:48 2009 -0500

    net: get mac address from environment and use eth util funcs

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    CC: Ben Warren <biggerbadderben@gmail.com>

commit 500b6c51e4c41f4562cb48344af98deb7e342731
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Oct 13 15:06:25 2008 -0400

    Blackfin: bfin_mac: force boards to setup the MAC themselves

    Since the on-chip MAC does not have an eeprom or similar interface, force
    all Blackfin boards that use this driver to setup the board data with a
    proper MAC.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    CC: Ben Warren <biggerbadderben@gmail.com>

commit 6ff4137f2ad640e4fc8ea1b0455161ddff1f6730
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Feb 11 14:12:34 2009 -0500

    doc/README.enetaddr: document proper MAC usage

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    CC: Ben Warren <biggerbadderben@gmail.com>

commit 3f6e6993e92fd0658da1746d1c84644612ee520b
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Jan 29 19:43:44 2009 -0500

    net: new utility functions for working with enetaddr's

    Declare new utility functions for converting between the environment
    variables (eth*addr) and the binary MAC address representation.  This way
    we can unify all the random places that already do this kind of thing.

    The functions in question:
	eth_parse_enetaddr - "..." -> {...}
	eth_getenv_enetaddr - env -> {...}
	eth_setenv_enetaddr - {...} -> env

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    CC: Ben Warren <biggerbadderben@gmail.com>

commit b6446b67758ea1e41223f0782924bb73fd0a89d0
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Tue Feb 17 00:00:53 2009 -0500

    convert print_IPaddr() to %pI4

    Now that our printf functions support the %pI4 modifier like the kernel,
    let's drop the inflexible print_IPaddr() function and covert over to the
    %pI4 modifier.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    CC: Ben Warren <biggerbadderben@gmail.com>

commit 6c6166f52983dac775e3852f9d0f49d033f27108
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Feb 16 23:21:36 2009 -0500

    vsprintf: pull updates from Linux kernel

    This brings in support for the %p modifier which allows us to easily print
    out things like ip addresses, mac addresses, and pointers.

    It also converts the rarely used 'q' length modifier to the common 'L'
    modifier when dealing with quad types.

    While this new code is a bit larger (~1k .text), most of it should be made
    up by converting the existing ip/mac address code to use format modifiers.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit a43ea5cc6d612471fbc74f0a26b2bea5864aa1d6
Author: Jon Smirl <jonsmirl@gmail.com>
Date:	Thu Mar 19 23:04:18 2009 -0400

    .gitignore for generated files in api_examples directory

    Add .gitignore for generated files in api_examples directory

    Signed-off-by: Jon Smirl <jonsmirl@gmail.com>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 40281a9ca21a6b6d7b996b4d4eeaa19026337231
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Wed Mar 18 12:27:04 2009 +0900

    net: sh_eth: Remove sh_eth_reset() from halt function

    sh_eth_reset is function to reset Ether IP.
    The MAC address is stored in IP, but it is initialized by this function.
    OS (e.g. Linux Kernel) can not use this device when initialized.
    This revises this problem.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>

commit f8853d105da7d69bc92a5b4578f9b85234e558ec
Author: Anatolij Gustschin <agust@denx.de>
Date:	Fri Mar 20 12:45:50 2009 +0100

    ppc4xx: Fix bug in PCI outbound map configuration for canyonlands

    PCI outbound address map configuration doesn't match the
    PCI memory address range covered by appropriate TLB entry
    configuration for canyonlands causing machine check
    exceptions while accessing PCI memory regions. This patch
    provides a fix for this issue.

    Kazuaki Ichinohe observed and reported this issue while
    testing display output with PCI ATI video card on canyonlands.

    Signed-off-by: Anatolij Gustschin <agust@denx.de>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 7a88601a34132548c3c591ea87ab3468b51121b0
Author: Richard Retanubun <RichardRetanubun@RuggedCom.com>
Date:	Fri Mar 6 10:09:37 2009 -0500

    CFI: geometry reversal for STMicro M29W320DT

    Follow up to the flash_fixup_stm to fix geometry reversal
    on STMicro M29W320ET flash chip. The M29W320DT has 4 erase region.

    Signed-off-by: Richard Retanubun <RichardRetanubun@RuggedCom.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 069f4364d807d7fdea3de7385ad2f8d83c587aec
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Feb 25 17:29:40 2009 -0500

    smc911x_eeprom: update register API

    The smc911x driver changed the naming convention for its register funcs,
    so update the eeprom code accordingly.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    CC: Ben Warren <biggerbadderben@gmail.com>

commit 6a397ef0e6c58caab8bf427d447714bc9b3bb9d4
Author: Grzegorz Bernacki <gjb@semihalf.com>
Date:	Tue Mar 17 10:06:39 2009 +0100

    mpc52xx: Get rid of board-specific #ifdef's in cpu/mpc5xxx/ide.c

    Total5200 and digsy MTC use I2C port 2 pins as a ATA chip select.
    To avoid adding board-specific ifdefs to cpu/mpc5xxx/ide.c new
    define CONFIG_SYS_ATA_CS_ON_I2C2 was introduced. It is used by
    Total5200 and will be used by digsy MTC and other boards with
    ATA CS on I2C pins.

    Signed-off-by: Grzegorz Bernacki <gjb@semihalf.com>

commit 1b6275dfb173bd2edb8f208dd050d6f47ae39654
Author: Heiko Schocher <hs@denx.de>
Date:	Thu Mar 12 07:37:34 2009 +0100

    8xx: add support for new keymile kmsupx4 board.

    This patch adds support for the kmsupx4 board from Keymile,
    based on a Freescale MPC852T CPU

    - serial console on SMC1
    - 32 MB SDRAM
    - 32 MB NOR Flash
    - Ethernet over SCC3
    - I2C Bitbang

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit d044954fe2a7e7a3dd104eb9c9d2104e38da2911
Author: Heiko Schocher <hs@denx.de>
Date:	Thu Mar 12 07:37:28 2009 +0100

    8xx, mgsuvd: rename board to a more generic name

    renaming the "mgsuvd" board port into "km8xx", because
    there come more similar boards from keymile.
    Compiling the mgsuvd board with "make mgsuvd_config"
    remains.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 18b2f35bde1672e074a3d5048383cb56fda745cb
Author: Heiko Schocher <hs@denx.de>
Date:	Thu Mar 12 07:37:23 2009 +0100

    8xx, mgsuvd: Coding Style cleanup config file

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 364123db6730d32330f818b65360d2cd27396667
Author: Heiko Schocher <hs@denx.de>
Date:	Thu Mar 12 07:37:18 2009 +0100

    powerpc: common updates for keymile boards

    - added to keymile-common.h:
      - bootcount support
      - COMMAND HISTORY
      - CONFIG_AUTO_COMPLETE
      - CONFIG_SYS_FLASH_PROTECTION
      - JFFS2 support
      - CONFIG_VERSION_VARIABLE
    - extracted common I2C settings for all boards
    - common default environment settings summarized

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 506f391888b82d1b83bdd749c3cea9eb2fd64df8
Author: Heiko Schocher <hs@denx.de>
Date:	Thu Mar 12 07:37:15 2009 +0100

    8xx, icache: enabling ICache not before running from RAM

    with the new CONFIG_SYS_DELAYED_ICACHE config option, ICache
    is not enabled before code runs from RAM.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit cabf7b9c83bd780a5805ddbb4c0ce431d5b9f9f3
Author: Heiko Schocher <hs@denx.de>
Date:	Thu Mar 12 07:37:11 2009 +0100

    82xx, mgcoge: fix environment sector size

    Size of one environment sector is 0x20000.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 27057d416c7cc9eb1860953da8836352c07f13e9
Author: Ladislav Michl <ladis@linux-mips.org>
Date:	Mon Mar 16 23:27:31 2009 +0100

    NetStar: config reindentation

    Fix indentation broken by symbol renames. "Sort" driver related definitons.

    Signed-off-by: Ladislav Michl <ladis@linux-mips.org>

commit 8d8235f84d3ef3f29b7d14e741369b5824b5bb4a
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Tue Mar 17 11:21:43 2009 +0000

    ColdFire: Fix incorrect definition

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit 9017d9325a5067b2ab0d70a2d3c907620c9ab7f8
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Mon Mar 2 19:16:45 2009 +0000

    ColdFire: Fix M5329EVB and M5373EVB nand issue

    The Nand flash was unable to read and write properly
    due to Nand Chip Select (nCE) setup was in reverse
    order. Also, increase the Nand time out value to 60.

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit 42b68af1062f75bb4a91cf47e329a7e8100cd815
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Tue Jan 27 15:19:35 2009 +0000

    ColdFire: PLATFORM_CPPFLAGS updates for new compiler

    Update PLATFORM_CPPFLAGS to accept 4.3.x version of
    ColdFire compiler.

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit d6e4baf49987fc6f75e8574c0c27301a828b3132
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Tue Jan 27 12:57:47 2009 +0000

    ColdFire: Provide gzip image size V2 & V3 platforms

    Default gzip bootm size is 8MB. Some platforms require
    more than 8MB

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit c3a9e6374210679a81f611c1bcf968988bc20e41
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Feb 18 11:49:31 2009 +0000

    ColdFire: Fix M54451 serial boot dram setup

    The serial boot dram extended/standard mode register was not
    setup and was using default DRAM setup causing the U-boot was
    unstable to boot up in serial mode.

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit 32d11d58159a575f08a982cad8a5a941ffe5cc3d
Author: arun c <arun.edarath@gmail.com>
Date:	Thu Dec 4 15:57:15 2008 +0530

    Coldfire: XL Bus minor fixes

    According to coldfire manual data timeout > address time out
    also use correct macro to program XARB_CFG

    Signed-off-by: Arun C <arunedarath@mistralsolutions.com>

commit 65d8bc94d8214812ccdf3372d3fef845cf4ec2e5
Author: Scott Wood <scottwood@freescale.com>
Date:	Tue Mar 17 12:06:04 2009 -0500

    NAND: Have nboot accept .e and .i as legacy no-ops.

    This was intended to happen before, but a trivial bug prevented it.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 0987505540918b2464b73069af3a5b766dbd3ceb
Author: Ladislav Michl <ladis@linux-mips.org>
Date:	Fri Mar 13 14:38:19 2009 +0100

    NAND: Make nboot skip bad blocks

    nboot command currently does not skip bad blocks and gives read error when
    loading image stored over bad block. With patch applied, nboot works as
    expected:

    Device 0 bad blocks:
      00780000
      014a0000
      02000000
      02cc0000
      04aa0000

    Loading from NAND 128MiB 3,3V 8-bit, offset 0x2c00000
       Image Name:   Linux-2.6.22-omap1
       Created:      2008-11-20  23:44:32 UTC
       Image Type:   ARM Linux Kernel Image (uncompressed)
       Data Size:    1052520 Bytes =  1 MB
       Load Address: 10008000
       Entry Point:  10008000
    Skipping bad block 0x02cc0000
    Automatic boot of image at addr 0x10400000 ...
    ...

    Signed-off-by: Ladislav Michl <ladis@linux-mips.org>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 0b2f38fe3c4555dd2b81c69880403c13ad723153
Author: Stefan Roese <sr@denx.de>
Date:	Thu Mar 12 07:27:25 2009 +0100

    ppc4xx: lwmon5: Only use one CS (rank) in DDR2 configuration

    This patch fixes a problem spotted by Mikhail Zolotaryov on Sequoia with
    the DDR2 configuration to only use one CS (rank). As this code is most
    likely copied from the original Sequoia version, this error was copied
    as well.

    This patch also removes some dead code.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 9199b9cc8f56aca26504b48cf702176208f46e54
Author: Stefan Roese <sr@denx.de>
Date:	Thu Mar 12 07:24:40 2009 +0100

    ppc4xx: PMC440: Only use one CS (rank) in DDR2 configuration

    This patch fixes a problem spotted by Mikhail Zolotaryov on Sequoia with
    the DDR2 configuration to only use one CS (rank). As this code is most
    likely copied from the original Sequoia version, this error was copied
    as well.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit ee86fd15e1ccda4be41f1dba82b8c9efea9a3145
Author: Mikhail Zolotaryov <lebon@lebon.org.ua>
Date:	Wed Mar 11 10:54:46 2009 +0200

    Fix AMCC Sequoia board DDR memory configuration

    Sequoia board schematics (DES0211_11_SCH_11.pdf, page 5, unit U1D)
    specifies that BankSel#1 is not connected, while bootloader memory
    configuration is (board/amcc/sequoia/sdram.c):
	   mtsdram(DDR0_10, 0x00000300);
    i.e. both Chip Selects used - not correct.

    If we change to correct value here:
	   mtsdram(DDR0_10, 0x00000100);
    memory is accessible OK also.

    Signed-off-by: Mikhail Zolotaryov <lebon@lebon.org.ua>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit b3dd629e78870ba2dc9f8032978721c0fa02a856
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Mar 15 22:40:09 2009 +0100

    Prepare 2009.03-rc2

    Update CHANEGLOG, fix minor coding style issue.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 394d30dd1ee23b80fd5e59e17ebe0feca927ab31
Author: Jerry Van Baren <gvb.uboot@gmail.com>
Date:	Fri Mar 13 11:40:10 2009 -0400

    mpc83xx: Add bank configuration to FSL spd_sdram.c

    The routine assumed 4 bank SDRAMs, enhance to configure for 4 or 8
    bank SDRAMs.

    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>
    Acked-by: Dave Liu <daveliu@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit b581626c1e2474a3dadf69d4f0e0582eccbc4235
Author: Norbert van Bolhuis <nvbolhuis@aimvalley.nl>
Date:	Fri Mar 13 08:58:14 2009 +0100

    mpc83xx: correctly set encryption and I2C bus 0 clock

    This patch makes sure the correct mask is applied when setting
    the encryption and I2C bus 0 clock in SCCR.
    Failing to do so may lead to ENCCM being 0 in which case I2C bus 0
    won't function.

    Signed-off-by: Norbert van Bolhuis <nvbolhuis@aimvalley.nl>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit e6a6a704151c2d7e4a7b485545b48a6020ccca17
Author: Dirk Behme <dirk.behme@googlemail.com>
Date:	Thu Mar 12 19:30:50 2009 +0100

    OMAP3: Add support for OMAP3 die ID

    Read and store OMAP3 die ID in U-Boot environment.

    Signed-off-by: Dirk Behme <dirk.behme@googlemail.com>

commit f949bd8d089ec3059c460ac829c0d919e1d7af0e
Author: Jon Smirl <jonsmirl@gmail.com>
Date:	Wed Mar 11 15:08:56 2009 -0400

    MPC5200 FEC MII speed register

    Set a non-zero speed in the MII register so that MII commands will work.

    Signed-off-by: Jon Smirl <jonsmirl@gmail.com>

commit 94a353611b93ac4cb4434a5f7e98aa0902da919e
Author: Yusuke.Goda <goda.yusuke@renesas.com>
Date:	Fri Mar 13 16:08:18 2009 +0900

    sh: ap325rxa: Change the wait cycle in the area 5

    Signed-off-by: Yusuke Goda <goda.yusuke@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 2db0e1278b9f11263e0a13326b57d4f99781f7ac
Author: Yoshihiro Shimoda <shimoda.yoshihiro@renesas.com>
Date:	Wed Feb 25 16:04:26 2009 +0900

    sh: Fix cannot work rtl8139 on r2dplus

    The rtl8139 driver use pci_mem_to_phys. So it need PCI system memory
    registration.

    Signed-off-by: Yoshihiro Shimoda <shimoda.yoshihiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 64f3c0b8ba99d6651db59273e497ab5e857c8d4f
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Fri Feb 27 18:35:41 2009 +0900

    sh: Add netdev header fixing of warning/build

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit ada9318252f51c2626e9837c623f9812b0308dea
Author: Yoshihiro Shimoda <shimoda.yoshihiro@renesas.com>
Date:	Tue Mar 3 15:11:17 2009 +0900

    sh: Add support 32-Bit Extended Address Mode to sh7785lcr

    We can built 'make sh7785lcr_32bit_config'. And add new command "pmb"
    for this mode. This command changes PMB for using 512MB system memory.

    Signed-off-by: Yoshihiro Shimoda <shimoda.yoshihiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 06b18163b57e6b0349b0c299222d50e7b1e41e50
Author: Yoshihiro Shimoda <shimoda.yoshihiro@renesas.com>
Date:	Wed Feb 25 14:26:42 2009 +0900

    sh: Add some register value configurable to PCI of SH7780

    Some register value was hardcoded for System memory size 128MB and
    memory offset 0x08000000. This patch fixed the problem.

    Signed-off-by: Yoshihiro Shimoda <shimoda.yoshihiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 06e2735eb85cbea7cecb3c308d6d078b3651b22c
Author: Yoshihiro Shimoda <shimoda.yoshihiro@renesas.com>
Date:	Wed Feb 25 14:26:52 2009 +0900

    sh: Add system memory registration to PCI for SH4

    It is necessary for some pci device driver.

    Signed-off-by: Yoshihiro Shimoda <shimoda.yoshihiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit b3061b40db691245a7bb9a55354b4edacbf3902d
Author: Yoshihiro Shimoda <shimoda.yoshihiro@renesas.com>
Date:	Wed Feb 25 14:26:55 2009 +0900

    sh: Add value for PCI system memory registration of sh7785lcr

    Signed-off-by: Yoshihiro Shimoda <shimoda.yoshihiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 6d84ae3956a6cd7aebd86f661130752594e60124
Author: Yoshihiro Shimoda <shimoda.yoshihiro@renesas.com>
Date:	Tue Mar 3 15:11:08 2009 +0900

    sh: Add macros for SH-4A 32-Bit Address Extended Mode

    Signed-off-by: Yoshihiro Shimoda <shimoda.yoshihiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 3e3eec39de8fe0ae62e6e4d4e3fa4442ee9ed6b1
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Tue Feb 3 13:35:05 2009 +0900

    sh: use write{8,16,32} in ms7720se lowlevel_init

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 0452352df118bc9dd684a056aaaa5fb4aed1178a
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Mon Mar 9 18:07:53 2009 -0500

    tsec: report when there is no vendor specific PHY support

    Commit af1c2b84 added a generic phy support, with an ID of zero
    and a 32 bit mask; meaning that it will match on any PHY ID.

    The problem is that there is a test that checked if a matching
    PHY was found, and if not, it printed the non-matching ID.
    But since there will always be a match (on the generic PHY,
    worst case), this test will never trip.

    In the case of a misconfigured PHY address, or of a PHY that
    isn't explicitly supported outside of the generic support,
    you will never see the ID of 0xffffffff, or the ID of the
    real (but unsupported) chip.  It will silently fall through
    onto the generic support.

    This change makes that test useful again, and ensures that
    the selection of generic PHY support doesn't happen without
    some sort of notice.  It also makes it explicitly clear that
    the generic PHY must be last in the PHY table.

    Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit c279dfc10186ceba78d3862036f158750e86599a
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Mar 9 10:53:05 2009 +0100

    SIMPC8313 board: fix out of tree building.

    Fix typo in makefile which broke out of tree builds.

    Also use expolicit "rm" instead of "ln -sf" which is known to be
    unreliable.

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 49b5aff491bd574935ecaf8545152066a25eff3d
Author: ksi@koi8.net <ksi@koi8.net>
Date:	Mon Feb 23 10:53:13 2009 -0800

    Add eTSEC 1/2 IO override control (corrected)

    This adds tsec12ioovcr to include/asm-ppc/immap_85xx.h (was reserved.)

    Signed-off-by: Sergey Kubushyn <ksi@koi8.net>

commit 48c2b7bb432da84fcce05b4db6efad0be73a93dc
Author: Andy Fleming <afleming@freescale.com>
Date:	Fri Mar 6 19:05:52 2009 -0600

    fsl: Remove unnecessary debug printfs

    These were left in accidentally, and are not really useful unless the
    code is as broken as it was when it was being developed.

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 0ee84b88b78bce425190d8cd7adf4c30cba0c2f0
Author: Ed Swarthout <Ed.Swarthout@freescale.com>
Date:	Tue Feb 24 02:37:59 2009 -0600

    Fix mpc85xx ddr-gen3 ddr_sdram_cfg.

    Commit e1be0d25, "32bit BUg fix for DDR2 on 8572" prevented other
    sdram_cfg bits (such as ecc and self_refresh_in_sleep) from being set.

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>

commit a922fdb87af25c25c032424908dcf60fbf3250ea
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Tue Feb 24 06:13:10 2009 +0100

    PXA: timer use do_div and simplify it

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 4b00d1aa82b6af9b4e628a5729a12086e44558b3
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Mar 9 10:51:39 2009 +0100

    SIMPC8313 board: fix out of tree building.

    Fix typo in makefile which broke out of tree builds.

    Also use expolicit "rm" instead of "ln -sf" which is known to be
    unreliable.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit f70fd13e2fe4cf58e251271c27f9c06e141d7f9a
Author: Heiko Schocher <hs@denx.de>
Date:	Tue Feb 24 11:30:51 2009 +0100

    8360, kmeter1: added bootcount feature.

    add CONFIG_BOOTCOUNT_LIMIT feature for 8360 CPU.

    The bootcounter uses 8 bytes from the muram,
    because no other memory was found on this
    CPU for the bootcount feature. So we must
    correct the muram size in DTS before booting
    Linux.

    This feature is actual only implemented for
    MPC8360, because not all 83xx CPU have qe,
    and therefore no muram, which this feature
    uses.

    Signed-off-by: Heiko Schocher <hs@denx.de>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 1e7ed2565031e01abc18c713030a0a9829c07684
Author: Heiko Schocher <hs@denx.de>
Date:	Tue Feb 24 11:30:48 2009 +0100

    83xx, kmeter: QE_ENET10 errata for Silicon Revision 2.1

    old code implemented the QE_ENET10 errata only for Silicon
    Revision 2.0. New code reads now the Silicon Revision
    register and sets dependend on the Silicon Revision the
    values as advised in the QE_ENET10 errata.

    Signed-off-by: Heiko Schocher <hs@denx.de>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 605f78e34a3f0103693b891f2573edd352e7d495
Author: Heiko Schocher <hs@denx.de>
Date:	Tue Feb 24 11:30:44 2009 +0100

    83xx, kmeter1: updates for 2009.03

    - HRCW update
      HRCWH_BOOTSEQ_DISABLE not HRCWH_BOOTSEQ_NORMAL
      HRCWH_LALE_EARLY added
    - DDR-SDRAM settings modified. This solves sporadically
      problems with this memory.
    - CS1 now 128 MB window size
    - CS3 now 512 MB window size
    - PRAM activated
    - MTDPARTS_DEFAULT defined
    - CONFIG_HOSTNAME added
    - MONITOR_LEN now 384 KB

    Signed-off-by: Heiko Schocher <hs@denx.de>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 118cbe3c35c898f8d020b29d6dc180307cacf147
Author: Heiko Schocher <hs@denx.de>
Date:	Tue Feb 24 11:30:40 2009 +0100

    83xx, kmeter1: autodetect size of DDR II RAM

    it is possible that some board variants have different DDR II
    RAM sizes. So we autodetect the size of the assembled RAM.

    Signed-off-by: Heiko Schocher <hs@denx.de>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit c1bce4fff750d734b1fa7467eb08f93902c97ca6
Author: Heiko Schocher <hs@denx.de>
Date:	Tue Feb 24 11:30:37 2009 +0100

    83xx, i2c: add mux support for fsl_i2c

    This patch adds I2C mux support for the fsl_i2c driver. This
    allows you to add "new" i2c busses, which are reached over
    i2c muxes. For more infos, please look in the README and
    search for CONFIG_I2C_MUX.

    Signed-off-by: Heiko Schocher <hs@denx.de>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 19f0e93041dbfe22f8d39b98e4f7f9ea87b77803
Author: Heiko Schocher <hs@denx.de>
Date:	Tue Feb 24 11:30:34 2009 +0100

    83xx, kmeter1: add I2C, dtt, eeprom support

    This patch adds I2C support for the Keymile kmeter1 board.
    It uses the First I2C Controller from the CPU, for
    accessing 4 temperature sensors, an eeprom with IVM data
    and the booteeprom over a pca9547 mux.

    Signed-off-by: Heiko Schocher <hs@denx.de>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit db1d72afd77287bc8577210f3f71ab249dcf146f
Author: Heiko Schocher <hs@denx.de>
Date:	Tue Feb 24 11:30:30 2009 +0100

    i2c, dtt: move dtt_init () to board_init_r ()

    In case where a board not uses CONFIG_POST, it is not
    necessary to init the DTTs when running from flash.

    Signed-off-by: Heiko Schocher <hs@denx.de>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 5b0055547f0246908b79cc300170d87380b69e18
Author: Dave Liu <daveliu@freescale.com>
Date:	Wed Feb 25 12:31:32 2009 +0800

    83xx: Fix some bugs in spd sdram code

    1. RD_TO_PRE missed to add the AL, and need min 2 clocks for
      tRTP according to DDR2 JEDEC spec.
    2. WRTORD - tWTR need min 2 clocks according to DDR2 JEDEC spec.
    3. add the support of DDR2-533,667,800 DIMMs
    4. cpo
    5. make the AL to min to gain better performance.

    The Micron MT9HTF6472CHY-667D1 DIMMs test passed on
    MPC837xEMDS platform at 266MHz/333MHz/400MHz data rate.

    items 1, 2 and 5:
    Acked-by: Joakim Tjernlund <Joakim.Tjernlund@transmode.se>

    Reported-by: Joakim Tjernlund <Joakim.Tjernlund@transmode.se>
    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit b7be63abec45858c044f0fbd6aeef524c4663f9b
Author: Valeriy Glushkov <gvv@lstec.com>
Date:	Wed Feb 4 18:27:49 2009 +0200

    MPC8349ITX: several config issues fixed

    The previous version rebooted forever with DDR bigger than 256MB.
    Access the DS1339 RTC chip is on I2C1 bus.
    Allow DHCP.

    Signed-off-by: Valeriy Glushkov <gvv@lstec.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 7e2ec1de1d2d723b59d7dd2fb85ff71b952d63af
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Thu Feb 19 18:20:39 2009 +0300

    mpc83xx: MPC837XEMDS: Initialize SerDes before negating PCIE reset signal

    The SerDes initialization should be finished before negating the reset
    signal according to the reference manual. This isn't an issue on real
    hardware, but we'd better stick to the specifications anyway.

    Suggested-by: Liu Dave <DaveLiu@freescale.com>
    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 9c2d63ec0e9520948b6d598ea32e9aa4e0de847f
Author: Heiko Schocher <hs@denx.de>
Date:	Wed Feb 25 12:28:32 2009 +0100

    i2c, dtt: move dtt_init () to board_init_r ()

    it is not necessary to init the DTTs so early,
    so move this init to board_init_r ().

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 00cc5595a7caac8066b408774383a956c2e26797
Author: Anatolij Gustschin <agust@denx.de>
Date:	Wed Feb 25 20:28:13 2009 +0100

    lcd: Fix compilation warning in common/lcd.c

    Fix following warning while compilation for mcc200 board:

    lcd.c: In function 'lcd_display_bitmap':
    lcd.c:625: warning: unused variable 'cmap'

    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit f5a77a09c93fe7f04c0c56f64ea436f7d318d674
Author: Graeme Russ <graeme.russ@gmail.com>
Date:	Tue Feb 24 21:11:24 2009 +1100

    Moved SC520 Files (fix commit 407976185e0dda2c90e89027121a1071b9c77bfb)

    Fixes commit 407976185e0dda2c90e89027121a1071b9c77bfb

    Signed-off-by: Graeme Russ <graeme.russ at gmail.com>

commit 75ba6d693b8f6247aa4b81323a2ee2fa28222215
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Feb 23 10:29:47 2009 -0500

    smc911x: split out useful defines/functions into local header

    The smc911x driver has a lot of useful defines/functions which can be used
    by pieces of code (such as example eeprom programmers).  Rather than
    forcing each place to duplicate these defines/functions, split them out
    of the smdc911x driver into a local header.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Acked-by: Ben Warren <biggerbadderben@gmail.com>
    CC: Sascha Hauer <s.hauer@pengutronix.de>
    CC: Guennadi Liakhovetski <lg@denx.de>
    CC: Magnus Lilja <lilja.magnus@gmail.com>
    CC: Ben Warren <biggerbadderben@gmail.com>

commit a2bb7105a79af8f2ffa9f87256fce6c1cbcbd8e1
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Tue Feb 24 10:44:02 2009 +0100

    ARM: add an "eet" variant of the imx31_phycore board

    The "eet" variant of the imx31_phycore board has an OLED display, using a
    s6e63d6 display controller on the first SPI interface, using GPIO57 as a
    chip-select for it. With this configuration you can display 256 colour BMP
    images in 16-bit RGB (RGB565) LCD mode.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>
    Acked-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 0c99f6ab31c5635874ba7a2e8d37791bfbf02f8f
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Fri Feb 6 10:37:57 2009 +0100

    video: add an i.MX31 framebuffer driver

    Add a driver for the Synchronous Display Controller and the Display
    Interface on i.MX31, using IPU for DMA channel setup. So far only
    displaying of bitmaps is supported, no text output.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>
    Acked-by: Anatolij Gustschin <agust@denx.de>

commit b245e65ee3c4cce3ccf008a21f4528239655876c
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Fri Feb 6 10:37:53 2009 +0100

    LCD: support 8bpp BMPs on 16bpp displays

    This patch also simplifies some ifdefs in lcd.c, introduces a generic
    vidinfo_t, which new drivers are encouraged to use and old drivers to switch
    over to.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>
    Acked-by: Anatolij Gustschin <agust@denx.de>

commit a303dfb0e9a93e516ea9427b5c09543d5f74ade1
Author: Mark Jackson <mpfj@mimc.co.uk>
Date:	Fri Feb 6 10:37:49 2009 +0100

    Add 16bpp BMP support

    This patch adds 16bpp BMP support to the common lcd code.

    Use CONFIG_BMP_16BPP and set LCD_BPP to LCD_COLOR16 to enable the code.

    At the moment it's only been tested on the MIMC200 AVR32 board, but extending
    this to other platforms should be a simple task !!

    Signed-off-by: Mark Jackson <mpfj@mimc.co.uk>
    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>
    Acked-by: Anatolij Gustschin <agust@denx.de>

commit 689551c5ff1b394b88412f3df22144e79468d3a9
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Fri Feb 6 10:37:41 2009 +0100

    A driver for the S6E63D6 SPI display controller from Samsung

    This is a driver for the S6E63D6 SPI OLED display controller from Samsung.
    It only provides access to controller's registers so the client can freely
    configure it.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>
    Acked-by: Anatolij Gustschin <agust@denx.de>

commit fc7a93c84f3f134484811a0d9ad751fbc1a7da6d
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Fri Feb 13 09:26:40 2009 +0100

    i.MX31: support GPIO as a chip-select in the mxc_spi driver

    Some SPI devices have special requirements on chip-select handling.
    With this patch we can use a GPIO as a chip-select and strictly follow
    the SPI_XFER_BEGIN and SPI_XFER_END flags.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>
    Acked-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit b30de3cccf8867566cd314e7c7033904afa5dc9d
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Sat Feb 7 01:18:07 2009 +0100

    i.MX31: add a simple gpio driver

    This is a minimal driver, so far only managing output. It will
    be used by the mxc_spi.c driver.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>
    Acked-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit f9b6a1575d9f1ca192e4cb60e547aa66f08baa3f
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Sat Feb 7 00:09:12 2009 +0100

    i.MX31: fix SPI driver for shorter than 32 bit

    Fix setting the SPI Control register, 8 and 16-bit transfers
    and a wrong pointer in the free routine in the mxc_spi driver.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>
    Acked-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 7e91558032a0c1932dd7f4f562f9c7cc55efc496
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Thu Feb 19 18:20:52 2009 +0300

    mpc83xx: MPC837XERDB: Add PCIe support

    On MPC8377E-RDB and MPC8378E-RDB boards we have PCIe and mini-PCIe
    slots. Let's support them.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 50a4d08e8f31debbd4ea12caf1265f3643c38d5b
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Thu Feb 19 18:20:50 2009 +0300

    mpc83xx: PCI: Fix hard-coded first_busno value

    We should use pci_last_busno() in pci_init_bus(), otherwise we'll
    erroneously re-use PCI0's first_busno for PCI1 hoses.

    NOTE: The patch is untested. All MPC83xx FSL boards I have have
    PCI1 in miniPCI form, for which I don't have any cards handy.

    But looking in cpu/mpc85xx/pci.c:
    ...
    #ifdef CONFIG_MPC85XX_PCI2
	    hose = &pci_hose[1];

	    hose->first_busno = pci_hose[0].last_busno + 1;

    And considering that we do the same for MPC83xx PCI-E support,
    I think this patch is correct.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit a5878d427128c1a9226045ebe05fbadaa02eb9dd
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Thu Feb 19 18:20:46 2009 +0300

    mpc83xx: PCI: Fix bus-range fdt fixups for PCI1 controllers

    This patch fixes copy-paste issue: pci_hose[0]'s first and last
    busnos were used to fixup pci1's nodes.

    We don't see this bug triggering only because Linux reenumerate
    buses anyway.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit b24a99f6666ac278ec9f9c1334518af828833d19
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Thu Feb 19 18:20:44 2009 +0300

    mpc83xx: PCIe: Fix CONFIG_PCI_SCAN_SHOW reporting bogus values

    This patch fixes an issue in config space read accessors: we should
    fill-in the value even if we fail (e.g. skipping devices), otherwise
    CONFIG_PCI_SCAN_SHOW reports bogus values during boot up.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit e2d72ba543c7b6924b5b5d393dcd80b2b9c3a022
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Thu Feb 19 18:20:42 2009 +0300

    mpc83xx: PCIe: Don't start bus enumeration at 0

    Currently we assign first_busno = 0 for the first PCIe hose, but this
    scheme won't work if we have ordinary PCI hose already registered (its
    first_busno value is 0 too).

    The old code worked fine only because we have PCI disabled on
    MPC837XEMDS boards in stand-alone mode (see commit 00f7bbae92e3b13f2b3
    "mpc83xx: fix PCI scan hang on the standalone MPC837xE-MDS boards").
    But on MPC837XERDB boards we have PCI and PCIe, so the bug actually
    triggers.

    So, to fix the issue, we should use pci_last_busno() + 1 for the
    first_busno (i.e. last available busno).

    Reported-by: Huang Changming <Chang-Ming.Huang@freescale.com>
    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit cc2a8c7751ddbae3116660064f446888538b93e9
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Thu Feb 19 18:20:41 2009 +0300

    PCI: Add pci_last_busno() helper

    This is just a handy routine that reports last PCI busno: we walk
    down all the hoses and return last hose's last_busno.

    Will be used by PCI/PCIe initialization code.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit bd76729bcbfd64b5d016a9b936f058931fc06eaf
Author: Becky Bruce <beckyb@kernel.crashing.org>
Date:	Mon Feb 23 13:56:51 2009 -0600

    MPC86xx: set CONFIG_MAX_MEM_MAPPED to 2G by default

    Currently, we get 256MB as the default, but since all the 86xx
    board configs define a 2G BAT mapping for RAM, raise default
    to 2G.

    Signed-off-by: Becky Bruce <beckyb@kernel.crashing.org>
    Acked-by: Jon Loeliger <jdl@freescale.com>

commit 2331e18b9df0ab98ebf3ab44c0efea1311949aaa
Author: Becky Bruce <beckyb@kernel.crashing.org>
Date:	Thu Feb 12 10:43:32 2009 -0600

    mpc8641hpcn: Indicate 36-bit addr map in boot messages

    If 36-bit addressing is enabled, print a message on the console
    when we boot.

    Signed-off-by: Becky Bruce <beckyb@kernel.crashing.org>

commit 58a518c3d8a2c7de11d414e8b903495daee7dc7e
Author: Mark Jackson <mpfj-list@mimc.co.uk>
Date:	Fri Feb 13 15:48:18 2009 +0000

    Setup extra MIMC200 chip selects

    Added code to setup the extra Flash and FRAM chip selects as used on the
    MIMC200 board.

    V2 moves the init code from the common "cpu.c" file into the board specific
    setup file.

    Signed-off-by: Mark Jackson <mpfj@mimc.co.uk>
    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit 80534886a72a0088eef9e781a8e0b7d04ea41f36
Author: Mark Jackson <mpfj@mimc.co.uk>
Date:	Mon Nov 24 12:10:56 2008 +0000

    MIMC200: tidy GCLK init code

    Change the MIMC200 startup code to use the built-in (rather than
    hard-coded) funtions for setting up gclk outputs.

    We'll also move the code to the new, more-appropriate
    board_postclk_init() routine.

    Signed-off-by: Mark Jackson <mpfj@mimc.co.uk>
    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit b423f94063bf04e92047ff85c7e53441eb3b712b
Author: Olav Morken <olavmrk@gmail.com>
Date:	Fri Jan 23 12:56:32 2009 +0100

    AVR32: Must add NOPs after disabling interrupts for AT32UC3A0512ES

    The AT32UC3A0512ES chip has a bug when disabling interrupts. As a
    workaround, two NOPs can be inserted.

    Signed-off-by: Gunnar Rangoy <gunnar@rangoy.com>
    Signed-off-by: Paul Driveklepp <pauldriveklepp@gmail.com>
    Signed-off-by: Olav Morken <olavmrk@gmail.com>
    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit f5f652fa91aa69db8117d211af1b4fe09f2edd3b
Author: Gunnar Rangoy <gunnar@rangoy.com>
Date:	Fri Jan 23 12:56:29 2009 +0100

    AVR32: Make GPIO implmentation cpu dependent

    There are some differences in the implementation of GPIO in the
    at32uc chip compared to the ap700x series.

    Signed-off-by: Gunnar Rangoy <gunnar@rangoy.com>
    Signed-off-by: Paul Driveklepp <pauldriveklepp@gmail.com>
    Signed-off-by: Olav Morken <olavmrk@gmail.com>
    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit a38de083d2979db3680f0d0978c509a172c8fa00
Author: Olav Morken <olavmrk@gmail.com>
Date:	Fri Jan 23 12:56:28 2009 +0100

    AVR32: Move addrspace.h to arch-directory, and move some functions from io.h to addrspace.h

    The AVR32A architecture (which AT32UC3A-series is based on) has a
    different memory layout than the AVR32B-architecture. This patch moves
    addrspace.h to an arch-dependent directory in preparation for
    AT32UC3A-support. It also moves some address-space manipulation
    functions from io.h to addrspace.h.

    Signed-off-by: Gunnar Rangoy <gunnar@rangoy.com>
    Signed-off-by: Paul Driveklepp <pauldriveklepp@gmail.com>
    Signed-off-by: Olav Morken <olavmrk@gmail.com>
    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit d8f2aa3298610b44127dbc4796d8038aa5847e0b
Author: Olav Morken <olavmrk@gmail.com>
Date:	Fri Jan 23 12:56:27 2009 +0100

    AVR32: Make cacheflush cpu-dependent

    The AT32UC3A series of processors doesn't contain any cache, and issuing
    cache control instructions on those will cause an exception. This commit
    makes cacheflush.h arch-dependent in preparation for the AT32UC3A-support.

    Signed-off-by: Gunnar Rangoy <gunnar@rangoy.com>
    Signed-off-by: Paul Driveklepp <pauldriveklepp@gmail.com>
    Signed-off-by: Olav Morken <olavmrk@gmail.com>
    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit 2f70c49e5b9813635ad73666aa30f304c7fdeda9
Author: Heiko Schocher <hs@denx.de>
Date:	Tue Feb 10 09:38:52 2009 +0100

    netloop: speed up NetLoop

    NetLoop polls every cycle with getenv some environment variables.
    This is horribly slow, especially when the environment is big.

    This patch reads only the environment variables in NetLoop,
    when they were changed.

    Also moved the init part of the NetLoop function in a seperate
    function.

    Signed-off-by: Heiko Schocher <hs@denx.de>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit ad2d16393e9f684e4a9255f42e8bfdd819b67a87
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Dec 22 02:56:07 2008 -0500

    smc911x_eeprom: new example app for managing newer SMC parts

    A forward port of the last version to work with the newer smc911x driver.
    I only have a board with a LAN9218 part on it, so that is the only one
    I've tested.  But there isn't anything in this that would make it terribly
    chip specific afaik.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    CC: Sascha Hauer <s.hauer@pengutronix.de>
    CC: Guennadi Liakhovetski <lg@denx.de>
    CC: Magnus Lilja <lilja.magnus@gmail.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 736323a490b664ec0edc3ddb2c1c4a6824db45c6
Author: Pieter Henning <phenning@vastech.co.za>
Date:	Sun Feb 22 23:17:15 2009 -0800

    Added Vitesse VSC8211 definitions to TSEC driver

    Added the struct containing PHY settings for the Vitesse VSC8211 phy to
    the phy_info list in tsec.c

    Signed-off-by: Pieter Henning <phenning@vastech.co.za>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 32688e572ff96715b41420e9a7f280db6c399b65
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Feb 23 00:22:21 2009 +0100

    Update CHANGELOG;  Prepare 2009.03-rc1

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 80b827c2b78329c6503b271e43d9eb693d644710
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Feb 22 23:45:40 2009 +0100

    ARM: synchronize mach-types.h with linux v2.6.29-rc5-315-g683fdc5

    The file was generated from building versatile_defconfig.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 14209ac13ff631e36c9a9dd426c59c2e2f5dab00
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Sun Feb 22 14:24:11 2009 +0900

    MIPS: Fix GCC-4.2 'discards qualifiers from pointer target type' warnings

    Compiling dbau1x00 and gth2 boards with GCC-4.2, you would see new warnings
    like this:

    skuribay@ubuntu:u-boot.git$ ./MAKEALL dbau1000
    Configuring for dbau1x00 board...
    au1x00_eth.c: In function 'au1x00_send':
    au1x00_eth.c:158: warning: passing argument 1 of 'virt_to_phys' discards qualifiers from pointer target type
    au1x00_eth.c: In function 'au1x00_recv':
    au1x00_eth.c:211: warning: passing argument 1 of 'virt_to_phys' discards qualifiers from pointer target type
    au1x00_eth.c: In function 'au1x00_init':
    au1x00_eth.c:252: warning: passing argument 1 of 'virt_to_phys' discards qualifiers from pointer target type
    au1x00_eth.c: In function 'au1x00_recv':
    au1x00_eth.c:211: warning: passing argument 1 of 'virt_to_phys' discards qualifiers from pointer target type
    au1x00_eth.c: In function 'au1x00_init':
    au1x00_eth.c:252: warning: passing argument 1 of 'virt_to_phys' discards qualifiers from pointer target type
    au1x00_eth.c: In function 'au1x00_send':
    au1x00_eth.c:158: warning: passing argument 1 of 'virt_to_phys' discards qualifiers from pointer target type

    We're passing a volatile pointer to a function which is expecting a non-
    volatile pointer.  That's potentially dangerous, so gcc warns about it.
    Confirmed with ELDK 4.2 (GCC 4.2.2) and Sourcey G++ 4.2 (GCC 4.2.3).

    To fix this, we add a volatile attribute to the argument in question.
    The virt_to_phys function in Linux kernel also does the same thing.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit aba45c85b22f8c57fc2fedba8e948e06c2e2f5b3
Author: Dirk Behme <dirk.behme@googlemail.com>
Date:	Fri Feb 20 17:51:28 2009 +0100

    OMAP3: Clean up MMC code

    Clean up OMAP3 MMC code:

    * Convert register access to struct & readx/writex style
    * Replace hardcode values by macros
    * Remove macro defined twice

    Signed-off-by: Dirk Behme <dirk.behme@googlemail.com>

commit cfcdf4a9b361d015c0debac73fbf7c511df4a934
Author: Dirk Behme <dirk.behme@googlemail.com>
Date:	Thu Feb 12 18:55:43 2009 +0100

    OMAP3: Pandora: Update pin mux

    Clock pin must have input enabled for MMC3 to work.
    Also enable pull-ups for cmd/data lines to be consistent
    with remaining MMC host pin setup.

    Signed-off-by: Grazvydas Ignotas <notasas@gmail.com>

commit 6530a8bf8a0274b9419141e4c2c5a235cce5380f
Author: Dirk Behme <dirk.behme@googlemail.com>
Date:	Thu Feb 12 18:55:42 2009 +0100

    OMAP3: Add OMAP3 auto detection

    This patch adds OMAP3 cpu type auto detection based on OMAP3 register
    and removes hardcoded values.

    Signed-off-by: Steve Sakoman <sakoman@gmail.com>
    Signed-off-by: Dirk Behme <dirk.behme@googlemail.com>

commit f956fd0338f4990793a10f767929ba4963665261
Author: Dirk Behme <dirk.behme@googlemail.com>
Date:	Thu Feb 12 18:55:41 2009 +0100

    OMAP3: Beagle: Add board revision detection

    With BeagleBoard revision C some HW changes are introduced (e.g. PinMUX)
    which might need different software handling. For this, GPIO pin 171 (GPIO
    module 6, offset 11) can be used to check for board revision. If this pin
    is low, we have a rev C board. Else it must be a revision Ax or Bx board.

    To handle board differences you can call function beagle_get_revision().
    E.g.:

    if (beagle_get_revision()) {

    /* do special revision C stuff here */

    }

    Signed-off-by: Dirk Behme <dirk.behme@googlemail.com>

commit 288f3cd912918b97919d13b6f7fb13fbddf74d68
Author: Dirk Behme <dirk.behme@googlemail.com>
Date:	Thu Feb 12 18:55:40 2009 +0100

    OMAP3: Overo: Clean up pin mux and GPIO configuration

    * Make Overo GPIO114 an input for touchscreen PENDOWN
    * Make Overo GPIO144-147 readable
    * Make Overo EHCI pinmux match beagle rev c setup
    * Adjust pinmux for SMSC911X network chip support
    * Remove unnecessary GPIO setup
    * Fix merge error in Makefile

    Signed-off-by: Steve Sakoman <sakoman@gmail.com>
    Signed-off-by: Dirk Behme <dirk.behme@googlemail.com>

commit 2579019b8248e5f166e60e37065766efc8a49dbc
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Feb 22 17:08:41 2009 +0100

    nmdk8815: fix onenand support

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 0176c03a2469676df5bf19cf93a1a6f582f6a120
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Feb 22 17:56:50 2009 +0100

    nomadik/nand: fix 'ecc512' discards qualifiers from pointer target type

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 9751a456f702ba2fcdfd1bdbc0138927ef007858
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Feb 22 17:49:43 2009 +0100

    davinci: fix implicit declaration of function 'davinci_errata_workarounds'

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 4f5728987f4f9f7845688482aa2b7f2127768165
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Feb 22 15:49:28 2009 +0100

    arm: add uart dcc support

    Serial driver via the EmbeddedICE macrocell's DCC channel using
    co-processor 14.

    It does include a timeout to ensure that the system does not
    totally freeze when there is nothing connected to read.

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 0cd18fa982f9a8c1a90ce971379a7d6408976d48
Author: Hugo Villeneuve <hugo.villeneuve@lyrtech.com>
Date:	Fri Nov 21 14:35:56 2008 -0500

    ARM DaVinci: Add common peripherals and modules enable functions.

    Taken all the duplicated code for enabling common modules and apply
    software workarounds from the board specific code into common
    functions. Also added comments explaining the workarounds
    (from TI errata documents) and replaced some numerical bit numbers
    with more meaningful defines.

    Signed-off-by: Hugo Villeneuve <hugo.villeneuve@lyrtech.com>

commit d3be1bcae7a8207e0a79ffd035d0e90f80378295
Author: Alessandro Rubini <rubini@unipv.it>
Date:	Mon Feb 9 15:53:33 2009 +0100

    Enable Ethernet for Nomadik 8815 Evaluation Kit

    This trivially enables Ethernet support in the debug board
    by setting up the proper chip select.

    Signed-off-by: Alessandro Rubini <rubini@unipv.it>
    Acked-by: Andrea Gallo <andrea.gallo@stnwireless.com>

commit 0d8c6eab2481046e9446264bfe9402bb98ddf433
Author: Alessandro Rubini <rubini@unipv.it>
Date:	Mon Feb 9 15:53:31 2009 +0100

    Nand driver for Nomadik SoC

    This driver implements the ECC algorithm described in
    the CPU data sheet and uses the OOB layout chosen in
    already-released development systems (shipped with a custom-made
    u-boot 1.3.1).

    Signed-off-by: Alessandro Rubini <rubini@unipv.it>
    Acked-by: Andrea Gallo <andrea.gallo@stnwireless.com>

commit ef339cc2b68e4cbef3f9376a45315e1b974bbd8d
Author: Alessandro Rubini <rubini@unipv.it>
Date:	Mon Feb 9 15:53:31 2009 +0100

    Added nomadik.h header

    Signed-off-by: Alessandro Rubini <rubini@unipv.it>
    Acked-by: Andrea Gallo <andrea.gallo@stnwireless.com>

commit 60ece6d8043d1dd80f5dd32c541213716d624b19
Author: Yoshihiro Shimoda <shimoda.yoshihiro@renesas.com>
Date:	Wed Oct 29 20:05:18 2008 +0900

    r8a66597-hcd: fix cannot use external hub

    Fix the problem that cannot use external hub, because this driver
    did not control correctly a DEVADDx register.

    Signed-off-by: Yoshihiro Shimoda <shimoda.yoshihiro@renesas.com>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit e1ffaee728190e76a4596a3579d94e730143585f
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Feb 19 01:20:27 2009 -0500

    Blackfin: disable syscontrol code for now

    Looks like the initcode updates fell out of order during my merges.  The
    patch that really fixes up this code is part of power-on overhaul and so
    is too large for merging at this point.  Instead, we can disable the code
    as no currently in-tree board depends on it.  The next merge window will
    fix things up properly.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 1b228d68f54832edd867ef98520f760f68192ab7
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Feb 19 01:19:49 2009 -0500

    Blackfin: bf537-stamp: fix I2C board defines

    The previous merge for cleaning up the I2C driver incorrectly reverted the
    CFG_xxx rename for some of the I2C defines.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 09fee8e8677a6265e89144ccc163bf00e321769e
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Feb 22 01:19:52 2009 +0100

    Coding Style cleanup; update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 1dcb50afbb63a439320a985380a0af2dca079d1e
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Feb 22 01:17:47 2009 +0100

    Makefile: fix cleanup

    Commit e4943ec5 moved the ARM boards to a vendor directory but forgot
    to adapt the cleanup rules in the Makefile

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit edff7bcc4d5540df8b416274652ff02e94c38b9e
Author: Richard Retanubun <RichardRetanubun@RuggedCom.com>
Date:	Fri Feb 20 13:01:56 2009 -0500

    Cleanup the comment for m68k linux boot argument passing.

    This patch clarifies the way m68k passes linux boot argument.
    The one gotcha here is that the assembly instruction that
    the compiler uses to jump to the kernel is 'jsr' which pushes the
    program counter for the instruction after the jsr into the stack pointer.

    Signed-off-by: Richard Retanubun <RichardRetanubun@RuggedCom.com>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 4d41650eec959668280a612467bd95c7b8398513
Author: Peter Griffin <pgriffin@mpc-data.co.uk>
Date:	Tue Feb 10 16:44:45 2009 +0000

    sh: Fix rsk7203 in tree build

    Signed-off-by: Peter Griffin <pgriffin@mpc-data.co.uk>

commit fca0cecff73db99d99ad094cca7980472b8a11b5
Author: Minkyu Kang <mk7.kang@samsung.com>
Date:	Wed Feb 18 09:05:52 2009 +0900

    bootm: Reduce the unnecessary memmove

    Although load address and image start address are same address,
    bootm command always does memmove.
    That is unnecessary memmove and can be taken few milliseconds
    (about 500 msec to 1000 msec).
    If skip this memmove, we can reduce the boot time.

    Signed-off-by: Minkyu Kang <mk7.kang@samsung.com>

commit 670cbde8da83690fed1064c3358f54ae1d693ed2
Author: Matthias Fuchs <matthias.fuchs@esd.eu>
Date:	Sun Feb 15 22:29:15 2009 +0100

    fpga: Fix Spartan III FPGA booting

    This patch does some minor fixing of the Xilinx Spartan III
    FPGA boot code:

    - Fixed call order of post configuration callback and
      success message printing (result of copy-paste?)
    - remove obsolete comment
    - minor coding style cleanup

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit 3818b677641038d27b2663fbd6771ad38c932f86
Author: Matthias Fuchs <matthias.fuchs@esd.eu>
Date:	Sun Feb 15 22:28:36 2009 +0100

    fpga: Fix Spartan II FPGA booting

    This patch does some minor fixing of the Xilinx Spartan II
    FPGA boot code:

    - Fixed call order of post configuration callback and
      success message printing (result of copy-paste?)
    - relocate post configuration callback only when it
      is implemented
    - remove obsolete comment
    - minor coding style cleanup

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit b4746d8bf9f4ed6dc8a76c5d52db669604aff84b
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Feb 11 20:26:52 2009 -0500

    drivers/serial/ns16550: move ifdef into Makefile COBJS-$(...)

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 6bcb4b806cef8a5dd08fac9a4a672b96d9ee804e
Author: Derek Ou <dou@siconix.com>
Date:	Tue Feb 3 16:00:07 2009 -0700

    lcd_putc bug fix for tab.

    Signed-off-by: Derek Ou <dou@siconix.com>

commit 35c9e14d8096e519fe76c953a43d52a09617345c
Author: Shinya Kuribayashi <shinya.kuribayashi@necel.com>
Date:	Mon Feb 2 09:46:21 2009 +0900

    MIPS: cpu/mips/Makefile: Add a missing START line

    In the commit 79b51ff8205f0354d5300570614c1d2db499679c ([MIPS] cpu/mips/
    Makefile: Split [CS]OBJS onto separate lines), I wrongly deleted a START
    line.  This patch puts it back.

    Signed-off-by: Shinya Kuribayashi <shinya.kuribayashi@necel.com>

commit 9a63b7f4f8f3c99cf017e0d3d4a152dfcd913b5a
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Feb 21 21:51:21 2009 +0100

    Enable ext2 support for TQM8xxL/M based boards

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit e3ba7f137c7c454ad626cd0bd2e84d73c7a8644f
Author: Tom Rix <Tom.Rix@windriver.com>
Date:	Fri Feb 20 03:47:50 2009 +0100

    ARM:PXA Use new definitions in mmc.h

    Signed-off-by: Tom Rix <Tom.Rix@windriver.com>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 682beeac34dc9ab18fab58b26973d2e29d113717
Author: Andy Fleming <afleming@freescale.com>
Date:	Fri Feb 20 03:47:50 2009 +0100

    Reduce the scope of PXA's mmc_read/mmc_write/mmc_bread functions

    These names are being taken over by the new MMC framework.	Hopefuly
    the PXA can be easily ported, and these functions will go away entirely.

    Signed-off-by: Andy Fleming <afleming@freescale.com>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit b03d92e5584935886ff91d5aa0755dc8888b7187
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Feb 20 03:47:50 2009 +0100

    pxa: move mmc drivers to drivers/mmc

    introduce new macro CONFIG_PXA_MMC to activate it

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 9490f465642c80c054854689a2ef1a77d65cf1f3
Author: Tom Rix <Tom.Rix@windriver.com>
Date:	Thu Feb 19 19:27:22 2009 -0600

    ARM:PXA Remove redefinition of mmc_cid and mmc_csd.

    These structures are defined in the common mmc.h

    This was compile checked on cerf250.

commit 94a3312920b6f9b5da27309549fb73650718c10a
Author: Micha Kalfon <smichak.uv@gmail.com>
Date:	Wed Feb 11 19:50:11 2009 +0200

    pxa: fixing get_timer to return time in miliseconds.

    Fixing the get_timer function to return time in miliseconds instead of
    ticks. Also fixed PXA boards to use the conventional value of 1000 for
    CONFIG_SYS_HZ.

    Signed-off-by: Micha Kalfon <smichak.uv@gmail.com>

commit e5e88c3614b79b54719905f66aefb51f9494bc1f
Author: Tom Rix <Tom.Rix@windriver.com>
Date:	Thu Feb 19 16:45:43 2009 -0600

    ARM:OMAP3 Change mmc_init to mmc_legacy_init

    omap3_mmc.c was changed to define mmc_legacy_init.
    Remove unused functions.

    Compile tested on all arm
    Runtime tested on Zoom1.

    Signed-off-by: Tom Rix <Tom.Rix@windriver.com>

commit 9e80bb21629988063574f88ca0d28baadff4d963
Author: Heiko Schocher <hs@denx.de>
Date:	Thu Feb 19 17:23:58 2009 +0100

    82xx, mgcoge: updates for 2009.03

    - activate CS4 for accessing the FPGA
    - activate Rx buf len > 1 on SMC
    - pram activated
    - MTDPARTS_DEFAULT defined
    - update the size of the flashes in the DTS
      before booting Linux
    - MONITOR_LEN updated to 384k
    - added CONFIG_HOSTNAME
    - added CONFIG_ENV_BUFFER_PRINT
    - Environment size reduced to 16k

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit df909554e2401f307925e1bd45d576e4176d9de9
Author: Heiko Schocher <hs@denx.de>
Date:	Thu Feb 19 17:24:01 2009 +0100

    8xx, mgsuvd: updates for 2009.03

    - activate Rx buf len > 1 on SMC
    - pram activated
    - MTDPARTS_DEFAULT defined
    - update the size of the flash in the DTS
      before booting Linux
    - MONITOR_LEN updated to 384k
    - added CONFIG_HOSTNAME
    - added CONFIG_ENV_BUFFER_PRINT
    - Environment size reduced to 16k

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 3511b4e208e12be85b532866f1c660aa2e021557
Author: Dirk Behme <dirk.behme@googlemail.com>
Date:	Wed Feb 18 19:59:39 2009 +0100

    MMC: Don't use new framework code if not enabled

    Don't use code of new MMC framework in cmd_mmc if CONFIG_GENERIC_MMC
    isn't enabled.

    Signed-off-by: Dirk Behme <dirk.behme@googlemail.com>

commit 32482be67775e00b4cbc49fba62347c1ecc6229c
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Feb 19 13:53:29 2009 +0100

    TQM8xxL: make some room in low memory for future needs

    THe TQM8xxL use a ahnd-optimized linker script to efficiently use the
    small boot sectors in the flash. This patch makes some room in the
    first sector to prepare for a size increase of lib_generic/vsprintf.o
    by a future patch.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit c157cec3c3f6dfc194532b3a3ca87f85b642962a
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Wed Feb 18 18:06:18 2009 -0600

    README: remove duplicate entry

    it's been around since the original commit (2ad6b513) that added two
    identical entries.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 1bba30efe1717bea13026e15c7c7d906419fac69
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Feb 19 00:41:08 2009 +0100

    Coding style cleanup, update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 369d0aa9674b65c83f8553b9bcf9d207dc369223
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Wed Feb 18 17:43:59 2009 -0600

    sata_sil3114: fix compiler warning

    judging from other printfs in the same file, it seems ata should be
    postpended with the interface number, not the address of the global
    port variable.  Fixes this for current u-boot-mpc83xx tree:

    Configuring for MPC8349ITX board...
    sata_sil3114.c: In function 'sata_bus_softreset':
    sata_sil3114.c:99: warning: format '%u' expects type 'unsigned int', but argument 2 has type 'struct sata_port *'
    sata_sil3114.c:108: warning: format '%u' expects type 'unsigned int', but argument 2 has type 'struct sata_port *'

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit f5675aa5ceeef30740970ab8ca0c8cbc324945cd
Author: Ron Madrid <ron_madrid@sbcglobal.net>
Date:	Wed Feb 18 14:30:44 2009 -0800

    Create configuration option for restricted ns16550 functions

    This patch will create a configuration option for a minimum configuration for
    the ns16550 serial driver at drivers/serial/ns16550.c and will apply this new
    configuration option to the SIMPC8313.h config file in order to fix the NAND
    bootstrap build error.  This option will exclude all functions with exception of
    NS16550_putc and NS16550_init.  This will be used primarily to save space and
    remove unused code from builds in which space is limited.

    Signed-off-by: Ron Madrid <ron_madrid@sbcglobal.net>

commit 7b0bc0219db8981613259473cf19699ac259b4fb
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Wed Feb 18 16:14:29 2009 -0600

    mkconfig: include board config.h before asm/config.h

    swapping the include order suppresses warnings for board configs
    that define their own CONFIG_MAX_MEM_MAPPED:

    In file included from /home/r1aaha/git/u-boot/include/config.h:5,
		    from /home/r1aaha/git/u-boot/include/common.h:35,
		    from simpc8313.c:26:
    /home/r1aaha/git/u-boot/include/configs/SIMPC8313.h:81:1: warning:
    "CONFIG_MAX_MEM_MAPPED" redefined
    In file included from /home/r1aaha/git/u-boot/include/config.h:4,
		    from /home/r1aaha/git/u-boot/include/common.h:35,
		    from simpc8313.c:26:
    /home/r1aaha/git/u-boot/include/asm/config.h:28:1: warning: this is
    the location of the previous definition

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit b8845abdc0dcf20d0944e965153f5ae7a9c3077c
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Feb 18 21:35:38 2009 +0100

    Fix build errors after making flash_get_info() non-static

    Fix for these build problems:
    error: static declaration of 'flash_get_info' follows non-static declaration

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit b4996d6b2140e5da7f1c346f37a67b19907b307a
Author: Stefan Roese <sr@denx.de>
Date:	Wed Feb 18 13:18:00 2009 +0100

    ppc4xx: PCIe: Change 16GB inbound memory to 4GB

    This patch fixes a problem recently seen on some 4xx platforms. For
    example on Kilauea PCIe slot #0.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit f50fe4bd613c6d35a2c34055f02e9501dd6a9ad5
Author: Stefan Roese <sr@denx.de>
Date:	Wed Feb 18 14:05:37 2009 +0100

    ppc4xx: Some more PMC405 coding-style cleanup

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 2f6eb9170bf91b72ea51dcea2a8b9c11b0e20bc5
Author: Matthias Fuchs <matthias.fuchs@esd.eu>
Date:	Sun Feb 15 22:27:47 2009 +0100

    ppc4xx: Update PMC405 board support

    This patch prepares the good old PMC405 board support for
    upcoming PMC405V2 patches.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit c553b5f4a0c77fc76e1d25e71c8aaa47657e2d6f
Author: Matthias Fuchs <matthias.fuchs@esd.eu>
Date:	Sun Feb 15 22:26:54 2009 +0100

    ppc4xx: Cleanup PMC405 board support

    This patch fixes coding style for PMC405 board support.
    Also some unneeded features/code is removed.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit b4e85d0f37b5b924fbf834867ad6d0b31b86f667
Author: Ilya Yanok <yanok@emcraft.com>
Date:	Thu Feb 5 04:08:20 2009 +0100

    qong: changes to Dave/DENX Qong configuration

    1. Changes to the default environment:
      - "bootcmd" defined as "run flash_self"
      - "saveenv" command removed from "update"
      - "uboot" changed to "u-boot" (also in "load")
      - "addmtd" variable defined (and added to all boot commands)
    2. CONFIG_CMD_JFFS2 defined to enable "mtdparts" command
    3. MTDIDS_DEFAULT and MTDPARTS_DEFAULT defined
    4. CONFIG_SYS_CBSIZE changed from 256 to 512. That solves the problem
    with truncated "bootargs" environment variable.

    Signed-off-by: Ilya Yanok <yanok@emcraft.com>

commit 5f0320108870e5d62983d1d5c13a2a087dddf686
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Feb 1 17:07:52 2009 +0100

    common/console: avoid ifdef CONFIG_CONSOLE_MUX when it's possible

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit ec6f14994602276660f7264c6ab3b91ef1f7614d
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Feb 1 17:07:51 2009 +0100

    common/console: coding style cleanup

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit daaf74f176b548dfd34a9990231f4189201d57ba
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Jan 29 20:02:23 2009 -0500

    mpc8xx_pcmcia: move CONFIG_8xx out of .c file and into Makefile

    Move the CONFIG_8xx mpc8xx_pcmcia.c protection out of the C file and
    into the Makefile so we avoid pointless compiling of the file.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 7bd2722e890bc877a3c057d7ccddc80451c99939
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Jan 29 20:02:07 2009 -0500

    disk: convert part_* files to COBJ-$(CONFIG_XXX) style

    Move the CONFIG_XXX out of the part_XXX.c file and into Makefile to
    avoid pointless compiles.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit f05fa9205e04986176dc7ab8b710bcb5fbe9f338
Author: Petri Lehtinen <petri.lehtinen@inoi.fi>
Date:	Thu Jan 29 10:35:40 2009 +0200

    include/image.h: Ease grepping of image_* functions

    Because the functions have been defined using macros, grepping for
    their definitions is not possible. This patch adds the real function
    names in comments.

    Signed-off-by: Petri Lehtinen <petri.lehtinen@inoi.fi>
    Acked-by: Mike Frysinger <vapier@gentoo.org>

commit bdab39d358e63aa47f400a8a76b8d5f283842df3
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Jan 28 19:08:14 2009 -0500

    rename CONFIG_CMD_ENV to CONFIG_CMD_SAVEENV

    The CONFIG_CMD_ENV option controls enablement of the `saveenv` command
    rather than a generic "env" command, or anything else related to the
    environment.  So, let's make sure the define is named accordingly.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 8b0592b89e0f9f81c9e150c81d96f8a43e4d6101
Author: Valeriy Glushkov <gvv@lstec.com>
Date:	Fri Jan 23 20:02:17 2009 +0200

    disable imls command if no flash is defined

    Default CONFIG_CMD_IMLS must be disabled when CONFIG_SYS_NO_FLASH is defined

    Signed-off-by: Valeriy Glushkov <gvv@lstec.com>

commit 923aa48126259c13de95131203f1d28bfa5cb889
Author: Rafal Jaworowski <raj@semihalf.com>
Date:	Fri Jan 23 13:27:18 2009 +0100

    API: Improve glue mid-layer of the API demo application.

    - Extend ub_dev_read() and ub_dev_recv() so they return the length actually
    read, which allows for better control and error handling (this introduces
    additional error code API_ESYSC returned by the glue mid-layer).

    - Clean up definitions naming and usage.

    - Other minor cosmetics.

    Note these changes do not touch the API proper, so the interface between
    U-Boot and standalone applications remains unchanged.

    Signed-off-by: Rafal Jaworowski <raj@semihalf.com>

commit 44a94e596ba0f6d0951b165403c520bf55b1c56f
Author: Rafal Jaworowski <raj@semihalf.com>
Date:	Fri Jan 23 13:27:17 2009 +0100

    API: Only output test data when reading was successful.

    Signed-off-by: Rafal Czubak <rcz@semihalf.com>

commit 7fb6c4f9b06c5539043c8bfc6565710b8090841d
Author: Rafal Jaworowski <raj@semihalf.com>
Date:	Fri Jan 23 13:27:16 2009 +0100

    API: Provide syscall entry point for the ARM architecture.

    Signed-off-by: Rafal Czubak <rcz@semihalf.com>
    Acked-by: Rafal Jaworowski <raj@semihalf.com>

commit b84d7d8f1e1066f810866304a16a3583f88e7c98
Author: Rafal Jaworowski <raj@semihalf.com>
Date:	Fri Jan 23 13:27:15 2009 +0100

    API: Use stack pointer as API signature search hint in the glue layer.

    De-hardcode range in RAM we search for the API signature. Instead use the stack
    pointer as a hint to narrow down the range in which the signature could reside
    (it is malloc'ed on the U-Boot heap, and is hoped to remain in some proximity
    from stack area). Adjust PowerPC code in API demo to the new scheme.

    Signed-off-by: Rafal Czubak <rcz@semihalf.com>
    Signed-off-by: Rafal Jaworowski <raj@semihalf.com>

commit 86b4bafdfaf669ede8fd99044abc7e27ea29b4f5
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Feb 17 10:26:38 2009 +0100

    TQM8260: fix locations of kernel and ramdisk images in flash

    After introducing redundant environment the kernel images was
    overlapping with environment.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 2b68b23373f96199a0cafbfd7a9f79ed62381ebb
Author: Heiko Schocher <hs@denx.de>
Date:	Wed Feb 11 19:26:15 2009 +0100

    83xx: add missing TIMING_CFG1_CASLAT_* defines

    Signed-off-by: Heiko Schocher <hs@denx.de>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit c9e34fe2e86f7b6cc8260f4b24cbdc7dd81e04c5
Author: Valeriy Glushkov <gvv@lstec.com>
Date:	Thu Feb 5 14:35:21 2009 +0200

    mpc8349itx: allow SATA boot from the onboard SIL1334

    This patch allows using of SATA devices connected
    to the onboard PCI SIL1334 SATA controller.

    Signed-off-by: Valeriy Glushkov <gvv@lstec.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit e1ac387f4645499746856adc1aeaa9787da2eca6
Author: Andy Fleming <afleming@freescale.com>
Date:	Thu Oct 30 16:50:14 2008 -0500

    83xx: Add eSDHC support on 8379 EMDS board

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 80522dc8369a89938369fbcee572e662373bc9a3
Author: Andy Fleming <afleming@freescale.com>
Date:	Thu Oct 30 16:51:33 2008 -0500

    85xx: Add eSDHC support for 8536 DS

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 50586ef24ed5caf6ce5591df76f355009da2cd79
Author: Andy Fleming <afleming@freescale.com>
Date:	Thu Oct 30 16:47:16 2008 -0500

    Add support for the Freescale eSDHC found on 8379 and 8536 SoCs

    This uses the new MMC framework

    Some contributions by Dave Liu <daveliu@freescale.com>

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 272cc70b211e945e4413122aa73868f6ada732a5
Author: Andy Fleming <afleming@freescale.com>
Date:	Thu Oct 30 16:41:01 2008 -0500

    Add MMC Framework

    Here's a new framework (based roughly off the linux one) for managing
    MMC controllers.  It handles all of the standard SD/MMC transactions,
    leaving the host drivers to implement only what is necessary to
    deal with their specific hardware.

    This also hooks the infrastructure into the PowerPC board code
    (similar to how the ethernet infrastructure now hooks in)

    Some of this code was contributed by Dave Liu <daveliu@freescale.com>

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 1de97f9856f697380cc504126ab92561ed238803
Author: Andy Fleming <afleming@freescale.com>
Date:	Thu Oct 30 16:31:39 2008 -0500

    Eliminated arch-specific mmc header requirement

    The current MMC infrastructure relies on the existence of an
    arch-specific header file.	This isn't necessary, and a couple
    drivers were forced to implement dummy files to meet this requirement.
    Instead, we move the stuff in those header files into a more appropriate
    place, and eliminate the stubs and the #include of asm/arch/mmc.h

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit abb5466ccf4ce50f412d459586f4f4b81cb73ac3
Author: Andy Fleming <afleming@freescale.com>
Date:	Thu Oct 30 16:21:00 2008 -0500

    Convert mmc_init to mmc_legacy_init

    This is to get it out of the way of incoming MMC framework

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit b2e2ed0233a5ef299361abec4fbdaefb63456eff
Author: Andy Fleming <afleming@freescale.com>
Date:	Thu Oct 30 16:19:25 2008 -0500

    Eliminate support for using MMC as memory

    MMC cards are not memory, so we stop treating them that way.

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit e1be0d25ecf494ae81245ca438738ba839d6329b
Author: Poonam_Aggrwal-b10812 <b10812@freescale.com>
Date:	Sun Jan 4 08:46:38 2009 +0530

    32bit BUg fix for DDR2 on 8572

    This errata fix is required for 32 bit DDR2 controller on 8572.
    May  also be required for P10XX20XX platforms

    Signed-off-by: Poonam_Agarwal-b10812 <b10812@lc1106.zin33.ap.freescale.net>

commit e0c4fac79d4d74572ddd43f75e7189cecca8d0ad
Author: Andy Fleming <afleming@freescale.com>
Date:	Mon Feb 16 09:40:20 2009 -0600

    TQM85xx: Fix a couple warnings in TQM8548 build

    The ecm variable in sdram.c was being declared for all 8548, but only
    used by specific 8548 boards, so we make that variable require those
    specific boards, too

    The nand code was using an index "i" into a table, and then re-using "i"
    to set addresses for each upm.  However, then it relied on the old value
    of i still being there to enable things.  Changed the second "i" to "j"

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit cf07a5baece0ecfc5284cfda8a4e68eaf92782f8
Author: Wolfgang Grandegger <wg@grandegger.com>
Date:	Wed Feb 11 18:38:26 2009 +0100

    MPC85xx: TQM8548: workaround for erratum DDR 19 and 20

    This patch adds the workaround for erratum DDR20 according to MPC8548
    Device Errata document, Rev. 1: "CKE signal may not function correctly
    after assertion of HRESET". Furthermore, the bug DDR19 is fixed in
    processor version 2.1 and the work-around must be removed.

    Signed-off-by: Wolfgang Grandegger <wg@grandegger.com>

commit 080408fdc71706adcb883d22125637c54f6010b1
Author: Wolfgang Grandegger <wg@grandegger.com>
Date:	Wed Feb 11 18:38:25 2009 +0100

    MPC85xx: TQM8548: use cache for AG and BE variants

    This patch makes accesses to the system memory cachable by removing the
    caching-inhibited and guarded flags from the relevant TLB entries for
    the TQM8548_BE and TQM8548_AG modules. FYI, the Freescale MPC85* boards
    are configured similarly.

    This results in a big averall performace improvement. TFTP downloads,
    NAND Flash accesses, kernel boots, etc. are much faster.

    Signed-off-by: Wolfgang Grandegger <wg@grandegger.com>

commit dc5f55d636d7bf21ba17758fac4b929ec4c059f2
Author: Wolfgang Grandegger <wg@grandegger.com>
Date:	Wed Feb 11 18:38:24 2009 +0100

    MPC85xx: TQM8548_AG: add 1 GiB DDR2-SDRAM configuration

    This patch add support for the 1 GiB DDR2-SDRAM on the TQM8548_AG
    module.

    Signed-off-by: Jens Gehrlein <sew_s@tqs.de>
    Signed-off-by: Wolfgang Grandegger <wg@grandegger.com>

commit 88b0e88d186479349e5a2b771e82775109e10fb4
Author: Wolfgang Grandegger <wg@grandegger.com>
Date:	Wed Feb 11 18:38:23 2009 +0100

    MPC85xx: TQM8548: fix SDRAM timing for 533 MHz

    According to new TQM8548 timing specification:
    Refresh Recovery: 34 -> 53 clocks
    CKE pulse width:  1 -> 3 cycles
    Window for four activities: 13 -> 14 cycles

    Signed-off-by: Jens Gehrlein <sew_s@tqs.de>
    Signed-off-by: Wolfgang Grandegger <wg@grandegger.com>

commit a865bcdac89278cac4dfc07dec8299403110499d
Author: Wolfgang Grandegger <wg@grandegger.com>
Date:	Wed Feb 11 18:38:22 2009 +0100

    MPC85xx: TQM8548: add support for the TQM8548_AG module

    The TQM8548_AG is a variant of the TQM8548 module with 1 GiB memory,
    CAN and without PCI/PCI-X and RTC. U-Boot can be built for this module
    with "$ make TQM8548_AG_config".

    Signed-off-by: Wolfgang Grandegger <wg@grandegger.com>

commit ad7ee5d43b0db94079d56521dabca25674f28747
Author: Wolfgang Grandegger <wg@grandegger.com>
Date:	Wed Feb 11 18:38:21 2009 +0100

    MPC85xx: TQM8548: add support for the TQM8548_BE module

    The TQM8548_BE is a variant of the TQM8548 module with NAND and CAN
    interface. With NAND support, the image is significantly larger and
    TEXT_BASE is adjusted accordingly. U-Boot can be built for this
    module with "$ make TQM8548_BE_config".

    Signed-off-by: Wolfgang Grandegger <wg@grandegger.com>

commit a318234878c346e673b2ef8dc4b14b338fe7fc2b
Author: Wolfgang Grandegger <wg@grandegger.com>
Date:	Wed Feb 11 18:38:20 2009 +0100

    MPC85xx: TQM85xx: make standard PCI/PCI-X configurable

    The TQM8548_AG module does not have the standard PCI/PCI-X interface
    connected but just the PCI Express interface . So far it was not
    possible to disable it without disabling the complete PCI interface
    (CONFIG_PCI) including PCI Express.

    Signed-off-by: Wolfgang Grandegger <wg@grandegger.com>

commit 31ca9119c3186cec579b54d2a7a2b361b4d2b7bf
Author: Wolfgang Grandegger <wg@grandegger.com>
Date:	Wed Feb 11 18:38:19 2009 +0100

    MPC85xx: TQM85xx: fix flash protection for boot loader

    As the reset vector is located at 0xfffffffc, all flash sectors from the
    beginning of the U-Boot binary to 0xffffffff must be protected. On the
    TQM8548-AG having small sectors at the end of the flash it happened that
    the last two sector were not protected and an "erase all" left an
    un-bootable system behind:

    Bank # 2: CFI conformant FLASH (32 x 16)  Size: 32 MB in 270 Sectors
      AMD Standard command set, Manufacturer ID: 0xEC, Device ID: 0x257E
      Erase timeout: 8192 ms, write timeout: 1 ms

      FFFA0000 E RO   FFFC0000	 RO   FFFE0000	 RO   FFFE4000	 RO   FFFE8000	 RO
      FFFEC000	 RO   FFFF0000	 RO   FFFF4000	 RO   FFFF8000 E      FFFFC000

    The same bug seems to be in drivers/mtd/cfi_flash.c:flash_init() and many
    board BSPs as well.

    Signed-off-by: Wolfgang Grandegger <wg@grandegger.com>

commit a1c8a719262151f97119e76166043ee3da3f97b2
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Feb 6 14:30:40 2009 -0600

    86xx: Update CPU info output on bootup

    - Update style of 86xx CPU information on boot to more closely
      match 85xx boards
    - Fix detection of 8641/8641D
    - Use strmhz() to display frequencies
    - Display L1 information
    - Display L2 cache size
    - Fixed CPU/SVR version output

    == Before ==
    Freescale PowerPC
    CPU:
	Core: E600 Core 0, Version: 0.2, (0x80040202)
	System: Unknown, Version: 2.1, (0x80900121)
	Clocks: CPU:1066 MHz, MPX: 533 MHz, DDR: 266 MHz, LBC: 133 MHz
	L2: Enabled
    Board: X-ES XPedite5170 3U VPX SBC

    == After ==
    CPU:   8641D, Version: 2.1, (0x80900121)
    Core:  E600 Core 0, Version: 2.2, (0x80040202)
    Clock Configuration:
	   CPU:1066.667 MHz, MPX:533.333 MHz
	   DDR:266.667 MHz (533.333 MT/s data rate), LBC:133.333 MHz
    L1:    D-cache 32 KB enabled
	   I-cache 32 KB enabled
    L2:    512 KB enabled
    Board: X-ES XPedite5170 3U VPX SBC

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 22c00f8d7d454d77e759df58415d2d3f3d7e154c
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Thu Feb 5 11:25:24 2009 -0600

    86xx: Update Global Utilities structure

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 4ef630df773e45806d701bf5d25c328778bb4cde
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Thu Feb 5 11:25:25 2009 -0600

    86xx: Reset update

    Update the 86xx reset sequence to try executing a board-specific reset
    function.  If the board-specific reset is not implemented or does not
    succeed, then assert #HRESET_REQ.  Using #HRESET_REQ is a more standard
    reset procedure than the previous method and allows all board
    peripherals to be reset if needed.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit edf0e2524a8c6a3e91c009c496a0aa0ae89cd8ab
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Feb 10 23:53:40 2009 -0600

    fsl-ddr: Allow system to boot if we have more than 4G of memory

    Previously if we >=4G of memory and !CONFIG_PHYS_64BIT we'd report
    an error and hang.	Instead of doing that since DDR is mapped in the
    lowest priority LAWs we setup the DDR controller and the max amount
    of memory we report back is what we can map (CONFIG_MAX_MEM_MAPPED)

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: Becky Bruce <beckyb@kernel.crashing.org>

commit 8d949aff38cfb4388cbd73876e77bcd06d601f20
Author: Srikanth Srinivasan <srikanth.srinivasan@freescale.com>
Date:	Wed Jan 21 17:17:33 2009 -0600

    mpc85xx: Add support for the P2020

    Added various p2020 processor specific details:
    * SVR for p2020, p2020E
    * immap updates for LAWs and DDR on p2020
    * LAW defines related to p2020

    Signed-off-by: Srikanth Srinivasan <srikanth.srinivasan@freescale.com>
    Signed-off-by: Travis Wheatley <Travis.Wheatley@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit cb69e4de8702e108324e1c40363f30ef6f2e2918
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Feb 10 17:36:15 2009 -0600

    85xx: print boot header info to distinquish 36-bit addr map on MPC8572 DS

    Added some info that is printed out when we boot to distiquish if we
    built MPC8572DS_config vs MPC8572DS_36BIT_config since they have
    different address maps.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit feede8b07013b33fca8dd2a916b3ac86bf4d4c0a
Author: Andy Fleming <afleming@freescale.com>
Date:	Fri Dec 5 20:10:22 2008 -0600

    Fixup SGMII PHY ids in the device tree

    The device tree's PHY addresses need to be fixed up if we're using the
    SGMII Riser Card.

    The 8572, 8536, and 8544 DS boards were modified to call this function.

    Code idea taken from Liu Yu <yu.liu@freescale.com>

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 5dc0cf68f8f101042997d75188081d8526d705ea
Author: Andy Fleming <afleming@freescale.com>
Date:	Wed Feb 11 15:10:31 2009 -0600

    Make some minor whitespace changes to eliminate line-wrapping

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 9e56986a2b74d197f51eca70fad7b836b1900c4d
Author: Andy Fleming <afleming@freescale.com>
Date:	Wed Feb 11 15:07:24 2009 -0600

    Add eth_get_dev_by_index

    This allows code to iterate through the ethernet devices

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit b67305120aaf268a6140125346678166d14f1f47
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Feb 9 22:03:04 2009 -0600

    85xx: Fix bug in device tree setup in 36-bit physical confg

    In the 36-bit physical config for MPC8572DS when need the start address
    of memory and it size to be kept in phys_*_t instead of a ulong since
    we support >4G of memory in the config and ulong cant represent that.
    Otherwise we end up seeing the memory node in the device tree reporting
    back we have memory starting @ 0 and of size 0.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit ad97dce18445ff05bf326094e691a01aa95aa8dc
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Feb 9 22:03:05 2009 -0600

    85xx: Fix address map for 36-bit config of MPC8572DS

    When we introduced the 36-bit config of the MPC8572DS board we had the
    wrong PCI MEM bus address map.  Additionally, the change to the address
    map exposes a small issue in our dummy read on the ULI bus.  We need
    to use the new mapping functions to handle that read properly in the
    36-bit config.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit f8523cb0815b2d3d2d780b7d49ca614105555f58
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Feb 6 09:56:35 2009 -0600

    85xx: Fix how we map DDR memory

    Previously we only allowed power-of-two memory sizes and didnt
    handle >2G of memory.  Now we will map up to CONFIG_MAX_MEM_MAPPED
    and should properly handle any size that we can make in the TLBs
    we have available to us

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 1542fbdeec0d1e2a6df13189df8dcb1ce8802be3
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Feb 6 09:56:34 2009 -0600

    fsl-ddr: ignore memctl_intlv_ctl setting if only one DDR controller

    If we only have one controller we can completely ignore how
    memctl_intlv_ctl is set.  Otherwise other levels of code get confused
    and think we have twice as much memory.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit b29dee3c906e9daaf6baf7772d2e15e26b8636b8
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Feb 4 09:35:57 2009 -0600

    85xx: Format cpu freq printing to handle 8 cores

    Only print 4 cpu freq per line.  This way when we have 8 cores its a
    bit more readable.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 9704f9caf53f5cae547d8c5e1ae94aa4e57b160f
Author: Abraham, Thomas <t-abraham@ti.com>
Date:	Tue Oct 28 16:51:31 2008 +0530

    USB: Remove LUN number from CDB

    The LUN number is not part of the Command Descriptor Block (CDB) for scsi inquiry, request sense, test unit ready, read capacity and read10 commands. This patch removes the LUN number information from the CDB.

    Signed-off-by: Thomas Abraham <t-abraham@ti.com>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit f3c0de636252f3a18654c8f9c6370a9574a7e755
Author: Atin Malaviya <atin.malaviya@gmail.com>
Date:	Tue Feb 3 15:17:10 2009 -0500

    Added usbtty_configured() check. Fixed attribute(packed) warnings.

    V3: Fixed line-wrap problem due to user error in mail!

    Added usb_configured() checks in usbtty_puts() and usbtty_putc() to get around a hang
    when usb is not connected and the user has set up multi-io (setenv stdout serial,usbtty etc).
    Got rid of redundant __attribute__((packed)) directives that were causing warnings from gcc.

    Signed-off-by: Atin Malaviya <atin.malaviya@gmail.com>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit e7de18afe8ecf96a51ef981d06066eeb6b1254e7
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Fri Feb 13 09:23:36 2009 +0100

    i.MX31: Start the I2C clock on driver initialisation

    i.MX31 powers on with most clocks running, so, after a power on this explicit
    clock start up is not required. However, as Linux boots it disables most clocks
    to save power. This includes the I2C clock. If we then soft reboot from Linux
    the I2C clock stays off. This breaks the phycore, which has its environment in
    I2C EEPROM. Fix the problem by explicitly starting the clock in I2C driver
    initialisation routine.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>
    Ack-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 15208ac9eae1c340c4bc11f70cbf5c9da78a57ba
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Feb 11 20:36:14 2009 -0500

    i2c.h: drop i2c_reg_{read, write} hack for Blackfin parts

    The Blackfin i2c driver has been rewritten thus the special ifdefs in the
    common code are no longer needed.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit c2d9befa0b4695b89476fb5d259742c09afe243f
Author: Heiko Schocher <hs@denx.de>
Date:	Thu Feb 12 08:08:54 2009 +0100

    82xx, mgcoge: fix compile error

    With actual u-boot compiling the mgcoge port fails, because
    since commit ba705b5b1a97b47388ed48858bef6bf7b6bfcd56 it is
    necessary to define CONFIG_NET_MULTI.

    Seems to me the mgcoge port is the only actual existing 8260
    port who uses CONFIG_ETHER_ON_SCC, so no other 8260 port needed
    to be fixed.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 9cacf4fc4035eabe9d9ae2a9a188c51a8027c91e
Author: Dirk Eibach <eibach@gdsys.de>
Date:	Mon Feb 9 08:18:34 2009 +0100

    ppc4xx: Add README entry for CONFIG_PCI_DISABLE_PCIE

    Signed-off-by: Dirk Eibach <eibach@gdsys.de>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 7369f0e384e2a831be13a7773a58242c9173fa9c
Author: Carolyn Smith <carolyn.smith@tektronix.com>
Date:	Thu Feb 12 06:13:44 2009 +0100

    ppc4xx: Fix initialization of the SDRAM_CODT register

    This fixes the initialization of the SDRAM_CODT register in the ppc4xx DDR2
    initialization code. It also removes use of the SDRAM_CODT_FEEDBACK_RCV_SINGLE_END
    and SDRAM_CODT_FEEDBACK_DRV_SINGLE_END #define's since they are reserved bits.

    Signed-off-by: Carolyn Smith <carolyn.smith@tektronix.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit cef0efaf2fa55d1f25066cfb02bd984c27f9ca31
Author: Stefan Roese <sr@denx.de>
Date:	Wed Feb 11 09:29:33 2009 +0100

    ppc4xx: Fix problem with board_eth_init() vs cpu_eth_init() on AMCC boards

    Some AMCC eval boards do have a board_eth_init() function calling
    pci_eth_init(). These boards need to call cpu_eth_init() explicitly now
    with the new eth_init rework.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit c645012aefebb301e6907d148c6c8efacac049d4
Author: Adam Graham <agraham@amcc.com>
Date:	Mon Feb 9 13:18:12 2009 -0800

    ppc4xx: Autocalibration can set RDCC to over aggressive value.

    The criteria of the AMCC SDRAM Controller DDR autocalibration
    U-Boot code is to pick the largest passing write/read/compare
    window that also has the smallest SDRAM_RDCC.[RDSS] Read Sample
    Cycle Select value.

    On some Kilauea boards the DDR autocalibration algorithm can
    find a large passing write/read/compare window with a small
    SDRAM_RDCC.[RDSS] aggressive value of Read Sample Cycle Select
    value "T1 Sample".

    This SDRAM_RDCC.[RDSS] Read Sample Cycle Select value of
    "T1 Sample" proves to be to aggressive when later on U-Boot
    relocates into DDR memory and executes.

    The memory traces on the Kilauea board are short so on some
    Kilauea boards the SDRAM_RDCC.[RDSS] Read Sample Cycle Select
    value of "T1 Sample" shows up as a potentially valid value for
    the DDR autocalibratiion algorithm.

    The fix is to define a weak default function which provides
    the minimum SDRAM_RDCC.[RDSS] Read Sample Cycle Select value
    to accept for DDR autocalibration.	The default will be the
    "T2 Sample" value.	A board developer who has a well defined
    board and chooses to be more aggressive can always provide
    their own board specific string function with the more
    aggressive "T1 Sample" value or stick with the default
    minimum SDRAM_RDCC.[RDSS] value of "T2".

    Also put in a autocalibration loop fix for case where current
    write/read/compare passing window size is the same as a prior
    window size, then in this case choose the write/read/compare
    result that has the associated smallest RDCC T-Sample value.

    Signed-off-by: Adam Graham <agraham@amcc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 2ede879fcb67470524847bb4fc8972651bb46184
Author: Stefan Roese <sr@denx.de>
Date:	Wed Feb 11 09:37:12 2009 +0100

    ppc4xx: Fix problem with CONFIG_MAX_MEM_MAPPED in include/asm-ppc/config.h

    CONFIG_SDRAM_PPC4xx_IBM_DDR2 is not set when include/asm-ppc/config.h is
    included. So for katmai, CONFIG_MAX_MEM_MAPPED will get set to 256MB.

    It makes perfect sense to set CONFIG_MAX_MEM_MAPPED to 2GB for all PPC4xx
    boards right now.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit f15c6515fc23f83c51f3de272ca23d86b80e81b1
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Feb 12 00:08:39 2009 +0100

    Coding style cleanup; update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 5fc56b907d993260b9ebdb137af66fe69635ae9e
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Jan 30 16:36:40 2009 -0600

    Add feature-removal-schedule.txt

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 255d28e1642e8fc32a6753226be1a96b481ce111
Author: Heiko Schocher <hs@denx.de>
Date:	Tue Feb 10 09:32:38 2009 +0100

    8xx serial, smc: Coding-Style cleanup serial SMC driver

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 2b3f12c214346508cae3f1245808c1ca54c81fdd
Author: Heiko Schocher <hs@denx.de>
Date:	Tue Feb 10 09:31:47 2009 +0100

    8xx serial, smc: add configurable SMC Rx buffer len

    This patch adds the configuration option CONFIG_SYS_SMC_RXBUFLEN.
    With this option it is possible to allow the receive
    buffer for the SMC on 8xx to be greater then 1. In case
    CONFIG_SYS_SMC_RXBUFLEN == 1 this driver works as the
    old version.

    When defining CONFIG_SYS_SMC_RXBUFLEN also
    CONFIG_SYS_MAXIDLE must be defined to setup the maximum
    idle timeout for the SMC.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit e915f8bb73d74178bc21d3a457959883b1afd1c0
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Feb 5 21:04:36 2009 -0500

    common/{hush, kgdb, serial}.c: build by COBJS-$(...) in Makefile

    Move global '#ifdef CONFIG_xxx .... #endif' out of the .c files and into
    the COBJS-$(CONFIG_xxx) in the Makefile.  Also delete unused var in kgdb
    code in the process.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit ab76e9848a1f4db64d14233741d739a3b3360c93
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Feb 5 21:04:50 2009 -0500

    bzip2: move ifdef handling to Makefile COBJS-$(...)

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit ae0b05df04e1cc65c5ad19ccd362f4be82df7316
Author: Jerry Van Baren <gvb.uboot@gmail.com>
Date:	Thu Feb 5 22:18:02 2009 -0500

    Fix whitespace damage: double space changed to a tab

    At some point an intentional double space at the end of the sentence
    got changed into a tab in the GPL header line:
     * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the

    This patch fixes the damage.

    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>

commit 4f975678de995b55749d5e84590c268972a7c835
Author: Heiko Schocher <hs@denx.de>
Date:	Tue Feb 10 09:53:29 2009 +0100

    cfi: make flash_get_info() non static

    If on your board is more than one flash, you must know
    the size of every single flash, for example, for updating
    the DTS before booting Linux. So make this function
    flash_get_info() extern, and you can have all info
    about your flashes.

    Signed-off-by: Heiko Schocher <hs@denx.de>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 86321fc1128c93a10ac4afb9d317b0df8ece0f9e
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Thu Feb 5 23:58:25 2009 -0800

    net: removed board-specific CONFIGs from MPC5xxx FEC driver

    Added new CONFIG options for the three type of MAC-PHY interconnect and
    applied them all relevant board config files

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 638ed3e296e70fab286d157b7adedaaa4a09a474
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Feb 5 21:04:47 2009 -0500

    net/sntp.c: move ifdef into Makefile COBJS-$(...)

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 9e5be8214ba751436e57c3be044bf6dccb9a6687
Author: Andy Fleming <afleming@freescale.com>
Date:	Tue Feb 3 18:26:41 2009 -0600

    tsec: Fix a bug in soft-resetting

    SOFT_RESET must be asserted for at least 3 TX clocks.  Usually, that's about 30
    clock cycles, so it's been mostly working.	But we had no guarantee, and at
    slower bitrates, it's just over a microsecond (over 1000 clock cycles).  This
    enforces a 2 microsecond gap between assertion and deassertion.

    Signed-off-by: Andy Fleming <afleming@freescale.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 09fcc8b5d86903b76e7e4d1d879d6f4bca25c27b
Author: Simon Munton <simon@nidoran.m5data.com>
Date:	Mon Feb 2 09:44:08 2009 +0000

    Fix 100Mbs ethernet operation on sh7763 based boards

    100Mbs ethernet does not work on sh7763 chips due to the wrong value being
    used in the GECMR register. Following diff fixes the problem

    Signed-off-by: Simon Munton	<simon@nidoran.m5data.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 2bc2a8f6dc9fdda465317da59474e65c24a398a2
Author: ksi@koi8.net <ksi@koi8.net>
Date:	Fri Feb 6 16:27:55 2009 -0800

    Fix MPC8260 with ethernet on SCC

    This fixes MPC8260 compilation with ethernet on SCC. Probably was a
    typo or something...

    Signed-off-by: Sergey Kubushyn <ksi@koi8.net>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit ae5d8f613cec1a6af7bf1fc9c42a3b856f021023
Author: Heiko Schocher <hs@denx.de>
Date:	Fri Jan 30 12:56:15 2009 +0100

    82xx serial, smc: Coding-Style cleanup serial SMC driver

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit c92fac91a06c60f874c605e3ca80dd407c1caaa7
Author: Heiko Schocher <hs@denx.de>
Date:	Fri Jan 30 12:55:38 2009 +0100

    82xx serial, smc: add configurable SMC Rx buffer len

    This patch adds the configuration option CONFIG_SYS_SMC_RXBUFLEN.
    With this option it is possible to allow the receive
    buffer for the SMC on 82xx to be greater then 1. In case
    CONFIG_SYS_SMC_RXBUFLEN == 1 this driver works as the
    old version.

    When defining CONFIG_SYS_SMC_RXBUFLEN also
    CONFIG_SYS_MAXIDLE must be defined to setup the maximum
    idle timeout for the SMC.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit bced7ccefa08512c54a6d146658ff7dbc33d5dfe
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Feb 6 08:08:06 2009 -0600

    ppc: Fix roll over bug in flush_cache()

    If we call flush_cache(0xfffff000, 0x1000) it would never
    terminate the loop since end = 0xffffffff and we'd roll over
    our counter from 0xfffffe0 to 0 (assuming a 32-byte cache line)

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 87c9063963561d3d01064be34d0c30855a56587b
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Feb 5 20:40:58 2009 -0600

    ppc: Move CONFIG_MAX_MEM_MAPPED to common config.h

    Moved CONFIG_MAX_MEM_MAPPED to the asm/config.h so its kept consistent
    between the two current users (lib_ppc/board.c, 44x SPD DDR2).

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: Stefan Roese <sr@denx.de>

commit 47d41cc3a11a03c6d56146d056145df73f47eb50
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Feb 5 20:40:57 2009 -0600

    Add an architecture specific config.h for common defines

    We have common defines that we duplicate in various ways.  Having an
    arch specific config.h gives us a common location for those defines.

    Eventually we should be able to replace this when we have proper
    Kconfig support.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 4c78d4a6c01621721b732418e1c6da684a56bbb1
Author: Becky Bruce <beckyb@kernel.crashing.org>
Date:	Tue Feb 3 18:10:56 2009 -0600

    mpc8641hpcn: Change PCI MEM pci bus address

    Now that the rest of u-boot can support it, change the PCI bus
    address of the PCI MEM regions from 0x80000000 to 0xc0000000,
    and use the same bus address for both PCI1 and PCI2.  This will
    maximize the amount of PCI address space left over to map RAM
    on systems with large amounts of memory.

    Signed-off-by: Becky Bruce <beckyb@kernel.crashing.org>

commit 1785dbeed43599eed1d8875673c96912cd770141
Author: Becky Bruce <beckyb@kernel.crashing.org>
Date:	Tue Feb 3 18:10:55 2009 -0600

    drivers/block/ahci: Fix pci mapping bug

    The code assumes that the pci bus address and the virtual
    address used to access a region are the same, but they might
    not be.  Fix this assumption.

    Signed-off-by: Becky Bruce <beckyb@kernel.crashing.org>

commit d591a80e74091e7a0658d165721e6c7de2ef0bcd
Author: Becky Bruce <beckyb@kernel.crashing.org>
Date:	Tue Feb 3 18:10:54 2009 -0600

    MPC8641HPCN: Enable CONFIG_ADDR_MAP

    Signed-off-by: Becky Bruce <beckyb@kernel.crashing.org>

commit 49f46f3bf08aaf7b1db131a1082f1e603bb7a94b
Author: Becky Bruce <beckyb@kernel.crashing.org>
Date:	Tue Feb 3 18:10:53 2009 -0600

    mpc8641hpcn: Clean up PCI mapping concepts

    Clean up PCI mapping concepts in the 8641 config - rename _BASE
    to _BUS, as it's actually a PCI bus address, separate virtual
    and physical addresses into _VIRT and _PHYS, and use each
    appopriately.

    Signed-off-by: Becky Bruce <beckyb@kernel.crashing.org>

commit c9315e6b4f244981de0b2eaaa29a7838a165b494
Author: Becky Bruce <beckyb@kernel.crashing.org>
Date:	Tue Feb 3 18:10:52 2009 -0600

    mpc86xx: Add support to populate addr map based on BATs

    If CONFIG_ADDR_MAP is enabled, update the address map
    whenever we write a bat.

    Signed-off-by: Becky Bruce <beckyb@kernel.crashing.org>

commit d35ae5a938679bd7e18167faf79d0fb3c6639b51
Author: Becky Bruce <beckyb@kernel.crashing.org>
Date:	Tue Feb 3 18:10:51 2009 -0600

    powerpc: Move duplicated BAT defines to mmu.h

    The BAT fields are architected; there's no need for these to be in
    cpu-specific files.  Drop the duplication and move these to
    include/asm-ppc/mmu.h.  Also, remove the BL_xxx defines that were only
    used by the alaska board, and switch to using the BATU_BL_xxx defines
    used by all the other boards.  The BL_ defines previously in use
    had to be shifted into the proper position for use, which was inefficient.

    Signed-off-by: Becky Bruce <beckyb@kernel.crashing.org>

commit 6e61fae4d360a1380b63e7d007b31477e366bcce
Author: Becky Bruce <beckyb@kernel.crashing.org>
Date:	Tue Feb 3 18:10:50 2009 -0600

    drivers/pci: Create pci_map_bar function

    It is no longer always true that the pci bus address can be
    used as the virtual address for pci accesses.  pci_map_bar()
    is created to return the virtual address for a pci region.

    Signed-off-by: Becky Bruce <beckyb@kernel.crashing.org>

commit 2ecca3401775b125c3b9ff65766befb23989414b
Author: Becky Bruce <beckyb@kernel.crashing.org>
Date:	Tue Feb 3 18:10:49 2009 -0600

    mpc8641hpcn: Set up outbound pci windows before inbound

    Because the inbound pci windows are mapped generously, set up
    the more specific outbound windows first.  This way, when we
    search the pci regions for something, we will hit on the more
    specific region.  This can actually be a problem on systems
    with large amounts of RAM.

    Signed-off-by: Becky Bruce <beckyb@kernel.crashing.org>

commit b81b773ead0687114dc8a800f99ea6e504447739
Author: Becky Bruce <beckyb@kernel.crashing.org>
Date:	Mon Feb 2 16:34:52 2009 -0600

    mpc8641hpcn: Use physical address in flash banks defintion

    If the VA and PA of the flash aren't the same, the banks list
    should be initialized to hold the physical address.  Correct this.

    Signed-off-by: Becky Bruce <beckyb@kernel.crashing.org>

commit 0d19f6c8cbe71b9e6d8c6bd6742ed2551e918870
Author: Ilya Yanok <yanok@emcraft.com>
Date:	Tue Feb 10 00:22:31 2009 +0100

    qong: support for Dave/DENX QongEVB-LITE board

    This patch adds support for Dave/DENX QongEVB-LITE i.MX31-based board.

    Signed-off-by: Ilya Yanok <yanok@emcraft.com>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 62cbc408f52fc9a5eb849e0b882c504780c9d183
Author: Ilya Yanok <yanok@emcraft.com>
Date:	Mon Feb 9 18:45:28 2009 +0100

    dnet: driver for Dave DNET ethernet controller

    Driver for Dave DNET ethernet controller (used on Dave/DENX
    QongEVB-LITE board).

    Signed-off-by: Ilya Yanok <yanok@emcraft.com>
    Acked-by: Ben Warren <biggerbadderben@gmail.com>

commit 2d43e873a29ca4959ba6a30fc7fb396d3fd0dccf
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Feb 6 09:49:32 2009 -0600

    pci: give preference to non-PCI_REGION_SYS_MEMORY regions when matching

    When we search for an address match in pci_hose_{phys_to_bus,bus_to_phys}
    we should give preference to memory regions that aren't system memory.

    Its possible that we have over mapped system memory in the regions and
    we want to avoid depending on the order of the regions.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit ff4e66e93c1ad47644be3b4ffd6a46e1ce9b6612
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Feb 6 09:49:31 2009 -0600

    pci: Rename PCI_REGION_MEMORY to PCI_REGION_SYS_MEMORY for clarity

    The PCI_REGION_MEMORY and PCI_REGION_MEM are a bit to similar and
    can be confusing when reading the code.

    Rename PCI_REGION_MEMORY to PCI_REGION_SYS_MEMORY to clarify its used
    for system memory mapping purposes.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 54dc517328709c204a9cbf7a253d9f8e6c4b26ec
Author: Ilya Yanok <yanok@emcraft.com>
Date:	Sun Feb 8 00:59:43 2009 +0300

    mx31: add GPIO registers definitions

    Added definitions for i.MX31 processor GPIO registers.

    Signed-off-by: Ilya Yanok <yanok@emcraft.com>

commit 8da601280a8acbc3385784780ed35130e53812f1
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Wed Feb 4 13:47:22 2009 -0600

    NAND: Add timeout for reset command

    Without the timeout present an infinite loop can occur if the
    NAND device is broken or not present.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 10dc6a9bef73d7d4cb25b3fde27ee91f8484b126
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Wed Feb 4 13:39:40 2009 -0600

    NAND: Silence warning when CONFIG_SYS_NAND_QUIET_TEST

    Commit cfa460adfdefcc30d104e1a9ee44994ee349bb7b removed support
    for disabling the "No NAND device found!!!" warning when
    CONFIG_SYS_NAND_QUIET_TEST was defined.  This re-adds support
    for silencing the warning.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit ad09ab2e3ac28f304372eceb4a5cb4d24e102a13
Author: Valeriy Glushkov <gvv@lstec.com>
Date:	Mon Jan 19 16:32:59 2009 +0200

    NAND: Fixed invalid pointers to static relocated chip names

    Dear Wolfgang,

    You are right, the patch was ugly.
    The new one seems to be better.

    Signed-off-by: Valeriy Glushkov <gvv@lstec.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit e7deec1bf6fa3b3a21cd8d14fe2a909a42efc9d8
Author: Nishanth Menon <nm@ti.com>
Date:	Mon Feb 2 18:20:12 2009 -0600

    ARM:OMAP3:Zoom1: Add nand unlock option

    Enable NAND_UNLOCK option for unlocking nand for
    erase/write operations

    Signed-off-by: Nishanth Menon <nm@ti.com>

commit 5a9427dc9b8438759db3f67a1e547062f76eb18d
Author: derek@siconix.com <derek@siconix.com>
Date:	Mon Jan 26 14:08:17 2009 -0700

    env_nand: fix env memory release

    This fixes a bug that tmp environment memory not being released.

    Signed-off-by: Derek Ou <dou@siconix.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 05fd88776419df59e7f37bac063a209409dd801d
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Fri Feb 6 10:37:45 2009 +0100

    ARM: remove unused variable

    The "size" variable in start_armboot() in lib_arm/board.c is only really
    used in "#ifndef CONFIG_SYS_NO_FLASH" case, and even there it can be
    eliminated (thanks to Jean-Christophe PLAGNIOL-VILLARD for a suggestion.)

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit 6989e4f546d960a407dd5425f800dff9751c8132
Author: Richard Retanubun <RichardRetanubun@RuggedCom.com>
Date:	Thu Feb 5 09:33:50 2009 -0500

    Coldfire: M527x: Add missing GPIO register address defines

    Add missing GPIO registers address definition for Coldfire M5271.

    Signed-off-by: Richard Retanubun <RichardRetanubun@RuggedCom.com>

commit c4ff77f5e6c3a01610ce97434c0d59acb1476f95
Author: Richard Retanubun <RichardRetanubun@RuggedCom.com>
Date:	Fri Jan 23 14:42:58 2009 -0500

    Coldfire: mcfmii: Allow non-autonegotiating PHYs to use mii command

    Modified mii_init to support boards with PHYs that are not set to
    autonegotiate, but still want to use u-boot's mii commands to probe
    the smi bus. Such PHYs will not set the Autonegotiate-done bit.

    Signed-off-by: Richard Retanubun <RichardRetanubun@RuggedCom.com>

commit 92d3e6e0ffcbb7224c83104f8d87b5b4bf39a38f
Author: Richard Retanubun <RichardRetanubun@RuggedCom.com>
Date:	Fri Jan 23 11:44:30 2009 -0500

    Coldfire: Applied baudrate formula of serial_init to serial_setbrg

    Applied the patch for baudrate divider value truncation for
    serial_init to serial_setbrg as well.

    Signed-off-by: Richard Retanubun <RichardRetanubun@RuggedCom.com>

commit 8706ef378f2db1ef65b9c2f909561f23e3dc2148
Author: Richard Retanubun <RichardRetanubun@RuggedCom.com>
Date:	Fri Jan 23 14:07:05 2009 -0500

    Coldfire: M5271EVB: Board header update (dependencies)

    Cleanup for M5271EVB:
    Added clarification on the use of CONFIG_SYS_CLOCK.
    Modified to use u-boot's HUSH parser.
    Cleanup on environment settings.
    Removed compiler warning by defining CONFIG_SYS_CS0_*

    Dependencies:
    Added the use of CONFIG_SYS_MCF_SYNCR for clock multiplier.
    This depends on a patch to include/asm-m68k/m5271.h
    that defines the multiplier and divider ratios.

    Removed the definition of CONFIG_SYS_FECI2C.
    This depends on a patch that removes the use of it in
    cpu/mcf52x2/cpu_init.c

    Signed-off-by: Richard Retanubun <RichardRetanubun@RuggedCom.com>

commit e0db344fabfeb4f9649846f94838f51172f6a1f6
Author: Richard Retanubun <RichardRetanubun@RuggedCom.com>
Date:	Thu Jan 29 14:36:06 2009 -0500

    Coldfire: M5271: Allow board header file to specify clock multiplier

    M5271 dynamic clock multiplier. It is currently fixed at 100MHz.

    Allow the board header file to set their own multiplier and divider.
    Added the #define for the multiplier and divider to the cpu header file.

    Signed-off-by: Richard Retanubun <RichardRetanubun@RuggedCom.com>

commit d1ef25dd81c79dcfad5c2ff0162b1bea21d04bc3
Author: Richard Retanubun <RichardRetanubun@RuggedCom.com>
Date:	Fri Jan 23 10:47:13 2009 -0500

    Coldfire: M5271EVB: Remove usage of CONFIG_SYS_FECI2C

    Discontinue the use of CONFIG_SYS_FECI2C (only used by M5271EVB).
    Use read-modify-write to activate the FEC pins without disabling I2C.

    Signed-off-by: Richard Retanubun <RichardRetanubun@RuggedCom.com>

commit ee73cc59ab904976af3c33b454fc84f78618b2d1
Author: Richard Retanubun <RichardRetanubun@RuggedCom.com>
Date:	Fri Jan 23 09:45:34 2009 -0500

    Coldfire: cmd_bdinfo cleanup

    CONFIG_M68K bdinfo cleanup:

    Fixed compiler warning about baudrate printing.
    format '%d' expects type 'int', but argument 2 has type 'long unsigned int'.

    Added printing of "cpufreq"

    Signed-off-by: Richard Retanubun <RichardRetanubun@RuggedCom.com>

commit 4ffc39050aa46ed8a3d29732293dff769e54fffa
Author: Richard Retanubun <RichardRetanubun@RuggedCom.com>
Date:	Fri Jan 23 09:27:00 2009 -0500

    Coldfire: Fix half-baud UART by adding M5271 to Coldfire v2 core list

    Added the CONFIG_M5271 to the list of Coldfire V2 processor. This
    was causing the bus clock (not CPU clock) to be declared twice as
    fast as it actually is. This causes UARTS to operate at half the
    specified baudrate.

    Signed-off-by: Richard Retanubun <RichardRetanubun@RuggedCom.com>

commit 59d1bda7f92c8a28c3aba94e48063749d425949f
Author: Dirk Eibach <eibach@gdsys.de>
Date:	Tue Feb 3 15:15:21 2009 +0100

    ppc4xx: Make PCIE support selectable

    On some platforms PCIE support is not required, but would be included
    because the cpu supports it. To reduce fooprint it is now configurable
    via CONFIG_PCI_DISABLE_PCIE.

    Signed-off-by: Dirk Eibach <eibach@gdsys.de>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit b129eff5ede394cc1faeb6dbf6a987e91abce552
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Tue Feb 3 22:13:16 2009 +0100

    ppc4xx: Only fixup opb attached UARTs

    This patch updates the fdt UART clock fixup code to
    only touch CPU internal UARTs on 4xx systems.
    Only these UARTs are definitely clocked by gd->uart_clk.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 4b7e3d045cc82f7f7b6f3a19b54a814da36ac52c
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Tue Jan 13 11:00:29 2009 -0500

    Blackfin: move default boot SPI CS to common code

    Move the default SPI CS that we boot from into common code so that it can
    be used in other SPI drivers and environment settings.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit f790ef6ff12381cb0e43de54fb2b0f1204ad8ed6
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Dec 10 12:33:54 2008 -0500

    Blackfin: dynamically update UART speed when initializing

    Previously, booting over the UART required the baud rate to be known ahead
    of time.  Using a bit of tricky simple math, we can calculate the new board
    rate based on the old divisors.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Signed-off-by: Robin Getz <rgetz@blackfin.uclinux.org>

commit 97f265f14f23050f3cb997f617f3a6917b843ea2
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Tue Dec 9 17:21:08 2008 -0500

    Blackfin: add support for fast SPI reads with Boot ROM

    Newer Blackfin boot roms support using the fast SPI read command rather than
    just the slow one.	If the functionality is available, then use it.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 67619982bfc5cd62710a48e3cbffc304cb78c341
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Oct 11 21:46:52 2008 -0400

    Blackfin: check for reserved settings in DDR MMRs

    Some bits of the DDR MMRs should not be set.  If they do, bad things may
    happen (like random failures or hardware destruction).

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 622a8dc0958dd599743348ea94eb10b9d0be8ae6
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Oct 11 21:54:00 2008 -0400

    Blackfin: set default voltage levels for BF538/BF539 parts

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 09dc6b0bbd1d5e39cdddeebc059f9a75630e4f6f
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Jun 1 01:29:57 2008 -0400

    Blackfin: use on-chip syscontrol() rom function when available

    Newer Blackfin's have an on-chip rom with a syscontrol() function that needs
    to be used to properly program the memory and voltage settings as it will
    include (possibly critical) factory tested bias values.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit e1fb6d0d52fbe3fbc1a4c651dacf11e9c1417f63
Author: Stefan Roese <sr@denx.de>
Date:	Thu Feb 5 11:44:52 2009 +0100

    cfi_flash: Fix typo in cfi_flash.c

    Patch "flash/cfi_flash: Use virtual sector start address, not phys"
    introduced a small typo and compilation warning for systems with CFI
    legacy support (e.g. hcu4). This patch fixes it.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 28745db969b72693754991c838f68a7fb4a8b1ab
Author: Stefan Roese <sr@denx.de>
Date:	Thu Jan 29 11:21:38 2009 +0100

    jedec_flash: Only use manufacturer defines from common flash.h

    This patch removes the double defined manufacturer defines from
    jedec_flash.c. Since the common defines in flash.h are 32bit
    we now need the (16) cast. This patch also removes the compilation
    warning (e.g. seen on hcu5):

    ./MAKEALL hcu5
    Configuring for hcu5 board...
    jedec_flash.c:219: warning: large integer implicitly truncated to unsigned type

    Signed-off-by: Stefan Roese <sr@denx.de>

commit ec21d5cfcb6b4e7fcdd5c6e926e1a824900706f2
Author: Stefan Roese <sr@denx.de>
Date:	Thu Feb 5 11:25:57 2009 +0100

    cfi_flash: Silence compilation warning

    Patch "flash/cfi_flash: Use virtual sector start address, not phys"
    introduced a small compilation warning. This patch fixes it.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 09ce9921a7d8b1ce764656b14b42217bbf4faa38
Author: Becky Bruce <beckyb@kernel.crashing.org>
Date:	Mon Feb 2 16:34:51 2009 -0600

    flash/cfi_flash: Use virtual sector start address, not phys

    include/flash.h was commented to say that the address in
    flash_info->start was a physical address.  However, from u-boot's
    point of view, and looking at most flash code, it makes more
    sense for this to be a virtual address.  So I corrected the
    comment to indicate that this was a virtual address.

    The only flash driver that was actually treating the address
    as physical was the mtd/cfi_flash driver.  However, this code
    was using it inconsistently as it actually directly dereferenced
    the "start" element, while it used map_physmem to get a
    virtual address in other places.  I changed this driver so
    that the code which initializes the info->start field calls
    map_physmem to get a virtual address, eliminating the need for
    further map_physmem calls.	The code is now consistent.

    The *only* place a physical address should be used is when defining the
    flash banks list that is used to initialize the flash_info struct,
    usually found in the board config file.

    Signed-off-by: Becky Bruce <beckyb@kernel.crashing.org>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 657f2062d8e17ebf4a55f52c9e71c07c0c94c779
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Feb 4 09:42:20 2009 +0100

    Fix compiler warning

    (shows up only when DEBUG is enabled)

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 47832cd15ae02fb6fde8ebed5b272f85775f2ceb
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Oct 6 03:45:55 2008 -0400

    Blackfin: update anomaly lists

    Update the anomaly lists to match latest anomaly sheets.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 70a4da45e16b72e8e5b0baaecdaee9be8619647d
Author: Ralph Kondziella <rk@argos-messtechnik.de>
Date:	Mon Jan 26 12:34:36 2009 -0700

    ADS5121 Add PATA support

    Original patch from Ralph Kondziella
    plus clean up by Wolfgang Denk
    plus changes by John Rigby
	use ips clock not lpc
	port forward to current u-boot release

    Signed-off-by: Ralph Kondziella <rk@argos-messtechnik.de>
    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Signed-off-by: John Rigby <jrigby@freescale.com>

commit abfbd0ae4967df18102345db4f4b529a13da107b
Author: Martha Marx <mmarx@silicontkx.com>
Date:	Mon Jan 26 10:45:07 2009 -0700

    ADS5121 Add IC Ident Module (IIM) support

    IIM (IC Identification Module) is the fusebox for the mpc5121.
    Use #define CONFIG_IIM to turn on the clock for this module
    use #define CONFIG_CMD_FUSE to add fusebox commands.
    Fusebox commands include the ability to read
    the status, read the register cache, override the register cache,
    program the fuses and sense them.

    Signed-off-by: Martha Marx <mmarx@silicontkx.com>
    Signed-off-by: John Rigby <jrigby@freescale.com>

commit 14d19cd1bce9a24b1335598f1568140f4950e4d9
Author: John Rigby <jrigby@freescale.com>
Date:	Fri Jan 23 10:33:15 2009 -0700

    ADS5121 Fix rev2 silicon pci iopad config

    Reset config is not correct

    Signed-off-by: John Rigby <jrigby@freescale.com>

commit 4c154252c480b13f69ce1b71a9530b0515da76a6
Author: John Rigby <jrigby@freescale.com>
Date:	Wed Nov 19 13:57:34 2008 -0700

    ADS5121 DIU Add diu_bmp_addr env

    Add support for using a bmp other than
    FSL_Logo_BMP for the DIU splash screen.

    Can now set the env var "diu_bmp_addr" to
    the address of a BMP in flash to use instead
    of the default FSL_Logo_BMP.

    Signed-off-by: Martha Marx <mmarx@silicontkx.com>
    Signed-off-by: John Rigby <jrigby@freescale.com>

commit 92c20fbd3a7788c1a154f50a3f44f28a7763f99a
Author: John Rigby <jrigby@freescale.com>
Date:	Thu Oct 30 16:39:35 2008 -0600

    ADS5121 DIU Make inclusion of FSL logo optional

    Make inclusion of FSL logo optional and
    turn it off by default.

    Signed-off-by: John Rigby <jrigby@freescale.com>

commit bd99ec149abe94e7f6b2bda4766d701b4005053f
Author: Remy Bohmer <linux@bohmer.net>
Date:	Sun Feb 1 12:27:53 2009 +0100

    Compile warning fix in onenand_uboot.h

    Regression since merge window after 2009.01

    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit a270d1e7295c3d829f42c0480117941dfc1c6477
Author: Stefan Roese <sr@denx.de>
Date:	Thu Jan 29 06:33:55 2009 +0100

    USB: Add EHCI support for VCT EHCI controller (really with driver now)

    Somehow I missed the real driver part in my last patch version. This patch
    now adds the driver.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit 716ebf436c9e43df6740e0172f6b2a81ddbf1b8e
Author: Cliff Cai <cliff.cai@analog.com>
Date:	Sat Nov 29 18:22:38 2008 -0500

    Blackfin: add driver for on-chip MMC/SD controller

    This is a port of the Linux Blackfin on-chip SDH driver to U-Boot.

    Signed-off-by: Cliff Cai <cliff.cai@analog.com>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 6e87ea0ca951465eba144ab2e6dba6fb507737a2
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Oct 11 22:47:34 2008 -0400

    Blackfin: add port muxing for BF51x SPI

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit fc68f9f85959664d528daea2aef5ef54974331ce
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Tue Jan 6 06:16:19 2009 -0500

    Blackfin: output booting source when booting

    Knowing the booting source of the part is useful, especially when the part
    can switch dynamically between sources.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 8df3ce0f49c37947800ac7c84e751499882619fc
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Dec 11 06:30:46 2008 -0500

    Blackfin: set default CONFIG_ENV_SPI_CS based on bootrom

    Set the default CONFIG_ENV_SPI_CS value to match the SPI CS that is used by
    the Blackfin on-chip bootrom to boot out of SPI flash.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 2b4a486e6fac502d8b883e344cc4012283945b3d
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Dec 11 04:06:26 2008 -0500

    Blackfin: update asm-blackfin/posix_types.h to latest Linux version

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit e5eb93e77391bcc308697116c544ea1340aaae8a
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Dec 6 02:54:52 2008 -0500

    Blackfin: add port I bits

    Some people need to access port I, so make sure the pins are defined.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 8a6b272596d43de0db4943eac7af58c3534c4026
Author: Sonic Zhang <Sonic.Zhang@analog.com>
Date:	Wed Nov 26 22:16:45 2008 -0500

    Blackfin: add driver for on-chip ATAPI controller

    This is a port of the Linux Blackfin on-chip ATAPI driver to U-Boot.

    Signed-off-by: Sonic Zhang <Sonic.Zhang@analog.com>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit be9d8c780e6831cb84b7d4590ceae03dca8fc10b
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Nov 26 21:43:06 2008 -0500

    Blackfin: add driver for on-chip NAND controller

    This is a port of the Linux Blackfin on-chip NFC driver to U-Boot.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 4148e02abae9a099f4444b5e168ebc2b911d2295
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Nov 12 07:18:15 2008 -0500

    Blackfin: build with -mno-fdpic

    Use the -mno-fdpic flag so that any Blackfin toolchain can be used to build
    up u-boot, including ones that output FDPIC ELF by default.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 70e95589a24a2d83ad00317e4a9611d0211ecb58
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Tue Nov 11 05:43:57 2008 -0500

    Blackfin: fix up EBIU defines

    The EBIU defines for EBSZ 256/512 were incorrect.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 961954ea0ec8dc4341034c1a1ff3107ec0527809
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Nov 5 12:45:24 2008 -0500

    Blackfin: use 8/16/32 bit transfer widths in dma_memcpy()

    Rather than using 8bit transfers for everything, use 8/16/32 bit transfers
    as usable with the source/destination addresses and the count size.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit b93c68648426f906d63b98117496b6415f505f39
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Nov 5 08:50:23 2008 -0500

    Blackfin: only flag L1 instruction for DMA memcpy

    The performance difference from doing an 8 bit DMA memcpy vs an optimized
    core memcpy can be pretty big when you add in the overhead of setting up the
    MDMA registers, cache flushes, etc...  So only use dma_memcpy() when we
    actually require it.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit e347c092a3b3a2ce1e72f25f4829163634d09fbe
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Nov 5 07:20:37 2008 -0500

    Blackfin: dma_memcpy(): fix random failures

    We have to make sure the DMA channel is actually disabled in hardware before
    attempting to reprogram it.  Otherwise the new settings are ignored and we
    end up with random hangs/failures.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit fdce83c108846d6f0d5b1774e1cc29f2573a6ad3
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Tue Nov 4 00:04:03 2008 -0500

    Blackfin: rewrite cache handling functions

    Take the cache flush functions from the kernel as they use hardware loops in
    order to get optimal performance.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 84c5f0dc47d17593fd81206614891bdc94f6d51c
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Nov 3 22:30:05 2008 -0500

    Blackfin: setup bi_enetaddr for single nets

    For systems with CONFIG_NET_MULTI disabled, bi_enetaddr does not get setup
    based on $ethaddr, so set it up.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 40599239e7875b39e2a5c12e6545992041c72c52
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Fri Oct 24 22:48:47 2008 -0400

    Blackfin: cache core/system clock values

    Calculating the clocks requires a bit of calls to gcc math functions, so
    cache the values after the first run since they'll most likely never
    change once U-Boot is up and running.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 6957a6209b02f6b69607fc47425f13731cc477f1
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Fri Oct 24 18:18:16 2008 -0400

    Blackfin: enable --gc-sections

    Start building all Blackfin boards with -ffunction-sections/-fdata-sections
    and linking with --gc-sections.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit ee1d2001ea7fbabb2b9256026dc5468f057337f8
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Oct 20 21:08:54 2008 -0400

    Blackfin: dont check baud if it wont actually get used

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 400f5778f375bc99c73c8488c555def261ccfab7
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Tue Oct 14 07:54:09 2008 -0400

    Blackfin: add driver for on-chip SPI controller

    This fills out the SPI backend for the Blackfin on-chip SPI peripheral.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 7a1e87b1062e6eac0704c6fc2f7c661caf8814cd
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Oct 18 05:33:51 2008 -0400

    Blackfin: only build post code when CONFIG_POST

    Save some time by using CONFIG_POST in the Makefile rather than C files.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 6d7d4803c74bb86e1b401b1199e63381a62b9382
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Jan 8 11:57:57 2009 -0500

    Blackfin: bfin_mac: cleanup pointer/casts for aliasing issues

    Redo how pointers are managed to get rid of ugly casts and strict pointer
    aliasing issues that are highlighted by gcc 4.3.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Acked-by: Ben Warren <biggerbadderben@gmail.com>

commit 092d2487baf7c29343c165e3ae82ea8a7f9e679b
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Tue Dec 9 17:46:21 2008 -0500

    Blackfin: bfin_mac: convert CONFIG_BFIN_MAC_RMII to CONFIG_RMII

    No point in having a Blackfin-specific define "CONFIG_BFIN_MAC_RMII" that
    does exactly the same thing as common "CONFIG_RMII".

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Acked-by: Ben Warren <biggerbadderben@gmail.com>

commit 8eed6ca51e50fade6887e8bdb1ff6a44116b42b5
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Nov 5 06:36:15 2008 -0500

    Blackfin: bfin_mac: use common debug()

    Rather then defining our own DEBUGF(), just use the common debug().

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Acked-by: Ben Warren <biggerbadderben@gmail.com>

commit a7ec6ac8b2c6dce6fc670a2a855deb6eee340e04
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Oct 20 13:59:51 2008 -0400

    Blackfin: bfin_mac: respect CONFIG_PHY_{ADDR,CLOCK_FREQ}

    Rather than having the on-chip MAC hardcoded to phy address 1 and a speed
    of 2.5mhz, use these as defaults if the board doesn't specify otherwise.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Acked-by: Ben Warren <biggerbadderben@gmail.com>

commit ac45af4e63ea925f4accc98453aab1a1166c196d
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Tue Oct 14 04:52:00 2008 -0400

    Blackfin: bfin_mac: cleanup MII/PHY functions

    Cleanup and rewrite the MII/PHY related functions so that we can reuse the
    existing common linux/miiphy.h code and hook into the `mii` command.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Acked-by: Ben Warren <biggerbadderben@gmail.com>

commit 6b310a05f0d10c751f22468040932139f71c71d3
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Tue Oct 14 00:31:30 2008 -0400

    Blackfin: bfin_mac: set MDCDIV based on SCLK

    Rather than hardcoding MDCDIV to 24 (which is correct for ~125mhz SCLK),
    use the real algorithm so it gets set correctly regardless of SCLK.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Acked-by: Ben Warren <biggerbadderben@gmail.com>

commit 930590f3e49c8f32256edf2e5861e1535a329c6c
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Jan 31 09:10:48 2009 +0100

    ixp: move serial to drivers/serial

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit f90c8022f448bc5e93090e4b714368e52e912f0f
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Jan 31 09:04:58 2009 +0100

    ixp: move pci init in arm/board instead of cpu

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 8cb79b5f275f1888ccb278a2d2197140444a84b7
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Jan 31 08:56:49 2009 +0100

    ixp: move pci drivers to drivers/pci

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 012d5bab09a534e4800b02f50cf508e6837202ea
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Jan 31 08:53:44 2009 +0100

    ixp: Move conditional compilation to Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit f693f501d67434df1f815fd1824a71973ae08207
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Jan 31 08:53:44 2009 +0100

    ixp: add missing os define

    need by arm-elf toolchains and no impact on the arm-linux one

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit b4e2f89dfcb206a22d34fa6b34878d85b498b39f
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Jan 31 09:53:39 2009 +0100

    ixp: remove the option to include the Microcode

    instead the board will have to load it from flash or ram
    which will be specified by npe_ucode env var

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 1b017baf2071d8daf643bce87250db898c606c66
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Jan 30 09:45:23 2009 +0100

    ixp/npe: Move conditional compilation to Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 4e69087a1d6ef2eca6f46026cf5e7399b6c9e7c0
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Jan 28 21:58:04 2009 +0100

    SX1: add hardware V2 support

    In the V2 the 2 flash has been replace by one 32MB flash

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit f877f2233dbcd7417c2f0babe6a849099b167f3c
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Jan 28 21:58:03 2009 +0100

    SX1: Fix second flash mapping

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 47fd3bffed6430c91eb2660f859574ed98be5bd8
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Jan 28 21:58:03 2009 +0100

    SX1: add CONFIG_STDOUT_USBTTY to enable preboot stdout redirect to usbtty

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit cfca33837ec83829c6a49c3bcc86c31bc2495ff6
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Jan 28 21:57:59 2009 +0100

    move Samsung's board to board/samsung

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit e4943ec57466ea5dfa085e7a9e0ec44cb93c4e1e
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Thu Jan 29 12:07:21 2009 +0100

    move ARM Ltd. to vendor dir

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit a87fb1b308a2a375cb9ca74ca0dd3e2c5793d3bf
Author: Larry Johnson <lrj@acm.org>
Date:	Wed Jan 28 15:30:37 2009 -0500

    ppc4xx: Clean up configuration file for Korat board

    This patch updates the default environmental variables for the
    Korat PPC 440EPx board, and makes additional minor fixes.

    Signed-off-by: Larry Johnson <lrj@acm.org>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit f20405e31680efc36293c59b4963db57c9d93df4
Author: Larry Johnson <lrj@acm.org>
Date:	Wed Jan 28 15:30:02 2009 -0500

    ppc4xx: Add variable "korat_usbcf" for Korat board

    The new environment variable "korat_usbcf" selects the USB
    port used by the Korat board's CompactFlash controller.

    Signed-off-by: Larry Johnson <lrj@acm.org>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit fc01ea1e27d5b124f0a1868d0ce569f156d58dfe
Author: Gunnar Rangoy <gunnar@rangoy.com>
Date:	Fri Jan 23 12:56:31 2009 +0100

    AVR32: macb - Search for PHY id

    This patch adds support for searching through available PHY-addresses in
    the macb-driver. This is needed for the ATEVK1100 evaluation board,
    where the PHY-address will be initialized to either 1 or 7.

    This patch adds a config option, CONFIG_MACB_SEARCH_PHY, which when
    enabled tells the driver to search for the PHY address.

    Signed-off-by: Gunnar Rangoy <gunnar@rangoy.com>
    Signed-off-by: Paul Driveklepp <pauldriveklepp@gmail.com>
    Signed-off-by: Olav Morken <olavmrk@gmail.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit af8626e0c08a780d9ded1d9c4883a89355f60e75
Author: Olav Morken <olavmrk@gmail.com>
Date:	Fri Jan 23 12:56:26 2009 +0100

    Fix IP alignment problem

    This patch removes volatile from:
    volatile IP_t *ip = (IP_t *)xip;

    Due to a bug, avr32-gcc will assume that ip is aligned on a word boundary when
    using volatile, which causes an exception since xip isn't aligned on a word
    boundary.

    Signed-off-by: Gunnar Rangoy <gunnar@rangoy.com>
    Signed-off-by: Paul Driveklepp <pauldriveklepp@gmail.com>
    Signed-off-by: Olav Morken <olavmrk@gmail.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 12a8b9db12f82a189ff143a58731007f5469da61
Author: Ron Madrid <ron_madrid@sbcglobal.net>
Date:	Wed Jan 28 16:17:21 2009 -0800

    Marvell 88E1118 interrupt fix

    This patch adjusts the LED control so that interrupt lines are not reading LEDs
    and effectively causing indefinite interrupts to the controller.

    Signed-off-by: Ron Madrid <ron_madrid@sbcglobal.net>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 9a37f2acc31a3296dddd3574ea9eaf7f319807b9
Author: Stefan Roese <sr@denx.de>
Date:	Wed Jan 21 17:14:26 2009 +0100

    net: smc911x.c: Add LAN9211 to chip_ids[] array

    Signed-off-by: Stefan Roese <sr@denx.de>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 75edebe3011c963a7cd84be0f4a987477f2aaf89
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Tue Jan 27 16:53:39 2009 -0500

    Move is_valid_ether_addr() to include/net.h

    Import the is_valid_ether_addr() function from the Linux kernel.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 268859338c0188eab1d0d3b867b7dad3c5cc734a
Author: Michal Simek <monstr@monstr.eu>
Date:	Mon Jan 5 12:25:13 2009 +0100

    net: Sort Makefile labels

    Signed-off-by: Michal Simek <monstr@monstr.eu>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 1fbcbe9a95f39afb2df6ab8cba25b284b47ebfb2
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Jan 28 23:06:42 2009 +0100

    85xx: Fix compile breakage with sbc8540 and sbc8560

    This fixes an error which raises just a warning:
    sbc8560.c:250: warning: passing argument 2 of 'strmhz' makes integer from pointer without a cast

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 62625c0b081bd4019cecab14e9fc2e05e48d2a58
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Jan 28 13:48:55 2009 -0500

    SPD823TS: do not define CONFIG_CMD_ENV

    Since the SPD823TS board does not actually have any writable flash to save
    its environment, undefine CONFIG_CMD_ENV so the "saveenv" command is
    disabled.

    This fixes the build error:
    common/libcommon.a(cmd_nvedit.o): In function `do_saveenv':
    common/cmd_nvedit.c:557: undefined reference to `saveenv'
    make: *** [u-boot] Error 1

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 7379f45a7bc71941c3920c2f6b3c3faa4d7fd315
Author: Dirk Behme <dirk.behme@googlemail.com>
Date:	Wed Jan 28 21:40:16 2009 +0100

    OMAP3: Add Zoom1 board support

    Support for Zoom MDK with OMAP3430. Details of Zoom MDK available here:
    http://www.logicpd.com/products/devkit/ti/zoom_mobile_development_kit

    Signed-off-by: Nishanth Menon <nm@ti.com>
    Signed-off-by: Jason Kridner <jkridner@beagleboard.org>

commit 2be2c6cc674e26237962f5cf4c0d311e139e4241
Author: Dirk Behme <dirk.behme@googlemail.com>
Date:	Wed Jan 28 21:39:58 2009 +0100

    OMAP3: Add Pandora support

    Add Pandora support.

    Signed-off-by: Grazvydas Ignotas <notasas@gmail.com>
    Signed-off-by: Dirk Behme <dirk.behme@googlemail.com>
    Signed-off-by: Jason Kridner <jkridner@beagleboard.org>

commit ad9bc8e52d174d699d1367be0b90089e4fdeb933
Author: Dirk Behme <dirk.behme@googlemail.com>
Date:	Wed Jan 28 21:39:58 2009 +0100

    OMAP3: Add EVM board

    Add EVM board support.

    Signed-off-by: Manikandan Pillai <mani.pillai@ti.com>
    Signed-off-by: Dirk Behme <dirk.behme@googlemail.com>
    Signed-off-by: Jason Kridner <jkridner@beagleboard.org>

commit 9d0fc8110e7e755239329c26f300d5fc9946d3ec
Author: Dirk Behme <dirk.behme@googlemail.com>
Date:	Wed Jan 28 21:39:57 2009 +0100

    OMAP3: Add Overo board

    Add Overo board support.

    Signed-off-by: Steve Sakoman <sakoman@gmail.com>
    Signed-off-by: Dirk Behme <dirk.behme@googlemail.com>
    Signed-off-by: Jason Kridner <jkridner@beagleboard.org>

commit f904cdbb68167c647887f19929ad295dbaac8862
Author: Dirk Behme <dirk.behme@googlemail.com>
Date:	Tue Jan 27 18:19:12 2009 +0100

    OMAP3: Add common power code, README, and BeagleBoard

    Add BeagleBoard support, common power code and README.

    Signed-off-by: Jason Kridner <jkridner@beagleboard.org>
    Signed-off-by: Dirk Behme <dirk.behme@googlemail.com>

commit 9cda4f104b5313fadc21b75aa781c7a6aaf6ea60
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Jan 28 08:31:10 2009 -0600

    85xx: Fix compile breakage with MPC8540EVAL

    Configuring for MPC8540EVAL board...
    mpc8540eval.c: In function 'checkboard':
    mpc8540eval.c:53: error: invalid operands to binary /
    make[1]: *** [mpc8540eval.o] Error 1

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 1a448db77b10153703bc5e4ad13dd55d88beb1d6
Author: Bryan Wu <bryan.wu@analog.com>
Date:	Sun Jan 18 23:04:27 2009 -0500

    usb_scan_devices: fix output with no devices

    We should check the return of usb_new_device() so that if no USB device is
    found, we print out the right message rather than always saying "new usb
    device found".

    Signed-off-by: Bryan Wu <bryan.wu@analog.com>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit f1c1f540243438246aefb703fdcf16957e3a72e1
Author: Stefan Roese <sr@denx.de>
Date:	Thu Jan 22 10:11:21 2009 +0100

    USB: Add high-speed (480Mb/s) to all USB related outputs

    With this patch the USB related connection speed output ("usb tree" command and
    debug output) is now high-speed enabled.

    This patch also fixes a compilation warning when debugging is enabled.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit daa2dafb450a8073a4e42fd46cd4e995b208e4cb
Author: Stefan Roese <sr@denx.de>
Date:	Wed Jan 21 17:12:19 2009 +0100

    USB: Add dcache support to the EHCI driver

    This patch adds routines to handle (flush/invalidate) the dcache for the
    QH and qTD structures and data buffers. This is needed on platforms using
    this EHCI support with dcache enabled (like the MIPS VCT board port).

    Signed-off-by: Stefan Roese <sr@denx.de>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit 4e0ea0efc1e501186aca8577a4042fc6fa641602
Author: Stefan Roese <sr@denx.de>
Date:	Wed Jan 21 17:12:28 2009 +0100

    USB: Add EHCI support for VCT EHCI controller

    Signed-off-by: Stefan Roese <sr@denx.de>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit 832e61418eedfea172bd2fdfd0ea0d199cc70a9d
Author: Stefan Roese <sr@denx.de>
Date:	Wed Jan 21 17:12:10 2009 +0100

    USB: Add config option to call ehci_hcd_init() again after EHCI reset

    This patch adds the config option CONFIG_EHCI_HCD_INIT_AFTER_RESET
    to call ehci_hcd_init() again after ehci_reset() is executed. This
    is needed for the upcoming VCT EHCI support which needs to re-init
    the hcd part again after the EHCI CMD_RESET is executed.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit 597eb28bd9691266b7b804364cda577cdb51d106
Author: Stefan Roese <sr@denx.de>
Date:	Wed Jan 21 17:12:01 2009 +0100

    USB: Fix speed detection on EHCI cntr with root hub transaction translators

    This patch fixes an issue that the speed of USB devices was not detected
    correctly on some EHCI controllers. This will be used on the upcoming VCT
    EHCI support.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit 20cc06611ea33fc0a67a5e56e6476379d2de3091
Author: Thomas Abraham <t-abraham@ti.com>
Date:	Sun Jan 4 09:41:20 2009 +0530

    usb : musb : Enabling USB MSC support for DM6446 (TI DaVinci) platform

    Enabling USB MSC support for DM6446 (TI DaVinci) platform in the
    configuration file.

    Signed-off-by: Ravi Babu <ravibabu@ti.com>
    Signed-off-by: Swaminathan S <swami.iyer@ti.com>
    Signed-off-by: Thomas Abraham <t-abraham@ti.com>
    Signed-off-by: Ajay Kumar Gupta <ajay.gupta@ti.com>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit 538ef967715322f64ee08efa2296d9682111b014
Author: Thomas Abraham <t-abraham@ti.com>
Date:	Sun Jan 4 09:41:16 2009 +0530

    usb : musb : Enabling DM6446 (TI DaVinci) USB module power

    Enabling DM6446 (TI DaVinci) USB module power and MUSB low-level
    controller hook up to USB core layer.

    Signed-off-by: Ravi Babu <ravibabu@ti.com>
    Signed-off-by: Swaminathan S <swami.iyer@ti.com>
    Signed-off-by: Thomas Abraham <t-abraham@ti.com>
    Signed-off-by: Ajay Kumar Gupta <ajay.gupta@ti.com>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit e142e9f35f8ec61e74bf8019428b003f5070c33b
Author: Thomas Abraham <t-abraham@ti.com>
Date:	Sun Jan 4 09:41:13 2009 +0530

    usb : musb : Adding DM6446 (TI DaVinci) platform specific USB support

    Adding DM6446 (TI DaVinci) platform specific USB functionality for
    USB Phy and VBUS initialization.

    Signed-off-by: Ravi Babu <ravibabu@ti.com>
    Signed-off-by: Swaminathan S <swami.iyer@ti.com>
    Signed-off-by: Thomas Abraham <t-abraham@ti.com>
    Signed-off-by: Ajay Kumar Gupta <ajay.gupta@ti.com>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit a9d39ebe91ecdd5ac0a0cf56ea162a19773db8da
Author: Thomas Abraham <t-abraham@ti.com>
Date:	Sun Jan 4 09:41:09 2009 +0530

    usb : musb : Adding USB VBUS enable functionality for DM644x DVEVM

    Adding USB VBUS enable functionality for DM644x DVEVM (TI DaVinci)
    platform.

    Signed-off-by: Ravi Babu <ravibabu@ti.com>
    Signed-off-by: Swaminathan S <swami.iyer@ti.com>
    Signed-off-by: Thomas Abraham <t-abraham@ti.com>
    Signed-off-by: Ajay Kumar Gupta <ajay.gupta@ti.com>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit a142896934c755e679ba87e227a8e449f39b0012
Author: Thomas Abraham <t-abraham@ti.com>
Date:	Sun Jan 4 09:41:03 2009 +0530

    usb : musb : Adding host controller driver for Mentor USB controller

    Adding Mentor USB core functionality and Mentor USB Host controller
    functionality for Mentor USB OTG controller (musbhdrc).

    Signed-off-by: Ravi Babu <ravibabu@ti.com>
    Signed-off-by: Swaminathan S <swami.iyer@ti.com>
    Signed-off-by: Thomas Abraham <t-abraham@ti.com>
    Signed-off-by: Ajay Kumar Gupta <ajay.gupta@ti.com>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit c7d703f3f3c3d6b020bda4cf633f8a6167c3cd2a
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Jan 1 18:27:27 2009 -0500

    usb.h: use standard __LITTLE_ENDIAN from Linux headers

    Rather than forcing people to define a custom "LITTLEENDIAN", just use the
    __LITTLE_ENDIAN one from the Linux byteorder headers that every arch is
    already setting up.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit 7b6e31eb17e3ff76238a60803fc531517d516223
Author: Michael Trimarchi <trimarchi@gandalf.sssup.it>
Date:	Wed Dec 31 10:33:56 2008 +0100

    USB ehci ixp4xx support

    Add USB ehci ixp4xx host controller. Test on ixdp465 board.

    Signed-off-by: Michael Trimarchi <trimarchimichael@yahoo.it>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit 1ed9f9adc88218841dfeb60b9094a5a548bff009
Author: Michael Trimarchi <trimarchi@gandalf.sssup.it>
Date:	Wed Dec 31 10:33:22 2008 +0100

    USB ehci remove infinite loop and use handshake function

    USB ehci code cleanup. Use handshake instead of infinite while loop
    to check the STD_ASS status

    Signed-off-by: Michael Trimarchi <trimarchimichael@yahoo.it>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit 8fea2914ac974029b65926ef8247d908f84d202d
Author: Michael Trimarchi <trimarchi@gandalf.sssup.it>
Date:	Wed Dec 31 10:32:41 2008 +0100

    Add initial support for USB ehci pci

    Add USB ehci pci support. This patch doesn't include any
    pci_ids and it is not tested on real hardware.

    Signed-off-by: Michael Trimarchi <trimarchimichael@yahoo.it>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit 14e4111cdab7e7738ff6a203d445e4d8377f058f
Author: Bryan Wu <Bryan.Wu@analog.com>
Date:	Thu Jan 1 19:48:07 2009 -0500

    usb_storage: do not reset SanDisk Corporation U3 Cruzer Micro USB thumb drive

    The SanDisk Corporation U3 Cruzer Micro 1/4GB Flash Drive 000016244373FFB4
    does not like to be reset, so check for it.

    Signed-off-by: Bryan Wu <bryan.wu@analog.com>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit 1eb734fed3b79a5e6106dad16e88041894fdab30
Author: Thomas Abraham <t-abraham@ti.com>
Date:	Sun Jan 4 12:15:35 2009 +0530

    usb : usb_kbd : Populating 'priv' member of USB keyboard device_t structure

    This patch populates the 'priv' field of the USB keyboard device_t
    structure. The 'priv' field is populated with the address of the
    'struct usb_device' structure that represents the USB device.

    The 'priv' field can then be used in the 'usb_event_poll' function to
    determine the USB device that requires to be polled. An
    example of its usage in 'usb_event_poll' function is as below.

	device_t *dev;
	struct usb_device *usb_kbd_dev;

	<snip>

	dev = device_get_by_name("usbkbd");
	usb_kbd_dev = (struct usb_device *)dev->priv;
	iface = &usb_kbd_dev->config.if_desc[0];

    Signed-off-by: Thomas Abraham <t-abraham@ti.com>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit 366523c26b6320af171459b19e6e0e9e3baa83ca
Author: Michael Trimarchi <trimarchi@gandalf.sssup.it>
Date:	Thu Dec 18 10:05:37 2008 +0100

    USB change speed

    USB changes the speed according to the port status

    Signed-off-by: Michael Trimarchi <trimarchimichael@yahoo.it>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit c0d722fe7ee1cb452dfd9246419188b3f6d9c4df
Author: Remy Bhmer <linux@bohmer.net>
Date:	Sat Dec 13 22:51:58 2008 +0100

    EHCI fix code and ixp4xx test.
    USB ehci configuration parameter:

    #define CONFIG_CMD_USB	    1
    #define CONFIG_USB_STORAGE	    1
    #define CONFIG_USB_EHCI
    #define CONFIG_USB_EHCI_IXP4XX	1
    #define CONFIG_EHCI_IS_TDI	1
    #define CONFIG_EHCI_DESC_BIG_ENDIAN     1
    #define CONFIG_EHCI_MMIO_BIG_ENDIAN     1
    #define CONFIG_SYS_USB_EHCI_MAX_ROOT_PORTS 2
    #define CONFIG_LEGACY_USB_INIT_SEQ	    1

    2 USB Device(s) found
	   scanning bus for storage devices... 0 Storage Device(s) found
    => usb tree

    Device Tree:
      1  Hub (1.5MBit/s, 0mA)
      |  u-boot EHCI Host Controller
      |
      |+-2  Mass Storage (12MBit/s, 100mA)
	   Sony Storage Media 0C07040930296

    =>

    Signed-off-by: Michael Trimarchi <trimarchimichael@yahoo.it>
    Signed-off-by: Remy Bhmer <linux@bohmer.net>

commit 51ab142b8b546d5e627b2c8c36d0adae222565f7
Author: michael <michael@panicking.retis>
Date:	Thu Dec 11 13:43:55 2008 +0100

    [PATCH] This patch add varius fix to the ehci.
    - fix ehci_readl, ehci_writel
    - introduce new define in ehci.h
    - introduce the handshake function for waiting on a register
    - fix usb_ehci_fsl with the new HC_LENGTH macro

    Signed-off-by: Michael Trimarchi <trimarchimichael@yahoo.it>
    Signed-off-by: Remy Bhmer <linux@bohmer.net>

commit db63299b1dd2894ade542278210bccd046de6435
Author: michael <michael@panicking.retis>
Date:	Wed Dec 10 17:55:19 2008 +0100

    [PATCH] Fix EHCI usb. I start to test on a
    IXP465 board and I find some errors in the code. This
    patch fix:
    - descriptor initizialization (config, interface and endpoint
      must be one next-to the other when the USB_DT_CONFIG message
      is send.
    - FIX little/endian bigendian (introduce the CONFIG_EHCI_DESC_BIG_ENDIAN
      and the CONFIG_EHCI_MMIO_BIG_ENDIAN)
    - Introduce the linux version of the usb_config_descriptor and
      usb_interface descriptor. This descriptor does't contains
      u-boot extension.

    Signed-off-by: Michael Trimarchi <trimarchimichael@yahoo.it>
    Signed-off-by: Remy Bhmer <linux@bohmer.net>

commit 6b92487dcf9afe83a3570153d66940fdb293be76
Author: Michael Trimarchi <trimarchi@gandalf.sssup.it>
Date:	Fri Nov 28 13:22:09 2008 +0100

    USB ehci freescale support

    Add USB ehci freescale support

    Signed-off-by: Michael Trimarchi <trimarchi@gandalf.sssup.it>
    Signed-off-by: Remy Bhmer <linux@bohmer.net>

commit aaf098cfeed04595d4c5100ffd39095d79edbf90
Author: Michael Trimarchi <trimarchi@gandalf.sssup.it>
Date:	Fri Nov 28 13:20:46 2008 +0100

    USB ehci core support

    Add USB ehci core support

    Signed-off-by: Michael Trimarchi <trimarchi@gandalf.sssup.it>
    Signed-off-by: Remy Bhmer <linux@bohmer.net>

commit 3e126484df7868e341545cce740b24b62b0cd3b7
Author: Michael Trimarchi <trimarchi@gandalf.sssup.it>
Date:	Fri Nov 28 13:19:19 2008 +0100

    Prepare USB layer for ehci

    Prepare USB layer for ehci support

    Signed-off-by: Michael Trimarchi <trimarchi@gandalf.sssup.it>
    Signed-off-by: Remy Bhmer <linux@bohmer.net>

commit a0cb3fc31e58996a1c5732715ac04159d4d284fd
Author: Michael Trimarchi <trimarchi@gandalf.sssup.it>
Date:	Wed Dec 10 15:52:06 2008 +0100

    USB storage cleanup patch

    Cleanup usb storage

    Signed-off-by: Michael Trimarchi <trimarchimichael@yahoo.it>
    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit fe033ad6d0883063fe857237abb9436fab03208c
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Oct 12 06:02:55 2008 -0400

    Blackfin: fixup misc warnings such as printf's and missing casts

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 1f4a3bb50343719c434d7e2541a2f86480a6d25c
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Oct 12 22:09:26 2008 -0400

    Blackfin: convert old boards to use COBJS-y Makefile style

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 1f75d6f0ff005762d3e6ad92ae4ce2ab366b3bb5
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Oct 11 22:38:37 2008 -0400

    Blackfin: bf533-stamp: rewrite resource swap logic

    The old swap function tended to clobber unrelated pins and screw up masks.
    Rewrite the thing from scratch so it only uses the resources it needs.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 29d4ea0a9073c82469184331010136f52edf8db6
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Oct 11 22:08:42 2008 -0400

    Blackfin: bootldr: implement BF53x/BF56x LDR loader

    The BF53x/BF56x parts do not have an on-chip ROM to boot LDRs out of
    arbitrary memory locations, so implement a basic one in software.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 8b35e3aeff6c2d747c37697997b3f8a808432329
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Oct 11 22:05:42 2008 -0400

    Blackfin: implement real write support for OTP

    Now that real documentation has been released for the OTP interface and
    the on-chip ROM wrt writing/timings, implement support for reading/writing
    as well as dumping/locking.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 9372c3214808fab545227d8d0f76b3bfcc6760ec
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Oct 11 22:04:05 2008 -0400

    Blackfin: update on-chip ROM API

    This brings the API for the on-chip ROM in line with the toolchain and
    hardware documentation.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 7633903bff432ec7b27905dce7396958553f2be6
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Oct 11 21:52:17 2008 -0400

    Blackfin: allow serial console to be disabled

    Some devices have no UART device pulled out, so allow people to disable the
    driver completely in favor of other methods (like JTAG-console).

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 36ea8e9ad1107af12d244bba8c73e85b9f655e45
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Oct 11 21:51:20 2008 -0400

    Blackfin: support console-over-JTAG

    The Blackfin JTAG has the ability to pass data via a back-channel without
    halting the processor.  Utilize that channel to emulate a console.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit cf8f2efb5f39c5225da92391c14a07eecbeca881
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Oct 11 21:49:06 2008 -0400

    Blackfin: handle new anomalies with reset

    Workaround fun new anomalies related to software reset of the processor.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit b1e9435b643043dd8fbd1fcc47309c6acb7b3c8e
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Oct 11 21:44:00 2008 -0400

    Blackfin: pass RETX to Linux

    Make sure we save the value of RETX at power on and then pass it on to the
    kernel so that it can nicely debug a "double-fault-caused-a-reset" crash.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit b5eba3fafcccd1979380f12a256bd0e19be3d61e
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Oct 11 21:40:26 2008 -0400

    Blackfin: clarify relocation comment during init

    People often ask questions about the init process and when things go
    from flash to relocated base, so clarify the comments a bit.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 95433f6d43ede6b40c1d900f3f704c839aa074f1
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Oct 11 21:23:41 2008 -0400

    Blackfin: just set SP register directly during init

    No need to set the SP register indirectly to the configured value when it
    can be set directly.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 51230e6e356ccf4c932e0c4ff54f1e49da02285c
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Oct 11 21:15:53 2008 -0400

    Blackfin: add portmuxing for UARTs on the BF51x

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 4f6a313240c531042f16909a3a170ab047b95779
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Jun 1 01:26:29 2008 -0400

    Blackfin: respect CONFIG_CLKIN_HALF

    As pointed out by Ivan Koryakovskiy, the initialization code was not
    actually respecting the CONFIG_CLKIN_HALF option when configuring the
    PLL_CTL register.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit dc2bfb0b58d7462b9eba68f3ae38e38cada0ad33
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Jun 1 01:21:34 2008 -0400

    Blackfin: use common memcpy routine during init

    Rather than using a local custom memcpy function, just call the existing
    optimized Blackfin version.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 362c943347364e9373af4c5530778491ab56ec2e
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Apr 9 02:27:06 2008 -0400

    Blackfin: set default boot SPI CS for BF538/BF539

    The BF538/BF539 use CS2 for booting off of rather than CS1 like newer
    Blackfin parts.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 74dde80bd5d55bc146630853ca191aaeea7c30f4
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Apr 9 02:20:59 2008 -0400

    Blackfin: punt unused BF533-STAMP definitions

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit fee531eeefc3b5f2c63c7fe27b9f55d924c59c26
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Fri Apr 18 20:44:11 2008 -0400

    Blackfin: resurrect BF533-STAMP video splash driver

    This video driver used to live in the Blackfin cpu directory, but it was
    lost during the unification process.  This brings it back.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit a750d038f2548d846ea1e046d873dc932d041319
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Apr 9 02:31:29 2008 -0400

    Blackfin: tighten up post memory coding style

    No functional changes here; just cleanup code style a bit.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 0649908f92c9bd214dd139aa3d4698c1654a45c6
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Apr 9 02:29:18 2008 -0400

    Blackfin: bf537-stamp nand: fix more style errors in previous commit

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 41f3325ae9add641036d7cb362e884b698e53f07
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Oct 11 20:31:17 2008 -0400

    Blackfin: drop dead/wrong debug code in initdram()

    The DEBUG code in initdram() is quite old and was never really useful, so
    just drop it altogether.  Common Blackfin debug code does a better job.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 65ba1abd3b90e0b2585745809b78e2651bd3bacb
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Oct 11 20:30:28 2008 -0400

    Blackfin: bf533-ezkit: shuffle flash defines a little

    Some of the flash defines weren't in the correct location and caused build
    problems in some configurations, so let's move types and defines to better
    local locations.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit be853bf86b41e91f4c422f0f56fdf87ea3191266
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Oct 6 04:16:47 2008 -0400

    Blackfin: overhaul i2c driver

    The current Blackfin i2c driver does not work properly with certain devices
    due to it breaking up transfers incorrectly.  This is a rewrite of the
    driver and relocates it to the newer place in the source tree.

    Also remove duplicated I2C speed defines in Blackfin board configs and
    disable I2C slave address usage since it isn't implemented.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit b6edc719a106ab7fa6e6950b4d97bc39c1368e45
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Oct 6 04:00:07 2008 -0400

    Blackfin: respect CONFIG_SYS_MONITOR_LEN for default flash protection

    Respect the CONFIG_SYS_MONITOR_LEN define rather than assuming a size of
    128kB when setting up the default flash protection region for U-Boot
    itself.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 78a0ba7dc24c9682371f6ee8549b569fb573a329
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Oct 6 03:57:39 2008 -0400

    Blackfin: respect/check CONFIG_SYS_GBL_DATA_SIZE

    When setting up the global data, rather than relying on sizeof(), use the
    common CONFIG_SYS_GBL_DATA_SIZE define.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 01815c2d06c5b838f2cd536703e47bd2c9148194
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Oct 6 03:52:24 2008 -0400

    Blackfin: implement general support for CONFIG_STATUS_LED

    Here are the Blackfin-specific and board-independent pieces for status leds.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 6882b5a79a3247494b62c05015fa672557f1bfaa
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Oct 6 03:49:32 2008 -0400

    Blackfin: do not init i2c in Blackfin board init

    The common code takes care of calling i2c_init() when needed, so no point
    in us doing it as well.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 1118ea73698eee6e72ef5cbfc00e41746040304f
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Oct 6 03:42:20 2008 -0400

    Blackfin: bfin_mac: update port muxing

    Adds support more Blackfin parts and fixes broken muxing for older ones.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 05b75e48832fc4afeecf8e76d704349557dffa35
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Oct 6 03:35:44 2008 -0400

    Blackfin: fix dcache handling when doing dma memcpy's

    Our dcache invalidate function doesn't just invalidate, it also flushes.
    So rename the function accordingly and fix the dma_memcpy() function so it
    doesn't inadvertently corrupt the data destination.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 68e5632494168095d75f120af70043b68afd2476
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Aug 7 18:56:56 2008 -0400

    Blackfin: dont generate ldrs with --force

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 746290dfd86a70b41fc5fdd3df1424a647d5c5e8
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Aug 7 18:55:30 2008 -0400

    Blackfin: pass --bmode/--initcode when creating ldr

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 0332e4df71fccf9a96c5a4393e3c5d5daa50880a
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Aug 7 18:39:27 2008 -0400

    Blackfin: minimize time cache is turned off when replacing cplb entries

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 21d631360430cf0ae9099612273cd4de28911ba9
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Aug 7 15:31:13 2008 -0400

    Blackfin: split cache handling out of dma_memcpy()

    Creating a new dma_memcpy() function that skips all cache checks allows us
    to use the function in very early init where the cache is not yet setup.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit d31eb38512bed377d5d4b3c696662e52120a2e4c
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Aug 7 15:30:49 2008 -0400

    Blackfin: abort dma_memcpy() for L1 scratchpad

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 81b799add709177e838466461f7b9989488b0fd5
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Aug 7 15:27:52 2008 -0400

    Blackfin: rename bootm.c to boot.c

    The boot file contains functions for more than just "bootm", so rename it
    accordingly.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit d7ca7dd5bfc418ac173e9d2712f6cc2d8147a091
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Aug 7 13:22:37 2008 -0400

    Blackfin: set more sane default board config values

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 36cd52a00794fb15ffab05d640acca92d7482993
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Aug 7 15:24:59 2008 -0400

    Blackfin: convert CMD_LINE_ADDR to CONFIG_LINUX_CMDLINE_{ADDR,SIZE}

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit c8054bc12e00669bd7588f2b30fef48aa94babac
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Aug 7 13:21:27 2008 -0400

    Blackfin: add bit defines for DDR parts

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 154502fe0796f3b7a4698378c5d2080ae28a9782
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Aug 7 13:21:11 2008 -0400

    Blackfin: add defines to describe active bootrom behavior

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 2b6fd5c77db9c6ed3cea9799c86ff922cf0107b2
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Tue Jan 27 16:03:53 2009 -0600

    mpc83xx: fix undefined reference to `flush_cache' error in simpc8313 build

    extend commit c70564e6b1bd08f3230182392238907f3531a87e
    "NAND: Fix cache and memory inconsistency issue" to add the cache.o dependency
    to the simpc8313 build and fix this:

    ...Large Page NAND...Configuring for SIMPC8313 board...
    nand_boot_fsl_elbc.o: In function `nand_boot':
    nand_spl/board/sheldon/simpc8313/nand_boot_fsl_elbc.c:150: undefined reference to `flush_cache'
    make[1]: *** [/home/r1aaha/git/u-boot-mpc83xx/nand_spl/u-boot-spl] Error 1
    make: *** [nand_spl] Error 2

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 54a7cc4912feefa45be961cc47cc159563725d2f
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Jan 28 09:25:31 2009 +0100

    mpc8536ds.c: include sata.h to for needed function prototypes

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 2fb2604d5c20beb061b0a94282b7f6eb14d00cb8
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Tue Jan 27 18:03:12 2009 -0600

    Command usage cleanup

    Remove command name from all command "usage" fields and update
    common/command.c to display "name - usage" instead of
    just "usage". Also remove newlines from command usage fields.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 79621bc10ba8b8c45d348994aba5b9e4923cb77b
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Tue Jan 27 18:03:11 2009 -0600

    amcc: Clean up command usage output

    Update taihu and taishan commands to use cmd_usage() function
    to display usage messages.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 62c3ae7c6ef215b1afa614abdf61acf077752207
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Tue Jan 27 18:03:10 2009 -0600

    Standardize command usage messages with cmd_usage()

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 84cde2bb409c07c6ef36a192d194359d4e9ccd70
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Tue Jan 27 18:03:09 2009 -0600

    pcs440ep: Clean up led command definition

    The pcs440ep's led command usage formatting is non-standard.  It
    was made standard in preparation for larger command usage updates.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 9507e7867e04dc48c80ee333c2a9a5e70e887f62
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Tue Jan 27 18:03:08 2009 -0600

    Clean up diufb command definitions

    The diufb command usage formatting is non-standard.  It was
    made standard in preparation for larger command usage updates.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 6450a8485836fc80615ae6de6a864c33369b44f5
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Jan 28 00:29:26 2009 +0100

    Update CHANGELOG, tiny coding style cleanup.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit cf7e399fb35b3aea90a27d1df72f45f5d6156204
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Tue Jan 27 16:12:21 2009 -0500

    SATA: do not auto-initialize during boot

    Rather than have the board code initialize SATA automatically during boot,
    make the user manually run "sata init".  This brings the SATA subsystem in
    line with common U-Boot policy.

    Rather than having a dedicated weak function "is_sata_supported", people
    can override sata_initialize() to do their weird board stuff.  Then they
    can call the actual __sata_initialize().

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 50970839712dda35399e2fa83fe818df9354d618
Author: Richard Retanubun <RichardRetanubun@RuggedCom.com>
Date:	Mon Jan 26 08:45:14 2009 -0500

    part_efi: Fix partition size calculation due to inclusive ending LBA.

    The ending LBA is inclusive. Hence, the partition size should be
    ((ending-LBA + 1) - starting-LBA) to get the proper partition size.

    This is confirmed against the results from the parted tool.
    (e.g. use parted /dev/sda -s unit S print) and observe the size.

    Signed-off-by: Richard Retanubun <RichardRetanubun@RuggedCom.com>

commit b5b004ad8a0ac6f98bd5708ec8b22fbddd1c1042
Author: Tomasz Figa <tomasz.figa@gmail.com>
Date:	Tue Dec 30 18:35:57 2008 +0100

    jffs2: Fix zero sector_size when not using CONFIG_JFFS2_CMDLINE

    This patch fixes a bug (?) introduced after inclusion of the new
    JFFS2 code.

    When not using CONFIG_JFFS2_CMDLINE, the code in cmd_jffs2.c doesn't
    fill in part->sector_size (keeping it as 0), but a correct value is
    needed by the code in jffs2_1pass.c. This causes all JFFS2 accesses
    to be in the same place of the memory, what obviously means
    impossibility to use the JFFS2 partition.

    This problem is fixed in this patch by including sector size
    calculation in non-CONFIG_JFFS2_CMDLINE mtdparts_init variant.

    Signed-off-by: Tomasz Figa <tomasz.figa_at_gmail.com>

commit ba69dc26a5fd606da49573bb2f15e756a34f3f98
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Tue Dec 30 02:59:25 2008 -0500

    saveenv: standardize enablement

    Rather than special casing each environment type for enabling the saveenv
    command, have them all behave the same.  This avoids bitrot as new env
    sources are added/removed.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 2ac6985a7466a1c8a7aa8b2fa24d360925a82764
Author: Andrew Dyer <adyer@righthandtech.com>
Date:	Mon Dec 29 17:36:01 2008 -0600

    soft_i2c.c add option for repeated start in i2c_read()

    This patch adds a #define to optionally change the behaviour of
    i2c_read() in soft_i2c.c to send an I2C repeated start instead of a
    stop-start between sending the device address pointer write and
    reading back the data.  The current behaviour is retained as the
    default.

    While most devices will work either way, I have a smart battery(*)
    that requires repeated start, and someone at some point found a
    device that required a stop-start.

    (*) http://www.inspired-energy.com/Standard_Products/NL2054/NL2054%20Rev1.0%20Data%20Sheet.pdf

    Signed-off-by: Andrew Dyer <adyer@righthandtech.com>

commit 3429071700963ca2f944c51d695a7481af0cee33
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Jan 27 22:07:14 2009 +0100

    {delta,zylonite}/lowlevel_init.S: fix typo

    Commit 9d803d8c mistakenly changed some constants
    from 0x300 into 300 - this patch fixes it.

    Pointed out by Tom Evans <tom@ceos.com.au>, see
    http://article.gmane.org/gmane.comp.boot-loaders.u-boot/51992 for
    details.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 1bc434373013af241835c14011ac3f291dccbf53
Author: Stefan Althoefer <stefan.althoefer@web.de>
Date:	Sat Dec 20 19:40:41 2008 +0100

    drivers/net/e1000.c: missing terminator for supported devices

    Signed-off-by: Stefan Althoefer <stefan.althoefer@web.de>

commit 65f7d41031a70b1649b35020995c505edca91533
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Jan 27 21:36:28 2009 +0100

    fat.c: fix warning: array subscript is above array bounds

    Fix based on suggestion by David Hawkins <dwh@ovro.caltech.edu>.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 107b801cf3fe39612d69d70581ebc3bf5e215554
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Fri Jan 2 15:11:41 2009 +0100

    Fix gunzip in case of insufficient output buffer

    U-Boot's gunzip() function does not handle the return code
    of zlib's inflate() function correctly. gunzip() is implemented
    to uncompress all input data in one run. So the correct return
    code for the good case is Z_STREAM_END. In case of insufficient
    output buffer memory inflate returns Z_OK. For gunzip() this
    is an error.

    It also makes sense to me to call inflateEnd() also in case
    of an error.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit 2a61eff6a82f0d6e2335d968799b3fbeb3ff4d8e
Author: Stefan Roese <sr@denx.de>
Date:	Wed Jan 21 17:25:01 2009 +0100

    MIPS: Add VCT board series support (Part 3/3)

    Signed-off-by: Stefan Roese <sr@denx.de>

commit ae691e5719c48f1d2826cb72722497d1d162765b
Author: Stefan Roese <sr@denx.de>
Date:	Wed Jan 21 17:24:49 2009 +0100

    MIPS: Add VCT board series support (Part 2/3)

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 50752790bc9285c0c1c5235e88f3a4ef2eec1e72
Author: Stefan Roese <sr@denx.de>
Date:	Wed Jan 21 17:24:39 2009 +0100

    MIPS: Add VCT board series support (Part 1/3)

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 03d3bfb00806b5441f1871c7408c1749863e0fdc
Author: Stefan Roese <sr@denx.de>
Date:	Wed Jan 21 17:20:20 2009 +0100

    MIPS: Add flush_dcache_range() and invalidate_dcache_range()

    This patch adds flush_/invalidate_dcache_range() to the MIPS architecture.
    Those functions are needed for the upcoming dcache support for the USB
    EHCI driver. I chose this API because those cache handling functions are
    already present in the PPC architecture.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit de832a99414ff06a4b2cdc9f5280b387da039834
Author: Stefan Roese <sr@denx.de>
Date:	Mon Jan 26 10:05:20 2009 +0100

    nand_spl: Fix compile problem with board_nand_init() prototype

    This patch removes the now obsolete and additionally wrongly defined
    board_nand_init() prototype from nand_spl/nand_boot.c.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit e8eac437189430d8e04a5d254ed92c58bc534a79
Author: Richard Retanubun <RichardRetanubun@RuggedCom.com>
Date:	Wed Jan 14 08:44:26 2009 -0500

    CFI: Add geometry reversal for STMicro M29W320ET

    Added flash_fixup_stm to fix geometry reversal on STMicro M29W320ET flash chip.

    Modeled after flash_fixup_amd, this patch handles the geometry reversal
    or erase sectors that exist for ST Micro (now Numonyx) M29W320ET flash.
    Since I cannot test all STM's chips, the detection is implemented as
    narrow as possible for now.

    Signed-off-by: Richard Retanubun <RichardRetanubun@RuggedCom.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 0f8e851e897b535959a0781171910cd97f33c30c
Author: Jens Gehrlein <sew_s@tqs.de>
Date:	Tue Dec 16 17:25:55 2008 +0100

    CFI: increase performance of function find_sector()

    Tested on TQM5200S-BD with Samsung K8P2815UQB

    Signed-off-by: Jens Gehrlein <sew_s@tqs.de>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit a7292871a79cc48d98e3a708dd3c3b81580db6ef
Author: Jens Gehrlein <sew_s@tqs.de>
Date:	Tue Dec 16 17:25:54 2008 +0100

    CFI: avoid redundant function call in single word programming mode

    The function find_sector() doesn't need to be called twice in
    the case of AMD command set.
    Tested on TQM5200S-BD with Samsung K8P2815UQB.

    Signed-off-by: Jens Gehrlein <sew_s@tqs.de>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit c8901f46a71ec16e084e604596a09e23bfb0f6ac
Author: Stefan Roese <sr@denx.de>
Date:	Mon Jan 26 10:15:23 2009 +0100

    ppc4xx: Remove compilation warning in gdppc440etc.c

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 91f33534728e6416d332ad2b53ad1d6fde57f7fc
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Fri Jan 2 12:19:47 2009 +0100

    ppc4xx: Remove CONFIG_SYS_IGNORE_405_UART_ERRATA_59 from config files

    Lot's of 405 board config files use CONFIG_SYS_IGNORE_405_UART_ERRATA_59.
    Either they define or undef it. Because it's not used in any source
    files this patch removes any references to it.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 89b8619aaeafc922ca0c3bb249872591050c8dcc
Author: Dirk Eibach <eibach@gdsys.de>
Date:	Tue Dec 9 13:12:40 2008 +0100

    ppc4xx: Add GDsys PowerPC 440 ETX board support.

    Board support for the Guntermann & Drunck PowerPC 440 ETX module.
    Based on the AMCC Yosemite board support by Stefan Roese.

    Signed-off-by: Dirk Eibach <eibach@gdsys.de>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 3943d2ff6cc40dd601a9feeb39eb6d3d5090ea6d
Author: Dirk Eibach <eibach@gdsys.de>
Date:	Tue Dec 9 11:00:07 2008 +0100

    ppc4xx: Improve DDR autodetect

    Added support for a second memory bank to DDR autodetection for 440
    platforms.
    Made hardcoded values configurable.

    Signed-off-by: Dirk Eibach <eibach@gdsys.de>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 71a040f4f556cca4d30f06805d82e717b3ef1020
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Fri Nov 21 12:06:26 2008 +0900

    sh: sh7763rdp: Update sh7763rdp config

    Add CONFIG_NET_MULTI in config file, because sh_eth changed new newwork API.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit ba705b5b1a97b47388ed48858bef6bf7b6bfcd56
Author: Gary Jennejohn <garyj@denx.de>
Date:	Thu Nov 20 12:28:38 2008 +0100

    mgcoge make ether_scc.c work with CONFIG_NET_MULTI

    This change is needed for mgcoge because it uses two ethernet drivers.

    Add a check for the presence of the PIGGY board on mgcoge.	Without this
    board networking cannot work and the initialization must be aborted.

    Only allocate rtx once to prevent DPRAM exhaustion.

    Initialize ether_scc.c and the keymile-specific HDLC driver (to be added
    soon) in eth.c.

    Signed-off-by: Gary Jennejohn <garyj@denx.de>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit bd3980cc095af1728b994cdd8bf1ac430b6289e6
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Fri Nov 21 12:04:18 2008 +0900

    sh: sh_eth: Change new network API

    sh_eth used old network API. This patch changed new API.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 890a02e8ee6b8c26a6e3e505e1a2d29cd73aa6f6
Author: Stefan Roese <sr@denx.de>
Date:	Wed Nov 12 13:31:02 2008 +0100

    net: smc911x: Make register read/write functions weak

    This patch changes the reg_read/_write to smc911x_reg_read/_write
    and defines then as weak so that they can be overridden by board
    specific version.

    This will be used by the upcoming VCTH board support.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 8b69b563039989885969d24465c56f8ac4c07c4c
Author: Heiko Schocher <hs@denx.de>
Date:	Thu Nov 20 09:57:14 2008 +0100

    powerpc: net: support for the SMSC LAN8700 PHY

    Signed-off-by: Heiko Schocher <hs@denx.de>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit d5254f149da9e6cd649d887b042ce577ef3ba78d
Author: Alessandro Rubini <rubini@unipv.it>
Date:	Sat Jan 24 18:10:37 2009 +0100

    Initial support for Nomadik 8815 development board

    The NMDK8815 board is distributed by ST Microelectornics.
    Other (proprietary) code must be run to unlock the CPU before
    U-Boot runs. doc/README.nmdk8815 outlines the boot sequence.

    This is the initial port, with basic infrastructure and
    a working serial port.

    Signed-off-by: Alessandro Rubini <rubini@unipv.it>
    Acked-by: Andrea Gallo <andrea.gallo@stnwireless.com>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 7d264c1ef267cfc8d928bc8577a7cc907f2f5e47
Author: Dirk Behme <dirk.behme@googlemail.com>
Date:	Sun Dec 14 09:47:18 2008 +0100

    OMAP3: Add I2C support

    Add I2C support.

    Signed-off-by: Dirk Behme <dirk.behme@googlemail.com>

commit b1c3bf99fb477675d464aeadb5dd69d2cbc9dc7b
Author: Dirk Behme <dirk.behme@googlemail.com>
Date:	Sun Dec 14 09:47:17 2008 +0100

    OMAP3: Add MMC support

    Add MMC support.

    Signed-off-by: Dirk Behme <dirk.behme@googlemail.com>

commit 12201a13547ec22ddcdae278e74465e54a3be60c
Author: Dirk Behme <dirk.behme@googlemail.com>
Date:	Sun Dec 14 09:47:16 2008 +0100

    OMAP3: Add NAND support

    Add NAND support.

    Signed-off-by: Nishanth Menon <nm@ti.com>
    Signed-off-by: Syed Mohammed Khasim <khasim@ti.com>
    Signed-off-by: Dirk Behme <dirk.behme@googlemail.com>

commit 91eee546737ae21d930af479530997174c342b13
Author: Dirk Behme <dirk.behme@googlemail.com>
Date:	Sun Dec 14 09:47:15 2008 +0100

    OMAP3: Add common board, interrupt and system info

    Add common board, interrupt and system info code.

    Signed-off-by: Dirk Behme <dirk.behme@googlemail.com>

commit 5ed3e8659e5373f6a229877ac506c0b00a054fb8
Author: Dirk Behme <dirk.behme@googlemail.com>
Date:	Sun Dec 14 09:47:14 2008 +0100

    OMAP3: Add common clock, memory and low level code

    Add common clock, memory and low level code

    Signed-off-by: Dirk Behme <dirk.behme@googlemail.com>

commit 0b02b184003e6a5023e05d5f31de54db279b1431
Author: Dirk Behme <dirk.behme@googlemail.com>
Date:	Sun Dec 14 09:47:13 2008 +0100

    OMAP3: Add common cpu and start code

    Add common cpu and start code.

    Signed-off-by: Dirk Behme <dirk.behme@googlemail.com>

commit a8b6450546cd507d331b8fde384791d84bde5651
Author: Dirk Behme <dirk.behme@googlemail.com>
Date:	Sun Dec 14 09:47:12 2008 +0100

    OMAP3: Add OMAP3, memory and function prototype headers

    Add OMAP3, memory and function prototype header files for OMAP3.

    Signed-off-by: Dirk Behme <dirk.behme@googlemail.com>

commit 2c803210a464abbac35752ca1c737514360b4c32
Author: Dirk Behme <dirk.behme@googlemail.com>
Date:	Sun Dec 14 09:47:11 2008 +0100

    OMAP3: Add pin mux, clock and cpu headers

    Add pin mux, clock and cpu header files for OMAP3.

    Signed-off-by: Dirk Behme <dirk.behme@googlemail.com>

commit 685533646f4ff17a84ec9265cabb60af325b6e1f
Author: Maxim Artamonov <scn1874@yandex.ru>
Date:	Wed Dec 3 05:38:17 2008 +0300

    bugfix for i.mx31 CCM_UPCTL reg

    Signed-off-by: Maxim Artamonov <scn1874 at yandex.ru>

commit 24113a44ed5cd3257a0237c3961e121812fca6db
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Tue Dec 30 03:15:38 2008 -0500

    easylogo: add optional gzip support

    Some images can be quite large, so add an option to compress the
    image data with gzip in the U-Boot image. Then at runtime, the
    board can decompress it with the normal zlib functions.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 7e4b9b4f6f43838fad3ad72c029a3d7fc7c7d48c
Author: Bryan Wu <bryan.wu@analog.com>
Date:	Fri Jan 2 20:47:45 2009 -0500

    fat: fix unaligned errors

    A couple of buffers in the fat code are declared as an array of bytes.
    But it is then cast up to a structure with 16bit and 32bit members.
    Since GCC assumes structure alignment here, we have to force the
    buffers to be aligned according to the structure usage.

    Signed-off-by: Bryan Wu <bryan.wu@analog.com>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 68f8718df2ed4c2f43031407ccf6cfa81125dddc
Author: Brad Bozarth <bflinux@yumbrad.com>
Date:	Thu Jan 1 22:45:47 2009 -0500

    spi flash: fix crash due to spi flash miscommunication

    Higher spi flash layers expect to be given back a pointer that was
    malloced so that it can free the result, but the lower layers return
    a pointer that is in the middle of the malloced memory. Reorder the
    members of the lower spi structures so that things work out.

    Signed-off-by: Brad Bozarth <bflinux@yumbrad.com>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Acked-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit ce82ff05388b5ddafdf6082ef0776cce72c40b1c
Author: Yuri Tikhonov <yur@emcraft.com>
Date:	Sat Dec 20 14:54:21 2008 +0300

    FPU POST: fix warnings when building with 2.18 binutils

    When compile u-boot with the 2.18 binutils the following
    warning messages for each object file in post/lib_ppc/fpu/ is
    produced at the linking stage:

    post/libpost.a(acc1.o) uses hard float, u-boot uses soft-float
    ...

    This is because of the fact that, in general, the soft-float and
    hard-float ABIs are incompatible; the 2.18 binutils do checking
    of the Tag_GNU_Power_ABI_FP attribute of the files to be linked, and
    produce the worning like above if these are not compatible.

    The incompatibility of ABIs is concerned only the float values:
    e.g. the soft-float ABI assumes the float argument passing in the
    pair of rX registers, and the hard-float ABI assumes passing of
    the float argument in the fX register. When we don't pass the float
    arguments between the functions compiled with different floatness,
    then such an application will work correctly.
    This is the case for the FPU POST: u-boot (compiled with soft-float)
    doesn't pass to (and doesn't get from) the FPU POST functions any
    floats; there are no functions exported from the post/lib_ppc/fpu/
    objects which would work with float parameters/returns too. So, we
    can reassure the linker not to worry about the difference in ABI
    attributes of linking files just by setting the 'soft-float'
    attribute for the objects in post/lib_ppc/fpu. And this patch does
    this.

    Also, to avoid passing both soft- and hard-float options in CFLAGS
    when compiling the files from post/lib_ppc/fpu (which is OK, but
    looks rather dirty) this patch removes the soft-float string from
    CFLAGS in post/lib_ppc/fpu/Makefile.

    Signed-off-by: Yuri Tikhonov <yur@emcraft.com>

commit a7c9310457e85b4598abe5b304108edf11332e2f
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Wed Dec 17 16:36:22 2008 -0600

    Add support for Maxim's DS4510 I2C device

    Initial support for the DS4510, a CPU supervisor with
    integrated EEPROM, SRAM, and 4 programmable non-volatile
    GPIO pins. The CONFIG_DS4510 define enables support
    for the device while the CONFIG_CMD_DS4510 define
    enables the ds4510 command. The additional
    CONFIG_DS4510_INFO, CONFIG_DS4510_MEM, and
    CONFIG_DS4510_RST defines add additional sub-commands
    to the ds4510 command when defined.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit b6fc6fd49a84543e1324e1620b9f301ff7c1f27f
Author: Dirk Eibach <eibach@gdsys.de>
Date:	Tue Dec 16 14:51:56 2008 +0100

    common: Iteration limit for memory test.

    The iteration limit is passed to mtest as a fourth parameter:
    [start [end [pattern [iterations]]]]
    If no fourth parameter is supplied, there is no iteration limit and the
    test will loop forever.

    Signed-off-by: Dirk Eibach <eibach@gdsys.de>

commit 97cae3a4c68d856374ccc70fd2c5f8714cc94f7d
Author: Stefan Roese <sr@denx.de>
Date:	Mon Dec 15 15:40:12 2008 +0100

    serial: Rename driver vcth to vct to support other board variants

    Moved driver vcth.c to vct.c to better reflect the VCT board series.
    This driver is now used by the VCT platforms:

    vct_premium
    vct_platinum
    vct_platinumsvc

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 36ede4d63e59c9277ec180b09c39b8bf46425ba2
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Fri Dec 12 00:45:27 2008 +0900

    nios: Move README.nios_CONFIG_SYS_NIOS_CPU to doc/ dir

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit c3284b030b1cd492b4f46c576aea01bef258599d
Author: Peter Korsgaard <jacmet@sunsite.dk>
Date:	Wed Dec 10 16:24:16 2008 +0100

    common/main: support bootdelay=0 for CONFIG_AUTOBOOT_KEYED

    Support bootdelay=0 in abortboot for the CONFIG_AUTOBOOT_KEYED case
    similar to the CONFIG_ZERO_BOOTDELAY_CHECK support for the
    !CONFIG_AUTOBOOT_KEYED case.

    Do this by reversing the loop so we do at least one iteration before
    checking for timeout.

    Signed-off-by: Peter Korsgaard <jacmet@sunsite.dk>

commit 94f9279f7bbdc01bbc7cf85aedf9b545943b94c3
Author: Niklaus Giger <niklaus.giger@netstal.com>
Date:	Mon Dec 8 17:24:08 2008 +0100

    Added legacy flash ST Micro M29W040B

commit 626d07348e5f9f302f4ea182161a89f7362a0488
Author: Graeme Russ <graeme.russ@gmail.com>
Date:	Mon Dec 8 20:04:51 2008 +1100

    Fixed off-by-one errors in lib_m68k/interrupts.c

    Signed-off-by: Graeme Russ <graeme.russ@gmail.com>

commit a5989c42ae5e295f274a795c426c47819bbdbfda
Author: Graeme Russ <graeme.russ@gmail.com>
Date:	Sun Dec 7 10:29:05 2008 +1100

    Removed all references to CONFIG_SYS_RESET_GENERIC

    Generic i386 reset - #define made redundant by weak function

    Signed-off-by: Graeme Russ <graeme.russ@gmail.com>

commit 2b5360eb2bc0b741ae5cb3c84d35ccdd17667c8a
Author: Graeme Russ <graeme.russ@gmail.com>
Date:	Sun Dec 7 10:29:04 2008 +1100

    Remove #ifdef CONFIG_SC520 in source code

    CONFIG_SC520 is now used for conditional compile

    Signed-off-by: Graeme Russ <graeme.russ@gmail.com>

commit ead056bc206f6b7ee6dc98766678b64635ea20b8
Author: Graeme Russ <graeme.russ@gmail.com>
Date:	Sun Dec 7 10:29:03 2008 +1100

    Added MMCR reset functionality

    Reset function specific to AMD SC520 microcontroller - Is more of a
    'hard reset' that the triple fault.

    Requires CONFIG_SYS_RESET_SC520 to be defined in config

    I would have liked to add this to a new file (cpu/i386/sc520/reset.c)
    but ld requires that a object file in a library arhive MUST contain
    at least one function which does not override a weak function (and is
    called from outside the object file) in order for that object file to
    be extracted from the archive. This would be the only function on the
    new file, and hence, will never get linked in.

    Signed-off-by: Graeme Russ <graeme.russ@gmail.com>

commit 3f5f18d12d32ee0661bf51dfc55752c005230d6e
Author: Graeme Russ <graeme.russ@gmail.com>
Date:	Sun Dec 7 10:29:02 2008 +1100

    Moved generic (triple fault) reset code

    Moved from interrupts.c to cpu.c and made into a weak function to
    allow vendor specific override

    Vendor specific CPU reset (like the AMD SC520 MMCR reset) can now be
    added to the vendor specific code without the need to remember to
    #undef usage of the generic method and if you forget to include your
    custom reset method, you will always get the default.

    Signed-off-by: Graeme Russ <graeme.russ@gmail.com>

commit 9933d609020c297788f53f334c8465fa7a99b10c
Author: Graeme Russ <graeme.russ@gmail.com>
Date:	Sun Dec 7 10:29:01 2008 +1100

    Moved definition of set_vector() to new header file

    This allows for future tidy ups and functionality that will require
    set_vector ()

    Signed-off-by: Graeme Russ <graeme.russ@gmail.com>

commit 407976185e0dda2c90e89027121a1071b9c77bfb
Author: Graeme Russ <graeme.russ@gmail.com>
Date:	Sun Dec 7 10:29:00 2008 +1100

    Moved sc520 specific code into new cpu/i386/sc520 folder

    Signed-off-by: Graeme Russ <graeme.russ@gmail.com>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 85ffbbd51914925a542d8528be7f072e5ab02157
Author: Graeme Russ <graeme.russ@gmail.com>
Date:	Sun Dec 7 10:28:58 2008 +1100

    Renamed cpu/i386/reset.S to resetvec.S

    Brings i386 in line with other CPUs with a reset vector and frees up reset.c
    for CPU reset functions

    Signed-off-by: Graeme Russ <graeme.russ@gmail.com>

commit a3f4c123f569474e80ea012b8db0de46afdb6443
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Jan 24 01:01:49 2009 +0100

    Makefile: keep lists sorted.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit c620c01e96814558470698ed5cab1bf2f504d1b5
Author: Graeme Russ <graeme.russ@gmail.com>
Date:	Sun Dec 7 10:28:57 2008 +1100

    Added initial eNET board support

    Signed-off-by: Graeme Russ <graeme.russ@gmail.com>

commit 0c0ccf401ee03a5008fc2c19b05a662bce1a1086
Author: Gary Jennejohn <garyj@denx.de>
Date:	Thu Nov 20 11:37:26 2008 +0100

    POWERPC 82xx: add the SCC as an HDLC controller

    Right now this is only used by keymile.

    Signed-off-by: Gary Jennejohn <garyj@denx.de>

commit 1e8f4e78ca393b3d8e86bd8055758dd465d9113f
Author: Heiko Schocher <hs@denx.de>
Date:	Thu Nov 20 09:59:09 2008 +0100

    powerpc, keymile boards: extract identical config options

    This patch extracts the identical config options for the
    keymile boards mgcoge, mgsuvd and kmeter1 in a new
    common config file keymile-common.h.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 210c8c00aad3328145204adab434bb7d70b06b75
Author: Heiko Schocher <hs@denx.de>
Date:	Fri Nov 21 08:29:40 2008 +0100

    powerpc: keymile: Add a check for the PIGGY debug board

    Check the presence of the PIGGY on the keymile boards mgcoge,
    mgsuvd and kmeter1. If the PIGGY is not present, dont register
    this Ethernet device.

    Signed-off-by: Heiko Schocher <hs@denx.de>
    Acked-by: Ben Warren <biggerbadderben@gmail.com>

commit de0443614af4d16675ab436665aeb11ddc9f7214
Author: Heiko Schocher <hs@denx.de>
Date:	Thu Nov 20 09:57:47 2008 +0100

    powerpc: 83xx: add support for the kmeter1 board

    This patch adds support for the kmeter1 board from Keymile,
    based on a Freescale MPC8360 CPU.

    - serial console on UART 1
    - 256 MB DDR2 RAM
    - 64 MB NOR Flash
    - Ethernet RMII Mode over UCC4
    - PHY SMSC LAN8700

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 3feb647f3fd0881382c7a29f4cf280b66473ae0a
Author: Sergei Poselenov <sposelenov@emcraft.com>
Date:	Tue Nov 4 13:51:18 2008 +0100

    Add a do_div() wrapper macro, lldiv().

    Add a do_div() wrapper, lldiv(). The new inline function doesn't modify
    the dividend and returns the result of division, so it is useful
    in complex expressions, i.e. "return(a/b)" -> "return(lldiv(a,b))"

    Signed-off-by: Sergei Poselenov <sposelenov@emcraft.com>

commit 18af1c5f0f7402dc0d6a71b012c68025dd97cf72
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Jan 23 14:22:14 2009 -0600

    85xx: Add a 36-bit physical configuration for MPC8572DS

    We move all IO addressed (CCSR, localbus, PCI) above the 4G boundary
    to allow for larger memory sizes.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit c51fc5d53c4560abc4d0a6126c06fc68133d1528
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Jan 23 14:22:13 2009 -0600

    85xx: Handle eLBC difference w/36-bit physical

    The eLBC only handles 32-bit physical address in systems with 36-bit
    physical.  The previos generation of LBC handled 34-bit physical
    address in 36-bit systems.	Added a new CONFIG option to convey
    the difference between the LBC and eLBC.

    Also added defines for XAM bits used in LBC for the extended 34-bit
    support.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 72a9414a8e21e9536822c7353bc08d21ce5ad53d
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Jan 23 14:22:12 2009 -0600

    85xx: Use BR_ADDR macro for NAND chipselects

    Use the new BR_ADDR macro to properly setup the address field of the
    localbus chipselects used by NAND.

    This allows us to deal with 36-bit phys on these boards in the future.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 2fc7eb0cfc608c9369001d57a0411af5e6a58f7c
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Thu Jan 15 11:58:35 2009 -0500

    Add secondary CPUs processor frequency for e500 core

    This patch updates e500 freqProcessor to array based on CONFIG_NUM_CPUS,
    and prints each CPU's frequency separately. It also fixes up each CPU's
    frequency in "clock-frequency" of fdt blob.

    Signed-off-by: James Yang <James.Yang@freescale.com>
    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>

commit bf5b1f0c0d28ce062e1d368680632dfb099de692
Author: Dave Liu <daveliu@freescale.com>
Date:	Fri Nov 21 16:31:53 2008 +0800

    85xx: enable the auto self refresh for wake up ARP

    The wake up ARP feature need use the memory to process
    wake up packet, we enable auto self refresh to support it.

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit b4983e16d150ab7d039704c310aacbd2f4dc1e0f
Author: Dave Liu <daveliu@freescale.com>
Date:	Fri Nov 21 16:31:43 2008 +0800

    fsl-ddr: use the 1T timing as default configuration

    For light loaded system, we use the 1T timing to gain better
    memory performance, but for some heavily loaded system,
    you have to add the 2T timing options to board files.

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit 22cca7e1cd54590e967c73558b07ffbdccd39504
Author: Dave Liu <daveliu@freescale.com>
Date:	Fri Nov 21 16:31:35 2008 +0800

    fsl-ddr: make the self refresh idle threshold configurable

    Some 85xx processors have the advanced power management feature,
    such as wake up ARP, that needs enable the automatic self refresh.

    If the DDR controller pass the SR_IT (self refresh idle threshold)
    idle cycles, it will automatically enter self refresh. However,
    anytime one transaction is issued to the DDR controller, it will
    reset the counter and exit self refresh state.

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit 22ff3d01348e0a2dc369b7efcbac30e4ce86d178
Author: Dave Liu <daveliu@freescale.com>
Date:	Fri Nov 21 16:31:29 2008 +0800

    fsl-ddr: clean up the ddr code for DDR3 controller

    - The DDR3 controller is expanding the bits for timing config
    - Add the DDR3 32-bit bus mode support

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit 80ee3ce6d7fe9441b4352d7cfaf6afc2507b1106
Author: Dave Liu <daveliu@freescale.com>
Date:	Fri Nov 21 16:31:22 2008 +0800

    fsl-ddr: update the bit mask for DDR3 controller

    According to the latest 8572 UM, the DDR3 controller
    is expanding the bit mask, and we use the extend ACTTOPRE
    mode when tRAS more than 19 MCLK.

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit aca5f018a8386b85469482ed9867e3e29a2437d0
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Dec 2 16:08:40 2008 -0600

    85xx: Introduce CONFIG_SYS_PCI*_IO_VIRT for FSL boards

    Introduce a new define to seperate out the virtual address that PCI
    IO space is at from the physical address.  In most situations these are
    mapped 1:1.  However any code accessing the bus should use VIRT.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit 5af0fdd81c3370c3a51421208fda568bdcbbec23
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Dec 2 16:08:39 2008 -0600

    85xx: Introduce CONFIG_SYS_PCI*_MEM_VIRT for FSL boards

    Introduce a new define to seperate out the virtual address that PCI
    memory is at from the physical address.  In most situations these are
    mapped 1:1.  However any code accessing the bus should use VIRT.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit a6e04c344ad1eefd47a75484441b385da815b8df
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Dec 2 16:08:38 2008 -0600

    85xx: Use CONFIG_SYS_{PCI*,RIO*}_MEM_PHYS for physical address on FSL boards

    Use the _MEM_PHYS defines instead of _MEM_BUS for LAW and real address fields
    of TLBs.  This is what we should have always been using from the start.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit 5f91ef6acdbadec33e0192049e2b24a1d9692f1d
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Dec 2 16:08:37 2008 -0600

    85xx: Convert CONFIG_SYS_PCI*_IO_BASE to _IO_BUS for FSL boards

    Use CONFIG_SYS_PCI*_IO_BUS for the bus relative address instead
    of _IO_BASE so we are more explicit.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 10795f42cb94e71bcb262b615084f69dd886399a
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Dec 2 16:08:36 2008 -0600

    85xx: Convert CONFIG_SYS_{PCI*,RIO*}_MEM_BASE to _MEM_BUS for FSL boards

    Use CONFIG_SYS_{PCI,RIO}_MEM_BUS for the bus relative address instead
    of _MEM_BASE so we are more explicit.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit c953ddfd56b3ae3f28910fe3aed6de6968d1c9aa
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Dec 2 14:19:34 2008 -0600

    85xx: separate FLASH BASE virtual from physical address

    Added a CONFIG_SYS_FLASH_BASE_PHYS for use as the physical address and
    maintain CONFIG_SYS_FLASH_BASE as the virtual address of the flash.

    This allows us to deal with 36-bit phys on these boards in the future.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit 52b565f5ad23b682489055b187767d8bf1c2e444
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Dec 2 14:19:33 2008 -0600

    85xx: separate PIXIS virtual from physical address

    Added a PIXIS_BASE_PHYS for use as the physical address and maintain
    PIXIS_BASE as the virtual address of the PIXIS fpga registers.

    This allows us to deal with 36-bit phys on these boards in the future.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit 30837e5b21d5a742983581ab9ee3fac085311d19
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Tue Nov 11 08:52:09 2008 -0500

    Add README file for MPC8572DS board

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit 6dadc9195ad642cc662632f4d92f92d3d71e8bf2
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Oct 20 16:15:04 2008 -0400

    Blackfin: use common strmhz() in system output

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 5bb907a4925397789c90d074f4f7e92ce6b39402
Author: Ron Madrid <ron_madrid@sbcglobal.net>
Date:	Thu Jan 22 15:05:24 2009 -0800

    mpc83xx: New board support for SIMPC8313

    This patch will create a new board, SIMPC8313, from Sheldon Instruments.  This
    board boots from NAND devices and is configureable for either large or small
    page devices.  The board supports non-soldered DDR2, one ethernet port, a
    Marvell 88E1118 PHY, and PCI host support.	The board also has a FPGA connected
    to the eLBC providing glue logic to a TMS320C67xx DSP.

    Signed-off-by: Ron Madrid <ron_madrid@sbcglobal.net>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit d4bade8d77aa20e2846fa4accff0e7fa7961a134
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Jan 18 19:46:06 2009 -0500

    nand: fixup printf modifiers to match types used

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 389e6620e2271096df3316917528003627db4021
Author: Schlaegl Manfred jun <manfred.schlaegl@gmx.at>
Date:	Tue Jan 20 16:57:55 2009 +0100

    nand read.jffs2 (nand_legacy) in common/cmd_nand.c

    Error with CONFIG_NAND_LEGACY in common/cmd_nand.c:
    With current code "nand read.jffs2s" (read and skip bad blocks) is always interpreted as
    "nand read.jffs2" (read and fill bad blocks with 0xff). This is because ".jffs2" is
    tested before ".jffs2s" and only the first two characters are compared.

    Correction:
    Test for ".jffs2s" first and compare the first 7 characters.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 6c869637fef31e66380f0ea1d49690a2e26ec0d7
Author: Wolfgang Grandegger <wg@grandegger.com>
Date:	Fri Jan 16 18:55:54 2009 +0100

    NAND: rename NAND_MAX_CHIPS to CONFIG_SYS_NAND_MAX_CHIPS

    This patch renames NAND_MAX_CHIPS to CONFIG_SYS_NAND_MAX_CHIPS and
    changes the default from 8 to 1 for the legacy and the new MTD
    NAND layer. This allows to remove all NAND_MAX_CHIPS definitions
    in the board config files because none of the boards use multi
    chip support (NAND_MAX_CHIPS > 1) so far. The bamboo and the DU440
    define

     #define NAND_MAX_CHIPS	     CONFIG_SYS_MAX_NAND_DEVICE

    but that's bogus and did not work anyhow.

    Signed-off-by: Wolfgang Grandegger <wg@grandegger.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit c70564e6b1bd08f3230182392238907f3531a87e
Author: Dave Liu <daveliu@freescale.com>
Date:	Tue Dec 2 11:48:51 2008 +0800

    NAND: Fix cache and memory inconsistency issue

    We load the secondary stage u-boot image from NAND to
    system memory by nand_load, but we did not flush d-cache
    to memory, nor invalidate i-cache before we jump to RAM.
    When the system has cache enabled and the TLB/page attribute
    of system memory is cacheable, it will cause issues.

    - 83xx family is using the d-cache lock, so all of d-cache
      access is cache-inhibited. so you can't see the issue.
    - 85xx family is using d-cache, i-cache enable, partial
      cache lock. you will see the issue.

    This patch fixes the cache issue.

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 50657c273278f74378e1ac39b41d612b92fdffa0
Author: Nishanth Menon <menon.nishanth@gmail.com>
Date:	Sat Dec 13 09:43:06 2008 -0600

    NAND: Enable nand lock, unlock feature

    Enable nand lock, unlock and status of lock feature.
    Not every device and platform requires this, hence,
    it is under define for CONFIG_CMD_NAND_LOCK_UNLOCK

    Nand unlock and status operate on block boundary instead
    of page boundary. Details in:
    http://www.micron.com/products/partdetail?part=MT29C2G24MAKLAJG-6%20IT

    Intial solution provided by Vikram Pandita <vikram.pandita@ti.com>
    Includes preliminary suggestions from Scott Wood

    Signed-off-by: Nishanth Menon <nm@ti.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 69fb8be4fc07162fdf6edf04bdc7233b0e9a920e
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Dec 6 02:40:55 2008 -0500

    NAND: move board_nand_init to nand.h

    Rather than putting the function prototype for board_nand_init() in the one
    place where it gets called, put it into nand.h so that every place that also
    defines it gets the prototype.  Otherwise, errors can go silently unnoticed
    such as using the wrong return value (void rather than int) when defining
    the function.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 1ae39862044ebb1e682234b51f94421e3f871d6a
Author: Stefan Roese <sr@denx.de>
Date:	Tue Dec 2 11:06:47 2008 +0100

    OneNAND: Additional sync with 2.6.27

    - Add subpage write support
    - Add onenand_oob_64/32 ecclayout

    This has been missing and without it UBI has some incompatibilies issues
    with the current (>= 2.6.27) Linux kernel version. vid_hdr_offset is
    placed differently (2048 instead of 512) without this fix.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 1714f51a2009baaecf3d4f6e3bd8c4e93a8d3f23
Author: Kyungmin Park <kmpark@infradead.org>
Date:	Thu Nov 13 15:14:33 2008 +0900

    Add markbad function

    Add missing markbad function
    If not, it's hang when it entered the mtd->mark_bad().

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>

commit c438ea175d8d002c1063b7a94b0c0e26668d1ac9
Author: Stefan Roese <sr@denx.de>
Date:	Wed Nov 12 13:47:24 2008 +0100

    OneNAND: Bad block aware read/write command support

    Update OneNAND command to support bad block awareness.
    Also change the OneNAND command style to better match the
    NAND version.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Acked-by: Kyungmin Park <kyungmin.park@samsung.com>

commit 8cf11f3aa78673730e9ecbbe4b75213b53f212c8
Author: Stefan Roese <sr@denx.de>
Date:	Tue Nov 11 10:29:09 2008 +0100

    OneNAND: Save version_id in onenand_chip struct

    The version (ver_id) was not stored in the onenand_chip structure and
    because of this the continuous locking scheme could be enabled on some
    chips.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 4fca3310d611cc0f51d7295ef3557afbdbd91dc3
Author: Stefan Roese <sr@denx.de>
Date:	Tue Nov 11 10:28:53 2008 +0100

    OneNAND: Fix compiler warnings

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 1ac5744e33ee0aa6d6ddab3b99f9e70953156e69
Author: Dave Liu <daveliu@freescale.com>
Date:	Tue Nov 4 14:55:06 2008 +0800

    mpc83xx: enable eLBC NAND support for MPC8315ERDB board

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit ef0921d6b05aeb9034158f9bef5323d6da9c925e
Author: Kyungmin Park <kmpark@infradead.org>
Date:	Tue Nov 4 09:24:07 2008 +0900

    Sync with 2.6.27

    Sync with OneNAND kernel codes

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>

commit e7f325be9edeb84bb457301776bbac1f7257dafc
Author: Michal Simek <monstr@monstr.eu>
Date:	Mon Jan 5 13:35:31 2009 +0100

    microblaze: Use cache functions (especially cache status)
    in systems which are configured without flash

commit e9b737deb2c30125362d20e24170617476026e94
Author: Michal Simek <monstr@monstr.eu>
Date:	Mon Jan 5 13:29:32 2009 +0100

    microblaze: Add cache flush

commit b4f8dda35bfad447b4106828232705b2e878d168
Author: Michal Simek <monstr@monstr.eu>
Date:	Mon Jan 5 13:28:40 2009 +0100

    microblaze: Add bootup messages to board.c

commit 330e55459bc9983341da6c1d5c7fe00a664436fe
Author: Michal Simek <monstr@monstr.eu>
Date:	Fri Dec 19 13:25:55 2008 +0100

    microblaze: Change microblaze-generic config file

    Signed-off-by: Michal Simek <monstr@monstr.eu>

commit 52a822ed9c37a2ea0ed112a26d8ff5a6cb1c6f10
Author: Michal Simek <monstr@monstr.eu>
Date:	Fri Dec 19 13:14:05 2008 +0100

    microblaze: Rename ml401 to microblaze-generic

    Signed-off-by: Michal Simek <monstr@monstr.eu>

commit 6677876181cc8772bca8a372479a500d160f3993
Author: Scott Wood <scottwood@freescale.com>
Date:	Tue Jan 20 11:56:11 2009 -0600

    83xx: Use the proper sequence for updating IMMR.

    This ensures that subsequent accesses properly hit the new window.

    The dcbi during the NAND loop was accidentally working around this;
    it's no longer necessary, as the cache is not enabled.

    Reported-by: Suchit Lepcha <Suchit.Lepcha@freescale.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 8b34557c546e5e9f34ebf83c93413dad973d93df
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Thu Jan 8 04:26:19 2009 +0300

    mpc83xx: Add PCI-E support for MPC837XEMDS boards

    MPC837XEMDS boards can support PCI-E via "PCI-E riser card". The card
    provides two PCI-E (x2) ports. Though, only one port can be used in x2
    mode. Two ports can function simultaneously in x1 mode.

    PCI-E x1/x2 modes can be switched via "pex_x2" environment variable.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 8f11e34b31a7be124a3239653f33af9510502045
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Thu Jan 8 04:26:17 2009 +0300

    mpc83xx: Add PCI-E support for MPC8315ERDB boards

    MPC8315ERDB boards features PCI-E x1 and Mini PCI-E x1 ports. Let's
    support them.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit fd6646c0b9ebe7e5afc4ae4c78097d9cd317a5e8
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Thu Jan 8 04:26:12 2009 +0300

    mpc83xx: Add support for MPC83xx PCI-E controllers

    This patch adds support for MPC83xx PCI-E controllers in Root Complex
    mode.

    The patch is based on Tony Li and Dave Liu work[1].

    Though unlike the original patch, by default we don't register PCI-E
    buses for use in U-Boot, we only configure the controllers for future
    use in other OSes (Linux). This is done because we don't have enough
    of spare BATs to map all the PCI-E regions.

    To actually use PCI-E in U-Boot, users should explicitly define
    CONFIG_83XX_GENERIC_PCIE_REGISTER_HOSES symbol in the board file. And
    only then U-Boot will able to access PCI-E, but at the cost of disabled
    address translation.

    [1] http://lists.denx.de/pipermail/u-boot/2008-January/027630.html

    Signed-off-by: Tony Li <tony.li@freescale.com>
    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Acked-by: Dave Liu <daveliu@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 88ecf55cabd7aea28fe8093720e208f53ccfdcf5
Author: Ira Snyder <iws@ovro.caltech.edu>
Date:	Mon Jan 12 13:33:17 2009 -0800

    MPC8349EMDS: do not setup unused PCI clock outputs in PCI agent mode

    When running in PCI agent mode, the PCI_CLK_OUT signals are not used, so do
    not enable them. See the MPC8349EA Reference Manual, Section 4.4.2
    "Clocking in PCI Agent Mode".

    Signed-off-by: Ira W. Snyder <iws@ovro.caltech.edu>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 75f35209f702bb26826855ed8c8e4d108ab5f412
Author: Ira Snyder <iws@ovro.caltech.edu>
Date:	Mon Jan 12 13:32:26 2009 -0800

    83xx: PCI agent mode fixes for multi-board systems

    When running a system with 2 or more MPC8349EMDS boards in PCI agent mode,
    the boards will lock up the PCI bus by scanning against each other.

    The boards lock against each other by trying to access the PCI bus before
    clearing their configuration lock bit. Both boards end up in a loop,
    sending and receiving "Target Not Ready" messages forever.

    When running in PCI agent mode, the scanning now takes place after the
    boards have cleared their configuration lock bit.

    Also, add a missing declaration to the mpc83xx.h header file, fixing a
    build warning.

    Signed-off-by: Ira W. Snyder <iws@ovro.caltech.edu>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 455a46915b82896cc2070eb326d075555c2bc580
Author: Ron Madrid <ron_madrid@sbcglobal.net>
Date:	Fri Dec 12 13:12:45 2008 -0800

    mpc83xx: Size optimization of start.S

    Currently there are in excess of 100 bytes located at the beginning of the image
    built by start.S that are not being utilized.  This patch moves a few functions
    into this part of the image.  This will create a greater number of *available*
    bytes that can be used by board specific code in NAND builds and will decrease
    the size of the assembled code in other builds.

    Signed-off-by: Ron Madrid <ron_madrid@sbcglobal.net>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 72d15e705bc3983884105cb7755c7ba80e74a0a5
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Jan 21 23:08:12 2009 +0100

    Prepare v2009.01

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 635e5f8fc82365e6e9734b3132bc95135a6de679
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Jan 18 21:37:48 2009 +0100

    Prepare 2009.01-rc3

    Update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 4cda437898f7873752f0201757cd33f12196ce87
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Jan 17 13:32:42 2009 -0500

    build system: treat all Darwin's alike

    The x86 based version of Darwin behaves the same quirky way as the powerpc
    Darwin, so only check HOSTOS when setting up Darwin workarounds.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit c088a108c75db565e07292fd668dfa5491e85bc2
Author: Peter Korsgaard <jacmet@sunsite.dk>
Date:	Wed Jan 14 13:52:24 2009 +0100

    fdt_resize(): fix actualsize calculations with unaligned blobs

    The code in fdt_resize() to extend the fdt size to end on a page boundary
    is wrong for fdt's not located at an address aligned on a page boundary.
    What's even worse, the code would make actualsize shrink rather than grow
    if (blob & 0xfff) was bigger than the amount of padding added by ALIGN(),
    causing fdt_add_mem_rsv to fail.

    Fix it by aligning end address (blob + size) to a page boundary instead.
    For aligned fdt's this is equivalent to what we had before.

    Signed-off-by: Peter Korsgaard <jacmet@sunsite.dk>

commit fadad1573fb16c90025f08a2861d6047d093cba7
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Fri Jan 9 04:38:17 2009 -0500

    ncb: use socklen_t

    The recvfrom() function takes a socklen_t, not an int.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit fc83c9273cec6e6e542f4a0ea3b653b7d0513ffa
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Jan 11 16:35:16 2009 +0100

    sh: serial: use readx/writex accessors

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 9e1fa628bdb64745811cdd26c4f953846c076180
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Jan 11 16:35:15 2009 +0100

    sh: serial: coding style cleanup

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit c9935c992575922b7ef13eec0656ed8665d324e3
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Sun Jan 11 17:48:56 2009 +0900

    sh: Fix compile error on lowlevel_init file

    lowlevel_init of SH was corrected to use the write/readXX macro.
    However, there was a problem that was not able to be compiled partially.
    This patch corrected this.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit a5b04d00bfeb940c62232972ce644d50b45797f9
Author: Kieran Bingham <kieranbingham@gmail.com>
Date:	Tue Dec 30 01:16:03 2008 +0000

    sh: Fix up rsk7203 target for out of tree build

    Fix up rsk7203 target to build successfully using out-of-tree build.

    Signed-off-by: Kieran Bingham <kbingham@mpc-data.co.uk>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit f7e78f3b74aae9caca2997bad865a72338326c0a
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Dec 20 19:29:49 2008 +0100

    sh: use write{8,16,32} in all lowlevel_init

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit e4430779623af500de1cee7892c379f07ef59813
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Dec 20 19:29:48 2008 +0100

    sh: lowlevel_init coding style cleanup

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 85cb052ee41675ca361e6a4c69455dc715c8f2d9
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Dec 20 15:27:45 2008 +0100

    sh: update sh2/sh2a timer coding style

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 1e15ff999322e81af4c0c0c548908f38944ba39c
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Dec 20 15:25:22 2008 +0100

    sh: update sh timer coding style

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 0e3ece33801e377be67ffa29f083421ad820f28b
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Jan 14 23:26:05 2009 +0100

    Prepare 2009.01-rc2

    Update CHANGELOG.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit e92c9a860e44c14513c8909ce4299e253a775eeb
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Jan 14 22:35:30 2009 +0100

    cpu/mpc824x/Makefile: fix warning with parallel builds

    Parallel builds would occasionally issue this build warning:

	ln: creating symbolic link `cpu/mpc824x/bedbug_603e.c': File exists

    Use "ln -sf" as quick work around for the issue.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 3ba605d4beec649438539e7df97b5fedb26592fb
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Fri Jan 2 12:18:49 2009 +0100

    ppc4xx: Add loadpci command to esd's CPCI4052 and CPCI405AB boards

    This patch adds esd's loadpci BSP command to CPCI4052 and
    CPCI405AB board. This requires CONFIG_CMD_BSP and CONFIG_PRAM.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 600fe46fb3dab7f07604f9009904f31584415114
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Fri Jan 2 12:18:12 2009 +0100

    ppc4xx: Disable pci node in device tree on CPCI405 pci adapters

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit f6a1f490d224c600a09137e58d1026d150b8e679
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Fri Jan 2 12:17:36 2009 +0100

    ppc4xx: Cleanup CPCI405 board code

    This patch cleans up CPCI405 board support:
    - wrap long lines
    - unification of spaces in function calls
    - remove dead code

    Use correct io accessors on peripherals.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit fceebb45a0b97e92f9889861f8c3b9cb885e706f
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Fri Jan 2 12:16:35 2009 +0100

    ppc4xx: Enable auto RS485 mode on PLU405 boards

    This patch turns on the auto RS485 mode in the 2nd external
    uart on PLU405 boards. This is a special mode of the used
    Exar XR16C2850 uart. Because these boards only have a 485 physical
    layer connected it's a good idea to turn it on by default.

    Signed-off-by: Matthias Fuchs <mf@esd.eu>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit b5f65dfa9aa8e068e62aba4733dc4fd97b1d9bf6
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Tue Jan 13 16:29:28 2009 -0500

    Some changes of TLB entry setting for MPC8572DS

    - Move the TLB entry of PIXIS_BASE from TLB0 to TLB1[8], because in CAMP mode,
    all the TLB0 entries will be invalidated after cpu1 brings up kernel, thus cpu0
    can not access PIXIS_BASE anymore (any access will cause DataTLBError exception)

    - Set CONFIG_SYS_DDR_TLB_START to 9 for MPC8572DS board.

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>

commit 950264317eb9594b2b5ee2fb65206200a1c6007a
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Tue Jan 13 16:29:22 2009 -0500

    Change DDR tlb start entry to CONFIG param for 85xx

    So that we can locate the DDR tlb start entry to the value other than 8. By
    default, it is still 8.

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>

commit 6d3a10f73ece7ffb736890c10e023222612a4aa0
Author: Roy Zang <tie-fei.zang@freescale.com>
Date:	Fri Jan 9 16:02:35 2009 +0800

    Change PCIE1&2 deciide logic on MPC8544DS board more readable

    The IO port selection for MPC8544DS board:
     Port			cfg_io_ports
     PCIE1		0x2, 0x3, 0x4, 0x5, 0x6, 0x7
     PCIE2		0x4, 0x5, 0x6, 0x7
     PCIE3		0x6, 0x7
     This patch changes the PCIE12 and PCIE2 logic more readable.
    Signed-off-by: Roy Zang <tie-fei.zang@freescale.com>

commit 028e116811d28a031660f1ad9e20ac1293b3c5c7
Author: Roy Zang <tie-fei.zang@freescale.com>
Date:	Fri Jan 9 16:01:52 2009 +0800

    PCIE2 and PCIE3 are decided by corresponing bit in devdisr instead of PCIE1 bit

    PCIE2 and PCIE3 should be decided by corresponing bit in devdisr instead of
    PCIE1 bit.
    On MPC8572DS board, PCIE refers to PCIE1.
    Signed-off-by: Roy Zang <tie-fei.zang@freescale.com>

commit 9afc2ef0307aecf52482df67c31b75d5f9e66b47
Author: Roy Zang <tie-fei.zang@freescale.com>
Date:	Fri Jan 9 16:00:55 2009 +0800

    Fix IO port selection issue on MPC8544DS and MPC8572DS boards

    The IO port selection is not correct on MPC8572DS and MPC8544DS board.
     This patch fixes this issue.
     For MPC8572
     Port			cfg_io_ports
     PCIE1		0x2, 0x3, 0x7, 0xb, 0xc, 0xf
     PCIE2		0x3, 0x7
     PCIE3		0x7

    For MPC8544
    Port			cfg_io_ports
    PCIE1		0x2, 0x3, 0x4, 0x5, 0x6, 0x7
    PCIE2		0x4, 0x5, 0x6, 0x7
    PCIE3		0x6, 0x7
    Signed-off-by: Roy Zang <tie-fei.zang@freescale.com>

commit 3e3fffe3baf3befde287fec1fcbfe55052fb8946
Author: Becky Bruce <beckyb@kernel.crashing.org>
Date:	Wed Dec 3 22:36:44 2008 -0600

    mpc8610hpcd: Fix PCI mapping concepts

    Rename _BASE to _BUS, as it's actually a PCI bus address,
    separate virtual and physical addresses into _VIRT and _PHYS,
    and use each appopriately.	This makes the code easier to read
    and understand, and facilitates mapping changes going forward.

    Signed-off-by: Becky Bruce <beckyb@kernel.crashing.org>

commit 79e436cad3b4a7db88408c3f05175028f30d700d
Author: Becky Bruce <beckyb@kernel.crashing.org>
Date:	Wed Dec 3 22:36:26 2008 -0600

    sbc8641d: Fix PCI mapping concepts

    Rename _BASE to _BUS, as it's actually a PCI bus address,
    separate virtual and physical addresses into _VIRT and _PHYS,
    and use each appopriately.	This makes the code easier to read
    and understand, and facilitates mapping changes going forward.

    Signed-off-by: Becky Bruce <beckyb@kernel.crashing.org>

commit a9f3acbcd07da72b5446ce557531a3ed8b8beff0
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Jan 12 14:50:35 2009 +0100

    MPC86xx: fix build warnings

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 032a1c934ef4dc003281f57302b6e693062c1868
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Jan 5 16:09:44 2009 -0500

    bf537-stamp/nand: fix board_nand_init prototype

    The board_nand_init() function should return an int, not void.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 687f952e4119594ab913be11c90f7f018c2a7a79
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Dec 11 07:04:48 2008 -0500

    Blackfin: drop CONFIG_SPI handling in board init

    The eeprom SPI init functions are duplicated as the common code already
    executes these for us.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit e7e684b10d73a303902208594c7c3e7e0d753282
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Fri Oct 24 17:51:57 2008 -0400

    Blackfin: fix out-of-tree building with ldscripts

    Many of the Blackfin board linker scripts are preprocessed, so make sure we
    output the linker script into the build tree rather than the source tree.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit b9eecc342f767b50e1476fbc1aad7d88dd4ce5eb
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Fri Oct 24 17:48:54 2008 -0400

    Blackfin: fix linker scripts to work with --gc-sections

    Make sure all .text sections get pulled in and the entry point is properly
    referenced so they don't get discarded when linking with --gc-sections.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 509fc553bc6087a6f705b3bf52f3950d7d1eaa58
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Oct 11 20:45:44 2008 -0400

    Blackfin: set proper LDRFLAGS for parallel booting LDRs

    In order to boot an LDR out of parallel flash, the ldr utility needs a few
    flags to tell it to generate the right header.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 3dd9395a0d7ce69a335d0e743c04b9caedd681d3
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Tue Jan 6 21:41:59 2009 +0100

    at91rm9200: move define from lowlevel_init to header

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 8a48686fac2030287765f1970ea046bd5734b733
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Jan 3 17:22:26 2009 +0100

    m501sk: move to the common memory setup

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit d481c80d78f954133c035dae6c7d22de3625795d
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Jan 3 17:22:25 2009 +0100

    at91rm9200: rename lowlevel init value to CONFIG_SYS_

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 4e170b16625291aa10d0d9abc3f34e8a5945d157
Author: Nicolas Ferre <nicolas.ferre@atmel.com>
Date:	Tue Jan 6 21:13:14 2009 +0100

    at91: add at91sam9xeek board support

    At91sam9xe is basically an at91sam9260 with embedded flash. We can manage
    it as another entry for at91sam9260 in the Makefile.

    Check documentation at :
    http://www.atmel.com/dyn/products/product_card.asp?part_id=4263

    Signed-off-by: Nicolas Ferre <nicolas.ferre@atmel.com>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 9ffd53db870a7da134f9a1ae76894a6b31237be5
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Tue Jan 6 21:15:57 2009 +0100

    fix bmp_logo.h make dependencies to allow parallel build

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit e12d9a8fb48d24176efffccc072b445e60a3afe4
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Jan 3 17:22:24 2009 +0100

    at91: Fix Atmel's at91sam9 boards out of tree build

    introduced in commit 89a7a87f084c

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 0668236bafaa1c11c521652a2facebc74beecbf0
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Dec 30 22:56:11 2008 +0100

    README: update mailing list name and hits to patch submission.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit d9011f9b75561a0bd9254934c2bb2bc799d4f645
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Tue Dec 23 16:32:01 2008 -0600

    85xx: Enable inbound PCI config cycles for X-ES boards cleanup

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 1f03cbfae221b24ba1341a0a3f62ff01c5c874df
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Tue Dec 23 16:32:00 2008 -0600

    XPedite5200 board support cleanup

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit fea91edee8ae0295e3c30b1ff544df51f4d668e1
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Tue Dec 2 21:58:04 2008 +0100

    usb_kbd: fix usb_kbd_deregister when DEVICE_DEREGISTER not enable

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Remy Bhmer <linux@bohmer.net>

commit ada591d2a0ecff5f9bc5ed1ebf310f439c3d0a28
Author: Trent Piepho <tpiepho@freescale.com>
Date:	Wed Dec 3 15:16:37 2008 -0800

    mpc8[56]xx: Put localbus clock in sysinfo and gd

    Currently MPC85xx and MPC86xx boards just calculate the localbus frequency
    and print it out, but don't save it.

    This changes where its calculated and stored to be more consistent with the
    CPU, CCB, TB, and DDR frequencies and the MPC83xx localbus clock.

    The localbus frequency is added to sysinfo and calculated when sysinfo is
    set up, in cpu/mpc8[56]xx/speed.c, the same as the other frequencies are.

    get_clocks() copies the frequency into the global data, as the other
    frequencies are, into a new field that is only enabled for MPC85xx and
    MPC86xx.

    checkcpu() in cpu/mpc8[56]xx/cpu.c will print out the local bus frequency
    from sysinfo, like the other frequencies, instead of calculating it on the
    spot.

    Signed-off-by: Trent Piepho <tpiepho@freescale.com>
    Acked-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: Jon Loeliger <jdl@freescale.com>

commit 9863d6aca11405e1e0d8aba2045d78aeec4d4ee7
Author: Trent Piepho <tpiepho@freescale.com>
Date:	Wed Dec 3 15:16:36 2008 -0800

    mpc86xx: Double local bus clock divider

    The local bus clock divider should be doubled for both 8610 and 8641.

    Signed-off-by: Trent Piepho <tpiepho@freescale.com>
    Acked-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: Jon Loeliger <jdl@freescale.com>

commit 446c381e3e16f19857b72ea0d06241267b8b9d58
Author: Trent Piepho <tpiepho@freescale.com>
Date:	Wed Dec 3 15:16:35 2008 -0800

    mpc8568: Double local bus clock divider

    The clock divider for the MPC8568 local bus should be doubled, like the
    other newer MPC85xx chips.

    Since there are now more chips with a 2x divider than a 1x, and any new
    85xx chips will probably be 2x, invert the sense of the #if so that it
    lists the 1x chips instead of the 2x ones.

    Signed-off-by: Trent Piepho <tpiepho@freescale.com>
    Acked-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: Jon Loeliger <jdl@freescale.com>

commit f51f07eb58fad12de9294ba4ee6c09a0ddeaee03
Author: Dave Liu <daveliu@freescale.com>
Date:	Tue Dec 16 12:09:27 2008 +0800

    85xx: Fix the boot window issue

    If one custom board is using the 8MB flash, it is set
    as FLASH_BASE = 0xef000000, TEXT_BASE = 0xef780000.
    The current start.S code will be broken at switch_as.

    It is because the TLB1[15] is set as 16MB page size,
    EPN = TEXT_BASE & 0xff000000, RPN = 0xff000000.

    For the 8MB flash case, the EPN = 0xefxxxxxx,
    RPN = 0xffxxxxxx. Assume the virt address of switch_as
    is 0xef7ff18c, the real address of the instruction at
    switch_as should be 0xff7ff18c. the 0xff7ff18c is out
    of the range of the default 8MB boot LAW window
    0xff800000 - 0xffffffff.

    So when we switch to AS1 address space at switch_as,
    the core can't fetch the instruction at switch_as any
    more. It will cause broken issue.

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit 58da8890d5fbd074746037722a423de9ac408616
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Thu Dec 11 15:47:50 2008 -0500

    sbc8548: use proper PHY address

    The values given for the PHY address were wrong, so the code
    read no valid PHY ID, and fell through to the generic PHY
    support, which would work on 1000M but would not auto negotiate
    down to 100M or 10M.

    Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>

commit ad22f9273c6f24fbfa917e867680e9688e0c59c5
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Thu Dec 11 15:47:51 2008 -0500

    sbc8548: enable command line editing by default.

    Lets make things a bit more user friendly.	It isn't 1985 anymore.

    Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>

commit bd93105fa171184a71ca8b22be03dc2705cfbd3f
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Thu Dec 11 15:47:49 2008 -0500

    sbc8548: don't enable the 3rd and 4th eTSEC

    These interfaces don't have usable connectors on the board, so don't
    bother enumerating or configuring them.

    Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>

commit 181a3650113883728927928b3ac81ad6dade4b2c
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Wed Dec 3 10:08:19 2008 -0500

    Set IVPR to kenrel entry point in second core boot page

    Assuming the OSes exception vectors start from the base of kernel address, and
    the kernel physical starting address can be relocated to an non-zero address.
    This patch enables the second core to have a valid IVPR for debugger before
    kernel setting IVPR in CAMP mode. Otherwise, IVPR is 0x0 and it is not a valid
    value for second core which runs kernel at different physical address other
    than 0x0.

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>

commit a5d212a263c58cc746481bf1fc878510533ce7d6
Author: Trent Piepho <tpiepho@freescale.com>
Date:	Wed Dec 3 15:16:34 2008 -0800

    mpc8xxx: LCRR[CLKDIV] is sometimes five bits

    On newer CPUs, 8536, 8572, and 8610, the CLKDIV field of LCRR is five bits
    instead of four.

    In order to avoid an ifdef, LCRR_CLKDIV is set to 0x1f on all systems.  It
    should be safe as the fifth bit was defined as reserved and set to 0.

    Code that was using a hard coded 0x0f is changed to use LCRR_CLKDIV.

    Signed-off-by: Trent Piepho <tpiepho@freescale.com>
    Acked-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: Jon Loeliger <jdl@freescale.com>

commit 58ec4866ed916c7e422f5107bb27b0822084728e
Author: Trent Piepho <tpiepho@freescale.com>
Date:	Wed Dec 3 15:16:38 2008 -0800

    mpc8[56]xx: Put localbus clock in device tree

    Export the localbus frequency in the device tree, the same way the CPU, TB,
    CCB, and various other frequencies are exported in their respective device
    tree nodes.

    Some localbus devices need this information to be programed correctly, so
    it makes sense to export it along with the other frequencies.

    Unfortunately, when someone wrote the localbus dts bindings, they didn't
    bother to define what the "compatible" property should be.	So it seems no
    one was quite sure what to put in their dts files.

    Based on current existing dts files in the kernel source, I've used
    "fsl,pq3-localbus" and "fsl,elbc" for MPC85xx, which are used by almost all
    of the 85xx devices, and are looked for by the Linux code.	The eLBC is
    apparently not entirely backward compatible with the pq3 LBC and so eLBC
    equipped platforms like 8572 won't use pq3-localbus.

    For MPC86xx, I've used "fsl,elbc" which is used by some of the 86xx systems
    and is also looked for by the Linux code.  On MPC8641, I've also used
    "fsl,mpc8641-localbus" as it is also commonly used in dts files, some of
    which don't use "fsl,elbc" or any other acceptable name to match on.

    Signed-off-by: Trent Piepho <tpiepho@freescale.com>
    Acked-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: Jon Loeliger <jdl@freescale.com>

commit 9d94aff699eed38b286814fcbb335f3eb8516a0e
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Dec 16 14:59:22 2008 -0600

    NAND FSL elbc: Use virt_to_phys to determine which bank is in use

    The current code that determines which bank/chipselect is used for a
    given NAND instance only worked for 32-bit addresses and assumed
    a 1:1 mapping.  This breaks in 36-bit physical configs.

    The proper way to handle this is to use the virt_to_phys() and
    BR_PHYS_ADDR() routinues to match the 34-bit lbc bus address
    with the the virtual address the NAND code uses.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: Scott Wood <scottwood@freescale.com>

commit 77c8115b1f1871811633eae77a5a700fac1f0e50
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Dec 16 14:59:21 2008 -0600

    ppc: Use addrmap in virt_to_phys and map_physmem.

    If we have addr map support enabled use the mapping functions to
    implement virt_to_phys() and map_physmem().

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit ecf5b98c7a6a2e2256dfddd48fab26678dcd6b90
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Dec 16 14:59:20 2008 -0600

    85xx: Add support to populate addr map based on TLB settings

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 78bbc5ce151c5a484bb51bf1866b4a993ffc16ec
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Mon Dec 1 13:47:13 2008 -0600

    XPedite5200 board support

    Initial support for Extreme Engineering Solutions XPedite5200 -
    a MPC8548-based PMC single board computer.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 487dcb4fb89be0992bc06ec1341090017bd9cf2f
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Wed Oct 29 12:39:27 2008 -0500

    85xx: Enable inbound PCI config cycles for X-ES boards

    Update X-ES Freescale boards to allow inbound PCI configuration
    cycles when configured as agent/endpoint.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit ccf0fdd02b97323f8caae18d06cc9daeac2f192f
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Wed Dec 17 16:36:23 2008 -0600

    XPedite5370 board support

    Initial support for Extreme Engineering Solutions XPedite5370 -
    a MPC8572-based 3U VPX single board computer with a PMC/XMC
    site.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit e92739d34e2d6b6aca93b2598248210710897ce8
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Wed Dec 17 16:36:21 2008 -0600

    Add support for PCA953x I2C gpio devices

    Initial support for NXP's 4 and 8 bit I2C gpio expanders
    (eg pca9537, pca9557, etc). The CONFIG_PCA953X define
    enables support for the devices while the CONFIG_CMD_PCA953X
    define enables the pca953x command. The CONFIG_CMD_PCA953X_INFO
    define enables an 'info' sub-command which provides summary
    information for the given pca953x device.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 7a8979591171676417ab36852d8811a8c46accd8
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Wed Oct 29 12:39:26 2008 -0500

    pci/fsl_pci_init: Enable inbound PCI config cycles

    Add fsl_pci_config_unlock() function to enable a
    PCI/PCIe interface configured in agent/endpoint mode to
    respond to inbound PCI configuration cycles.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 92c78a3bbcb2ce508b4bf1c4a1e0940406a024bb
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Wed Dec 17 16:43:18 2008 +0100

    avr32: Remove second definition of virt_to_phys()

    The second definition introduced by 65e43a1063 conflicts with the
    existing one.

    Also, convert the existing definition to use phys_addr_t. The volatile
    qualifier is still needed due to brain damage elsewhere.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit b616f2b545f73757669b37386f0b37bb61fc6797
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Mon Sep 8 22:27:18 2008 +0200

    MIPS: qemu_mips: update doc to generate and to use qemu flash, ide file

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit 16cdf816779f5b602a9b3b4d2ea4dea05095c35b
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Tue Dec 16 22:10:31 2008 +0100

    MIPS: qemu_mips: update doc to use all disk and boot linux kernel

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit 13095b2f07dacb1f863772266c1789d47a523a8a
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Tue Dec 16 22:10:30 2008 +0100

    MIPS: qemu_mips: move env storage just after u-boot

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit aced78d852d0b009e8aaa1445af8cb40861ee549
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Dec 16 23:48:27 2008 +0100

    Prepare 2009.01-rc1

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 9e2a79b4c585ad31138fb90b68fd0234d64a8da8
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Dec 16 23:13:46 2008 +0100

    include/configs/at91cap9adk.h: fix typo.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 45ca04f2377361593151d2d4da51f8ba4832d233
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Dec 16 22:32:25 2008 +0100

    board/trab/memory.c: Fix compile problems.

    Apply changes from commit 44b4dbed to board/trab/memory.c, too.

    Actually we'd need a major cleanup here - as it turns out,
    board/trab/memory.c is more or less a verbatim copy of
    post/drivers/memory.c ... but then, trab is EOL anyway,r
    so this is not worth the effort.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit ff49ea8977b56916edd5b1766d9939010e30b181
Author: Scott Wood <scottwood@freescale.com>
Date:	Tue Dec 16 14:24:16 2008 -0600

    NAND: Mark the BBT as scanned prior to calling scan_bbt.

    Otherwise, recursion can occur if scan_bbt does not find a bad block
    table, and tries to write one, and the attempt to erase the BBT area
    causes a bad block check.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 584eedab66d0828f2d571a24b10526c4e65f547b
Author: Ilya Yanok <yanok@emcraft.com>
Date:	Thu Dec 11 05:51:57 2008 +0300

    jffs2: include <linux/mtd/compat.h> instead of defining own min_t

    Include <linux/mtd/compat.h> header for min_t definition instead of
    providing our own one. Removes warnings in case of OneNAND support
    enabled.

    Although I thinks it's a bit silly to include <linux/mtd/compat.h>
    just for min_t...

    Signed-off-by: Ilya Yanok <yanok@emcraft.com>
    Acked-by: Stefan Roese <sr@denx.de>

commit b1ffecec37b57a59c139042267faac458e5324e9
Author: Becky Bruce <beckyb@kernel.crashing.org>
Date:	Wed Dec 3 23:04:37 2008 -0600

    powerpc: fix io.h build warning with CONFIG_PHYS_64BIT

    Casting a pointer to a phys_addr_t when it's an unsigned long long
    on a 32-bit system without first casting to a non-pointer type
    generates a compiler warning. Fix this.

    Signed-off-by: Becky Bruce <beckyb@kernel.crashing.org>

commit 6cdadcb3f1b6eac4a1c4256acaa1438413f95351
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Dec 16 16:22:50 2008 +0100

    trab: make trab_fkt standalone code independent of libgcc

    Use our own local functions in lib_arm/ instead.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit aa1bcca3d2e22af4dea9f02132f9b56a30378ded
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Dec 16 14:44:06 2008 +0100

    post/Makefile: fix dependency problem with parallel builds

    Parallel builds (using "make -jN") would occasionally fail with error
    messages like
	ppc_4xxFP-objdump: string.o: File format not recognized
    or
	post/libpost.a(cpu.o): In function `cpu_post_test':
	/home/wd/git/u-boot/work/post/lib_ppc/cpu.c:130: undefined reference to `cpu_post_test_string'
    or similar. We now make sure to run the 'postdeps" step before
    attempting to build the specific POST libraries.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 4a0f7538c5c0805fd9a791967bbabacc41deadd9
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Dec 16 14:41:02 2008 +0100

    Makefile: fix dependency problem with parallel builds

    Parallel builds (using "make -jN") would occasionally fail with error
    messages like
	include/autoconf.mk:212: *** missing separator.  Stop.
    Line numbers and affected boards were changing. Obviously some
    Makefiles included autoconf.mk while it was still being written to.
    As a fix, we now write to a temporary file first and then rename it,
    so that it is really ready to use as soon as it appears.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 455ae7e87f67c44e6aea68865c83acadd3fcd36c
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Dec 16 01:02:17 2008 +0100

    Coding style cleanup, update CHANGELOG.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 84bc72d90c505fec3ef4b693995407a0bd4064e5
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Dec 11 18:39:08 2008 -0500

    spi/stmicro: fix debug() display of cmd

    The stmicro_wait_ready() func tries to show the actual opcode that was sent
    to the device, but instead it displays the array pointer.  Fix it to pull
    out the opcode from the start of the array.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 5b3375ac8c36c29c87abb132fede0509eb21e5c9
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Dec 11 06:23:37 2008 -0500

    env_sf: support embedded environments

    If both CONFIG_ENV_SECT_SIZE and CONFIG_ENV_SIZE are defined, and the sect
    size is larger than the env size, then it means the env is embedded in a
    block.  So we have to save/restore the part of the sector which is not the
    environment.  Previously, saving the environment in SPI flash in this
    setup would probably brick the board as the rest of the sector tends to
    contain actual U-Boot data/code.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Acked-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit ecf5f077c8e77454f532eaac3e3afb7cfc48c62d
Author: Timur Tabi <timur@freescale.com>
Date:	Wed Dec 3 11:28:30 2008 -0600

    i2c: merge all i2c_reg_read() and i2c_reg_write() into inline functions

    All implementations of the functions i2c_reg_read() and
    i2c_reg_write() are identical. We can save space and simplify the
    code by converting these functions into inlines and putting them in
    i2c.h.

    Signed-off-by: Timur Tabi <timur@freescale.com>
    Acked-By: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit e39cd81c44740d7355d277ed3d38536cbe1e003d
Author: Dave Liu <daveliu@freescale.com>
Date:	Fri Dec 5 15:36:14 2008 +0800

    lib_ppc: rework the flush_cache

    - It is possible to miss flush/invalidate the last
      cache line, we fix it at here.
    - add the volatile and memory clobber.

    They are pointed by Scott Wood.

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit 63240ba88cd6a220057a0f28e5bf97f5b17ac84b
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Sat Dec 13 17:20:28 2008 -0600

    Introduce addr_map library

    Add a library that helps in translating between virtual and physical
    addresses.	This library can be useful as a simple means to implement
    map_physmem() and virt_to_phys() for platforms that need functionality
    beyond the simple 1:1 mapping.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 65e43a10631537dcb92c302d36301a12308216c3
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Sat Dec 13 17:20:27 2008 -0600

    Introduce virt_to_phys()

    virt_to_phys() returns the physical address given a virtual. In most
    cases this will be just the input value as the vast majority of
    systems run in a 1:1 mode.

    However in systems that are not running this way it should report the
    physical address or ~0 if no mapping exists for the given virtual
    address.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 45845301af3de8675c1f7bbc815c6de35452605a
Author: Yuri Tikhonov <yur@emcraft.com>
Date:	Sun Dec 7 22:12:50 2008 +0100

    POST Make: fix the sub-dir dependencies missing.

    Signed-off-by: Yuri Tikhonov <yur@emcraft.com>

commit 22525779cb51f1bbe4e96fea7b778de1935a5a69
Author: Martin Michlmayr <tbm@cyrius.com>
Date:	Wed Aug 6 14:44:05 2008 +0300

    Fix a typo in fw_env.config

    Reported-by: Martin Michlmayr <tbm@cyrius.com>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit ba490b7761c62b549c222a9723e532dc801a3899
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Mon Dec 1 16:22:45 2008 -0600

    Remove unused CONFIG_ADDR_STREAMING defines

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit d16da93430520d3e46c1ab52eedacf36ab7a2311
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Mon Nov 24 11:54:47 2008 -0600

    cmd_mem: Remove unused variable

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 3aed3aa2c128ce9fb39ca3f4e9385a7499e93dbf
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Dec 14 10:29:39 2008 +0100

    Fix new found CFG_

    Also fix some minor typos.

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 0e0c862efe7279e9609db74d758cd1b84c6c7209
Author: Sergei Poselenov <sposelenov@emcraft.com>
Date:	Fri Sep 19 12:07:34 2008 +0200

    Remove compiler warning: target CPU does not support interworking

    This warning is issued by modern ARM-EABI GCC on non-thumb targets.

    Signed-off-by: Vladimir Panfilov <pvr@emcraft.com>
    Signed-off-by: Sergei Poselenov <sposelenov@emcraft.com>

commit cd6734510a9ff0f41c4a73567d4080ea0033d2c1
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Mon Nov 24 13:33:51 2008 +0100

    Fix FIT and FDT support to have CONFIG_OF_LIBFDT and CONFIG_FIT independent

    FDT support is used for both FIT style images and for architectures
    that can pass a fdt blob to an OS (ppc, m68k, sparc).

    For other architectures and boards which do not pass a fdt blob to an
    OS but want to use the new uImage format, we just need FIT support.

    Now we can have the 4 following configurations :

    1) FIT only		    CONFIG_FIT
    2) fdt blob only	    CONFIG_OF_LIBFDT
    3) both		    CONFIG_OF_LIBFDT & CONFIG_FIT
    4) none		    none

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 19ef4f7a6ef3b725aa9fe4b4f5fb676a84160172
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Wed Dec 10 15:13:32 2008 +0100

    ppc4xx: Disable EEPROM write access on PMC440 boards

    This patch disables EEPROM wrtie access by default on PMC440 board.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit 5b67a1439a73ba6c34007d9ff60a2c6aa90265df
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Wed Dec 10 15:12:56 2008 +0100

    ppc4xx: Fix Ethernet PHY LED configuration on PMC440 boards

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit 71fa0714fe5134bc8718c38d5261d267e88582ba
Author: Stefan Roese <sr@denx.de>
Date:	Tue Nov 18 16:36:12 2008 +0100

    MIPS: Flush data cache upon relocation

    This patch now adds a flush to the data cache upon relocation. The
    current implementation is missing this. Only a comment states that it
    should be done. So let's really do it now.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit 44174343688dba32571a34550dba08971c65fef1
Author: Stefan Roese <sr@denx.de>
Date:	Tue Nov 18 16:36:22 2008 +0100

    MIPS: Add CONFIG_SKIP_LOWLEVEL_INIT

    This patch adds the CONFIG_SKIP_LOWLEVEL_INIT option to start.S. This
    enables support for boards where the lowlevel initialization is
    already done when U-Boot runs (e.g. via OnChip ROM).

    This will be used in the upcoming VCTH board support.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit db08ecaa6eb8176904b3bae103a85ee8f735dc40
Author: Stefan Roese <sr@denx.de>
Date:	Wed Nov 12 13:18:02 2008 +0100

    MIPS: Add board_early_init_f() to init_sequence

    This patch adds the board_early_init_f() call to the MIPS init
    sequence. A weak dummy implementation is also added which can be
    overridden by a board specific version.

    This will be used by the upcoming VCTH board support.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit 9d23fc584c4b7b8bb9ecbee48920b1b04b08fa1b
Author: Stefan Roese <sr@denx.de>
Date:	Wed Nov 12 13:18:19 2008 +0100

    MIPS: Add onenand_init() to board.c and move nand_init()

    This patch adds a call to onenand_init() for OneNAND support and moves
    the nand_init() call to an earlier place, so that the environment can
    be used from NAND and OneNAND.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit d8bbc51c7ba9b737a20984333d19fe28a3526431
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Tue Dec 9 11:32:46 2008 +0900

    sh: Update sh2/sh2a timer

    Renesas SH2/SH2A timer broken.
    This patch fix timer function.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit a319f1496210117b73198e3d889ffffaf6825d00
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Dec 5 07:27:37 2008 +0100

    sh: r2dplus fix register access

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 4d4a96055f6917335a89dbdf2e5556fa5ac329f6
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Tue Dec 2 07:40:03 2008 +0100

    sh: r2dplus/lowlevel_init: coding style fix

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit c54b9a42d8f5ab5b2a039b3a2e6fde8b427745e5
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Tue Nov 25 11:05:19 2008 +0900

    sh: Changed value of CACHE_OC_NUM_ENTRIES and CACHE_OC_WAY_SHIFT

    SH4 is different a value of CACHE_OC_NUM_ENTRIES and
    CACHE_OC_WAY_SHIFT every CPU.
    This patch corrects these values.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit e9d5f35497885b3c65d494d09a525d443dcccd3b
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Thu Nov 20 16:44:42 2008 +0900

    sh: Update sh timer function

    Change to write/readX function and fix timer problem.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit b81786cff476c41e332eaeb679158f6527cd67d4
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Tue Nov 4 11:58:58 2008 +0900

    sh: Migo-R: Update BSC value

    A value of BSC CS4 was wrong, Fixed it.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 5783758fd260a02f44566ad8f29f899565cd0403
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Mon Nov 17 16:52:09 2008 +0900

    sh: Update ms7722se board config

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 15e2697c9f7fb2ba672a1a70f07cd6d9d4e92b51
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Mon Nov 17 16:53:09 2008 +0900

    sh: Update SuperH serial driver

    The address of SCFSR register is wrong at SH7720/SH7721.
    This patch fix this.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 9a1d3557dcd47365c12eeab584b822e57d994352
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Tue Nov 11 22:20:15 2008 +0100

    sh: fix rsk7203 and MigoR out of tree build

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 1951f847f0a851853871b613ad7cf21a5242226c
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Wed Dec 10 14:41:25 2008 +0100

    ppc4xx: Update TEXT_BASE for CPCI405 boards

    This patch fixes building U-Boot for CPCI405 boards.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 8c92af7b2fbd60ae87379477f93c7ec9441b7452
Author: Stefan Roese <sr@denx.de>
Date:	Tue Dec 9 20:08:01 2008 +0100

    ppc4xx: Remove some features from ALPR to fit into 256k again

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 3b089e4f889a2902449d55e081c886ae607cae89
Author: Stefan Roese <sr@denx.de>
Date:	Wed Dec 10 10:32:59 2008 +0100

    UBI: Set ubi_dev.type back to DEV_TYPE_NONE upon failing initialization

    With this patch we set the type back to NONE upon failing UBI partition
    initialization. Otherwise further calls to the UBI subsystem would try
    to really access the non-existing UBI partition.

    Thanks to Michael Lawnick for pointing this out.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 817329351639a8895cd9b87b33aeff043f3d5a44
Author: Stefan Roese <sr@denx.de>
Date:	Wed Dec 10 10:28:33 2008 +0100

    UBI: Return -ENOMEM upon failing malloc

    Return with correct error code (-ENOMEM) from ubi_attach_mtd_dev() upon
    failing malloc().

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 2145188bea2df8f2b47a87ec3071b55027e8d0ae
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Tue Dec 9 23:34:15 2008 -0800

    Fix compile error in building MBX860T.

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 8fab49ea911fe925392fa5afcc9bc7373a3d0cee
Author: Michal Simek <monstr@monstr.eu>
Date:	Tue Nov 25 11:42:20 2008 +0100

    microblaze: Remove XUPV2P board

    ---

    Microblaze platforms use generic settings and to have
    many platforms is confusing that's why I decided to remove this
    platform from U-BOOT. ml401 tree is sufficient for covering
    all Microblaze platforms.

    This change will go through microblaze custodian tree.

commit 99ba6f353582720defff6e6e6761dc455a207d31
Author: Michal Simek <monstr@monstr.eu>
Date:	Mon Nov 24 18:25:41 2008 +0100

    microblaze: Remove CONFIG_LIBFDT due to error in common files

commit e7d591e823a991513833af7030468409e25a3b13
Author: Michal Simek <monstr@monstr.eu>
Date:	Mon Nov 24 11:43:00 2008 +0100

    microblaze: Fix ml401 uart16550 setting

    Signed-off-by: Michal Simek <monstr@monstr.eu>

commit c85ff0553a8cfbcca51c15b947e1ed55d3810a39
Author: Michal Simek <monstr@monstr.eu>
Date:	Mon Nov 24 11:38:22 2008 +0100

    microblaze: Set up relocation is done

commit bcb6dd9187d4b23c748704767bd12d20c829e996
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Tue Dec 9 23:20:31 2008 -0500

    tools/netconsole: new script for working with netconsole over UDP

    While the doc/README.NetConsole does have a snippet for people to
    create their own netcat script, it's a lot easier to make a simple
    dedicated script and tell people to use it.

    Also spruce it up a bit to make it user friendly.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 8c5170a7d088601d5f30d85093388dab1f1e8ec0
Author: Sonic Zhang <Sonic.Zhang@analog.com>
Date:	Tue Dec 9 23:20:18 2008 -0500

    fs/fat: handle FAT on SATA

    The FAT file system driver should also handle FAT on SATA devices.

    Signed-off-by: Sonic Zhang <Sonic.Zhang@analog.com>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 4cd8ed40615a7d741ef2f09ee53779ec6907b8a6
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Tue Dec 9 23:26:31 2008 -0800

    Fix compile error in building MBX860T.
    Bug was introduced in 9eb79bd8856bcab896ed5e1f1bca159807a124dd

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 97a24a78ee6f34b89b821cb70eda1cf34aa11d97
Author: Jerry Van Baren <gvb.uboot@gmail.com>
Date:	Mon Nov 24 08:15:02 2008 -0500

    libfdt: Fix redefined uintptr_t warning for USE_HOSTCC

    Compiling U-Boot in an old OS environment (RedHat-7.3  :-)	gives the
    following warnings from FDT:

    include/libfdt_env.h:50: warning: redefinition of 'uintptr_t'
    /usr/include/stdint.h:129: warning: 'uintptr_t' previously declared here

    Fix: Protect the definition of uintptr_t when compiling on the host
    system.

    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>

commit 1fc2b165c51d6f40c8d505f1b3eaefdb6599b17b
Author: Graeme Russ <graeme.russ@gmail.com>
Date:	Sat Nov 22 08:43:29 2008 +1100

    Moved sc520 PCI definitions to stand-alone file

    Signed Off By: Graeme Russ <graeme.russ@gmail.com>

commit 1f5070c0c18fa5684bfce09c8abdf10c04ed48fa
Author: Graeme Russ <graeme.russ@gmail.com>
Date:	Sat Nov 22 08:43:21 2008 +1100

    Fixed path to sc520 SSI include file

    Signed Off By: Graeme Russ <graeme.russ@gmail.com>

commit d4f70da544c33db3e4fce6473dea4ecca4322545
Author: Graeme Russ <graeme.russ@gmail.com>
Date:	Fri Nov 21 06:28:05 2008 +1100

    Fixed build error due to #define of _LINUX_STRING_H_ in 82559_eeprom.c

    Signed-off-by: Graeme Russ <graeme.russ@gmail.com>

commit c034075a713b60e654c64e88e87da29440f31bb4
Author: Stefan Roese <sr@denx.de>
Date:	Wed Nov 12 13:30:10 2008 +0100

    serial: Add vcth UART driver

    This patch adds the UART driver for the upcoming VCTH board support.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 142a80ffc3b537a9c45acd2444a42a77f147c602
Author: Ilya Yanok <yanok@emcraft.com>
Date:	Thu Nov 13 19:49:36 2008 +0300

    jffs2: cache data_crc results

    As we moved data_crc() invocation from jffs2_1pass_build_lists() to
    jffs2_1pass_read_inode() data_crc is going to be calculated on each
    inode access. This patch adds caching of data_crc() results. There
    is no significant improvement in speed (because of flash access
    caching added in previous patch I think, crc in RAM is really fast)
    but this patch impacts memory usage -- every b_node structure uses
    12 bytes instead of 8.

    Signed-off-by: Alexey Neyman <avn@emcraft.com>
    Signed-off-by: Ilya Yanok <yanok@emcraft.com>

commit 9b7076229ec6a958bd835ab70745f7676297ce82
Author: Ilya Yanok <yanok@emcraft.com>
Date:	Thu Nov 13 19:49:35 2008 +0300

    jffs2: summary support

    This patch adds support for reading fs information from summary
    node instead of scanning full eraseblock.

    Signed-off-by: Ilya Yanok <yanok@emcraft.com>

commit 70741004dc28946cd82c7af6789c4ddb3fc94526
Author: Ilya Yanok <yanok@emcraft.com>
Date:	Thu Nov 13 19:49:34 2008 +0300

    jffs2: add buffer to cache flash accesses

    With this patch JFFS2 code allocates memory buffer of max_totlen size
    (size of the largest node, calculated during scan time) and uses it to
    store entire node. Speeds up loading. If malloc fails we use old ways
    to do things.

    Signed-off-by: Alexey Neyman <avn@emcraft.com>
    Signed-off-by: Ilya Yanok <yanok@emcraft.com>

commit 8a36d31f72411144ac0412ee7e1880e801acd754
Author: Ilya Yanok <yanok@emcraft.com>
Date:	Thu Nov 13 19:49:33 2008 +0300

    jffs2: rewrite jffs2 scanning code based on Linux one

    Rewrites jffs2_1pass_build_lists() function in style of Linux's
    jffs2_scan_medium() and jffs2_scan_eraseblock().
    This includes:
     - Caching flash acceses
     - Smart dealing with free space

    Signed-off-by: Alexey Neyman <avn@emcraft.com>
    Signed-off-by: Ilya Yanok <yanok@emcraft.com>

commit e0b5532579eda8b4629f1b4f6e49c3cc60f52237
Author: Ilya Yanok <yanok@emcraft.com>
Date:	Thu Nov 13 19:49:32 2008 +0300

    jffs2: add sector_size field to part_info structure

    This patch adds sector_size field to part_info structure (used
    by new JFFS2 code).

    Signed-off-by: Ilya Yanok <yanok@emcraft.com>

commit f73846956778a7dfee83403ef9747aff77198848
Author: Ilya Yanok <yanok@emcraft.com>
Date:	Thu Nov 13 19:49:31 2008 +0300

    jffs2: fix searching for latest version in jffs2_1pass_list_inodes()

    We need to update i_version inside cycle to find really latest version
    inside jffs2_1pass_list_inodes(). With that fixed we can use isize inside
    dump_inode() instead of calling expensive jffs2_1pass_read_inode().

    Signed-off-by: Alexey Neyman <avn@emcraft.com>
    Signed-off-by: Ilya Yanok <yanok@emcraft.com>

commit 1113cb764b3da256ef8a1f9539f4efbe221ff3c4
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Dec 9 23:13:51 2008 +0100

    evb64260: fix "cast to pointer from integer of different size" warnings

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit d2776827315c3d469b8cb4cec14d58877798daa2
Author: Stefan Althoefer <stefan.althoefer@web.de>
Date:	Sun Dec 7 19:39:11 2008 +0100

    USB: descriptor handling

    Hi,

    I found a bug when working with the u-boot USB subsystem on IXP425 processor
    (big endian Xscale aka ARMv5).
    I recognized that the second usb_endpoint_descriptor of the attached memory
    stick was corrupted.

    The reason for this are the packed structures below (either u-boot and
    u-boot-usb):

    --------------
    /* Endpoint descriptor */
    struct usb_endpoint_descriptor {
	unsigned char  bLength;
	unsigned char  bDescriptorType;
	unsigned char  bEndpointAddress;
	unsigned char  bmAttributes;
	unsigned short wMaxPacketSize;
	unsigned char  bInterval;
	unsigned char  bRefresh;
	unsigned char  bSynchAddress;

    } __attribute__ ((packed));
    /* Interface descriptor */
    struct usb_interface_descriptor {
	unsigned char  bLength;
	unsigned char  bDescriptorType;
	unsigned char  bInterfaceNumber;
	unsigned char  bAlternateSetting;
	unsigned char  bNumEndpoints;
	unsigned char  bInterfaceClass;
	unsigned char  bInterfaceSubClass;
	unsigned char  bInterfaceProtocol;
	unsigned char  iInterface;

	unsigned char  no_of_ep;
	unsigned char  num_altsetting;
	unsigned char  act_altsetting;
	struct usb_endpoint_descriptor ep_desc[USB_MAXENDPOINTS];
    } __attribute__ ((packed));
    ------------

    As usb_endpoint_descriptor is only 7byte in length, the start of all
    odd ep_desc[] structures is not word aligned. This makes wMaxPacketSize
    of these structures also not word aligned.

    ARMv5 Architecture however does not support non-aligned multibyte
    data type (see A2.8 of ARM Architecture Reference Manual).

    Signed-off-by: Stefan Althoefer <stefan.althoefer@web.de>
    Signed-off-by: Remy Bhmer <linux@bohmer.net>

commit 4c253fdb2a175ea3472c38a1455a16faa58e81f0
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Dec 9 10:27:33 2008 -0600

    drivers/fsl_pci_init: Fix compile warning

    fsl_pci_init.c: In function 'fsl_pci_setup_inbound_windows':
    fsl_pci_init.c:122: warning: comparison is always true due to limited range of data type

    The check only makes sense if we are CONFIG_PHYS_64BIT

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit dedacc18a8c2b3951581eb721fa055a4e0ac4845
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Dec 7 09:45:35 2008 +0100

    usbtty/omap: update to current API

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Remy Bhmer <linux@bohmer.net>

commit ee2e9ba917a62cc2e3a484bb79c8da0e01cb93ed
Author: Anatolij Gustschin <agust@denx.de>
Date:	Tue Dec 9 17:52:05 2008 +0100

    video: fix FADS823 and RRvision compiling issues

    Since commit 561858ee building for FADS823 and RRvision
    doesn't work. Let's include version.h and timestamp.h
    unconditionally to fix the problem.

    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit 2d2e05727fe4013f807ffa814dff0e75259a1db4
Author: Stefan Roese <sr@denx.de>
Date:	Tue Dec 2 10:53:47 2008 +0100

    UBI: Fix size parsing in "ubi create"

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 2ee951ba2ac9874d2a93d52e7a187d3184be937e
Author: Stefan Roese <sr@denx.de>
Date:	Thu Nov 27 14:07:09 2008 +0100

    UBI: Enable re-initializing of the "ubi part" command

    With this patch now, the user can call "ubi part" multiple times to
    re-connect the UBI device to another MTD partition.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 9def12cae33d2d3ea2dd56b197fd3dfb3ad60bf4
Author: Stefan Roese <sr@denx.de>
Date:	Thu Nov 27 14:05:15 2008 +0100

    MTD: Fix problem based on non-working relocation (list head mtd_partitions)

    Don't use LIST_HEAD() but initialize the struct via INIT_LIST_HEAD() upon
    first call of add_mtd_partitions(). Otherwise this won't work on platforms
    where the relocation is broken (like MIPS or PPC).

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 5e3ab68e9acf9edf304b8aa32ad7e005483a2c47
Author: Trent Piepho <tpiepho@freescale.com>
Date:	Wed Nov 12 17:29:48 2008 -0800

    Section name should be ".data", not "data"

    Signed-off-by: Trent Piepho <tpiepho@freescale.com>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 7fa6a2f3b66579dea8bc1a9177646e1141731b15
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Dec 9 00:39:08 2008 +0100

    MAKEALL: Automatically use parallel builds

    Add logic to the MAKEALL script to determine the number of CPU cores
    on the system, and run a parallel build if there is more than one.
    Usually this significantrly accelerates builds.

    Allow to manually adjust the number of parallel make jobs by using
    the "BUILD_NCPUS" environment variable.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 268405fa7c44156c5192a70779920c70906af8d6
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Dec 9 00:24:30 2008 +0100

    vxworks.h: Fix build problem introduced by commits 29a4c24d/e9084b23

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 153176a9414120ca1736f3cc4951623d6e14e6af
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Tue Nov 11 06:08:59 2008 +0100

    avr32/bootm: remove unused variable 'ret'

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Acked-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit 434c51a5e62f608a2a78ed5398ac43a1c77cc183
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Wed Nov 12 13:06:48 2008 -0600

    Remove unneeded CONFIG_SHELL references

    Make should be using the bash shell by default which makes
    CONFIG_SHELL unnecessary

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit cf7a7b99794bac936899819b95539be1dbd71708
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Wed Nov 12 12:33:20 2008 -0600

    Use bash for default GNU Make shell application

    Some Make script commands rely on bash-specific features like brace
    expansion, so default to bash for the SHELL variable with a fallback
    to the standard sh shell

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 4b530018764934ad5689196e9aa5714a6f4d1a6c
Author: Heiko Schocher <hs@denx.de>
Date:	Wed Nov 12 09:50:45 2008 +0100

    jffs2: rename devices_init () in common/jffs2.c

    rename devices_init () in common/jffs2.c to
    jffs2_devices_init (), because there is also a
    devices_init () in common/devices.c.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit af5eb847a10f1037590001355d88bab3fe7be48b
Author: Daniel Hellstrom <daniel@gaisler.com>
Date:	Mon Nov 10 12:46:20 2008 +0000

    SPARC: Fixed compiler error introduced by commit c160a9544743

    This patch fixes a build error for the SPARC platform. It was
    introduced by commit c160a9544743e80e8889edb2275538e7764ce334.

    Signed-off-by: Daniel Hellstrom <daniel@gaisler.com>

commit 4c60259899aa00f59db0d936b8807f9a26411c0f
Author: Gary Jennejohn <garyj@denx.de>
Date:	Sun Nov 9 12:50:59 2008 +0100

    mgsuvd add the board-specific part of the HDLC driver

    Signed-off-by: Gary Jennejohn <garyj@denx.de>

commit 534a4359666af48bd69a3743d8a8c2bdb1d3ec70
Author: Gary Jennejohn <garyj@denx.de>
Date:	Sun Nov 9 12:45:03 2008 +0100

    mgcoge add the board-specific part of the HDLC driver

    Signed-off-by: Gary Jennejohn <garyj@denx.de>

commit 135f5534538bb8ea4f38a7030da12187d22ef7e0
Author: Gary Jennejohn <garyj@denx.de>
Date:	Sun Nov 9 12:36:15 2008 +0100

    keymile add the common parts of the HDLC driver

    This implements the ICN protocol used across the backplane and is
    needed by all the keymile boards.

    Signed-off-by: Gary Jennejohn <garyj@denx.de>

commit 1cb82a9207a550557399eabc7fe47f21bbd9ddf8
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Nov 7 22:46:22 2008 +0100

    drivers/bios_emulator: Move conditional compilation to Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit bcdf1d2cf6b24fb905fd7da80da4b3c65a7995b5
Author: Richard Retanubun <RichardRetanubun@RuggedCom.com>
Date:	Thu Nov 6 14:01:51 2008 -0500

    common/cmd_ide.c: Corrected endian order printing for compact flash serial number.

    Corrected endian order printing for compact flash serial number.

    Signed-off-by: Richard Retanubun <RichardRetanubun@RuggedCom.com>

commit 16a28ef219c27423a1ef502f19070c4d375079b8
Author: Gary Jennejohn <garyj@denx.de>
Date:	Thu Nov 6 15:04:23 2008 +0100

    IOMUX: Add console multiplexing support.

    Modifications to support console multiplexing.  This is controlled using
    CONFIG_SYS_CONSOLE_MUX in the board configuration file.

    This allows a user to specify multiple console devices in the environment
    with a command like this: setenv stdin serial,nc.  As a result, the user can
    enter text on both the serial and netconsole interfaces.

    All devices - stdin, stdout and stderr - can be set in this manner.

    1) common/iomux.c and include/iomux.h contain the environment setting
    implementation.
    2) doc/README.iomux contains a somewhat more detailed description.
    3) The implementation in (1) is called from common/cmd_nvedit.c to
    handle setenv and from common/console.c to handle initialization of
    input/output devices at boot time.
    4) common/console.c also contains the code needed to poll multiple console
    devices for input and send output to all devices registered for output.
    5) include/common.h includes iomux.h and common/Makefile generates iomux.o
    when CONFIG_SYS_CONSOLE_MUX is set.

    Signed-off-by: Gary Jennejohn <garyj@denx.de>

commit 774ce72026f74ac9641bcbbc588b20f2e13f7ab8
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Tue Nov 4 16:03:46 2008 -0500

    strings: use puts() rather than printf()

    When running `strings` on really long strings, the stack tends to get
    smashed due to printf().  Switch to puts() instead since we're only passing
    the data through.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit b03150b52e3c491a86a3cc0945274f0e8f9872e7
Author: Niklaus Giger <niklaus.giger@member.fsf.org>
Date:	Mon Nov 3 22:16:18 2008 +0100

    Use new CONFIG_SYS_VXWORKS parameters for Netstal boards

    Signed-off-by: Niklaus Giger <niklaus.giger@member.fsf.org>

commit 29a4c24de99d8cb4ac32991c04cab87ed94ca1f9
Author: Niklaus Giger <niklaus.giger@member.fsf.org>
Date:	Mon Nov 3 22:15:34 2008 +0100

    cmd_elf.c: Cleanup bootvx and handle new CONFIG_SYS_VXWORKS parameters

    - fix size too small by one in sprintf
    - changed old (pre 2004) device name ibmEmac to emac
    - boot device may be overriden in board config
    - servername may be defined in board config
    - additional parameters may be defined in board config
    - fixed some line wrappings
    - replaced	redundant MAX define by max

    Signed-off-by: Niklaus Giger <niklaus.giger@member.fsf.org>

commit e9084b23d16102f44ace24379a1c0c352497ef80
Author: Niklaus Giger <niklaus.giger@member.fsf.org>
Date:	Mon Nov 3 22:14:36 2008 +0100

    Add vxworks.h to handle CONFIG_SYS_VXWORKS parameters

    Signed-off-by: Niklaus Giger <niklaus.giger@member.fsf.org>

commit 0b2f4ecad473d785959c7976f20d2a00bd0ee01f
Author: Niklaus Giger <niklaus.giger@member.fsf.org>
Date:	Mon Nov 3 22:13:47 2008 +0100

    README: Document CONFIG_SYS parameters for vxworks

    Signed-off-by: Niklaus Giger <niklaus.giger@member.fsf.org>

commit ace514837cac656e29c37a19569cb8ea83071126
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Oct 31 11:12:38 2008 -0500

    lcd: Let the board code show board-specific info cleanup

    remove unneeded version.h from lcd.c

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 561858ee7d0274c3e89dc98d4d0698cb6fcf6fd9
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Mon Nov 3 09:30:59 2008 -0600

    Update U-Boot's build timestamp on every compile

    Use the GNU 'date' command to auto-generate a new U-Boot
    timestamp on every compile.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 83ad179e2f0f625b88adb8ef5696709e46fb9077
Author: Remy Bohmer <linux@bohmer.net>
Date:	Thu Dec 4 22:25:57 2008 +0100

    Remove redundant armv4 flag from arm926ejs compile flags

    Currently the arm926ejs tree has the armv4 option set during compilation.
    This flag does not belong here because a arm926 CPU is always a armv5 CPU.

    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit 89a7a87f084c657f8e32b513a77b50eca07e17ec
Author: Nicolas Ferre <nicolas.ferre@atmel.com>
Date:	Sat Dec 6 13:11:14 2008 +0100

    at91: Choose environment variables location within make config target

    This patch adds the possiblity to choose the media where the environment will
    be located. This allow to choose this fundamental configuration without editing
    config files.

    Documentation file added.

    Signed-off-by: Nicolas Ferre <nicolas.ferre@atmel.com>
    Acked-by: Stelian Pop <stelian@popies.net>
    Acked-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 1450c4a6682378567030414a9f1198c39b7730c7
Author: Anatolij Gustschin <agust@denx.de>
Date:	Mon Nov 3 15:30:34 2008 +0100

    lwmon, tqm8xx: Fix build errors

    Commit 6b59e03e0237a40a2305ea385defdfd92000978b
    lcd: Let the board code show board-specific info

    introduced some bugs which prevent U-Boot building
    for lwmon board if CONFIG_LCD_INFO_BELOW_LOGO will
    be defined in the board configuration.

    Also "LCD enabled" building for TQM823L doesn't work
    since this commit.

    This patch fixes above-mentioned issues.

    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit bfa0af6b22ff25b0719a8910f9b6d1f975aa6fb0
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Nov 2 01:18:18 2008 -0400

    ignore .gdb_history files

    When using gdb, history files will often get generated.  So ignore them.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit c8aa7dfc18f7cc90d0aea6c7becbb67dfc5bba4b
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Oct 31 12:26:55 2008 +0100

    FPGA: move fpga drivers to drivers/fpga

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 6a86bb6c25376f0358478219fa28d7c84dd01ed0
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Mon Dec 1 16:29:38 2008 -0600

    net: Fix TftpStart() ip:filename bug

    The TftpStart() function modifies the 'BootFile'
    string when 'BootFile' contains both an IP address
    and filename (eg 1.2.3.4:/path/file). This causes
    subsequent calls to TftpStart to incorrectly parse
    the TFTP filename and server IP address to use.
    For example:

    => tftp 0x100000 10.52.0.62:/home/ptyser/non_existant
    Speed: 100, half duplex
    Using eTSEC1 device
    TFTP from server 10.52.0.62; our IP address is 10.52.253.79
		     ^^^^^^^^^^ CORRECT
    Filename '/home/ptyser/non_existant'.
	      ^^^^^^^^^^^^^^^^^^^^^^^^^ CORRECT
    Load address: 0x100000
    Loading: *
    TFTP error: 'File not found' (1)
    Starting again

    eTSEC2: No link.
    Speed: 100, half duplex
    Using eTSEC1 device
    TFTP from server 10.52.0.33; our IP address is 10.52.253.79
		     ^^^^^^^^^^ WRONG
    Filename '10.52.0.62'.
	      ^^^^^^^^^^ WRONG
    Load address: 0x100000
    Loading: *
    TFTP error: 'File not found' (1)
    Starting again

    TftpStart() was modified to not modify the 'BootFile' string.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit d32c5be50bf0600bfdc54223ef341ee9c63db445
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Mon Dec 1 16:26:21 2008 -0600

    net: Add additional IP fragmentation check

    Ignore IP packets which have the "more fragments" flag bit
    set.  This flag indicates the IP packet is fragmented and
    must be ignored by U-Boot.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit e0c07b868cab405ab4b5335a0247899bfc5ea0b6
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Mon Dec 1 16:26:20 2008 -0600

    net: Define IP flag field values

    These defines were pulled from the "Add simple
    IP/UDP fragmentation support" patch from Frank
    Haverkamp <haver@vnet.ibm.com>.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 23afaba65ec5206757e589ef334a8b38168c045f
Author: Anatolij Gustschin <agust@denx.de>
Date:	Tue Dec 2 10:31:04 2008 +0100

    net: tsec: Fix Marvell 88E1121R phy init

    This patch tries to ensure that phy interrupt pin
    won't be asserted after booting. We experienced
    following issues with current 88E1121R phy init:

    Marvell 88E1121R phy can be hardware-configured
    to share MDC/MDIO and interrupt pins for both ports
    P0 and P1 (e.g. as configured on socrates board).
    Port 0 interrupt pin will be shared by both ports
    in such configuration. After booting Linux and
    configuring eth0 interface, port 0 phy interrupts
    are enabled. After rebooting without proper eth0
    interface shutdown port 0 phy interrupts remain
    enabled so any change on port 0 (link status, etc.)
    cause assertion of the interrupt. Now booting Linux
    and configuring eth1 interface will cause permanent
    phy interrupt storm as the registered phy 1 interrupt
    handler doesn't acknowledge phy 0 interrupts. This
    of course should be fixed in Linux driver too.

    Signed-off-by: Anatolij Gustschin <agust@denx.de>
    Acked-by: Andy Fleming <afleming@freescale.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 2e4970d8109d690adcf615d9e3cac7b5b2e8eaed
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Tue Dec 2 12:59:51 2008 -0600

    net: Fix download command parsing

    When CONFIG_SYS_HUSH_PARSER is defined network download
    commands with 1 argument in the format 'tftp "/path/file"'
    do not work as expected. The hush command parser strips
    the quotes from "/path/file" which causes the network
    commands to interpret "/path/file" as an address
    instead of the intended filename.

    The previous check for a leading quote in netboot_common()
    was replaced with a check which ensures only valid
    numbers are treated as addresses.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 3c2c2f427905040c1513d0c51d637689cba48346
Author: Remy Bohmer <linux@bohmer.net>
Date:	Thu Nov 27 22:30:27 2008 +0100

    Remove non-ascii characters from fat code

    This code contains some non-ascii characters in comment lines and code.
    Most editors do not display those characters properly and editing those
    files results always in diffs at these places which are usually not required
    to be changed at all. This is error prone.

    So, remove those weird characters and replace them by normal C-style
    equivalents for which the proper defines were already in the header.

    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit dc889e865356497d3e495570118c2245ebce2631
Author: Dave Liu <daveliu@freescale.com>
Date:	Fri Nov 28 20:16:58 2008 +0800

    85xx: fix the wrong DDR settings for MPC8572DS

    The default DDR freq is 400MHz or 800M data rate,
    the old settings is pure wrong for the default case.

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit 9df59533f77de2829b4b66e5b7620e04edaa391c
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Nov 24 10:29:26 2008 -0600

    85xx: init gd as early as possible

    Moved up the initialization of GD so C code like set_tlb() can use
    gd->flags to determine if we've relocated or not in the future.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit aed461af81012a398a205e9be67ab37667491838
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Nov 24 10:29:25 2008 -0600

    85xx: Fix relocation of CCSRBAR

    If the virtual address for CCSRBAR is the same after relocation but
    the physical address is changing we'd end up having two TLB entries with
    the same VA.  Instead we new us the new CCSRBAR virt address + 4k as a
    temp virt address to access the old CCSRBAR to relocate it.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit ea154a1781135d822eedee7567cc156089eae93c
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Nov 24 10:25:14 2008 -0600

    FSL: Moved BR_PHYS_ADDR for localbus to common header

    The BR_PHYS_ADDR macro is useful on all machines that have local bus
    which is pretty much all 83xx/85xx/86xx chips.

    Additionally most 85xx & 86xx will need it if they want to support
    36-bit physical addresses.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit 9427ccde0355a2ebf47454e8e1be59f5b9864e08
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Mon Dec 1 13:47:12 2008 -0600

    85xx: Add PORDEVSR_PCI1 define

    Add define used to determine if PCI1 interface is in PCI or PCIX mode.

    Convert users of the old PORDEVSR_PCI constant to use MPC85xx_PORDEVSR_PCI1

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 35db1c6d34b57ae15e99cf03c8e8f8a6148d74f3
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Fri Nov 21 19:24:22 2008 -0600

    drivers/fsl_pci_init: Fix inbound window mapping bug

    The current code will cause the creation of a 4GB window
    starting at 0 if we have more than 4GB of RAM installed,
    which overlaps with PCI_MEM space and causes pci_bus_to_phys()
    to return erroneous information. Limit the size to 4GB - 1;
    which causes the code to create one 2GB and one 1GB window
    instead.

    Signed-off-by: Becky Bruce <beckyb@kernel.crashing.org>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit 5a105a333dab6a23e92d763ce76d6f31d57f45df
Author: Jon Loeliger <jdl@freescale.com>
Date:	Thu Nov 20 15:36:48 2008 -0600

    Removed unused CONFIG_L1_INIT_RAM symbol.

    Prevent further viral propogation of the unused
    symbol CONFIG_L1_INIT_RAM by just removing it.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit 7008d26a40a76f90cae5824c812cfed449fb97b8
Author: Ed Swarthout <Ed.Swarthout@freescale.com>
Date:	Wed Oct 29 09:21:44 2008 -0500

    fsl ddr skip interleaving if not supported.

    Removed while(1) hang if memctl_intlv_ctl is set wrong.
    Remove embedded tabs from strings.

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>
    Acked-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit dd332e18d082de75eca3fc2c7c778f5d4571a096
Author: Anatolij Gustschin <agust@denx.de>
Date:	Thu Nov 13 18:08:57 2008 +0100

    85xx: socrates: fix DDR SDRAM tlb entry configuration

    since commit be0bd8234b9777ecd63c4c686f72af070d886517
    tlb entry for socrates DDR SDRAM will be reconfigured
    by setup_ddr_tlbs() from initdram() causing an
    inconsistency with previously configured DDR SDRAM tlb
    entry from tlb_table:

    socrates>l2cam 7 9
    IDX  PID	  EPN  SIZE V TS	   RPN U0-U3 WIMGE UUUSSS
      7 : 00 00000000 256MB V  0 -> 0_00000000	0000 -I-G- ---RWX
      8 : 00 00000000 256MB V  0 -> 0_00000000	0000 ----- ---RWX
      9 : 00 10000000 256MB V  0 -> 0_10000000	0000 ----- ---RWX

    This patch makes the presence of the DDR SDRAM tlb entry in
    the tlb_table dependent on CONFIG_SPD_EEPROM to avoid this
    inconsistency.

    Signed-off-by: Anatolij Gustschin <agust@denx.de>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit a2cd50ed6ef0ac6b127b3d6db756979a8336718d
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Tue Nov 11 10:17:10 2008 -0600

    85xx: Add CPU 2 errata workaround to all 8548 boards

    All mpc8548-based boards should implement the suggested workaround
    to CPU 2 errata. Without the workaround, its possible for the
    8548's core to hang while executing a msync or mbar 0 instruction
    and a snoopable transaction from an I/O master tagged to make
    quick forward progress is present.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit e57f0fa1333cdf3ca36110aac2900712a5f82976
Author: Dave Liu <daveliu@freescale.com>
Date:	Tue Oct 28 17:53:45 2008 +0800

    85xx: the DDR tlb is missed for the !CONFIG_SPD_EEPROM case

    we need TLB entry for DDR at !SPD case.

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit 9b0ad1b1c7a15ff674978705c7c52264978dc5d8
Author: Dave Liu <daveliu@freescale.com>
Date:	Tue Oct 28 17:53:38 2008 +0800

    85xx: remove the unused ddr_enable_ecc in the board file

    The DDR controller of 8548/8544/8568/8572/8536 processors
    have the ECC data init feature, and the new DDR code is
    using the feature, and we don't need the way with DMA to
    init memory any more.

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit 4a129a57d923f7c15aa1f567028a80a32d66a100
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Nov 30 19:36:53 2008 +0100

    at91rm9200dk: Fix typo

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit ed3b18e05c9a8ffa5fb643da9bcec7452e5d5e01
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Nov 30 19:36:50 2008 +0100

    AT91: remove non supported board AT91RM9200DF macro

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit bd876772ee04095e5dd943d97515a1f14bad4b1c
Author: Ilko Iliev <iliev@ronetix.at>
Date:	Tue Dec 2 17:27:54 2008 +0100

    mtd/dataflash.c: fix a problem with the last partition

    This patch fix the problem that only the [NB_DATAFLASH_AREA - 1] dataflash
    partition can be defined to use the area to the end of dataflash size.
    Now it is possible to have only one dataflash partition from 0 to the end
    of of dataflash size.

    Signed-off-by: Ilko Iliev <iliev@ronetix.at>

commit 03f797793b124dccaae145b977d15d6cb9e74504
Author: Ilko Iliev <iliev@ronetix.at>
Date:	Tue Dec 2 17:20:17 2008 +0100

    fix some coding style violations.

    This patch fix some coding style violations.

    Signed-off-by: Ilko Iliev <iliev@ronetix.at>

commit 5e46b1e54112f4b7fd5185665e571510132c12a7
Author: Stefan Roese <sr@denx.de>
Date:	Thu Nov 27 14:11:37 2008 +0100

    OneNAND: Add missing mtd info struct before calling onenand_erase()

    Without this patch "saveenv" crashes when MTD partitions are enabled (e.g.
    for use in UBI) via CONFIG_MTD_PARTITIONS.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 29382d4064fbaff5daacff4c3209370fa5713966
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Thu Nov 20 16:43:52 2008 -0600

    mpc8641: Fix error in README

    I made some updates to the code that didn't make it into the
    README - fix this

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit 801a194616d95e6fc426a176d9615ccbf9876c7f
Author: Jon Loeliger <jdl@freescale.com>
Date:	Thu Nov 20 12:01:02 2008 -0600

    Removed unused CONFIG_L1_INIT_RAM symbol.

    Prevent further viral propogation of the unused
    symbol CONFIG_L1_INIT_RAM by just removing it.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit f698738e46cb461e28c2d58228bb34a2fcf5a475
Author: Jon Loeliger <jdl@freescale.com>
Date:	Thu Nov 20 14:02:56 2008 -0600

    86xx: Fix non-64-bit compilation problems.

    Introducing 64-bit (36-bit) support for the MPC8641HPCN
    failed to accomodate the other two 86xx boards.
    Introduce definitions for CONFIG_SYS_CCSRBAR_PHYS_{LOW,HIGH}
    CONFIG_SYS_CCSR_DEFAULT_DBAT{U,L} and CONFIG_SYS_CCSR_DEFAULT_IBAT{U,L}
    with nominal 32-bit values.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>
    Acked-by: Becky Bruce <becky.bruce@freescale.com>

commit bebfc6ef3ec994c8e18783269b1d8d41f8e38afd
Author: Michael Trimarchi <trimarchi@gandalf.sssup.it>
Date:	Wed Nov 26 17:40:37 2008 +0100

    Remove obsolete command (apply afte USB style patch, 80 chars strict)

    Remove USB obsolete commmand

    Signed-off-by: Michael Trimarchi <trimarchi@gandalf.sssup.it>
    Signed-off-by: Remy Bhmer <linux@bohmer.net>

commit de39f8c19d7c12017248c49d432dcb81db68f724
Author: Michael Trimarchi <trimarchi@gandalf.sssup.it>
Date:	Wed Nov 26 17:41:34 2008 +0100

    USB style patch, 80 chars strict

    USB Code style patch

    Signed-off-by: Michael Trimarchi <trimarchi@gandalf.sssup.it>
    Signed-off-by: Remy Bhmer <linux@bohmer.net>

commit d10c5a87cb8affbb4d35a311370316d4383d598e
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Nov 7 22:46:21 2008 +0100

    drivers/usb: Move conditional compilation to Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Remy Bhmer <linux@bohmer.net>

commit 2077e348c2a84901022ad95311b47b70361e6daa
Author: Scott Wood <scottwood@freescale.com>
Date:	Tue Nov 25 10:47:02 2008 -0600

    NAND: Fix misplaced return statement in nand_{read,write}_skip_bad().

    This caused the operation to be needlessly repeated if there were
    no bad blocks and no errors.

    Signed-off-by: Valeriy Glushkov <gvv@lstec.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 89295028e7d8f7a524f485328279d72fdb102385
Author: Michal Simek <monstr@monstr.eu>
Date:	Mon Nov 24 12:09:50 2008 +0100

    ppc4xx: ml300 remove Xilinx BSP from ml300 folder

    This BSP should be outside u-boot source tree.
    The second reason is that xilinx ppc405 was moved to generic platform.

    Signed-off-by: Michal Simek <monstr@monstr.eu>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 24eea623d4974a169026a975ba12fb23d48154b1
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Mon Nov 24 15:11:10 2008 +0100

    ppc4xx: Remove unused features

    This patch disables some unused features from the PCI405 configuration
    to keep U-Boot image size below 192k.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 0c2385c3bb51f5d3911fce1ec4720db86b534c2b
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Mon Nov 24 15:11:09 2008 +0100

    ppc4xx: Use correct io accessors for PCI405

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 348c849d86a6f0785752b9bc497a34658713d1d1
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Mon Nov 24 15:11:08 2008 +0100

    ppc4xx: Remove unused code from PCI405 code

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 633639587e3596f0dbf5e6247dd3faf80b1d9063
Author: Heiko Schocher <hs@denx.de>
Date:	Thu Nov 20 09:59:09 2008 +0100

    powerpc, keymile boards: extract identical config options

    This patch extracts the identical config options for the
    keymile boards mgcoge, mgsuvd and kmeter1 in a new
    common config file keymile-common.h.

    Signed-off-by: Heiko Schocher <hs@denx.de>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 9482a8e3d6ac766d90e5059dce777b1e4c868a30
Author: Heiko Schocher <hs@denx.de>
Date:	Fri Nov 21 08:29:40 2008 +0100

    powerpc: keymile: Add a check for the PIGGY debug board

    Check the presence of the PIGGY on the keymile boards mgcoge,
    mgsuvd and kmeter1. If the PIGGY is not present, dont register
    this Ethernet device.

    Signed-off-by: Heiko Schocher <hs@denx.de>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 58c696eed839af894e0265064669c402dc28b371
Author: Wolfgang Denk <wd@xpert.denx.de>
Date:	Mon Nov 24 21:50:59 2008 +0100

    AT91RM9200DK: fix broken boot from NOR flash

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 8052352f20b33bef8f9872fc983eac73d4693c38
Author: Jens Scharsig <esw@bus-elektronik.de>
Date:	Tue Nov 18 10:48:46 2008 +0100

    at91rm9200: fix broken boot from nor flash

    This patch fix the broken boot from NOR Flash on AT91RM9200 boards, if
    CONFIG_AT91RM9200 is defined and nor preloader is used.

    Signed-off-by: Jens Scharsig <esw@bus-elektronik.de>

commit 25ea652e907516a283b38237e83712a918f125d7
Author: Piotr Ziecik <kosmo@semihalf.com>
Date:	Mon Nov 17 15:58:00 2008 +0100

    UBI: Add proof-of-concept CFI flash support

    With this patch UBI can be used on CFI flash chips.

    Signed-off-by: Piotr Ziecik <kosmo@semihalf.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit e6a7edbc1778d27431ac663b40a71dafa5d20578
Author: Piotr Ziecik <kosmo@semihalf.com>
Date:	Mon Nov 17 15:57:59 2008 +0100

    mtd: Remove a printf() from add_mtd_device().

    Remove a printf() from add_mtd_device(), which produces spurious output.

    Signed-off-by: Piotr Ziecik <kosmo@semihalf.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 91809ed51d8327a8dbbf29aa98a091154c282171
Author: Piotr Ziecik <kosmo@semihalf.com>
Date:	Mon Nov 17 15:57:58 2008 +0100

    cfi-mtd: Add cfi-mtd driver.

    Add cfi-mtd driver, which exports CFI flash to MTD layer.
    This allows CFI flash devices to be used from MTD layer.

    Building of the new driver is controlled by CONFIG_FLASH_CFI_MTD
    option. Initialization is done by calling cfi_mtd_init() from
    flash_init().

    Signed-off-by: Piotr Ziecik <kosmo@semihalf.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 6ea808efdf9aa5d9067fbfac32acde8539129ed2
Author: Piotr Ziecik <kosmo@semihalf.com>
Date:	Mon Nov 17 15:49:32 2008 +0100

    cfi_flash: Add interface for flash verbosity control

    Add interface for flash verbosity control. It allows
    to disable output from low-level flash API. It is useful
    when calling these low-level functions from context other
    than flash commands (for example the MTD/CFI interface
    implmentation).

    Signed-off-by: Piotr Ziecik <kosmo@semihalf.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit ebc9784ce6528385bb8d2558e783622d4bbf20f8
Author: Piotr Ziecik <kosmo@semihalf.com>
Date:	Thu Nov 20 15:17:38 2008 +0100

    cfi_flash: Export flash_sector_size() function.

    Export flash_sector_size() function from drivers/mtd/cfi_flash.c,
    so that it can be used in the upcoming cfi-mtd driver.

    Signed-off-by: Piotr Ziecik <kosmo@semihalf.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 45aa5a7f4d5bcb79927ddfc896c1d7c4326e235d
Author: Stefan Roese <sr@denx.de>
Date:	Mon Nov 17 14:45:22 2008 +0100

    cfi_flash: Make all flash access functions weak

    This patch defines all flash access functions as weak so that
    they can be overridden by board specific versions.

    This will be used by the upcoming VCTH board support where the NOR
    FLASH unfortunately can't be accessed memory-mapped. Special
    accessor functions are needed here.

    To enable this weak functions you need to define
    CONFIG_CFI_FLASH_USE_WEAK_ACCESSORS in your board config header.
    Otherwise the "old" default functions will be used resulting
    in smaller code.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Acked-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit a5c4067017631d903e1afa6ad615f0ce19fea517
Author: Stefan Roese <sr@denx.de>
Date:	Mon Nov 24 08:31:16 2008 +0100

    UBI: Change parsing of size in commands to default to hex

    Currently the size parameters of the UBI commands (e.g. "ubi write") are
    decoded as decimal instead of hex as default. This patch now interprets
    all these values consistantly as hex, as all other standard U-Boot commands
    do.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit de01c76c3ccc4e6c5989228eed58e955a3a1a968
Author: Stefan Roese <sr@denx.de>
Date:	Fri Nov 21 13:06:06 2008 +0100

    ppc4xx: ML2 shouldn't include the 4xx EMAC driver

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 1a6a00dcc5bdfc6e9b4b00f39c1f583a7f96fc7f
Author: Yuri Tikhonov <yur@emcraft.com>
Date:	Fri Nov 14 16:19:19 2008 +0300

    ppc4xx: katmai: Change default config

     This patch enables support for EXT2, and increases the
    CONFIG_SYS_BOOTMAPSZ size for the default configuration
    of the katmai boards to use them as the RAID-reference
    AMCC setups.

     EXT2 enabling allows one to boot kernels from the EXT2
    formatted Compact Flash cards.

     CONFIG_SYS_BOOTMAPSZ increasing allows one to boot the
    Linux kernels, which use PAGE_SIZE of 256KB. Otherwise,
    the memory area with DTB file (which is placed at the
    end of the bootmap area) will turn out to be overlapped
    with the BSS segment of the 256KB kernel, and zeroed
    in early_init() of Linux.

     Actually, increasing of the bootmap size could be done
    via setting of the bootm_size U-Boot variable, but it looks
    like the current U-Boot implementation have some bootm_size-
    related functionality lost. In many places through the U-Boot
    code the CONFIG_SYS_BOOTMAPSZ definition is used directly
    (instead of trying to read the corresponding value from the
    environment). The same is truth for the boot_jump_linux()
    function in lib_ppc/bootm.c, where U-Boot transfers control
    to Linux passing the CONFIG_SYS_BOOTMAPSZ (not bootm_size)
    value to the booting kernel.

    Signed-off-by: Yuri Tikhonov <yur@emcraft.com>
    Signed-off-by: Ilya Yanok <yanok@emcraft.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit ddf45cc758d394591fb9bcdcbe96530f733f2bce
Author: Dave Mitchell <dmitch71@gmail.com>
Date:	Thu Nov 20 14:09:50 2008 -0600

    ppc4xx: Changed 460EX/GT OCM TLB and internal SRAM initialization

    Expanded OCM TLB to allow access to 64K OCM as well as 256K of
    internal SRAM.

    Adjusted internal SRAM initialization to match updated user
    manual recommendation.

    OCM & ISRAM are now mapped as follows:
	    physical	    virtual	    size
    ISRAM   0x4_0000_0000   0xE300_0000     256k
    OCM     0x4_0004_0000   0xE304_0000     64k

    A single TLB was used for this mapping.

    Signed-off-by: Dave Mitchell <dmitch71@gmail.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit b14ca4b61a681f75f3125676e09d7ce6af66e927
Author: Dave Mitchell <dmitch71@gmail.com>
Date:	Thu Nov 20 14:00:49 2008 -0600

    ppc4xx: Added ppc4xx-isram.h for internal SRAM and L2 cache DCRs

    Added include/asm-ppc/ppc4xx-isram.h and moved internal SRAM and
    L2 cache DCRs from ppc440.h to this new header.

    Also converted these DCR defines from lowercase to uppercase and
    modified referencing modules to use them.

    Signed-off-by: Dave Mitchell <dmitch71@gmail.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 711e2b2af820d21d9931d4cf8057d3894600fd54
Author: Steven A. Falco <sfalco@harris.com>
Date:	Thu Nov 20 14:37:57 2008 -0500

    ppc4xx: Delete unused definitions for SDR0_DDRCFG from ppc4xx.h

    The definitions of bits in SDR_CFG are incorrect, and not used within
    U-Boot.  Therefore, they can be removed.

    The naming of the sdr_ddrdl/sdr_cfg registers do not follow conventions,
    and are unused, so they can be removed too.

    A definition for SDR0_DDRCFG is added.

    Signed-off-by: Steven A. Falco <sfalco@harris.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit e23c7c95a96eb0f068efe5c532215a10a1512a95
Author: Dirk Behme <dirk.behme@gmail.com>
Date:	Mon Nov 10 20:15:25 2008 +0100

    ARM: OMAP: Convert IO macros

    Convert IO macros to readx/writex.

    Signed-off-by: Dirk Behme <dirk.behme@gmail.com>

commit 263b749e2e25473a48776d317bd2a7e2ddcdd212
Author: Ilko Iliev <iliev@ronetix.at>
Date:	Sun Nov 9 15:53:14 2008 +0100

    lib_arm: do_bootm_linux() - correct a small mistake

    This patch corrects a small bug in the "if" condition:
    the parameter "flag" is 0 and the "if" condition is always true.
    The result is - the boom command doesn't start the kernel.
    Affected targets: all arm based.

    Signed-off-by: Ilko Iliev <iliev@ronetix.at>

commit 3e0cda071a67cb5709e3fa4faf6b31a731859acc
Author: Stelian Pop <stelian@popies.net>
Date:	Sun Nov 9 00:14:46 2008 +0100

    AT91: Enable PLLB for USB

    At least some (old ?) versions of the AT91Bootstrap do not set up the
    PLLB correctly to 48 MHz in order to make USB host function correctly.

    This patch sets up the PLLB to the same values Linux uses, and makes USB
    work ok on the following CPUs:
	- AT91CAP9
	- AT91SAM9260
	- AT91SAM9263

    This patch also defines CONFIG_USB_STORAGE and CONFIG_CMD_FAT for all
    the relevant AT91CAP9/AT91SAM9 atmel boards.

    Signed-off-by: Stelian Pop <stelian@popies.net>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit ad229a44e162af0f65e57e4e3dc133d5f0364ecb
Author: Stelian Pop <stelian@popies.net>
Date:	Fri Nov 7 13:55:14 2008 +0100

    AT91: Use AT91_CPU_CLOCK in displays

    Introduce AT91_CPU_CLOCK and use it for displaying the CPU
    speed in the LCD driver.

    Also make AT91_MAIN_CLOCK and AT91_MASTER_CLOCK reflect the
    corresponding board clocks.

    Signed-off-by: Stelian Pop <stelian@popies.net>

commit fed36ac5ae613773b6cd90e61e292c45440e10c8
Author: Heiko Schocher <hs@denx.de>
Date:	Thu Nov 20 09:57:47 2008 +0100

    powerpc: 83xx: add support for the kmeter1 board

    This patch adds support for the kmeter1 board from Keymile,
    based on a Freescale MPC8360 CPU.

    - serial console on UART 1
    - 256 MB DDR2 RAM
    - 64 MB NOR Flash
    - Ethernet RMII Mode over UCC4
    - PHY SMSC LAN8700

    Signed-off-by: Heiko Schocher <hs@denx.de>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 25fb4eaaeab3f8866020818f4729d990dcc91cf0
Author: Stefan Roese <sr@denx.de>
Date:	Thu Nov 20 11:46:20 2008 +0100

    ppc4xx: Clear all potentially pending exceptions in MCSR

    This is needed on Canyonlands which still has an exception pending
    while running relocate_code(). This leads to a failure after trap_init()
    is moved to the top of board_init_r().

    Signed-off-by: Stefan Roese <sr@denx.de>

commit facdad5f2602e899a01746916beddbf9e856b5ee
Author: Heiko Schocher <hs@denx.de>
Date:	Wed Nov 19 10:10:30 2008 +0100

    powerpc: 83xx: add missing TIMING_CFG1_CASLAT_* defines

    Signed-off-by: Heiko Schocher <hs@denx.de>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 2f2a5c3714d17f4ead18b713128b7226e0e822f4
Author: Howard Gregory <Greg.Howard@freescale.com>
Date:	Tue Nov 4 14:55:33 2008 +0800

    mpc83xx: Improve the performance of DDR memory

    modify the CAS timings. my understanding is that these
    settings decrease various wait times in the DDR interface.
    Because these wait times are in clock cycles, and the DDR
    clock on the 8315 RDB runs slower than on some other 83xx
    platforms, we can dial down these values without a problem,
    thereby decreasing the latency of memory a little.

    Signed-off-by: Howard Gregory <Greg.Howard@freescale.com>
    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 8000b086b33a5a81f3f390f37e178db7956dc08b
Author: Kyungmin Park <kyungmin.park@samsung.com>
Date:	Fri Oct 24 14:55:33 2008 +0200

    ARM: Add Apollon UBI support

    To enable UBI on Apollon you need to uncomment the CONFIG_SYS_USE_UBI
    macro.

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 694a0b3f1c0accd0de94b89555155d69f8022824
Author: Kyungmin Park <kyungmin.park@samsung.com>
Date:	Wed Nov 19 11:47:05 2008 +0100

    UBI: Add UBI command support

    This patch adds these UBI commands:

    ubi part [nand|onenand] [part] - Show or set current partition
    ubi info [l[ayout]] -Display volume and UBI layout information
    ubi create[vol] volume [size] [type] - Create volume name with size
    ubi write[vol] address volume size - Write volume from address with size
    ubi read[vol] address volume [size] - Read volume to address with size
    ubi remove[vol] volume - Remove volume

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 58be3a1056d88c6d05f3e914389282807e69923a
Author: Kyungmin Park <kyungmin.park@samsung.com>
Date:	Wed Nov 19 16:38:24 2008 +0100

    UBI: Add basic UBI support to U-Boot (Part 8/8)

    This patch adds basic UBI (Unsorted Block Image) support to U-Boot.
    It's based on the Linux UBI version and basically has a "OS"
    translation wrapper that defines most Linux specific calls
    (spin_lock() etc.) into no-ops. Some source code parts have been
    uncommented by "#ifdef UBI_LINUX". This makes it easier to compare
    this version with the Linux version and simplifies future UBI
    ports/bug-fixes from the Linux version.

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 47ae6693f54f80455ae32c2e0d995e0e4bdc15b9
Author: Kyungmin Park <kyungmin.park@samsung.com>
Date:	Wed Nov 19 16:36:36 2008 +0100

    UBI: Add basic UBI support to U-Boot (Part 7/8)

    This patch adds basic UBI (Unsorted Block Image) support to U-Boot.
    It's based on the Linux UBI version and basically has a "OS"
    translation wrapper that defines most Linux specific calls
    (spin_lock() etc.) into no-ops. Some source code parts have been
    uncommented by "#ifdef UBI_LINUX". This makes it easier to compare
    this version with the Linux version and simplifies future UBI
    ports/bug-fixes from the Linux version.

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 7e6ee7ad27de5216db1baef76f38c3429c8f4a2a
Author: Kyungmin Park <kyungmin.park@samsung.com>
Date:	Wed Nov 19 16:32:36 2008 +0100

    UBI: Add basic UBI support to U-Boot (Part 6/8)

    This patch adds basic UBI (Unsorted Block Image) support to U-Boot.
    It's based on the Linux UBI version and basically has a "OS"
    translation wrapper that defines most Linux specific calls
    (spin_lock() etc.) into no-ops. Some source code parts have been
    uncommented by "#ifdef UBI_LINUX". This makes it easier to compare
    this version with the Linux version and simplifies future UBI
    ports/bug-fixes from the Linux version.

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit c91a719daa331b5856109313371e4ece5ec06d96
Author: Kyungmin Park <kyungmin.park@samsung.com>
Date:	Wed Nov 19 16:28:06 2008 +0100

    UBI: Add basic UBI support to U-Boot (Part 5/8)

    This patch adds basic UBI (Unsorted Block Image) support to U-Boot.
    It's based on the Linux UBI version and basically has a "OS"
    translation wrapper that defines most Linux specific calls
    (spin_lock() etc.) into no-ops. Some source code parts have been
    uncommented by "#ifdef UBI_LINUX". This makes it easier to compare
    this version with the Linux version and simplifies future UBI
    ports/bug-fixes from the Linux version.

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit f412fefa079c6aa9a9763f6869bf787ea6bf6e1b
Author: Kyungmin Park <kyungmin.park@samsung.com>
Date:	Wed Nov 19 16:27:23 2008 +0100

    UBI: Add basic UBI support to U-Boot (Part 4/8)

    This patch adds basic UBI (Unsorted Block Image) support to U-Boot.
    It's based on the Linux UBI version and basically has a "OS"
    translation wrapper that defines most Linux specific calls
    (spin_lock() etc.) into no-ops. Some source code parts have been
    uncommented by "#ifdef UBI_LINUX". This makes it easier to compare
    this version with the Linux version and simplifies future UBI
    ports/bug-fixes from the Linux version.

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 2d262c4853cb5b6ddce1a28a9641f2de3688d7ea
Author: Kyungmin Park <kyungmin.park@samsung.com>
Date:	Wed Nov 19 16:26:54 2008 +0100

    UBI: Add basic UBI support to U-Boot (Part 3/8)

    This patch adds basic UBI (Unsorted Block Image) support to U-Boot.
    It's based on the Linux UBI version and basically has a "OS"
    translation wrapper that defines most Linux specific calls
    (spin_lock() etc.) into no-ops. Some source code parts have been
    uncommented by "#ifdef UBI_LINUX". This makes it easier to compare
    this version with the Linux version and simplifies future UBI
    ports/bug-fixes from the Linux version.

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 961df83361aff9a14f226214224eb8a06e05ba24
Author: Kyungmin Park <kyungmin.park@samsung.com>
Date:	Wed Nov 19 16:25:44 2008 +0100

    UBI: Add basic UBI support to U-Boot (Part 2/8)

    This patch adds basic UBI (Unsorted Block Image) support to U-Boot.
    It's based on the Linux UBI version and basically has a "OS"
    translation wrapper that defines most Linux specific calls
    (spin_lock() etc.) into no-ops. Some source code parts have been
    uncommented by "#ifdef UBI_LINUX". This makes it easier to compare
    this version with the Linux version and simplifies future UBI
    ports/bug-fixes from the Linux version.

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit f399d4a281713d5ef2d764f05d545fe61e3bd569
Author: Kyungmin Park <kyungmin.park@samsung.com>
Date:	Wed Nov 19 16:23:06 2008 +0100

    UBI: Add basic UBI support to U-Boot (Part 1/8)

    This patch adds basic UBI (Unsorted Block Image) support to U-Boot.
    It's based on the Linux UBI version and basically has a "OS"
    translation wrapper that defines most Linux specific calls
    (spin_lock() etc.) into no-ops. Some source code parts have been
    uncommented by "#ifdef UBI_LINUX". This makes it easier to compare
    this version with the Linux version and simplifies future UBI
    ports/bug-fixes from the Linux version.

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit e29c22f5abe6e0f4baa6251efed6074cdfc3db79
Author: Kyungmin Park <kyungmin.park@samsung.com>
Date:	Wed Nov 19 16:20:36 2008 +0100

    MTD: Add MTD paritioning infrastructure

    This MTD part infrastructure will be used by the upcoming
    UBI support.

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 9b827cf1720acda2473afa516956eab6f7cca9a1
Author: Selvamuthukumar <selva.muthukumar@e-coninfotech.com>
Date:	Thu Oct 16 22:54:03 2008 +0530

    Align end of bss by 4 bytes

    Most of the bss initialization loop increments 4 bytes
    at a time. And the loop end is checked for an 'equal'
    condition. Make the bss end address aligned by 4, so
    that the loop will end as expected.

    Signed-off-by: Selvamuthukumar <selva.muthukumar@e-coninfotech.com>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 3f510db522d160179dff3ddcce9b18f6241c2c24
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Mon Nov 10 19:45:35 2008 -0600

    mpc8641: fix address-cells default in old .dts detection

    address-cells defaults to 2, not 1; so in the unlikely
    event that it isn't specified, this patch is required
    for correct operation.

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit d025aa4b20a0618a2bada0132a9a0a4afb717f1a
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Fri Oct 31 17:14:39 2008 -0500

    lib_ppc: Move trap_init to occur earlier

    Doing trap_init immediately once we're running from RAM
    means we're no longer dependent on the physical location of
    the flash on non-BookE platforms. Before trap_init, those
    platforms switch to real mode and go to 0xfff00100 on exception.
    After the switch, they go to 0x00000100  This makes it easier to
    move the flash location.

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit d52082b12c6e545705a19433a2f4142526536189
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Fri Nov 7 13:46:19 2008 -0600

    mpc8641: Try to detect old .dts files

    Since we've changed the memory map of the board, be nice and
    add some checking to try to catch out-of-date .dts files.  We do
    this by checking the CCSRBAR location in the .dts and comparing
    it to the CCSRBAR location in u-boot.  If they don't match, a
    warning msg is printed.  This isn't foolproof, but it's simple and
    will catch most of the cases where an out-of-date .dts is present,
    including all of the cases where a new u-boot is used with an old
    standard MPC8641 .dts file as supplied with Linux.

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit 8db0400a27839f91c047dcb83f4a0f09e054a180
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Thu Nov 6 13:04:09 2008 -0600

    toplevel Makefile: Add MPC8641HPCN_36BIT target

    This will enable CONFIG_PHYS_36BIT for MPC8641HPCN.

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit 3111d32c494e8251b90917447796a7206b757e1e
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Thu Nov 6 17:37:35 2008 -0600

    mpc8641: Support 36-bit physical addressing

    This patch creates a memory map with all the devices
    in 36-bit physical space, in addition to the 32-bit map.
    The CCSR relocation is moved (again, sorry) to
    allow for the physical address to be 36 bits - this
    requires translation to be enabled.  With 36-bit physical
    addressing enabled, we are no longer running with VA=PA
    translations.  This means we have to distinguish between
    the two in the config file.  The existing region name is
    used to indicate the virtual address, and a _PHYS variety
    is created to represent the physical address.

    Large physical addressing is not enabled by default.
    Set CONFIG_PHYS_64BIT in the config file to turn this on.

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit c759a01a0022de9378a3a761f49786f87684c916
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Thu Nov 6 17:36:04 2008 -0600

    mpc8641: Change 32-bit memory map

    The memory map on the 8641hpcn is modified to look more like
    the 85xx boards; this is a step towards a more standardized
    layout going forward. As part of this change, we now relocate
    the flash.

    The regions for some of the mappings were far larger than they
    needed to be.  I have reduced the mappings to match the
    actual sizes supported by the hardware.

    In addition I have removed the comments at the head
    of the BAT blocks in the config file, rather than updating
    them.  These get horribly out of date, and it's a simple
    matter to look at the defines to see what they are set to
    since everything is right here in the same file.

    Documentation has been changed to reflect the new map, as this
    change is user visible, and affects the OS which runs post-uboot.

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit bf9a8c34309ed9276258295db9e9212aabb2531a
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Wed Nov 5 14:55:35 2008 -0600

    mpc86xx: Change early FLASH mapping to 1M at CONFIG_MONITOR_BASE_EARLY

    We define CONFIG_MONITOR_BASE_EARLY to define the initial location
    of the bootpage in flash.	Use this to create an early mapping
    definition for the FLASH, and change the early_bats code to use this.

    This  change facilitates the relocation of the flash since the early
    mappings are no longer tied to the final location of the flash.

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit c1e1cf69547b138173f87a7f81c42a5d8dbfde3d
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Wed Nov 5 14:55:34 2008 -0600

    mpc86xx: Use SRR0/1/rfi to enable address translation, not blr

    Using a mtmsr/blr means that you have to be executing at the
    same virtual address once you enable translation.  This is
    unnecessarily restrictive, and is not really how this is
    usually done.  Change it to use the more common mtspr SRR0/SRR1
    and rfi method.

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit 6bf98b1362f0cb237620355ed3e6762fff82388d
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Wed Nov 5 14:55:33 2008 -0600

    mpc8641: make DIAG_ADDR == FLASH_BASE

    Currently, that's what it is, but it's hardcoded.

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit 170deacb1ddc39164bdb68f3963e0c0456a5369b
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Wed Nov 5 14:55:32 2008 -0600

    mpc8641: Drop imaginary second flash bank, map 8MB

    There's a lot of setup and foo for the second flash
    bank.  The problem is, this board doesn't actually have one.
    Clean this up.  Also, the flash is 8M in size.  Get rid
    of the confusing aliased overmapping, and just map 8M.

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit 0f2d66027bfc60dc7eea2f096af8891988c5abe4
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Wed Nov 5 14:55:31 2008 -0600

    mpc8641: only define CONFIG_ENV_SIZE once

    It's currently defined twice inside in an if/else block, but
    both halves set the same value.  Move the define outside
    the if.

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit 24bfb48c35fed6ad1f047e3e4a27df302482cd93
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Wed Nov 5 14:55:30 2008 -0600

    mpc86xx: Move setup_bats into cpu_init_f

    In order to later allow for a physical relocation of the
    flash, setup_bats, which sets up the final BAT mapping
    for the board, needs to happen *after* init_laws().
    Otherwise, there will be no window programmed for the flash
    at the new physical location at the point when we change
    the mmu translation.

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit 05df3e5a638be8c5b0899eae1766bbe8e4b92c17
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Wed Nov 5 14:55:29 2008 -0600

    mpc8641: Remove extra "0" from BR2 define

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit edf3fe7d39a1ee07353128af5221422ce9ccfad6
Author: Richard Retanubun <RichardRetanubun@RuggedCom.com>
Date:	Thu Oct 23 09:08:18 2008 -0400

    drivers/qe/uec_phy.c: Added PHY-less (fixed PHY) driver.

    Copied over the fixed PHY driver as used in pp4xx/4xx_enet.c.
    This adds support for PHY-less MAC connections to the UEC.

    Signed-off-by: Richard Retanubun <RichardRetanubun@RuggedCom.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 54bdcc9fb6670afde9c26dcf364f582879bf21d6
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Oct 23 16:27:24 2008 +0000

    ColdFire: Add mii driver in drivers/net

    All CF platforms' mii.c are consolidated into one

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 25a859066b3af1070eb69f12022113c0a91bd813
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Mon Oct 27 23:53:17 2008 -0700

    Moved initialization of PPC4xx EMAC to cpu_eth_init()

    Removed initialization of the driver from net/eth.c

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>
    Acked-by: Stefan Roese <sr@denx.de>

commit 4d03a4e20e58552cb96d61a0e8b56cdb6cc60126
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Sun Nov 9 21:29:23 2008 -0800

    Moved PPC4xx EMAC driver to drivers/net

    Also changed path in all linker scripts that reference this driver

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>
    Acked-by: Stefan Roese <sr@denx.de>

commit 96e21f86e8266ed40759e5495ee461265d7f6d28
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Mon Oct 27 23:50:15 2008 -0700

    Changed PPC4xx EMAC driver to require CONFIG_PPC4xx_EMAC

    All in-tree IBM/AMCC PPC4xx boards using the EMAC get this new CONFIG

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>
    Acked-by: Stefan Roese <sr@denx.de>

commit 9eb79bd8856bcab896ed5e1f1bca159807a124dd
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Thu Oct 23 22:02:49 2008 -0700

    Moved initialization of MPC8XX SCC to cpu_eth_init()

    Removed initialization of the driver from net/eth.c

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit a9bec96d6359ac9f90a852962bf3040cad9e0256
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Wed Oct 22 23:47:51 2008 -0700

    Moved initialization of MPC8220 FEC to cpu_eth_init()

    Removed initialization of the driver from net/eth.c

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 0e8454e990385a58f708c2fc26d31ac041c7a6c5
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Wed Oct 22 23:32:48 2008 -0700

    Moved initialization of QE Ethernet controller to cpu_eth_init()

    Removed initialization of the driver from net/eth.c

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 3456a148276d5494b53ee40242efb6462d163504
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Wed Oct 22 23:20:29 2008 -0700

    Moved initialization of FCC Ethernet controller to cpu_eth_init

    Affected boards:
	Several MPC8xx boards
	Several MPC8260/MPC8272 boards
	Several MPC85xx boards

    Removed initialization of the driver from net/eth.c

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 62e15b497f5c6334c059512678c8db7940ae4c61
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Thu Oct 30 22:15:35 2008 -0700

    Fix typo in cpu/mpc85xx/cpu.c

    CONFIG_MPC85xx_FEC -> CONFIG_MPC85XX_FEC

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 5dfb3ee3f54e2382a08d72906f0e79ecf944f6e3
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Sun Oct 19 12:08:50 2008 +0900

    net: Move initialization of Au1x00 SoC ethernet MAC to cpu_eth_init

    This patch will move au1x00_eth_initialize from net/eth.c to cpu_eth_init
    as a part of ongoing eth_initialize cleanup work.  The function ret value
    is also fixed as it should be negative on fail.

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit cc94074ecac1885d18ddb683eb934b3c0268aa5b
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Fri Sep 5 01:55:22 2008 -0400

    Moved initialization of IXP4XX_NPE Ethernet controller to cpu_eth_init()

    Also, removed the driver initialization from net/eth.c

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit f2a7806fc23e82d30c8548911369e0c530607354
Author: Clive Stubbings <uboot@xentech.co.uk>
Date:	Mon Oct 27 15:05:00 2008 +0000

    xilinx_emaclite buffer overrun

    Patch to fix buffer allocation size and alignment. Buffer needs to be u32 aligned and
    PKTSIZE_ALIGN bytes long.

    Acked-by: Michal Simek <monstr@monstr.eu>

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 0115b1953718a2969f6469d3d5da51ba11e12d42
Author: richardretanubun <richardretanubun@ruggedcom.com>
Date:	Fri Sep 26 08:59:12 2008 -0400

    NET: QE: UEC: Make uec_miiphy_read() and uec_miiphy_write() use the devname arg.

    The current uec_miiphy_read and uec_miiphy_write hardcode access devlist[0]
    This patch makes these function use the devname argument that is passed in to
    allow access to the phy registers of other devices in devlist[].

    Signed-of-by: Richard Retanubun <RichardRetanubun@RugggedCom.com>

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 44dcb7332033db8de2810f2fffcae3084f15c8d4
Author: richardretanubun <richardretanubun@ruggedcom.com>
Date:	Mon Oct 6 15:31:43 2008 -0400

    Adds two more ethernet interface to 83xx

    Fixed compiler warning "declared but unused" eth5_uec_info and eth6_uec_info.
    Signed-off-by: Richard Retanubun <RichardRetanubun@RugggedCom.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit d8003fa03733901b73d6c4667b4d80fc8eb1ddd3
Author: Stelian Pop <stelian@popies.net>
Date:	Fri Nov 7 13:54:31 2008 +0100

    AT91: Replace AT91_BASE_EMAC by the board specific values.

    AT91_BASE_EMAC is never used outside the board specific files,
    so replace its usage by the board specific AT91xxx_BASE_EMAC.

    Signed-off-by: Stelian Pop <stelian@popies.net>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit c91e17affa175ce06afa89b04752301eb4a61666
Author: Stelian Pop <stelian@popies.net>
Date:	Fri Nov 7 12:09:21 2008 +0100

    AT91: Replace (undefined) AT91_ID_US* by the board specific values.

    AT91_ID_US0 / AT91_ID_US1 / AT91_ID_US2 were used but never defined.
    Since they are never used outside the board specific files, they can
    be replaced by the board specific AT91xxx_ID_US0 / AT91xxx_ID_US1 /
    AT91xxx_ID_US2.

    Bug spotted by Jesus Alvarez <jalvarez@micromint.com>.

    Signed-off-by: Stelian Pop <stelian@popies.net>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 28962f5a2de81bc0eed1c0b08c6bfaa1cc134ea2
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Nov 1 10:47:59 2008 +0100

    Makefile/at91sam9: move some at91sam9 to the correct subsection for arm926ejs

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 1079432e04ccf71aa3684181186182cd63512f19
Author: Sergey Lapin <slapin@ossfans.org>
Date:	Fri Oct 31 12:28:43 2008 +0100

    Custom AFEB9260 board support

    This patch provides support for AFEB9260 board, a product of
    OpenSource hardware and software. Some commertial projects
    are made with this design. A board is basically AT91SAM9260-EK
    with some modifications and different peripherals and different
    parts used. Main purpose of this project is to gain experience in
    hardware design.
    More info: http://groups.google.com/group/arm9fpga-evolution-board
    (In Russian only, sorry).
    Subversion repository: svn://194.85.238.22/home/users/george/svn/arm9eb

    Signed-off-by: Sergey Lapin <slapin@ossfans.org>

commit 26eecd24f97130e56e9c2c2af0e714e05bce6e00
Author: Tomohiro Masubuchi <tomohiro_masubuchiattripeaks.co.jp>
Date:	Tue Oct 21 13:17:16 2008 +0900

    Change to use "do_div" macro

    Signed-off-by: Tomohiro Masubuchi <tomohiro_masubuchi@tripeaks.co.jp>

commit e352495318d8056a00faa21b633b3e4374bfbf52
Author: Roman Mashak <romez777@gmail.com>
Date:	Wed Oct 22 16:00:26 2008 -0400

    ARM926EJ-S: relocate OMAP specific 'cpuinfo.c' into OMAP directory

    OMAP identification is implemented in 'cpuinfo.c' and located in ARM926EJ-S directory.
    It makes sense to place this file in OMAP specific subdirectory, i.e. cpu/arm926ejs/omap

    Signed-off-by: Roman Mashak <romez777@gmail.com>

commit 248b2c367210c06dbd5fbdecf27e97fbe9d05fdb
Author: Roman Mashak <romez777@gmail.com>
Date:	Tue Oct 21 03:01:41 2008 -0700

    ARM/Versatile port: Removed unused functions

    Removal of never used functions.

    Signed-off-by: Roman Mashak <romez777@gmail.com>

commit 1266df887781c779deaf6d05eea2ef90a470cb34
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Mon Nov 3 15:44:01 2008 -0600

    powerpc: change 86xx SMP boot method

    We put the bootpg for the secondary cpus into memory and use
    BPTR to get to it.	This is a step towards converting to the
    ePAPR boot methodology.  Also, the code is written to
    deal properly with more than 4GB of RAM.

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit b5431560682d8f318fbc49db87cfe13ab41d2ee4
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Fri Oct 31 17:13:49 2008 -0500

    8641HPCN: Config file cleanup

    There are several items in the config file that were hardcoded
    but that should really be based on other config options, since
    the regions are contiguous and depend on being so.	This cleans
    that up a bit.  Also, add BR_PHYS_ADDR() macro to convert
    addresses into the proper format for BR registers.

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit 4c77de3f144ca088c3867bd6240718c10f5a9d69
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Fri Oct 31 17:13:32 2008 -0500

    86xx: Make dram_size a phys_size_t

    It's currently a long and should be phys_size_t.

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit 104992fc541302a6bac74448e01e7fdad20abca0
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Sun Nov 2 18:19:32 2008 -0600

    powerpc 86xx: Handle CCSR relocation earlier

    Currently, the CCSR gets relocated while translation is
    enabled, meaning we need 2 BAT translations to get to both the
    old location and the new location.	Also, the DEFAULT
    CCSR location has a dependency on the BAT that maps the
    FLASH region.  Moving the relocation removes this unnecessary
    dependency. This makes it easier and more intutive to
    modify the board's memory map.

    Swap BATs 3 and 4 on 8610 so that all 86xx boards use the same
    BAT for CCSR space.

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit af5d100e8d5cd49d69d52d20f1181eb06ddb4ddf
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Fri Oct 31 17:14:14 2008 -0500

    mpc8641: Make PCI and RIO mutually exclusive, fix non-PCI build

    You can't actually have both, and with some coming changes to
    change the memory map for the board and support 36-bit physical,
    we need the extra BAT that is being consumed by having both.

    I also make non-PCI configs build cleanly, for the sake of sanity.

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit 98693b85d42ff438375dc6d6dcadc70eb7b050bb
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Fri Oct 31 17:14:00 2008 -0500

    mpc8641: Stop supporting non-PCI_PNP configs

    We don't actually ever do this, remove the code so we
    can stop maintaining it.

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit e4f69d1bd21a12049744989d2dd6b5199c9b8f23
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Fri Oct 24 12:59:12 2008 +0000

    ColdFire: Fix M5329EVB and M5373EVB nand issue

    Fix compilation issue caused by a few mismatches.
    Provide proper nand chip select enable/disable in
    nand_hwcontrol() rather than in board_nand_init()
    just enable once. Remove redundant local nand driver
    functions - nand_read_byte(), nand_write_byte() and
    nand_dev_ready() to use common nand driver.

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit 1b2708442224a551a0b865b52710306333888932
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Oct 22 11:55:30 2008 +0000

    ColdFire: Fix compilation error

    The error was caused by the change for strmhz() in cpu.c.
    A few of them were one extra close parenthesis.

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit 536e7dac16769954915a484e682a2efb28699133
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Oct 22 11:38:21 2008 +0000

    ColdFire: Add MCF5301x CPU and M53017EVB support

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit a21d0c2cc9add8894d971ab791f4032f077db817
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Tue Oct 21 15:37:02 2008 +0000

    ColdFire: Add SBF support for M52277EVB

    Add serial boot support

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit b202816c61042c183fe67d097a5893b0f2dafba0
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Tue Oct 21 14:19:26 2008 +0000

    ColdFire: Use CFI driver for M5272C3

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit f3962d3f574e5a1cffacd4e9bc48713060a2a314
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Tue Oct 21 13:47:54 2008 +0000

    ColdFire: Relocate FEC's GPIO and mii functions protocols

    Place FEC pin assignments in cpu_init.c from platform's
    mii.c

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit 6e80f5aa09f8d41bac50b38dc7488ecd22107802
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Tue Oct 21 12:15:44 2008 +0000

    ColdFire: Remove platforms mii.c file

    Will use mcfmii.c driver in drivers/net rather than
    keep creating new mii.c for each future platform.
    Remove EB+MCF-EV123, cobra5272, idmr, M5235EVB,
    M5271EVB, M5272C3, M5275EVB, M5282EVB, M5329EVB,
    M5373EVB, M54451EVB, M54455EVB, M547xEVB, and M548xEVB's
    mii.c

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit 012522fef3b382469125beb46a315ab4dee02fb0
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Tue Oct 21 10:03:07 2008 +0000

    ColdFire: Modules header files cleanup

    Consolidate ATA, ePORT, QSPI, FlexCan, PWM, RNG,
    MDHA, SKHA, INTC, and FlexBus structures and
    definitions in immap_5xxx.h to more unify modules
    header files. Append DSPI support for m547x_8x.
    SSI cleanup. Remove USB Host structure from immap_539.h.
    Apply changes to use FlexBus structures in mcf52x2's
    cpu_init.c and platform configuration files.

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit ac2331aee99ad36be0fcfed8c49922e3c61b576d
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Tue Oct 21 08:52:36 2008 +0000

    ColdFire: Remove linker file

    Each different build for M54455EVB and M5235EVB will
    create a u-boot.lds linker file. It is redundant to
    keep the u-boot.lds

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit 0829323073c505556ed5f5073f91adb504584d45
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Oct 31 11:26:44 2008 -0500

    ppc: Fix compile warnings when !CONFIG_OF_LIBFDT

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit a80b21d5127583171d6e9bc7f722947641898012
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Oct 31 12:12:12 2008 +0100

    common/Makefile: create others group for non core, environment and command files

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 60c68d9c1c6d18ce02c862a05718fd94f97c13d0
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Oct 31 01:13:37 2008 +0100

    TQM8260: use CFI flash driver instead of custom driver.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 20d04774f4ef3f6e38974636e0e36ae0f0b5501f
Author: Andy Fleming <afleming@freescale.com>
Date:	Thu Oct 30 17:35:30 2008 -0500

    Consolidate MAX/MIN definitions

    There were several, now there is one (two if you count the lower-case
    versions).

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 298e476c66fd88d0bc4f0371118652d2b5de4e8a
Author: Heiko Schocher <hs@denx.de>
Date:	Thu Oct 30 09:23:09 2008 +0100

    mgsuvd: remove unused defines in config file.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 3cbd823116ea8b7c654e275a8c2fca87cd1f5dc5
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Nov 2 16:14:22 2008 +0100

    Coding Style cleanup, update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit a47f957ab523019992fdef857af01bd71c58a4da
Author: Alessandro Rubini <rubini-list@gnudd.com>
Date:	Fri Oct 31 22:33:21 2008 +0100

    NAND: Allow NAND and OneNAND to coexist

    This removes in nand.h code that is verbatim duplicated from bbm.h,
    including directly bbm.h in nand.h. The previous state of affairs
    prevented compiling code for a board hosting both NAND and OneNAND chips.

    Reported-by: Scott Wood <scottwood@freescale.com>
    Signed-off-by: Alessandro Rubini <rubini@unipv.it>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 2f77c7f45b9a37ef265a8dbe3c18efa706fed214
Author: Scott Wood <scottwood@freescale.com>
Date:	Fri Oct 31 13:51:12 2008 -0500

    JFFS2: Eliminate compiler error when both NAND and OneNAND are enabled.

    Reported-by: Alessandro Rubini <rubini-list@gnudd.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit c57fc28947e248fb03c49a28b467686299895055
Author: Jason Jin <Jason.Jin@freescale.com>
Date:	Fri Oct 31 05:07:04 2008 -0500

    NAND: Add NAND support for MPC8536DS board

    This patch defines 1M TLB&LAW size for NAND on MPC8536DS, assigns 0xffa00000
    for CONFIG_SYS_NAND_BASE and adds other NAND supports in config file.
    It also moves environment(CONFIG_ENV_ADDR) outside of u-boot image.

    Singed-off-by: Jason Jin <Jason.Jin@freescale.com>
    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 6fc110bd8a8d642b8f7b0653bd9a08a0b7c3d50b
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Fri Oct 31 05:06:14 2008 -0500

    NAND: Fix CONFIG_ENV_ADDR for MPC8572DS

    CONFIG_ENV_ADDR should be (CONFIG_SYS_MONITOR_BASE - CONFIG_ENV_SECT_SIZE).

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 51b572a801be57790fe26adaa530210e7fba59cc
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Fri Oct 24 10:49:48 2008 +0900

    sh: rsk7203: Moved rsk7203 board to board/renesas

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 58453b00b3ebb26aaa901210023f99504a90bb00
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Fri Oct 24 10:48:31 2008 +0900

    sh: MigoR: Moved MigoR board to board/renesas

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit c1da2a22817ba85b437afa2f4e715e658b219fd1
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Fri Oct 24 10:39:44 2008 +0900

    sh: r2dplus: Moved r2dplus board to board/renesas

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 78385bf2359d828184d0b3649f7ae6b933420000
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Fri Oct 24 10:36:13 2008 +0900

    sh: sh7763rdp: Moved sh7763rdp board to board/renesas

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit c6525d459c350bfc246ea7826456af77e1e314eb
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Fri Oct 24 10:35:19 2008 +0900

    sh: sh7785lcr: Moved sh7785lcr board to board/renesas

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit acd3e30d09a73f876222f0d496c4f52ee9d0771d
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Fri Oct 24 10:34:21 2008 +0900

    sh: r7780mp: Moved r7780mp board to board/renesas

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit f84e6ea275353b8fea772ec7553ff7e4b1f642e0
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Fri Oct 24 10:32:14 2008 +0900

    sh: ap325rxa: Moved ap325rxa board to board/renesas

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 9abda6ba735efb059f63dcb25d78b174bfcad1ad
Author: Wolfgang Denk <wd@xpert.denx.de>
Date:	Fri Oct 31 01:12:28 2008 +0100

    CFI Driver: Fix "flash not ready" problem

    This patch fixes a problem on systems where the NOR flash is attached
    to a 64 bit bus.  The toggle bit detection in flash_toggle() is based
    on the assumption that the same flash address is read twice without
    any other interjacent flash accesses.  However, on 32 bit systems the
    function flash_read64() [as currently implemented] does not perform
    an atomic 64 bit read - instead, this is broken down into two 32 bit
    read accesses on addresses "addr" and "addr + 4".  So instead of
    reading a 64 bit value twice from "addr", we see a sequence of 4 32
    bit reads from "addr", "addr + 4", "addr", and "addr + 4".	The
    consequence is that flash_toggle() fails to work.

    This patch implements a simple, but somewhat ugly solution, as it
    avoids the use of flash_read64() in this critical place (by breaking
    it down manually into 32 bit read operations) instead of rewriting
    flash_read64() such to perform atomic 64 bit reads as one could
    expect.  However, such a rewrite would require the use of floating
    point load operations, which becomes pretty complex:

	save MSR;
	set Floating Point Enable bit in MSR;
	use "lfd" instruction to perform atomic 64 bit read;
	use "stfd" to store value to temporary variable on stack;
	load u64 value from temporary variable;
	restore saved MSR;
	return u64 value;

    The benefit-cost ratio of such an implementation was considered too
    bad to actually attempt this, especially as we can expect that such
    an implementation would not only have a bigger memory footprint but
    also cause a performance degradation.

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit cdd4fe63b094d4b767f12ff241d72566b461ee61
Author: Stefan Roese <sr@denx.de>
Date:	Fri Oct 31 10:48:08 2008 +0100

    ppc4xx: Fix spelling error in MAINTAINERS file

    Signed-off-by: Stefan Roese <sr@denx.de>

commit be270798900b75ad9c47c7b79c72f70441196c56
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Tue Oct 28 13:37:00 2008 +0100

    ppc4xx: Update PMC440 board support

    This patch brings PMC440 board support up to date:

    - fix GPIO configuration
    - add misc_init_f()
    - use better values for usbact variable
    - fix USB 2.0 phy reset sequence
    - shrink BAR2 to save PCI address space
    - add FDT support

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 75183b1a7fc04206d9779d13f16e03853d7e965d
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Tue Oct 28 13:36:59 2008 +0100

    ppc4xx: Fix PMC440 BSP commands

    This patch fixes the PMC440 BSP commands painit and selfreset

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 76b565b69f886d5ae748db65e44f464b0e70d41a
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Tue Oct 28 13:36:58 2008 +0100

    ppc4xx: Update PMC440 board configuration

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit ca0c2d42b93116a8e1b8ef8ad4493c7dc9b5f2e4
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Tue Oct 28 13:36:57 2008 +0100

    ppc4xx: Fix esd loadpci command

    This patch fixes esd's loadpci command when not all
    memory on adapter boards is accessable via PCI.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 492aa9ea13791ca4591b5bde895a425e27ae2d10
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Tue Oct 28 13:36:56 2008 +0100

    ppc4xx: Clean up PMC440 header

    -Codingstyle cleanup
    -Remove unused GPIO define

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 295133258a44f97a57fb2ec339aecfda11f4db95
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Tue Oct 28 13:36:55 2008 +0100

    ppc4xx: Handle other board variant in PMC440 FPGA code

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit cc2dc9b08cf7c09f9f237f8cb9303f11603d4fb0
Author: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>
Date:	Mon Oct 27 12:35:59 2008 +0100

    ppc4xx: Merge xilinx-ppc440 and xilinx-ppc405 cfg

    Xilinx ppc440 and ppc405 have many similarities. This patch merge the
    config files of both infrastuctures

    Signed-off-by: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 3befd85633d33c4dcca1f359c3f4848c5ab8e4d2
Author: Stefan Roese <sr@denx.de>
Date:	Sat Oct 25 06:45:31 2008 +0200

    ppc4xx: Correctly configure the GPIO pin muxing on Arches

    Arches doesn't use PerCS3 but GPIO43, so let's configure the GPIO
    pin multiplexing correctly

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 7c84fe6a06dad9f793ed85b39b1e6c11a7882f5c
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Thu Oct 30 23:22:04 2008 +0100

    Fix to the auto-update feature documentation (CONFIG_UPDATE_TFTP_MSEC_MAX)

    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>

commit 4bc7deee9095f21e243b724ca3d634251c1d5432
Author: David Gibson <david@gibson.dropbear.id.au>
Date:	Wed Oct 29 23:27:45 2008 -0500

    libfdt: Fix bug in fdt_subnode_offset_namelen()

    There's currently an off-by-one bug in fdt_subnode_offset_namelen()
    which causes it to keep searching after it's finished the subnodes of
    the given parent, and into the subnodes of siblings of the original
    node which come after it in the tree.

    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit f242a08871839eac081ba5b599af979f3a148a0d
Author: Peter Korsgaard <jacmet@sunsite.dk>
Date:	Tue Oct 28 08:26:52 2008 +0100

    fdt_resize(): ensure minimum padding

    fdt_add_mem_rsv() requires space for a struct fdt_reserve_entry
    (16 bytes), so make sure that fdt_resize at least adds that much
    padding, no matter what the location or size of the fdt is.

    Signed-off-by: Peter Korsgaard <jacmet@sunsite.dk>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit d685b74c64a38849f1a129b3ab846fbf67dd937e
Author: Dave Liu <daveliu@freescale.com>
Date:	Thu Oct 23 21:59:35 2008 +0800

    74xx: use r4 instead of r2 in lock_ram_in_cache and unlock_ram_in_cache

    The patch is following the commit 392438406041415fe64ab8748ec5ab5ad01d1cf7

    mpc86xx: use r4 instead of r2 in lock_ram_in_cache and unlock_ram_in_cache

    This is needed in unlock_ram_in_cache() because it is called from C and
    will corrupt the small data area anchor that is kept in R2.

    lock_ram_in_cache() is modified similarly as good coding practice, but
    is not called from C.

    Signed-off-by: Nick Spence <nick.spence@freescale.com>

    also, the r2 is used as global data pointer.

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit e053ab1903ccae6048ef759025b9f675bba91450
Author: Scott Wood <scottwood@freescale.com>
Date:	Tue Oct 28 11:45:04 2008 -0500

    mpc83xx pci: Round up memory size in inbound window.

    The current calculation will fail to cover all memory if
    its size is not a power of two.

    Signed-off-by: Scott Wood <scottwood@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 1c671977dc81359628be27ac99c174e76e8069ba
Author: Dave Liu <daveliu@freescale.com>
Date:	Thu Oct 23 21:19:13 2008 +0800

    86xx: remove the unused definition

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit eaa44c5dc83756c3067b9e6c9db626facd0b0660
Author: Dave Liu <daveliu@freescale.com>
Date:	Tue Oct 28 17:47:49 2008 +0800

    86xx: remove the redundant r2 global data pointer save

    The commit 67256678f00c09b0a7f19e862e5c1847553d31bc add
    the another global data pointer save, but in fact the
    global data pointer will be initialized in the board_init_r,
    so remove it such as the 85xx/83xx family.

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Acked-by: Kumar Gala <kumar.gala@freescale.com>

commit bd888e9544419665334a6f47f81f34011cea38f3
Author: Dave Liu <daveliu@freescale.com>
Date:	Tue Oct 28 17:47:41 2008 +0800

    86xx: remove the unused code for 86xx family

    I believe these code was copied from 74xx family, but for
    86xx, it is unused.

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Acked-by: Kumar Gala <kumar.gala@freescale.com>

commit 5ba1ef507402bc5e344dc374203792a40f222e8a
Author: Dave Liu <daveliu@freescale.com>
Date:	Tue Oct 28 17:46:35 2008 +0800

    86xx: remove the second DDR LAW setting for mpc8641hpcn

    The DDR1 LAW will precedence the DDR2 LAW, so remove
    the second DDR LAW.

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Acked-by: Becky Bruce <becky.bruce@freescale.com>

commit 137a2dfd11ac51ae3154f13f323609b33a4a072e
Author: Dave Liu <daveliu@freescale.com>
Date:	Tue Oct 28 17:46:23 2008 +0800

    86xx: remove the unused ddr_enable_ecc in the board file

    The DDR controller of 86xx processors have the ECC data init
    feature, and the new DDR code is using the feature, we don't
    need the way with DMA to init memory again.

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Acked-by: Kumar Gala <kumar.gala@freescale.com>

commit dc2adad85bf580d65916c940683f6e9671e8a5dd
Author: Dave Liu <daveliu@freescale.com>
Date:	Tue Oct 28 17:46:12 2008 +0800

    86xx: Move the clear_tlbs before MMU turn on

    We must invalidate TLBs before MMU turn on, but
    currently the code is not, if there are some stale
    TLB entry valid in the TLBs, it will cause strange
    issue.

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Acked-by: Becky Bruce <becky.bruce@freescale.com>

commit 5cdade07b118d07154cb882650f9778cecc8a87c
Author: Scott Wood <scottwood@freescale.com>
Date:	Mon Oct 27 15:57:08 2008 -0500

    mpc8313erdb: Document NAND boot.

    Previously, the documentation claimed that NAND boot is not supported.
    This is no longer true.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit bd78bc6b2aebf5566aac464f936b88dfd97ab0bd
Author: Scott Wood <scottwood@freescale.com>
Date:	Wed Oct 29 14:20:26 2008 -0500

    NAND: Properly create JFFS2 cleanmarkers.

    As reported by Ilko Iliev <iliev@ronetix.at>, the "nand erase clean"
    command is currently broken, and among other things causes all blocks
    to be marked bad.

    This implements it properly using MTD_OOB_AUTO, along with some
    indentation fixes.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit f7fe57c09866b44692d18c8cf22828bd137ec58d
Author: Scott Wood <scottwood@freescale.com>
Date:	Wed Oct 29 13:42:41 2008 -0500

    NAND fsl elbc: Set FMR[ECCM] based on page size.

    Hardware expects ECCM 0 for small page and ECCM 1 for large page
    when booting from NAND, so use those defaults.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit c013b74975dab0805ef6d369b013230c4e8a660d
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Wed Oct 29 13:32:59 2008 -0400

    NAND: Add support for MPC8572DS board

    This patch defines 1M TLB&LAW size for NAND on MPC8572DS, assigns
    0xffa00000 for CONFIG_SYS_NAND_BASE and adds other NAND supports in
    config file.

    It also moves environment(CONFIG_ENV_ADDR) outside of u-boot image, to
    make room for the increased code size with NAND enabled.

    Signed-off-by: Jason Jin <Jason.Jin@freescale.com>
    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 4e190b03aaf2309bd2e025d1187a2ca880fedc95
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Wed Oct 29 11:05:55 2008 -0400

    Make Freescale local bus registers available for both 83xx and 85xx.

    - Rename lbus83xx_t to fsl_lbus_t and move it to asm/fsl_lbc.h so that it
      can be shared by both 83xx and 85xx
    - Remove lbus83xx_t and replace it with fsl_lbus_t in all 83xx boards
      files which use lbus83xx_t.
    - Move FMR, FIR, FCR, FPAR, LTESR from mpc83xx.h to asm/fsl_lbc.h so that
      85xx can share them.

    Signed-off-by: Jason Jin <Jason.Jin@freescale.com>
    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 695c130e4bf75b444720ddfd83aca88f41c046cf
Author: Scott Wood <scottwood@freescale.com>
Date:	Mon Oct 27 15:38:30 2008 -0500

    NAND: Align right column of the shorthelp with other commands.

    I accidentally broke this in when making consistent the partial
    alignment of the longhelp.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 33efde5ecac91ab118ff00b95a181fd6d75f8645
Author: Karl Beldan <karl.beldan@gmail.com>
Date:	Mon Sep 15 16:08:03 2008 +0200

    NAND: Reset chip on power-up

    Some chips require a RESET after power-up (e.g. Micron MT29FxGxxxxx).
    The first command sent is NAND_CMD_READID.
    Issue a NAND_CMD_RESET in nand_scan_ident before reading the device id.
    Tested with an MT29F4G08AAC.

    Signed-off-by: Karl Beldan <karl.beldan@gmail.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit c45912d8abc52de796b9059a58faf7c4166eab58
Author: Scott Wood <scottwood@freescale.com>
Date:	Fri Oct 24 16:20:43 2008 -0500

    NAND: sync with 2.6.27

    This brings the core NAND code up to date with the Linux kernel.

    Since there were several drivers in Linux as of the last update that are
    not in u-boot, I'm not bringing over new drivers that have been added
    since in the absence of an interested party.

    I did not update OneNAND since it was recently synced by Kyungmin Park,
    and I'm not sure exactly what the common ancestor is.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit b1d0db1805c3395149777e507b6da53410abac4e
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Oct 21 17:25:47 2008 -0500

    bootm: Added CONFIG_BOOTM_{LINUX, NETBSD, RTEMS}

    Added the ability to config out bootm support for Linux, NetBSD, RTEMS

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 5a98127d81a6eefc5a78a704df619bfe362eeb87
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Oct 21 17:25:46 2008 -0500

    bootm: support subcommands in linux ppc bootm

    Add support for 'bdt', 'cmdline', 'prep' to the linux PPC bootm.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 49c3a861d11735838f1f1b11999ce433006dc919
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Oct 21 17:25:45 2008 -0500

    bootm: Add subcommands

    Add the ability to break the steps of the bootm command into several
    subcommands: start, loados, ramdisk, fdt, bdt, cmdline, prep, go.

    This allows us to do things like manipulate device trees before
    they are passed to a booting kernel or setup memory for a secondary
    core in multicore situations.

    Not all OS types support all subcommands (currently only start, loados,
    ramdisk, fdt, and go are supported).

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit be08315933537f061bc1ce61f33a29c56458bbad
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Oct 21 17:25:44 2008 -0500

    bootm: Move to using a function pointer table for the boot os function

    This removes a bit of code and makes it easier for the upcoming sub bootm
    command support to call into the proper OS specific handler.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit a369f4a492fa2805d87775d27380f0eeaca35aa6
Author: Graeme Russ <graeme.russ@gmail.com>
Date:	Mon Sep 29 23:03:14 2008 +1000

    i386: Renamed show_boot_progress in assembler code

    Renamed show_boot_progress in assembler init phase to
    show_boot_progress_asm to avoid link conflicts with C version

    Signed-off-by: Graeme Russ <graeme.russ@gmail.com>

commit 4442f45b0e1cbad35aa22d4cad22b90a57e3f32d
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Mon Oct 27 16:42:00 2008 -0500

    85xx: Update MPC85xx_PORDEVSR_IO_SEL mask

    The MPC8572 has a 4-bit wide PORDEVSR IO_SEL field. Other MPC85xx
    processors have a 3-bit wide IO_SEL field but have the most
    significant bit is wired to 0 so this change should not affect
    them.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit cd4251624205cb97104f6e32679dc7754934f711
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Mon Oct 27 16:09:42 2008 -0500

    powerpc: fix pci window initialization to work with > 4GB DRAM

    The existing code has a few errors that need to be fixed in
    order to support large RAM sizes.  Fix those, and add a
    comment to make it clearer.

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>
    Acked-by: Kumar Gala <galak@kernel.crashing.org>

commit 219542a1a66ca017b12860920714a9859b18a5d7
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Oct 27 13:16:20 2008 -0500

    pci/fsl_pci_init: Removed a bunch pointless trailing backslashes.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 6b59e03e0237a40a2305ea385defdfd92000978b
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Mon Sep 1 16:21:22 2008 +0200

    lcd: Let the board code show board-specific info

    The information displayed when CONFIG_LCD_INFO is set is inherently
    board-specific, so it should be done by the board code. The current code
    dealing with this only handles two cases, and is already a horrible mess
    of #ifdeffery.

    Yes, this duplicates some code, but it also allows boards to print more
    board-specific information; this used to be very difficult.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit 6f93d2b8fca504200a5758f7c6dd2d6852900765
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Mon Sep 1 16:21:21 2008 +0200

    lcd: Set lcd_is_enabled before clearing the screen

    This allows the logo/info rendering routines to use the regular
    lcd_putc/lcd_puts/lcd_printf calls.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit 15b17ab52b7c15d46d9fc631cc06092e1e764de2
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Mon Sep 1 16:21:20 2008 +0200

    lcd: Implement lcd_printf()

    lcd_printf() has a prototype in include/lcd.h but no implementation. Fix
    this by borrowing the lcd_printf() implementation from the cogent board
    code (which appears to use its own LCD framework.)

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit 70dbc54c0a5c798bcf82ae2a1e227404f412e892
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Mon Sep 1 16:21:19 2008 +0200

    atmel_lcdfb: Straighten out funky vl_sync logic

    If the board _didn't_ request INVLINE_INVERTED, we set INVLINE_INVERTED,
    otherwise we don't. WTF?

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit 23bb28f0f76b46c4b573374b0bb3b3f23d85ef55
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Mon Sep 1 16:21:18 2008 +0200

    atmel_lcdfb: Eliminate unneeded #include <asm/arch/hardware.h>

    atmel_lcdfb doesn't actually need anything from asm/arch/hardware.h. It
    includes a file that does, asm/arch/gpio.h, but this file doesn't
    include <asm/arch/hardware.h> like it's supposed to.

    Add the missing include to asm/arch/gpio.h and remove the workaround
    from the atmel_lcdfb driver. This makes the driver compile on avr32.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit c2083e0e11a03ef8be2e9f0ed8720fdc20832f3e
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Oct 22 14:38:55 2008 -0500

    86xx: Convert all fsl_pci_init users to new APIs

    Converted MPC8610HCPD, MPC8641HPCN, and SBC8641D to use
    fsl_pci_setup_inbound_windows() and ft_fsl_pci_setup().

    With these changes the board code is a bit smaller and we get dma-ranges
    set in the device tree for these boards.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Andrew Fleming-AFLEMING <afleming@freescale.com>
    Acked-by: Jon Loeliger <jdl@freescale.com>

commit 2dba0dea98c0dee1799ffd6fd6eb541645dbbd98
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Oct 21 08:28:33 2008 -0500

    85xx: Convert all fsl_pci_init users to new APIs

    Converted ATUM8548, MPC8536DS, MPC8544DS, MPC8548CDS, MPC8568MDS,
    MPC8572DS, TQM85xx, and SBC8548 to use fsl_pci_setup_inbound_windows()
    and ft_fsl_pci_setup().

    With these changes the board code is a bit smaller and we get dma-ranges
    set in the device tree for these boards.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Andrew Fleming-AFLEMING <afleming@freescale.com>

commit a2aab460727e5f674353a83a81000ef794bffcae
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Oct 23 00:01:06 2008 -0500

    pci/fsl_pci_init: Added fdt helper for setting up bus-ranges & dma-ranges

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Andrew Fleming-AFLEMING <afleming@freescale.com>

commit b9a1fa9787a3a79573f5f932a4f8aa216bcb1785
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Oct 22 14:06:24 2008 -0500

    pci/fsl_pci_init: Add a common PCI inbound setup function

    Add a common setup function that determines the pci_region(s) based
    on how much memory we have in the system.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Andrew Fleming-AFLEMING <afleming@freescale.com>

commit 612ea01018a459234d54ed57ec6a5a244ce75678
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Oct 21 10:13:14 2008 -0500

    pci/fsl_pci_init: Enable larger address and setting inbound windows properly

    * PCI Inbound window was setup incorrectly.  The PCI address and system
      address were swapped.  The PCI address should be setting piwar/piwbear
      and the system address should be setting pitar.

    * Removed masking of addresses to allow for system address to support
      system address & PCI address >32-bits

    * Set PIWBEAR & POTEAR to allow for full 64-bit PCI addresses

    * Respect the PCI_REGION_PREFETCH for inbound windows

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Andrew Fleming-AFLEMING <afleming@freescale.com>

commit 8ab451c46b846f2bbd7122b29ffdd9a4a04da228
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Oct 22 23:33:56 2008 -0500

    fdt: Added helper to set PCI dma-ranges property

    Added fdt_pci_dma_ranges() that parses the pci_region info from the
    struct pci_controller and populates the dma-ranges based on it.

    The max # of windws/dma-ranges we support is 3 since on embedded
    PowerPC based systems this is the max number of windows.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Andrew Fleming-AFLEMING <afleming@freescale.com>

commit 3bed2aaf2d50fd13273c14d17d4fd40ef42e0d0f
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Oct 23 00:05:47 2008 -0500

    fdt: Add fdt_getprop_u32_default helpers

    Add helper functions to return find a node and return it's property
    or a default value.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Andrew Fleming-AFLEMING <afleming@freescale.com>
    Acked-by: Gerald Van Baren <vanbaren@cideas.com>

commit 8ba93f68a1bae89e033527ce67b41b4a87aa5b7f
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Oct 21 18:06:15 2008 -0500

    86xx: Enable 64-bit PCI resources on all Freescale boards

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Andrew Fleming-AFLEMING <afleming@freescale.com>

commit 0151cbaccf4504821ecfde0217299bd740086bb6
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Oct 21 11:33:58 2008 -0500

    85xx: Enable 64-bit PCI resources on all Freescale boards

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Andrew Fleming-AFLEMING <afleming@freescale.com>

commit 30e76d5e3bc4c5208ee63585fe12b409d9308cd8
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Oct 21 08:36:08 2008 -0500

    pci: Allow for PCI addresses to be 64-bit

    PCI bus is inherently 64-bit.  While not all system require access to
    the full 64-bit PCI address range some do.	This allows those systems
    to enable the full PCI address width via CONFIG_SYS_PCI_64BIT.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Andrew Fleming-AFLEMING <afleming@freescale.com>
    Acked-by: Wolfgang Denk <wd@denx.de>

commit ae5f943ba8ede448a4b1a145fd8911856701ecc5
Author: Dave Liu <daveliu@freescale.com>
Date:	Thu Oct 23 21:18:53 2008 +0800

    85xx: Fix the incorrect register used for DDR erratum1

    The 8572 DDR erratum1:
    DDR controller may enter an illegal state when operating
    in 32-bit bus mode with 4-beat bursts.

    Description:
    When operating with a 32-bit bus, it is recommended that
    DDR_SDRAM_CFG[8_BE] is cleared when DDR2 memories are used.
    This forces the DDR controller to use 4-beat bursts when
    communicating to the DRAMs. However, an issue exists that
    could lead to data corruption when the DDR controller is
    in 32-bit bus mode while using 4-beat bursts.

    Projected Impact:
    If the DDR controller is operating in 32-bit bus mode with
    4-beat bursts, then the controller may enter into a bad state.
    All subsequent reads from memory is corrupted.
    Four-beat bursts with a 32-bit bus only is used with DDR2 memories.
    Therefore, this erratum does not affect DDR3 mode.

    Work Arounds:
    To work around this issue, software must set DEBUG_1[31] in
    DDR memory mapped space (CCSRBAR offset + 0x2f00 for DDR_1
    and CCSRBAR offset + 0x6f00 for DDR_2).

    Currenlty, the code is using incorrect register DDR_SDRAM_CFG_2
    as condition, but it should be DDR_SDRAM_CFG register.

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit d5b693090ed08d24c18491df9d8fc7387b2906f3
Author: Dave Liu <daveliu@freescale.com>
Date:	Thu Oct 23 21:17:19 2008 +0800

    85xx: remove unused config definition

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit 0f060c3bf82832331a509f2e5d2442539e7aad09
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Oct 23 01:47:38 2008 -0500

    85xx: Add basic e500mc core support

    Introduce CONFIG_E500MC to deal with the minor differences between
    e500v2 and e500mc.

    * Certain fields of HID0/1 don't exist anymore on e500mc
    * Cache line size is 64-bytes on e500mc
    * reset value of PIR is different

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit a38a5b6edd30f29fd5fdb1d7f674521906c0e677
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Oct 23 01:47:37 2008 -0500

    85xx: Use CONFIG_SYS_CACHELINE_SIZE instead of magic number

    Using CONFIG_SYS_CACHELINE_SIZE instead of 31 means we can handle
    e500mc's 64-byte cacheline properly when it gets added.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 5deb8022c3749faac30e9ad9694691e2442b5c93
Author: Georg Schardt <schardt@team-ctech.de>
Date:	Fri Oct 24 13:51:52 2008 +0200

    ppc4xx: New board avnet fx12 minimodul

    This patch adds support for the avnet fx12 minimodul.
    It needs the "ppc4xx: Generic architecture for xilinx ppc405"
    patch from Ricardo.

    Signed-off-by: Georg Schardt <schardt@team-ctech.de>
    Signed-off-by: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 1f4d53260ec6f8f122aed75cce7c757d97a551e0
Author: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>
Date:	Tue Oct 21 18:29:46 2008 +0200

    ppc4xx: Generic architecture for xilinx ppc405(v3)

    As "ppc44x: Unification of virtex5 pp440 boards" did for the xilinx
    ppc440 boards, this patch presents a common architecture for all the
    xilinx ppc405 boards.

    Any custom xilinx ppc405 board can be added very easily with no code
    duplicity.

    This patch also adds a simple generic board, that can be used on almost
    any design with xilinx ppc405 replacing the file ppc405-generic/xparameters.h

    This patch is prepared to work with the latest version of EDK (10.1)

    Signed-off-by: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 485c00a57fab86f72a3769480c66bf1ca22e1459
Author: Stefan Roese <sr@denx.de>
Date:	Fri Oct 24 08:56:09 2008 +0200

    ppc4xx: Disable DDR2 autocalibration on Kilauea for now

    Since the new autocalibration still has some problems on some Kilauea
    boards with 200MHz DDR2 frequency we disable the autocalibration and
    use the hardcoded values as done before. This seems to work reliably
    on all known DDR2 frequencies.

    After the autocalibration issue is fixed we will enable it again.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit f177f4250c729727b1629fa8d8d6556c999e9b8c
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Wed Apr 9 02:02:07 2008 -0400

    Blackfin: fix up UART status bit handling

    Some Blackfin UARTs are read-to-clear while others are write-to-clear.
    This can cause problems when we poll the LSR and then later try and handle
    any errors detected.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit ae0910298f31f5bb3d33a64b8467c60ea3c5d6d0
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Oct 11 20:42:17 2008 -0400

    Blackfin: bf561-ezkit: drop redundant code

    Common Blackfin code already announces CPU information.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit e2eea98bff1369f77a9f59a5fd0bd4928bc3332e
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Oct 11 20:43:10 2008 -0400

    Blackfin: bf561-ezkit: drop pointless USB code

    The USB/LAN register settings are not actually used/needed in order to
    drive things from U-Boot, so drop the code.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit c23bff63fb03cb9dbcd26522841e53f9b34fa1ab
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Oct 11 20:47:58 2008 -0400

    Blackfin: linker scripts: force start.o and set initcode boundaries

    Make sure that the start.o object is always the first object in our linker
    script regardless of configuration settings, and add some linker symbols
    so the ldr utility can properly locate the initcode when generating a LDR.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit bd33e5c613cf70e3cb51a73fdd653fe83b942bb0
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Oct 11 21:19:39 2008 -0400

    Blackfin: small cpu init optimization while setting interrupt mask

    Use the sti instruction to set the initial interrupt mask rather than
    banging on the core IMASK MMR to save both space and time.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 960922291c9594acb575cec7e47d7bed9b58182c
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Oct 11 21:18:10 2008 -0400

    Blackfin: set initial stack correctly according to Blackfin ABI

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 25cd33d82ea521b7bd90ca858f8919fae1e9732b
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Apr 20 03:11:53 2008 -0400

    Blackfin: make baud calculation more accurate

    We should use the algorithm in the Linux kernel so that the UART divisor
    calculation is more accurate.  It also fixes problems on some picky UARTs
    that have sampling anomalies.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 0ba1da116e5edcb0c5ae4a7585d73f6548400a06
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Oct 6 04:21:41 2008 -0400

    Blackfin: decode hwerrcause/excause when crashing

    Having to decode hwerrcause/excause values is a pain, so automate it.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 2de95bb20c488f20298df6881b700a5a757ee780
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Oct 6 04:20:54 2008 -0400

    Blackfin: fix register dump messages

    Make sure we report RETI/IPEND correctly.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 7133999e6f62a9a01f6a8ffe234b8532b3ad1e4b
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Oct 6 04:19:34 2008 -0400

    Blackfin: don't bother displaying reboot msg when crashing

    The hang function already tells you to reboot, so no point in showing it
    twice.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 70c4c032ea112cc42aa1ce959c33fc4825eaef95
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Jun 1 01:23:48 2008 -0400

    Blackfin: enable support for nested interrupts

    During cpu init, make sure we initialize the CEC properly so that
    interrupts can fire and be handled while U-Boot is running.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 39782727e185860faa4884c2b04e84cb33d1c6cf
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Oct 6 03:55:25 2008 -0400

    Blackfin: init NAND before relocating env

    If booting out of NAND, we need to make sure we initialize it properly
    before attempting to relocate the environment.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 0f9a8819416ba40a53de50af148847a0e508f84d
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Aug 7 18:40:13 2008 -0400

    Blackfin: check cache bits, not cplb bits

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 2c1ea9e370cb72dd6a5aa32338e87a8a1f77bd76
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Aug 7 17:52:59 2008 -0400

    Blackfin: drop unused cache flush code

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 50f0d211912a648e31aa9123b4665a0444bb8ca9
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Aug 7 15:21:47 2008 -0400

    Blackfin: unify cache handling code

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 3c8798983403cb68a827d7a0d09b1134524a1b7d
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Oct 6 03:39:07 2008 -0400

    Blackfin: only initialize the RTC when actually used

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 621e579b812dd1a2e6777f7cbf6e55e736505823
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Oct 6 03:44:33 2008 -0400

    Blackfin: fix SWRST register definition

    The SWRST register is a 16bit, not 32bit, register.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 06121c4e2d183887dcd7a4ca2dcd395b213ea15b
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Aug 7 18:54:57 2008 -0400

    Blackfin: build with -fomit-frame-pointer

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit adbfeeb7b32f737a9738daa583350d2bb9ed017a
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Aug 7 17:50:26 2008 -0400

    Blackfin: document some of the blackfin directories

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit e4337968e43698a68ba608369f46d4a4114111ca
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Aug 7 15:16:56 2008 -0400

    Blackfin: only enable hardware error irq by default

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 2b66f08f257ef6a06785f27b3c6dc2a4cfc9cac4
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Aug 7 13:36:43 2008 -0400

    Blackfin: punt old unused mem_init.h header

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit bcc121a01608042066a19ab5bff5bcfb805bf406
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Aug 7 13:18:55 2008 -0400

    Blackfin: delete unused page_descriptor_table_size define

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 30fb9d24ae16e5b0ed39e5b7cc85981165ca98bc
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Aug 7 13:17:03 2008 -0400

    Blackfin: fix typo in boot mode comment and add NAND define

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 2e5cbe5461c5c4c6665e318cfe950a5a150d999c
Author: Ben Maan <moo@cow>
Date:	Thu Aug 7 13:14:21 2008 -0400

    Blackfin: fix port mux defines for BF54x

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 0656ef2ba274910d31364fe022f6c7db0051660d
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Aug 7 13:09:50 2008 -0400

    Blackfin: update anomaly lists

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 50ca95402876cf7bac4e2d4f7855f616a038763f
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Aug 7 13:08:54 2008 -0400

    Blackfin: unify DSPID/DBGSTAT MMR definitions

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit d9d8c7c696dec370ca714c03beb6e79d4c90bd5e
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Oct 21 15:53:51 2008 +0200

    Fix strmhz(): avoid printing negative fractions

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 4a7f6b750d8de543fdf8e58acd86745010054571
Author: Richard Retanubun <RichardRetanubun@ruggedcom.com>
Date:	Fri Oct 17 08:55:51 2008 -0400

    mpc83xx: Removed #ifdef CONFIG_MPC834X dependency on upmconfig function

    This is done to allow other 83XX based platforms which also have UPM
    (e.g. 8360) to configure and use their UPM in u-boot.

    Signed-off-by: Richard Retanubun <RichardRetanubun@RuggedCom.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 3bf1be3c0cfb1129b68cc1474119e5f323536488
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Tue Oct 14 22:58:53 2008 +0400

    mpc83xx: add support for switching between USB Host/Function for MPC837XEMDS

    With this patch u-boot can fixup the dr_mode and phy_type properties
    for the Dual-Role USB controller.

    While at it, also remove #ifdefs around includes, they are not needed.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit b3379f3fd13969934c00097c05754e7a8990fd39
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Wed Oct 8 20:52:54 2008 +0400

    mpc83xx: add ELBC NAND support for the MPC837XEMDS boards

    Though NAND chip is replaceable on the MPC837XE-MDS boards, the
    current settings don't work with the default chip on the board.
    Nevertheless Freescale's U-Boot sets the option register correctly,
    so I just dumped the register from the working u-boot. My guess is
    that the old settings were applicable for some pilot boards, not
    found in the production.

    This patch also enables FSL ELBC driver so that we could access
    the NAND storage in the u-boot.

    The NAND support costs about 45KB, so the u-boot no longer fits
    into two 128KB NOR flash sectors, thus we also have to adjust
    environment location: add another 128KB to the monitor length.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>

    It is due to hardware design and logic defect, that is the
    I/O[0:7] of NAND chip is connected to LAD[7:0], so when
    the NAND chip connected to nLCS3,  you have to set up the
    OR3[BCTLD] = '1' for normal operation, otherwise it will have
    bus contention due to the pin 48/25 of U60 is enabled.

    Setup the OR3[BCTLD] = '1' , that meaning the LBCTL is not
    asserted upon access to the NAND chip, keep the default state.

    Acked-by: Dave Liu <daveliu@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 00f7bbae92e3b13f2b37aeb1def9bb12445521b7
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Thu Oct 2 19:17:33 2008 +0400

    mpc83xx: fix PCI scan hang on the standalone MPC837xE-MDS boards

    The MPC837xE-MDS board's CPLD can auto-detect if the board is on the PIB,
    standalone or acting as a PCI agent. User's Guide says:

    - When the CPLD recognizes its location on the PIB it automatically
      configures RCW to the PCI Host.
    - If the CPLD fails to recognize its location then it is automatically
      configured as an Agent and the PCI is configured to an external arbiter.

    This sounds good. Though in the standalone setup the CPLD sets PCI_HOST
    flag (it's ok, we can't act as PCI agents since we receive CLKIN, not
    PCICLK), but the CPLD doesn't set the ARBITER_ENABLE flag, and without
    any arbiter bad things will happen (here the board hangs during any config
    space reads).

    In this situation we must disable the PCI. And in case of anybody really
    want to use an external arbiter, we provide "pci_external_aribter"
    environment variable.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 1da83a63d8e1b4bddeb82581b1745a09aac3e2d3
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Thu Oct 2 18:32:25 2008 +0400

    mpc83xx: add SGMII riser module support for the MPC8378E-MDS boards

    This involves configuring the SerDes and fixing up the flags and
    PHY addresses for the TSECs.

    For Linux we also fix up the device tree.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit e6d9c8916de9c24f2c52d0b01cf00d2e74a04cd8
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Thu Oct 2 18:31:59 2008 +0400

    mpc83xx: add TSECs' HRCWH masks for MPC837x processors

    We'll use these masks to parse TSEC modes out of HRCWH.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 6f9cc6608b4e1cefde56c0fb99ae1c95c42575ff
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Thu Oct 2 18:31:56 2008 +0400

    mpc83xx: serdes: add forgotten shifts for rfcks

    The rfcks should be shifted by 28 bits left. We didn't notice the bug
    because we were using only 100MHz clocks (for which rfcks == 0).

    Though, for SGMII we'll need 125MHz clocks.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 55c531984dcf933e4cd13a187a7e08e873b7ced1
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Thu Oct 2 18:31:53 2008 +0400

    mpc83xx: fix serdes setup for the MPC8378E boards

    MPC837xE specs says that SerDes1 has:

     Two lanes running x1 SGMII at 1.25 Gbps;
     Two lanes running x1 SATA at 1.5 or 3.0 Gbps.

    And for SerDes2:

     Two lanes running x1 PCI Express at 2.5 Gbps;
     One lane running x2 PCI Express at 2.5 Gbps;
     Two lanes running x1 SATA at 1.5 or 3.0 Gbps.

    The spec also explicitly states that PEX options are not valid for
    the SD1.

    Nevertheless MPC8378 RDB and MDS boards configure the SD1 for PEX,
    which is wrong to do.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 5c2ff323a94e27e481f70c44838d43fcd844dd46
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Wed Sep 10 18:12:37 2008 +0400

    mpc83xx: mpc8360emds: rework LBC SDRAM setup

    Currently 64M of LBC SDRAM are mapped at 0xF0000000 which makes
    it difficult to use (b/c then the memory is discontinuous and
    there is quite big memory hole between the DDR/SDRAM regions).

    This patch reworks LBC SDRAM setup so that now we dynamically
    place the LBC SDRAM near the DDR (or at 0x0 if there isn't any
    DDR memory).

    With this patch we're able to:

    - Boot without external DDR memory;
    - Use most "DDR + SDRAM" setups without need to support for
      sparse/discontinuous memory model in the software.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit def0819e920b05b34b56d8b42e1e43d9b89a52d6
Author: Wolfgang Denk <wd@xpert.denx.de>
Date:	Tue Oct 21 11:23:56 2008 +0200

    FDT: don't use private kernel header files

    On some systems (for example Fedora Core 4) U-Boot builds with the
    following wanrings only:

    ...
    In file included from /home/wd/git/u-boot/include/libfdt_env.h:33,
		     from fdt.c:51:
		 /usr/include/asm/byteorder.h:6:2: warning: #warning using private kernel header; include <endian.h> instead!

    This patch fixes this problem.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit f4d14c55504ce40287321bd63ee269e3233ee4ae
Author: Stefan Roese <sr@denx.de>
Date:	Mon Oct 13 15:15:31 2008 +0200

    ppc4xx: Add 1.0 & 1.066 GHz to canyonlands bootstrap command for PLL setup

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 43cbce69d48d052574d71f50724be546d90a46a4
Author: Stefan Roese <sr@denx.de>
Date:	Mon Oct 13 10:45:14 2008 +0200

    ppc4xx: Correctly setup ranges property in ebc node

    Previously only the NOR flash mapping was written into the ranges
    property of the ebc node. This patch now writes all enabled chip
    select areas into the ranges property.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit d7b26d58328f137471ea97de382bfa63f7239931
Author: Dirk Eibach <eibach@gdsys.de>
Date:	Wed Oct 8 15:37:50 2008 +0200

    ppc4xx: Add GDSys neo 405EP board support

    Signed-off-by: Dirk Eibach <eibach@gdsys.de>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit c11da194545d2f4bbb54be1bb5e504e20ce8c16c
Author: Niklaus Giger <niklaus.giger@netstal.com>
Date:	Wed Oct 1 14:46:13 2008 +0200

    ppc4xx: Update configs for Netstal boards

    I reorganized my config files, putting the common stuff into netstal-common.h
    (got the idea by looking a amcc-common.h from Stefan).

    Added stuff to boot the new powerpc linux via NFS (only tested with HCU4).

    Signed-off-by: Niklaus Giger <niklaus.giger@netstal.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit c9c11d751e4242cf29c3c3c290d971f6d0cb1d15
Author: Adam Graham <agraham@amcc.com>
Date:	Wed Oct 8 10:13:19 2008 -0700

    ppc4xx: Add routine to retrieve CPU number

    Provide a weak defined routine to retrieve the CPU number for
    reference boards that have multiple CPU's.	Default behavior
    is the existing single CPU print output.  Reference boards with
    multiple CPU's need to provide a board specific routine.
    See board/amcc/arches/arches.c for an example.

    Signed-off-by: Adam Graham <agraham@amcc.com>
    Signed-off-by: Victor Gallardo <vgallardo@amcc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 59217bae40e90982ab5400d849c08af683ace036
Author: Adam Graham <agraham@amcc.com>
Date:	Wed Oct 8 10:13:14 2008 -0700

    ppc4xx: Add static support for 44x IBM SDRAM Controller

    This patch add the capability to configure a PPC440 based IBM SDRAM
    Controller with static, compiled-in, values. PPC440 memory subsystem
    includes a Memory Queue core.

    Signed-off-by: Adam Graham <agraham@amcc.com>
    Signed-off-by: Victor Gallardo <vgallardo@amcc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit f09f09d3899017aaaa2b031bba63c271e9c48e4d
Author: Adam Graham <agraham@amcc.com>
Date:	Wed Oct 8 10:12:53 2008 -0700

    ppc4xx: Add AMCC Arches board support (dual 460GT)

    The Arches Evaluation board is based on the AMCC 460GT SoC chip.
    This board is a dual processor board with each processor providing
    independent resources for Rapid IO, Gigabit Ethernet, and serial
    communications. Each 460GT has it's own 512MB DDR2 memory, 32MB NOR
    FLASH, UART, EEPROM and temperature sensor, along with a shared debug
    port. The two 460GT's will communicate with each other via shared
    memory, Gigabit Ethernet and x1 PCI-Express.

    Signed-off-by: Adam Graham <agraham@amcc.com>
    Signed-off-by: Victor Gallardo <vgallardo@amcc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 055b12f2ffd7c34eea7e983a0588b24f2e69e0e3
Author: Wolfgang Denk <wd@xpert.denx.de>
Date:	Sun Oct 19 21:54:30 2008 +0200

    TQM8260: environment in flash instead EEPROM, baudrate 115k

    Several customers have reported problems with the environment in
    EEPROM, including corrupted content after board reset. Probably the
    code to prevent I2C Enge Conditions is not working sufficiently.

    We move the environment to flash now, which allows to have a backup
    copy plus gives much faster boot times.

    Also, change the default console initialization to 115200 bps as used
    on most other boards.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 1836881190b3d8a6918b0d64b39fe32bbbdf85d8
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Sun Oct 19 12:49:19 2008 -0500

    85xx: Fix compile warning in mpc8536ds.c

    mpc8536ds.c: In function 'is_sata_supported':
    mpc8536ds.c:615: warning: unused variable 'devdisr'

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 8ed44d91c8122d00368523b0b746691c895d3b3c
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Oct 19 02:35:50 2008 +0200

    Cleanup: fix "MHz" spelling

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 08ef89ecd174969b3544f3f0c7cd1de3c57f737b
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Oct 19 02:35:49 2008 +0200

    Use strmhz() to format clock frequencies

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit d50c7d4be150b2252c0d2e16cfcf69643bdd6dc9
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Oct 19 02:35:48 2008 +0200

    strmhz(): Round numbers when printing clock frequencies

    Round clock frequencies for printing.

    Many boards printed off clock frequencies like 399 MHz instead of the
    exact 400 MHz because numberes were not rounded. This is fixed now.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 681c02d05b29c6d46093525052c74b9c4ddc8b08
Author: Timur Tabi <timur@freescale.com>
Date:	Mon Oct 20 15:16:47 2008 -0500

    85xx: properly document MPC85xx_PORDEVSR2_SEC_CFG

    Commit f7d190b1 corrected the value of MPC85xx_PORDEVSR2_SEC_CFG, but forgot
    to add a comment that the correct value disagrees with the 8544 reference
    manual.  The changelog for that commit is also wrong, as it says "bit 28"
    when it should be "bit 24".

    Signed-off-by: Timur Tabi <timur@freescale.com>

commit 360fe71e82b83e264c964c9447c537e9a1f643c8
Author: Heiko Schocher <hs@denx.de>
Date:	Fri Oct 17 18:24:06 2008 +0200

    mgcoge: add redundant environment sector

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 53ebf0c470c87d5f9fa76462e5f4064d26a9b16a
Author: Heiko Schocher <hs@denx.de>
Date:	Fri Oct 17 18:23:27 2008 +0200

    mgsuvd: update size of environment

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 2e26d837f11460c0e6dede7d65424a31e0183d09
Author: Jason Jin <Jason.jin@freescale.com>
Date:	Fri Oct 10 11:41:00 2008 +0800

    Enabled the Freescale SGMII riser card on 8536DS

    Signed-off-by: Jason Jin <Jason.jin@freescale.com>

commit 7e183cad0c5ab6415dca95d6ac290ea918b28c55
Author: Liu Yu <yu.liu@freescale.com>
Date:	Fri Oct 10 11:40:59 2008 +0800

    Enabled the Freescale SGMII riser card on 8572DS

    This patch based on Andy's work.
    Including command 'pixis_set_sgmii' support.

    Signed-off-by: Liu Yu <yu.liu@freescale.com>

commit bff188baf9427c35745356439435acf3864d4c65
Author: Liu Yu <yu.liu@freescale.com>
Date:	Fri Oct 10 11:40:58 2008 +0800

    Make pixis_set_sgmii more general to support MPC85xx boards.

    The pixis sgmii command depend on the FPGA support on the board, some 85xx
    boards support SGMII riser card but did not support this command, define
    CONFIG_PIXIS_SGMII_CMD for those boards which support the sgmii command.

    Not like 8544, 8572 has 4 eTsec so that the other two's pixis bits
    are not supported by 8544. Therefor, define PIXIS_VSPEED2_MASK and
    PIXIS_VCFGEN1_MASK in header file for both boards.

    Signed-off-by: Liu Yu <yu.liu@freescale.com>

commit 5e981d683d2363204c76773941c2e9c2044c808f
Author: Ed Swarthout <Ed.Swarthout@freescale.com>
Date:	Wed Oct 8 23:38:02 2008 -0500

    Add cpu/8xxx to TAGS_SUBDIRS

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>

commit e1f7d22b8b52fc08c4d17a6a7db1e664281aed63
Author: Ed Swarthout <Ed.Swarthout@freescale.com>
Date:	Thu Oct 9 01:25:55 2008 -0500

    fsl_law clear enable before changing.

    Debug sessions may have left enabled laws.
    Changing lawbar with an unkown enabled tgtid could cause problems.

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>

commit 86be510f7b5443e7e937f696bfbe037fdc740b15
Author: Ed Swarthout <Ed.Swarthout@freescale.com>
Date:	Thu Oct 9 00:29:27 2008 -0500

    mpc8572 additional end-point mode

    mpc8572 supports all pcie controllers as end-points with cfg_host_agent=0.
    Include host_agent == 0 decode for end-point determination.

    This is not needed for the ds reference board since pcie3 will be a host
    in order to connect to the uli chip.  Include it here as a reference for
    other mpc8572 boards.

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>

commit 6856b3d0221a838580e6bb06f61425fd7529ba93
Author: Ed Swarthout <Ed.Swarthout@freescale.com>
Date:	Wed Oct 8 23:37:59 2008 -0500

    85xx if NUM_CPUS>1, print cpu number

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>

commit f7fecc3e25050a036c9f50f0d2b85bc3199a96e0
Author: Ed Swarthout <Ed.Swarthout@freescale.com>
Date:	Wed Oct 8 23:38:01 2008 -0500

    pixis do not print long help if not configured

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>

commit 0e17f02a8a78d85225a4d805f6a1ea95a0a460b5
Author: Andy Fleming <afleming@freescale.com>
Date:	Tue Oct 7 08:09:50 2008 -0500

    Have u-boot pass stashing parameters into device tree

    Some cores don't support ethernet stashing at all, and some
    instances have errata.  Adds 3 properties to gianfar nodes
    which support stashing.  For now, just add this support to
    85xx SoCs.

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit c21617fd265b7c126c6e2f2d8a23cdb00d4fade7
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Fri Oct 3 12:37:57 2008 -0400

    Add DDR options setting on MPC8641HPCN board

    * Add board specific parameter table to choose correct cpo, clk_adjust,
    write_data_delay based on board ddr frequency and n_ranks.

    * Set odt_rd_cfg and odt_wr_cfg based on the dimm# and CS#.

    Signed-off-by: James Yang <James.Yang@freescale.com>
    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>

commit 4ca06607d60d0a6378812ef58fd1eab2a7f77111
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Fri Oct 3 12:37:41 2008 -0400

    Add ddr interleaving suppport for MPC8572DS board

    * Add board specific parameter table to choose correct cpo, clk_adjust,
    write_data_delay, 2T based on board ddr frequency and n_ranks.

    * Set odt_rd_cfg and odt_wr_cfg based on the dimm# and CS#.

    * Set memory controller interleaving mode to bank interleaving, and disable
    bank(chip select) interleaving mode by default, because the default on-board
    DDR DIMMs are 2x512MB single-rank.

    * Change CONFIG_ICS307_REFCLK_HZ from 33333333 to 33333000.

    Signed-off-by: James Yang <James.Yang@freescale.com>
    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>

commit 1f293b417ac6ab8e317ca2b770377ca93edf2370
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Fri Oct 3 12:37:26 2008 -0400

    Add debug information for DDR controller registers

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>

commit c9ffd839b1ada502c86f88edaf1534426b6688ce
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Fri Oct 3 12:37:10 2008 -0400

    Check DDR interleaving mode

    * Check DDR interleaving mode from environment by reading memctl_intlv_ctl and
    ba_intlv_ctl.
    * Print DDR interleaving mode information
    * Add doc/README.fsl-ddr to describe the interleaving setting

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>

commit dfb49108e4f86c2224e1f30124328b0de66ef72e
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Fri Oct 3 12:36:55 2008 -0400

    Pass dimm parameters to populate populate controller options

    Because some dimm parameters like n_ranks needs to be used with the board
    frequency to choose the board parameters like clk_adjust etc. in the
    board_specific_paramesters table of the board ddr file, we need to pass
    the dimm parameters to the board file.

    * move ddr dimm parameters header file from /cpu to /include directory.
    * add ddr dimm parameters to populate board specific options.
    * Fix fsl_ddr_board_options() for all the 8xxx boards which call this function.

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>

commit dbbbb3abeff325855cae76e33d69d5665631443f
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Fri Oct 3 12:36:39 2008 -0400

    Make DDR interleaving mode work correctly

    Fix some bugs:
      1. Correctly set intlv_ctl in cs_config.
      2. Correctly set sa, ea in cs_bnds when bank interleaving mode is enabled.
      3. Set base_address and total memory for each ddr controller in memory
	 controller interleaving mode.

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>

commit 1c9aa76bf9013069e24258f46f4687c9f98a02d6
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Sep 22 23:40:42 2008 -0500

    85xx: Enable interrupt and setexpr commands on Freescale 85xx boards

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 7c0d4a7508d252d2d7c137eeb376814132dda30f
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Sep 22 14:11:11 2008 -0500

    85xx: Improve flash remapping on MPC8572DS & MPC8536DS

    Changing the flash from cacheable to cache-inhibited was taking a significant
    amount of time due to the fact that we were iterating over the full 256M of
    flash.  Instead we can just flush the L1 d-cache and invalidate the i-cache.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 54e091d3b603a3332c619199ca83a07e95960da4
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Sep 22 14:11:10 2008 -0500

    85xx: Export invalidate_{i,d}cache and add flush_dcache

    Added the ability for C code to invalidate the i/d-cache's and
    to flush the d-cache.  This allows us to more efficient change mappings
    from cache-able to cache-inhibited.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 6250f0f6297c5ba9aecdea6290799a95c5d4b1da
Author: Heiko Schocher <hs@denx.de>
Date:	Fri Oct 17 16:11:52 2008 +0200

    mgcoge, mgsuvd: extract more common code

    in ft_blob_update () for both boards was an unneccessary
    repetition of code, which this patch moves in a common
    function for this boards.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 9e299192ca9850cf725456388042a5aa5a6f3ec7
Author: Heiko Schocher <hs@denx.de>
Date:	Fri Oct 17 12:15:55 2008 +0200

    mgcoge, mgsuvd: use in_*/out_* accesors

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit a21ca95f8b9dca22714952b348e4905ac157b5cd
Author: Heiko Schocher <hs@denx.de>
Date:	Fri Oct 17 13:52:51 2008 +0200

    mgsuvd: fix compiler warning when using soft_i2c driver

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit cac9cf7875c2a01d63422820ed4732a9bdf5ab7b
Author: Heiko Schocher <hs@denx.de>
Date:	Fri Oct 17 12:15:05 2008 +0200

    mgsuvd: fix coding style

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 5f4c3137f4f051787707c548133823f1656eb508
Author: Heiko Schocher <hs@denx.de>
Date:	Fri Oct 17 12:13:30 2008 +0200

    mgcoge: Second Flash on CS5 not on CS1

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 76da19df5b8e186d269f29190696bd31fb6c836b
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Oct 16 21:52:08 2008 -0500

    Added arch_lmb_reserve to allow arch specific memory regions protection

    Each architecture has different ways of determine what regions of memory
    might not be valid to get overwritten when we boot.  This provides a
    hook to allow them to reserve any regions they care about.	Currently
    only ppc, m68k and sparc need/use this.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit e02d4a9904c8f36395994c0c81469d552b82f5ea
Author: Heiko Schocher <hs@denx.de>
Date:	Thu Oct 16 16:32:35 2008 +0200

    mgcoge: added CONFIG_FIT to support the new u-boot image format

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 6d0f6bcf337c5261c08fabe12982178c2c489d76
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Thu Oct 16 15:01:15 2008 +0200

    rename CFG_ macros to CONFIG_SYS

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 71edc271816ec82cf0550dd6980be2da3cc2ad9e
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Oct 13 14:12:55 2008 -0500

    74xx/7xx/86xx: Rename flush_data_cache to flush_dcache to match 85xx version

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit b799cb4c0eebb0762e91e9653d8b9cc9a98440e3
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Sep 23 10:05:02 2008 -0500

    Expose command table search for sub-commands

    Sub-command can benefit from using the same table and search functions
    that top level commands have.  Expose this functionality by refactoring
    find_cmd() and introducing find_cmd_tbl() that sub-command processing
    can call.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit f7e51b27508446f8cae3927975817137979ad5e8
Author: Heiko Schocher <hs@denx.de>
Date:	Wed Oct 15 09:41:33 2008 +0200

    mgsuvd, mgcoge: added BOOTCOUNT feature.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 8f64da7f83b553889bc08400c97047998382e9d2
Author: Heiko Schocher <hs@denx.de>
Date:	Wed Oct 15 09:41:00 2008 +0200

    mgcoge, mgsuvd: added support for the IVM EEprom.

    The EEprom contains some Manufacturerinformation,
    which are read from u-boot at boot time, and saved
    in same hush shell variables.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 81473f67810c4c9b7efaed8dee258ed6bc4c7983
Author: Heiko Schocher <hs@denx.de>
Date:	Wed Oct 15 09:40:28 2008 +0200

    hush: add showvar command for hush shell.

    This new command shows the local variables defined in
    the hush shell:

    => help showvar
    showvar
	- print values of all hushshell variables
    showvar name ...
	- print value of hushshell variable 'name'

    Also make the set_local_var() and unset_local_var ()
    no longer static, so it is possible to define local
    hush shell variables at boot time. If CONFIG_HUSH_INIT_VAR
    is defined, u-boot calls hush_init_var (), where
    boardspecific code can define local hush shell
    variables at boottime.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 67b23a322848d828a5e45c0567b72762bfde7abf
Author: Heiko Schocher <hs@denx.de>
Date:	Wed Oct 15 09:39:47 2008 +0200

    I2C: adding new "i2c bus" Command to the I2C Subsystem.

    With this Command it is possible to add new I2C Busses,
    which are behind 1 .. n I2C Muxes. Details see README.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit c24853644ddd2dd2e4246b5854a93e6254a14092
Author: Heiko Schocher <hs@denx.de>
Date:	Wed Oct 15 09:39:08 2008 +0200

    mgcoge, mgsuvd: add board specific I2C deblocking mechanism.

    As documented in doc/I2C_Edge_Conditions, adding a
    board specific deblocking mechanism via CFG_I2C_INIT_BOARD
    for the mgcoge and mgsuvd board.

    This code was originally written by Keymile in association
    with Anatech and Atmel in 1998. The Code toggels the SCL
    until the SCA line goes to HIGH (max. 16 times).
    And after this, a start condition is sent.

    This is another approach to deblock the I2C Bus. The
    soft I2C driver actually sends 9 clocks with SDA High,
    and then a stop at the end, to deblock the I2C Bus.

    Maybe we should use the approach from Keymile as
    the new standard?

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 4ca107effebfbabac1057c39632105dacef95957
Author: Heiko Schocher <hs@denx.de>
Date:	Wed Oct 15 09:38:38 2008 +0200

    soft_i2c: Add CFG_I2C_INIT_BOARD option

    This patch adds the option for a boardspecific
    I2C deblocking mechanism for the soft i2c driver.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit e5e4edd9f1f76210a09c34ee835f6cff60fdbbd1
Author: Heiko Schocher <hs@denx.de>
Date:	Wed Oct 15 09:38:07 2008 +0200

    mgcoge, mgsuvd: add DTT (LM75) support.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 8e442df438ab677057571e3ac01846bff7719bce
Author: Heiko Schocher <hs@denx.de>
Date:	Wed Oct 15 09:37:34 2008 +0200

    lm75: Make the LM75 MULTI_BUS compatible.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 12f1678127c1df2b2878ba93c88948bedc060775
Author: Heiko Schocher <hs@denx.de>
Date:	Wed Oct 15 09:37:04 2008 +0200

    lm75: fix Codingstyle issues.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit f2202450c75ba6934b356024101500ddcde6e2a6
Author: Heiko Schocher <hs@denx.de>
Date:	Wed Oct 15 09:36:33 2008 +0200

    mgcoge, mgsuvd: added EEprom support.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 9661bf9d120f760238b2a073b84f2baf05010057
Author: Heiko Schocher <hs@denx.de>
Date:	Wed Oct 15 09:36:03 2008 +0200

    mgcoge, mgsuvd: add I2C support.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 98aed379586a155292efbf3209356836584b601c
Author: Heiko Schocher <hs@denx.de>
Date:	Wed Oct 15 09:35:26 2008 +0200

    soft_i2c: prevent compiler warnings if driver does not use CPU Pins.

    This patch fixes the following warnings, when using
    the soft_i2c driver using no CPU pins on MPC82xx or MPC8xx
    systems:

    soft_i2c.c: In function 'send_reset':
    soft_i2c.c:93: warning: unused variable 'immr'
    soft_i2c.c: In function 'send_start':
    soft_i2c.c:124: warning: unused variable 'immr'
    soft_i2c.c: In function 'send_stop':
    soft_i2c.c:146: warning: unused variable 'immr'
    soft_i2c.c: In function 'send_ack':
    soft_i2c.c:171: warning: unused variable 'immr'
    soft_i2c.c: In function 'write_byte':
    soft_i2c.c:196: warning: unused variable 'immr'
    soft_i2c.c: In function 'read_byte':
    soft_i2c.c:244: warning: unused variable 'immr'

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 799b784aa00cb03a352847ab9f9acdde79b72d21
Author: Heiko Schocher <hs@denx.de>
Date:	Wed Oct 15 09:34:45 2008 +0200

    i2c: add CONFIG_I2C_MULTI_BUS for soft_i2c and mpc8260 i2c driver.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 0809ea2f4340ab2047400c7d3d3047f97987d0fd
Author: Heiko Schocher <hs@denx.de>
Date:	Wed Oct 15 09:34:05 2008 +0200

    mgcoge: fix Coding Style issues.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit e43a27c49712203fe8848a17714330623edfb2eb
Author: Heiko Schocher <hs@denx.de>
Date:	Wed Oct 15 09:33:30 2008 +0200

    I2C: add new command i2c reset.

    If I2C Bus is blocked (see doc/I2C_Edge_Conditions),
    it is not possible to get out of this, until the
    complete Hardware gets a reset. This new commando
    calls again i2c_init (and that calls i2c_init_board
    if defined), which will deblock the I2C Bus.

    Signed-off-by: Heiko Schocher <hs@denx.de>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 86e9cdf8c415c1a9725e9dae5237ba1e7bd9f686
Author: Heiko Schocher <hs@denx.de>
Date:	Wed Oct 15 09:32:25 2008 +0200

    mgsuvd, mgcoge: move this 2 boards in one dir.

    There are some more extensions, which are for both boards
    and some more boards from this manufacturer will follow soon.

    Signed-off-by: Heiko Schocher <hs@denx.de>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 1c6fe6eac75d695fde677af8330c0dbe75fb6a2b
Author: Dirk Eibach <eibach@gdsys.de>
Date:	Wed Oct 8 13:44:27 2008 +0200

    hwmon: Add LM63 support

    This patch adds support for the National LM63 temperature
    sensor with integrated fan control. It's used on the GDSys
    Neo board (405EP) which will be submitted later.

    Signed-off-by: Dirk Eibach <eibach@gdsys.de>
    Acked-by: Stefan Roese <sr@denx.de>

commit 7ba890bf2f2b92831420243c058951aa831119fd
Author: Kyungmin Park <kmpark@infradead.org>
Date:	Wed Oct 8 11:01:17 2008 +0900

    Add Red Black Tree support

    Now it's used at UBI module. Of course other modules can use it.
    If you want to use it, please define CONFIG_RBTREE

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>

commit fbd85ad65dd9c98f36ed3fb12fe41f381b7d4794
Author: richardretanubun <richardretanubun@ruggedcom.com>
Date:	Mon Oct 6 16:10:53 2008 -0400

    CONFIG_EFI_PARTITION: Added support for EFI partition in cmd_ext2fs.c

    Added support for CONFIG_EFI_PARTITION to ext2 commands.
    Signed-off-by: Richard Retanubun <RichardRetanubun@RugggedCom.com>

commit 07f3d789b9beb7ce3278c974f4d5c8f51b6ab567
Author: richardretanubun <richardretanubun@ruggedcom.com>
Date:	Fri Sep 26 11:13:22 2008 -0400

    Add support for CONFIG_EFI_PARTITION (GUID Partition Table)

    The GUID (Globally Unique Identifier) Partition Table (GPT) is a part
    of EFI. See http://en.wikipedia.org/wiki/GUID_Partition_Table

    Based on linux/fs/partitions/efi.[ch]

    Signed-off-by: Richard Retanubun <RichardRetanubun@RugggedCom.com>

commit fbc87dc0546dff709b38f358e2c5d5e39c4ca374
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Wed Oct 1 15:26:32 2008 +0200

    FIT: output image load address for type 'firmware', fix message while there

    Now that the auto-update feature uses the 'firmware' type for updates, it is
    useful to inspect the load address of such images.

    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>

commit 4bae90904b69ce3deb9f7c334ef12ed74e18a275
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Wed Oct 1 15:26:31 2008 +0200

    Automatic software update from TFTP server

    The auto-update feature allows to automatically download software updates
    from a TFTP server and store them in Flash memory during boot. Updates are
    contained in a FIT file and protected with SHA-1 checksum.

    More detailed description can be found in doc/README.update.

    Signed-off-by: Rafal Czubak <rcz@semihalf.com>
    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>

commit 3f0cf51dabacc2724731c5079a60ea989103bb8f
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Wed Oct 1 15:26:27 2008 +0200

    flash: factor out adjusting of Flash address to the end of sector

    The upcoming automatic update feature needs the ability to adjust an
    address within Flash to the end of its respective sector. Factor out
    this functionality to a new function flash_sect_roundb().

    Signed-off-by: Rafal Czubak <rcz@semihalf.com>
    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit e83cc06375ac2bea0830c6ed0f9d8fdc3c1b27d5
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Wed Oct 1 15:26:29 2008 +0200

    net: Make TFTP server timeout configurable

    There are two aspects of a TFTP transfer involving timeouts:
    1. timeout waiting for initial server reply after sending RRQ
    2. timeouts while transferring actual data from the server

    Since the upcoming auto-update feature attempts a TFTP download during each
    boot, it is undesirable to have a long delay when the TFTP server is not
    available. Thus, this commit makes the server timeout (1.) configurable by two
    global variables:

    TftpRRQTimeoutMSecs
    TftpRRQTimeoutCountMax

    TftpRRQTimeoutMSecs overrides default timeout when trying to connect to a TFTP
    server, TftpRRQTimeoutCountMax overrides default number of connection retries.
    The total delay when trying to download a file from a non-existing TFTP server
    is TftpRRQTimeoutMSecs x TftpRRQTimeoutCountMax milliseconds.

    Timeouts during file transfers (2.) are unaffected.

    Signed-off-by: Rafal Czubak <rcz@semihalf.com>
    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 49f3bdbba8071f56d950a9498b6cdb998b35340a
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Wed Oct 1 15:26:28 2008 +0200

    net: express the first argument to NetSetTimeout() in milliseconds

    Enforce millisecond semantics of the first argument to NetSetTimeout() --
    the change is transparent for well-behaving boards (CFG_HZ == 1000 and
    get_timer() countiing in milliseconds).

    Rationale for this patch is to enable millisecond granularity for
    network-related timeouts, which is needed for the upcoming automatic
    software update feature.

    Summary of changes:
    - do not scale the first argument to NetSetTimeout() by CFG_HZ
    - change timeout values used in the networking code to milliseconds

    Signed-off-by: Rafal Czubak <rcz@semihalf.com>
    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit c68a05feeb88de9fcf158e67ff6423c4cc988f88
Author: richardretanubun <richardretanubun@ruggedcom.com>
Date:	Mon Sep 29 18:28:23 2008 -0400

    Adds two more ethernet interface to 83xx

    Added as a convenience for other platforms that uses MPC8360 (has 8 UCC).
    Six eth interface is chosen because the platform I am using combines
    UCC1&2 and UCC3&4 as 1000 Eth and the other four UCCs as 10/100 Eth.

    Signed-off-by: Richard Retanubun <RichardRetanubun@RugggedCom.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 41410eee472b0f42e03a77f961bbc55ef58f3c01
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Wed Sep 24 11:42:12 2008 -0500

    Change UEC PHY interface to RGMII on MPC8568MDS

    Change UEC phy interface from GMII to RGMII on MPC8568MDS board

    Because on MPC8568MDS, GMII interface is only recommended for 1000Mbps speed,
    but RGMII interface can work at 10/100/1000Mbps, and RGMII interface works more stable.

    Now both UEC1 and UEC2 can work properly under u-boot.

    It is also in consistent with the kernel setting for 8568 UEC phy interface.

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit b59b16ca24bc7e77ec113021a6d77b9b32fcf192
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Oct 18 21:30:31 2008 +0200

    Prepare v2008.10 release: update CHANGELOG & Makefile

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit f7a35a60cf45491871a5c28e9ad24db005487857
Author: Heiko Schocher <hs@denx.de>
Date:	Fri Oct 17 18:24:06 2008 +0200

    mgcoge: add redundant environment sector

    Signed-off-by: Heiko Schocher <hs@denx.de>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit c2537ee85954af9d036b18b644f3e18d837bf4a5
Author: Heiko Schocher <hs@denx.de>
Date:	Fri Oct 17 18:23:27 2008 +0200

    mgsuvd: update size of environment

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit fa7b1c07e9371aea8f87ee6d3c2ea5564bd8cc8d
Author: Lepcha Suchit <Suchit.Lepcha@freescale.com>
Date:	Thu Oct 16 13:38:00 2008 -0500

    83xx NAND boot: wait for LTESR[CC]

    At least some revisions of the 8313, and possibly other chips, do not
    wait for all pages of the initial 4K NAND region to be loaded before
    beginning execution; thus, we wait for it before branching out of the
    first NAND page.

    This fixes warm reset problems when booting from NAND on 8313erdb.

    Signed-off-by: Scott Wood <scottwood@freescale.com>
    Acked-by: Kim Phillips <kim.phillips@freescale.com>

commit bf29e0ea0af03d593c64614136acc723a7a022a2
Author: Yuri Tikhonov <yur@emcraft.com>
Date:	Fri Oct 17 12:54:18 2008 +0200

    ppc4xx: PPC44x MQ initialization

    Set the MQ Read Passing & MCIF Cycle limits to the recommended by AMCC
    values. This fixes the occasional 440SPe hard locking issues when the 440SPe's
    dedicated DMA engines are used (e.g. by the h/w accelerated RAID driver).

    Previously the appropriate initialization had been made in Linux, by the
    ppc440spe ADMA driver, which is wrong because modifying the MQ configuration
    registers after normal operation has begun is not supported and could
    have unpredictable results.

    Comment from Stefan: This patch doesn't change the resulting value of the
    MQ registers. It explicitly sets/clears all bits to the desired state which
    better documents the resulting register value instead of relying on pre-set
    default values.

    Signed-off-by: Yuri Tikhonov <yur@emcraft.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit ec081c2c190148b374e86a795fb6b1c49caeb549
Author: Stefan Roese <sr@denx.de>
Date:	Fri Oct 17 12:51:46 2008 +0200

    ppc4xx: PPC44x MQ initialization

    Set the MQ Read Passing & MCIF Cycle limits to the recommended by AMCC
    values. This fixes the occasional 440SPe hard locking issues when the 440SPe's
    dedicated DMA engines are used (e.g. by the h/w accelerated RAID driver).

    Previously the appropriate initialization had been made in Linux, by the
    ppc440spe ADMA driver, which is wrong because modifying the MQ configuration
    registers after normal operation has begun is not supported and could
    have unpredictable results.

    Comment from Stefan: This patch doesn't change the resulting value of the
    MQ registers. It explicitly sets/clears all bits to the desired state which
    better documents the resulting register value instead of relying on pre-set
    default values.

    Signed-off-by: Yuri Tikhonov <yur@emcraft.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit f7d190b1c0b3ab7fc53074ad2862f7de99de37ff
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Oct 16 21:58:50 2008 -0500

    85xx: Using proper I2C source clock divider for MPC8544

    The MPC8544 RM incorrect shows the SEC_CFG bit in PORDEVSR2 as being
    bit 26, instead it should be bit 28.  This caused in incorrect
    interpretation of the i2c_clk which is the same as the SEC clk on
    MPC8544.  The SEC clk is controlled by cfg_sec_freq that is reported
    in PORDEVSR2.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 42653b826adb319a1df06e24ef26096b2a5d9d2a
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Oct 16 21:58:49 2008 -0500

    Revert "85xx: Using proper I2C source clock divider for MPC8544"

    This reverts commit dffd2446fb041f38ef034b0fcf41e51e5e489159.

    The fix introduced by this patch is not correct.  The problem is
    that the documentation is not correct for the MPC8544 with regards
    to which bit in PORDEVSR2 is for the SEC_CFG.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 2179c4766bffeece98e5e92040629a96c97e230c
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Oct 15 10:19:41 2008 -0500

    85xx: Fix compile warning

    mpc8536ds.c: In function 'is_sata_supported':
    mpc8536ds.c:614: warning: unused variable 'devdisr'

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 9029b68f3f81b3013044f167ea025e836e6c8c0e
Author: Jason Jin <Jason.jin@freescale.com>
Date:	Wed Oct 15 10:40:24 2008 +0800

    Fix the function conflict in x86emu when DEBUG is on

    The function parse_line() in common/main.c was exposed globally by commit
    6636b62a6efc7f14e6e788788631ae7a7fca4537, Result in conflict with the same
    name funciton in drivers/bios_emulator/x86emu/debug.c when define the DEBUG.
    This patch fix this by renaming the function in the debug.c file.

    Signed-off-by: Jason Jin <Jason.jin@freescale.com>

commit b4dbacf69a669a17487054552fc2761149dd6767
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Oct 15 15:50:45 2008 +0200

    Coding Style cleanup, update CHANGELOG, prepare 2008.10-rc3

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 374b9038293d01d8744a46af9b7854a6fd99b228
Author: Heiko Schocher <hs@denx.de>
Date:	Wed Oct 15 09:51:19 2008 +0200

    Fix compiler warning in lib_ppc/board.c

    Fix compiler warning introduced by commit 0f8cbc18

    Signed-off-by: Heiko Schocher <hs@denx.de>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 9724555755a6f1066636481b41f7094e0ce93a69
Author: Selvamuthukumar <selva.muthukumar@e-coninfotech.com>
Date:	Thu Oct 9 10:29:14 2008 +0530

    mpc83xx: wait till UPM completes the write to array

    Reference manual states that MxMR[MAD] increment is the indication
    of write to UPM array is complete. Honour that. Also, make the dummy
    write explicit.

    also fix the comment.

    Signed-off-by: Selvamuthukumar <selva.muthukumar@e-coninfotech.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 03e2dbb18e858e2f7a6aaa437f290f3690d02d51
Author: Selvamuthukumar <selva.muthukumar@e-coninfotech.com>
Date:	Wed Oct 8 18:12:20 2008 -0500

    Remove unwanted ';' at end of define.

    Currently this is not creating any problem. But it will result
    in compilation error when used as below.

    printf("CFG_SDRAM_CFG2 - %08x\n", CFG_SDRAM_CFG2);

    Signed-off-by: Selvamuthukumar <selva.muthukumar@e-coninfotech.com>

    continuation of the theme based on git grep "^#define CFG_.*;$" include/

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit b2934a56650e9a6c54432f9ce6dc36757967385e
Author: Hugo Villeneuve <hugo.villeneuve@lyrtech.com>
Date:	Mon Oct 6 10:53:59 2008 -0400

    ARM DaVinci: Add maintainer information for SFFSDR board.

    Signed-off-by: Hugo Villeneuve <hugo.villeneuve@lyrtech.com>

commit 12c6670f873ed632c264a6f3e8bf1297d5c3ddbc
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Sat Oct 4 19:26:16 2008 +0200

    api: fix type mismatch

    This patch fixes a type mismatch and thus removes a compiler
    warning when compiling with CONFIG_API on powerpc.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit 9bc2e4eee3bcb8e63847d7a733e0c607807d6141
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Wed Oct 1 12:25:04 2008 -0500

    cmd_i2c: Fix help for CONFIG_I2C_CMD_TREE && !CONFIG_I2C_MULTI_BUS

    Original code displayed:
     => help i2c
     i2c i2c speed [speed] - show or set I2C bus speed
     i2c md chip address[.0, .1, .2] [# of objects] - read from I2C device
     ...

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit a0b1b610e980e253d4c2519ee15bd0937c3f8be1
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Oct 14 22:13:41 2008 +0200

    Update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 0f8cbc1829d9c7d9616fd29b366a99d037facdcd
Author: Jason Jin <Jason.jin@freescale.com>
Date:	Fri Oct 10 11:41:01 2008 +0800

    Do not init SATA when disabled on 8536DS.

    SGMII and SATA share the serdes on MPC8536 CPU, When SATA disabled and the
    driver still try to access the SATA registers, the cpu will hangup.
    This patch try to fix this by reading the serdes status before the SATA
    initialize.

    Signed-off-by: Jason Jin <Jason.jin@freescale.com>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit 9dbc366744960013965fce8851035b6141f3b3ae
Author: Remy Bohmer <linux@bohmer.net>
Date:	Fri Oct 10 10:23:22 2008 +0200

    The PIPE_INTERRUPT flag is used wrong

    At a lot of places in the code the PIPE_INTERRUPT flags and friends
    are used wrong. The wrong bits are compared to this flag resulting
    in wrong conditions. Also there are macros that should be used for
    PIPE_* flags.
    This patch tries to fix them all, however, I was not able to test the
    changes, because I do not have any of these boards.

    Review required!

    Signed-off-by: Remy Bohmer <linux@bohmer.net>
    Signed-off-by: Markus Klotzbuecher <mk@denx.de>

commit 48867208444cb2a82e2af9c3249e90b7ed4a1751
Author: Remy Bohmer <linux@bohmer.net>
Date:	Fri Oct 10 10:23:21 2008 +0200

    fix USB initialisation procedure

    The max packet size is encoded as 0,1,2,3 for 8,16,32,64 bytes.
    At some places directly 8,16,32,64 was used instead of the encoded
    value. Made a enum for the options to make this more clear and to help
    preventing similar errors in the future.

    After fixing this bug it became clear that another bug existed where
    the 'pipe' is and-ed with PIPE_* flags, where it should have been
    'usb_pipetype(pipe)', or even better usb_pipeint(pipe).

    Also removed the triple 'get_device_descriptor' sequence, it has no use,
    and Windows nor Linux behaves that way.
    There is also a poll going on with a timeout when usb_control_msg() fails.
    However, the poll is useless, because the flag will never be set on a error,
    because there is no code that runs in a parallel that can set this flag.
    Changed this to something more logical.

    Tested on AT91SAM9261ek and compared the flow on the USB bus to what
    Linux is doing. There is no difference anymore in the early initialisation
    sequence.

    Signed-off-by: Remy Bohmer <linux@bohmer.net>
    Signed-off-by: Markus Klotzbuecher <mk@denx.de>

commit ec4d8c1c1d94a790c1473ae8aace282b817c3123
Author: Nikita V. Youshchenko <yoush@cs.msu.su>
Date:	Fri Oct 3 00:03:55 2008 +0400

    fsl_diu: fix alignment error that caused malloc corruption

    When aligning malloc()ed screen_base, invalid offset was added.
    This not only caused misaligned result (which did not cause hardware
    misbehaviour), but - worse - caused screen_base + smem_len to
    be out of malloc()ed space, which in turn caused breakage of
    futher malloc()/free() operation.

    This patch fixes screen_base alignment.

    Also this patch makes memset() that cleans framebuffer to be executed
    on first initialization of diu, not only on re-initialization. It looks
    correct to clean the framebuffer instead of displaying random garbage;
    I believe that was disabled only because that memset caused breakage
    of malloc/free described above - which no longer happens with the fix
    described above.

    Signed-off-by: Nikita V. Youshchenko <yoush@debian.org>

commit 3d0ea3110f3431b6c2aee882784f39f97b20bce9
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Wed Sep 24 10:29:37 2008 +0200

    api: Fix building with CONFIG_API

    This patch fixes building with CONFIG_API and CONFIG_USB_STORAGE.

    USB_MAX_STOR_DEV is defined in include/usb.h, but
    needed in api/api_storage.c.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit abbb90666d5ef2f500ebbedbb80ff60adc56b043
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Tue Sep 23 12:39:40 2008 -0500

    Remove unused CFG_EEPROM_PAGE_WRITE_ENABLE references

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 81e612014c40c922ec35488d17c504d4e9286f06
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Tue Sep 23 12:38:42 2008 -0500

    Remove CFG_EEPROM_PAGE* dependencies for temperature sensors

    The checks for CFG_EEPROM_PAGE_WRITE_ENABLE and
    CFG_EEPROM_PAGE_WRITE_BITS in various temperature
    sensor drivers are not necessary

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit c46980f6d2135ade345dadc1fb1f1f4c8bbf255a
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Tue Oct 14 07:04:38 2008 -0400

    cmd_spi: remove broken signed casting for display

    Since we're working with unsigned data, you can't apply a signed pointer
    cast and then attempt to print the result.	Otherwise you get wrong output
    when the sign bit is set like "0xFF" incorrectly extended to "0xFFFFFFFF".

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit d5fd0b49210c941de8a1fce3947ace92243ab5ca
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Tue Oct 14 07:05:24 2008 -0400

    strings cmd: drop old CONFIG_CFG_STRINGS define

    We don't need CONFIG_CFG_STRINGS anymore now that we have the define
    CONFIG_CMD_STRINGS and Makefile control.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit fecb5ade3b37f62981f2b05b621005850173aaa9
Author: Jason Jin <Jason.jin@freescale.com>
Date:	Fri Sep 19 17:32:49 2008 +0800

    Fix the NAND size overflow issue.

    When the total size of all NAND devices exceeds 4 GiB, the size  will
    overflow. This patch tries to fix this.

    Note that we still have a problem when a single NAND device is bigger
    than 4 GiB: then the overflow would actually happen earlier, i. e.
    when storing the size in nand_info[].size, as nand_info[].size is an
    "u_int32_t".

    Signed-off-by: Jason Jin <Jason.jin@freescale.com>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 30f574717277238b9014b8136c90eea77196490f
Author: Louis Su <louis@asix.com.tw>
Date:	Wed Jul 9 11:01:37 2008 +0800

    AX88180: new gigabit network driver

    Signed-off-by: Louis Su <louis@asix.com.tw>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit c9d6b6925344740ca1db2f8a6bab7921ff820de3
Author: Andre Schwarz <andre.schwarz@matrix-vision.de>
Date:	Tue Aug 19 16:07:03 2008 +0200

    enable 10/100M at VSC8601 at tsec driver

    Currently VSC8601 doesn't link with 10/100M partners if the
    EEPROM/Strapping is not set up.
    Setting the auto-neg register fixes this.

    Signed-off-by: Andre Schwarz <andre.schwarz@matrix-vision.de>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 702c85b0e876d587c11acdbb55738ee52acd54f4
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Tue Sep 30 15:02:53 2008 +0900

    net: ne2000: Divided a function of NE2000 driver

    get_prom function was used __attriute__ , but it is not enable.
    ax88796.o does not do link besides ne2000.o. When ld is carried
    out, get_prom function of ax88796.c is ignored.
    This problem is a thing by specifications of ld.
    I checked and test this patch on SuperH and MIPS.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 05c7e9070fe4d751e029fd9524bfbbc93cbb1393
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Tue Oct 14 11:10:59 2008 +0900

    sh: rsk7203: Add smc911x driver support to board config file

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit cae6f909baf86357b3c0bd01acfc414348c4d175
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Thu Oct 9 13:54:33 2008 +0900

    sh: Fix cannot execute a stand-alone application

    Address calculated in EXPORT_FUNC in SuperH was wrong, I revised it.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 6df0efd5c86ca1689deeb2738b46b7d83ce228ef
Author: Ed Swarthout <Ed.Swarthout@freescale.com>
Date:	Wed Oct 8 23:38:00 2008 -0500

    fsl_pci_init do not scan bus when configured as an end-point

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit 6f099bbac1ba5dfb46ee7ad29dc53713f0501ba5
Author: Hugo Villeneuve <hugo.villeneuve@lyrtech.com>
Date:	Tue Sep 16 17:07:53 2008 -0400

    ARM DaVinci: Remove redundant setting of GD_FLG_RELOC for sffsdr board.

    This is no longer necessary now that the GD_FLG_RELOC flag is set for
    all ARM boards.

    Signed-off-by: Hugo Villeneuve <hugo.villeneuve@lyrtech.com>

commit d977a57356657ba241256231efca32828a5822f9
Author: Luigi 'Comio' Mantellini <luigi.mantellini@idf-hit.com>
Date:	Sat Sep 13 10:04:32 2008 +0200

    Fix lzma uncompress call (image_start wrongly used instead image_len)

    Signed-off-by: Luigi 'Comio' Mantellini <luigi.mantellini@idf-hit.com>

commit 392438406041415fe64ab8748ec5ab5ad01d1cf7
Author: Nick Spence <nick.spence@freescale.com>
Date:	Thu Aug 28 14:09:15 2008 -0700

    mpc86xx: use r4 instead of r2 in lock_ram_in_cache and unlock_ram_in_cache

    This is needed in unlock_ram_in_cache() because it is called from C and
    will corrupt the small data area anchor that is kept in R2.

    lock_ram_in_cache() is modified similarly as good coding practice, but
    is not called from C.

    Signed-off-by: Nick Spence <nick.spence@freescale.com>

commit 5c7cbcd34d0ee566875a4fd0f2a3e5a62bba921c
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Aug 19 15:05:34 2008 -0500

    86xx: remove redudant code with lib_ppc/interrupts.c

    For some reason we duplicated the majority of code in lib_ppc/interrupts.c
    Not know how that happened, but there is no good reason for it.

    Use the interrupt_init_cpu() and timer_interrupt_cpu() since its why
    they exist.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 0d01f66d235118515b5086b88f82498bc0695d6a
Author: Ed Swarthout <Ed.Swarthout@freescale.com>
Date:	Thu Oct 9 01:26:36 2008 -0500

    CFI: cfi_flash write fix for AMD legacy

    The flash_unlock_seq requires a sector for AMD_LEGACY.
    Fix a retcode check typeo.

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 542b385a620a1783454a00424930e51895f45073
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Tue Oct 7 13:13:10 2008 +0200

    ppc4xx: Fix USB 2.0 phy reset sequence

    This patch fixes USB 2.0 communication issues on some DU440 boards.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit df8c1ce11114c2260dedb5547281945f7db8fa5c
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Tue Oct 7 13:13:09 2008 +0200

    ppc4xx: Add strapping mode for 667MHz CPU frequency on DU440 board

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 6a133d6a00b1fc7b9257cd5925d8cb67f75ecda2
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Tue Oct 7 13:13:08 2008 +0200

    ppc4xx: Fix DU440 GPIO configuration

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 35dd025c70fcc4389317db2f2a9d14795172137d
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Tue Oct 7 13:13:07 2008 +0200

    ppc4xx: Update DU440 config

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit f3bf9273939ffe1a60a32a2eef909097f15df56b
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Oct 8 15:36:39 2008 -0500

    MPC8572DS: Fix compile warnings

    Commit 445a7b38308eb05b41de74165b20855db58c7ee5 introduced the following
    compile warnings:

    cmd_i2c.c:112: warning: missing braces around initializer
    cmd_i2c.c:112: warning: (near initialization for 'i2c_no_probes[0]')

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit dffd2446fb041f38ef034b0fcf41e51e5e489159
Author: Wolfgang Grandegger <wg@grandegger.com>
Date:	Tue Sep 30 10:55:57 2008 +0200

    85xx: Using proper I2C source clock divider for MPC8544

    Measurements with our MPC8544 board showed that the I2C bus frequency
    is wrong by a factor of 1.5. Obviously, the interpretation of the
    MPC85xx_PORDEVSR2_SEC_CFG bit of the cfg_sec_freq register is not
    correct. There seems to be an error in the 8544 RM.

    Signed-off-by: Wolfgang Grandegger <wg@grandegger.com>

commit e46c7bfb8bc3c304cedd20f7a365d6e78d7eaf17
Author: Rafal Czubak <rcz@semihalf.com>
Date:	Wed Oct 8 13:41:30 2008 +0200

    FSL: Fix get_cpu_board_revision() return value.

    get_cpu_board_revision() returned board revision based on information stored
    in global static struct eeprom. It should instead use one from local struct
    board_eeprom, to which the data is actually read from EEPROM. The bug led to
    system hang after printing L1 cache information on U-Boot startup. The problem
    was observed on MPC8555CDS system and possibly affects other Freescale MPC85xx
    boards using CFG_I2C_EEPROM_CCID.

    The change has been successfully tested on MPC8555CDS system.

    Signed-off-by: Rafal Czubak <rcz@semihalf.com>

commit 747f316cca484ed627a97dd3391febabce384186
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Tue Sep 30 20:08:49 2008 +0200

    update uImage FIT multi documentation

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 77a0355f60b801f232ce0a5bfbe95331fa3b6bc0
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Tue Sep 30 20:08:36 2008 +0200

    move README.imx31 to doc/ and merge with README.mx31

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 1ed7a7f0f571b13d46530f8f8b9aff3957f15a96
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Thu Sep 25 20:54:37 2008 +0200

    i.MX31: switch to CFG_HZ=1000

    Switch to the standard CFG_HZ=1000 value, while at it, minor white-space
    cleanup, remove CFG_CLKS_IN_HZ from config-headers. Tested on mx31ads,
    provides 2% or 0.4% precision depending on the
    CONFIG_MX31_TIMER_HIGH_PRECISION flag. Measured with stop-watch on 100s
    boot-delay.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit f41b144c11341b571eab7dcef6c4b8e03c92d2b2
Author: gnusercn <gnusercn@gmail.com>
Date:	Wed Oct 8 18:58:58 2008 +0200

    Fix bug: in arch-arm, env_get_char dose not work fine

    due to the arm implementation which supposed that U-Boot is in RAM
    when we jump to start_armboot

    Signed-off-by: gnusercn <gnusercn@gmail.com>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit f8a00dea841d5d75de1f8e8107e90ee1beeddf5f
Author: Adam Graham <agraham@amcc.com>
Date:	Mon Oct 6 10:16:13 2008 -0700

    ppc4xx: Reset and relock memory DLL after SDRAM_CLKTR change

    After changing SDRAM_CLKTR phase value rerun the memory preload
    initialization sequence (INITPLR) to reset and relock the memory
    DLL. Changing the SDRAM_CLKTR memory clock phase coarse timing
    adjustment effects the phase relationship of the internal, to the
    PPC chip, and external, to the PPC chip, versions of MEMCLK_OUT.

    Signed-off-by: Adam Graham <agraham@amcc.com>
    Signed-off-by: Victor Gallardo <vgallardo@amcc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 5297246bbaa9943c0da1ec2e717b72e4ab6b830e
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Fri Oct 3 11:48:03 2008 -0400

    Remove redundant #define for MPC8536DS

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>

commit 445a7b38308eb05b41de74165b20855db58c7ee5
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Fri Oct 3 11:47:30 2008 -0400

    Add ID EEPROM support for MPC8572DS

    The ID EEPROM on MPC8572DS board locates on I2C bus 1. Its the storage for
    system information like mac addresses etc. This patch enables it.

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>

commit 1f3ba317a5c5f3a7aabf580fddc211f4bb5a4540
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Fri Oct 3 11:46:59 2008 -0400

    Minor fixes for I2C address on MPC8572DS

    MPC8572DS has two i2c buses. This patch moves the DDR SPD_EEPROM to i2c bus 1
    according to the board spec, and adds the 2nd i2c bus offset.

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>

commit c0391111c33c22fabeddf8f4ca801ec7645b4f5c
Author: Jason Jin <Jason.jin@freescale.com>
Date:	Sat Sep 27 14:40:57 2008 +0800

    Fix the incorrect DDR clk freq reporting on 8536DS

    On 8536DS board, When the DDR clk is set async mode(SW3[6:8] != 111),
    The display is still sync mode DDR freq. This patch try to fix
    this. The display DDR freq is now the actual freq in both
    sync and async mode.

    Signed-off-by: Jason Jin <Jason.jin@freescale.com>

commit bac6a1d1fa1cd80aa57881fa9c2152b853cd0ed4
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Oct 7 10:28:46 2008 -0500

    85xx: Remove setting of *cache-line-size in device trees

    ePAPR says if the *cache-block-size is the same as *cache-line-size
    than we don't need the *cache-line-size property.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit a69a42338dd25408f9fd5390a83bc501749c7e1b
Author: Mark Jackson <mpfj@mimc.co.uk>
Date:	Fri Oct 3 11:48:57 2008 +0100

    MIMC200 board now uses CONFIG_DISABLE_CONSOLE

    Changed MIMC200 board setup and config to use CONFIG_DISABLE_CONSOLE.
    Also fixed default uImage location.

    Signed-off-by: Mark Jackson <mpfj@mimc.co.uk>
    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit cd3cb0d9269d155276b00207e3816a9347fd1c92
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Sat Oct 4 07:56:06 2008 -0400

    libfdt: Fix error in documentation for fdt_get_alias_namelen()

    Oops, screwed up the function name in the documenting comment for this
    function.  Trivial correction in this patch.

    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>
    Acked-by: Gerald Van Baren <vanbaren@cideas.com>

commit 9a6cf73a88ddab2e1ac39088f2806177982cc62c
Author: David Gibson <david@gibson.dropbear.id.au>
Date:	Wed Aug 20 16:55:14 2008 +1000

    libfdt: Add function to explicitly expand aliases

    Kumar has already added alias expansion to fdt_path_offset().
    However, in some circumstances it may be convenient for the user of
    libfdt to explicitly get the string expansion of an alias.	This patch
    adds a function to do this, fdt_get_alias(), and uses it to implement
    fdt_path_offset().

    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>

commit 2215987e100d2a841ae6d48a7cc9bb83fcf22737
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Oct 2 01:55:38 2008 -0400

    cfi_flash: do not reset flash when probe fails

    The CFI flash driver starts at flash_init() which calls down into
    flash_get_size().  This starts by calling flash_detect_cfi().  If said
    function fails, flash_get_size() finishes by attempting to reset the
    flash.  Unfortunately, it does this with an info->portwidth set to 0x10
    which filters down into flash_make_cmd() and that happily smashes the
    stack by sticking info->portwidth bytes into a cfiword_t variable that
    lives on the stack.  On a 64bit system you probably won't notice, but
    killing the last 8 bytes on a 32bit system usually leads to a corrupt
    return address.  Which is what happens on a Blackfin system.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 3e38577208e4256956bc33bb8bcd0a6b6fab55c3
Author: Stefan Roese <sr@denx.de>
Date:	Fri Sep 26 17:03:26 2008 +0200

    fdt: Overwrite /chosen node in bootm if it already exists in the dtb

    Set force parameter in fdt_chosen() call in do_bootm_linux() call.
    Without this, the chosen node is not overwritten if it already
    exists.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 741a6d010d09b5bafca8e4cdfb6b2f8a2c07994d
Author: Jon Loeliger <jdl@freescale.com>
Date:	Thu Sep 25 11:02:17 2008 -0500

    Fix an overflow case in fdt_offset_ptr() detected by GCC 4.3.

    Using Gcc 4.3 detected this problem:

	../dtc/libfdt/fdt.c: In function 'fdt_next_tag':
	../dtc/libfdt/fdt.c:82: error: assuming signed overflow does not
	occur when assuming that (X + c) < X is always false

    To fix the problem, treat the offset as an unsigned int.

    The problem report and proposed fix were provided
    by Steve Papacharalambous <stevep@freescale.com>.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit bbdbc7cb3abefda5bd998edbcf0508fe6256327d
Author: David Gibson <david@gibson.dropbear.id.au>
Date:	Fri Aug 29 14:19:13 2008 +1000

    libfdt: Fix bugs in fdt_get_path()

    The current implementation of fdt_get_path() has a couple of bugs,
    fixed by this patch.

    First, contrary to its documentation, on success it returns the length
    of the node's path, rather than 0.	The testcase is correspondingly
    wrong, and the patch fixes this as well.

    Second, in some circumstances, it will return -FDT_ERR_BADOFFSET
    instead of -FDT_ERR_NOSPACE when given insufficient buffer space.
    Specifically this happens when there is insufficient space even to
    hold the path's second last component.  This behaviour is corrected,
    and the testcase updated to check it.

    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>

commit 33af3e6656e84660d397b5dd95abab2dccc36f83
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Oct 1 12:34:58 2008 +0200

    TQM5200: enable support for ATAPI devices

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit d13ff2358ff8c384f52eaf46f5d60258acf96ea6
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Mon Sep 15 05:48:25 2008 +0200

    Revert "ARM: set GD_FLG_RELOC for boards skipping relocation to RAM"

    we need this due to the arm implementation which supposed that U-Boot
    is in RAM when we jump to start_armboot

    This reverts commit f96b44cef897bd372beb86dde1b33637c119d84d.
    in order to do it for all arm board

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 7fd0bea2e4a78eab7e6693140940f9f9a0009bc2
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Wed Sep 24 08:46:25 2008 -0500

    mpc83xx: don't disable autoboot

    bootdelay set to -1 'permanently' disables autobooting, even if
    bootcmd is specified.  Change to a positive value to allow
    autobooting when a bootcmd is set.

    Reported-by: Coray Tate <Coray.Tate@freescale.com>
    Cc: Scott Wood <scottwood@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 2fb29c520c42b7bfef33ea3fd1527eba64099164
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Wed Sep 24 10:42:15 2008 +0900

    mpc83xx: Fix typo in include/mpc83xx.h

    Fixed typo from CONIFG_MPC837X to CONFIG_MPC837X

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 162c41c03179727a1d14262f703c9a8bc40231fa
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Tue Sep 23 09:38:49 2008 -0500

    mpc83xx: add h/w flash protection to board configs

    the operating system may leave flash in a h/w locked state after writing.
    This allows u-boot to continue to write flash by enabling h/w unlocking
    by default.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit d26154c9a692586b66eb6d1f8e1b67c75e40ea70
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Thu Sep 11 21:35:36 2008 +0400

    mpc83xx: spd_sdram: fix ddr sdram base address assignment bug

    The spd_dram code shifts the base address, then masks 20 bits, but
    forgets to shift the base address back. Fix this by just masking the
    base address correctly.

    Found this bug while trying to relocate a DDR memory at the base != 0.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 8fd4166c467a46773f80208bda1ec3b4757747bc
Author: Stefan Roese <sr@denx.de>
Date:	Mon Sep 22 16:10:43 2008 +0200

    ppc4xx: Canyonlands: Remove unnecessary FDT warning upon DTB fixup

    Depending on the configuration jumper "SATA SELECT", U-Boot disabled
    either one PCIe node or the SATA node in the device tree blob. This
    patch removes the unnecessary and even confusing warning, when the node
    is not found at all.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 6e24a1eb1490aa043770bcf0061ac1fad0864fd9
Author: Remy Bohmer <linux@bohmer.net>
Date:	Fri Sep 19 13:30:06 2008 +0200

    Add missing device types to dev_print() in part.c

    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit 5fdc215f0b351b0c36cc3f8a0fa5850f24454bed
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Sep 22 22:23:06 2008 +0200

    Fix DPRAM memory leak when CFG_ALLOC_DPRAM is defined, which
    eventually leads to a machine check. This change assures that DPRAM
    is allocated only once in that case.

    Signed-off-by: Gary Jennejohn <garyj@denx.de>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit a07faf7b9ad5a86763a577c79922c4ff9a70ef23
Author: Laurent Pinchart <laurentp@cse-semaphore.com>
Date:	Wed Sep 17 17:57:34 2008 +0200

    Fix Spartan-3 definitions.

    A few Spartan-3 definitions erroneously use Spartan-3E size
    constants. This patch fixes them.

    Signed-off-by: Laurent Pinchart <laurentp@cse-semaphore.com>

commit 28113e1f0da4146b823ffce37680d31d5685a60b
Author: Laurent Pinchart <laurentp@cse-semaphore.com>
Date:	Wed Sep 17 17:41:58 2008 +0200

    Remove duplicate Spartan-3E definition.

    Signed-off-by: Laurent Pinchart <laurentp@cse-semaphore.com>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 5c65ecf7cd94df250b295621f3b24135cbcfe579
Author: Anatolij Gustschin <agust@denx.de>
Date:	Wed Sep 17 13:46:17 2008 +0200

    socrates: change default mtest address range

    Running mtest command on socrates without specifying
    an address range crashes the board. This patch changes
    default mtest address range to prevent this behavior.

    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit d666b2d59674b5e002c0821b7ab83ec3ff90d670
Author: Anatolij Gustschin <agust@denx.de>
Date:	Wed Sep 17 12:34:45 2008 +0200

    socrates: fix crash after relocation

    Currently U-Boot crashes after relocation to RAM.
    Changing the CPO value of the DDR SDRAM TIMING_CFG_2
    register to READ_LAT + 1 (to the value it was before
    conversion of socrates to new DDR code) fixes the
    problem.

    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit 562788b0a303f3528b920d81f547f5ca77ba528e
Author: Anatolij Gustschin <agust@denx.de>
Date:	Wed Sep 17 11:45:51 2008 +0200

    socrates: fix SPD EEPROM address

    Commit be0bd8234b9777ecd63c4c686f72af070d886517
    changed SPD EEPROM address to 0x51 and DDR SDRAM
    detection stopped working. Change this address
    back to 0x50.

    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit 023824549a370bd185d7129d9a6c86f9be7b86a8
Author: Stefan Roese <sr@denx.de>
Date:	Mon Sep 22 11:06:50 2008 +0200

    Revert "ppc4xx: Fix DDR2 auto calibration on Kilauea 600MHz (200MHz PLB)"

    This reverts commit 3eec160a3a405b29ce9c06920f6427b9047dd8a8.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit e58c41e26cf3c8accd60311be579f452e368e97e
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Thu Sep 18 20:13:08 2008 +0900

    usb: Fix compile warning of r8a66597-hcd

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
    Signed-off-by: Markus Klotzbuecher <mk@denx.de>

commit b5d10a13525c07ec6374adf840d7c87553b5f189
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Thu Sep 18 19:34:36 2008 +0900

    sh: Fix compile warning

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 4a065abf926f128beb36d93449defa0d690e7fef
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Thu Sep 18 19:04:26 2008 +0900

    sh: Add support watchdog for SH4A core

    Add support watchdog for SH4A core (SH7763, SH7780 and SH7785).
    And fix some compile warning.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit a03c09c5fdb8430fe2ae6a03f88a0cf7bcc0aa57
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Wed Sep 17 11:45:26 2008 +0900

    sh: Fix typo in SH serial driver

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 6b44a439215ba7c63f666f8099213ea4f05f2b07
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Wed Sep 17 11:08:36 2008 +0900

    sh: Add support any page size and empty_zero_page to SH Linux uImage

    Old U-Boot supported 4KB page size only. If this version, Linux
    kernel can not get command line from U-Boot.
    SH Linux kernel can change page size and empty_zero_page.
    This patch support this function and fix promlem.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit ce9f99ddb59628f41dc534e892368a7d66dfc774
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Thu Aug 28 13:40:52 2008 +0900

    sh: rsk7203: Add support pkt_data_pull and pkt_data_push function

    Add function of smc911x, pkt_data_pull and pkt_data_push.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit dd820b03a2f45e86e7960e26729a3b58e3dda44a
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Sep 18 13:57:32 2008 +0200

    ADS5121: fix typo in "rootpath" default setting

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit c9e8436b10cca53fca4904ecbadcd6231ad72c38
Author: Remy Bohmer <linux@bohmer.net>
Date:	Tue Sep 16 14:55:44 2008 +0200

    USB layer of U-Boot causes USB protocol errors while using USB memory sticks

    There are several differences between Linux, Windows and U-boot for initialising the
    USB devices. While analysing the behaviour of U-boot it turned out that U-boot does
    things really different, and some are wrong (compared to the USB standard).

    This patch fixes some errors:
    * The NEW_init procedure that was already in the code is good, while the old procedure
      is wrong. See code comments for more info.
    * On a Control request the data returned by the device can be more than 8 bytes, while
      the host limits it to 8 bytes. This caused the host to generate a DataOverrun error.
      This results in a lot of USB sticks not being recognised, and the transmission ended
      frequently with a CTL:TIMEOUT Error.
    * Added a flag CONFIG_LEGACY_USB_INIT_SEQ to allow users to use the old init procedure.

    Signed-off-by: Remy Bohmer <linux@bohmer.net>
    Signed-off-by: Markus Klotzbuecher <mk@denx.de>

commit 6f5794a6f78b313231256958fd73673c6aacc116
Author: Remy Bohmer <linux@bohmer.net>
Date:	Tue Sep 16 14:55:43 2008 +0200

    Refactoring parts of the common USB OHCI code

    This patch refactors some large routines of the USB OHCI code by
    making some routines smaller and more readable which helps
    debugging and understanding the code. (Makes the code looks
    somewhat more like the Linux implementation.)

    Also made entire file compliant to Linux Coding Rules (checkpatch.pl compliant)

    Signed-off-by: Remy Bohmer <linux@bohmer.net>
    Signed-off-by: Markus Klotzbuecher <mk@denx.de>

commit be19d324edc1a1d7f393d24e10d164cd94c91a00
Author: Remy Bohmer <linux@bohmer.net>
Date:	Tue Sep 16 14:55:42 2008 +0200

    Fix for USB sticks not working on ARM while using GCC 4.x compilers

    The GCC-compiler makes an optimisation error while optimising the routine
    usb_set_maxpacket(). This should be fixed in the compiler in the first place,
    but there lots of compilers out there that makes this error, that it is
    probably wiser to workaround it in U-boot itself.

    What happens is that the register r3 is used as loop-counter 'i', but gets
    overwritten later on. From there it starts using register r3 for several other
    things and the assembler code is becoming a big mess. This is clearly a compiler bug.

    This error occurs on at least several versions of Code Sourcery Lite compilers
    for ARM. Like the Edition 2008q1, and 2008q3, It has also been seen on other
    compilers, while compiling for armv4t, or armv5te with Os, O1 and O2.

    We work around it by splitting up this routine in 2 parts, and making sure that
    the split out part is NOT inlined any longer. This will make GCC spit out assembler
    that do not show this problem. Another possibility is to adapt the Makefile to stop
    optimisation for the complete file. I think this solution is nicer.

    Signed-off-by: Remy Bohmer <linux@bohmer.net>
    Signed-off-by: Markus Klotzbuecher <mk@denx.de>

commit 87b4ef560cf2da4ccc9e59711ad1ff7fafe96670
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Sep 17 10:17:55 2008 +0200

    Coding style cleanup; update CHANEGLOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 3eec160a3a405b29ce9c06920f6427b9047dd8a8
Author: Victor Gallardo <vgallardo@amcc.com>
Date:	Tue Sep 16 06:59:13 2008 -0700

    ppc4xx: Fix DDR2 auto calibration on Kilauea 600MHz (200MHz PLB)

    Signed-off-by: Victor Gallardo <vgallardo@amcc.com>
    Signed-off-by: Adam Graham <agraham@amcc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit ce47eb402c5e29a025399dc282246414fc492940
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Tue Sep 16 10:04:47 2008 -0500

    Support for multiple SGMII/TBI interfaces for TSEC ethernet

    Fix TBI PHY accesses to use the proper offset in CPU register space. The
    previous code would incorrectly access the TBI PHY by reading/writing to CPU
    register space at the same location as would be used to access external PHYs.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit 7c803be2eb3cae245dedda438776e08fb122250f
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Sep 16 18:02:19 2008 +0200

    TQM8xx: Fix CFI flash driver support for all TQM8xx based boards

    After switching to using the CFI flash driver, the correct remapping
    of the flash banks was forgotten.

    Also, some boards were not adapted, and the old legacy flash driver
    was not removed yet.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit c0d2f87d6c450128b88e73eea715fa3654f65b6c
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Sep 14 00:59:35 2008 +0200

    Prepare v2008.10-rc2

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit f12e4549b6fb01cd2654348af95a3c7a6ac161e7
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Sep 13 02:23:05 2008 +0200

    Coding style cleanup, update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 0c32565f536609d78feef35c88bbc39d3ac53a73
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Wed Sep 10 09:18:34 2008 -0500

    Update mailing list email and archive addresses

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit fb661ea444ae61de60520f66ae84cdb5dd5a3246
Author: u-boot@bugs.denx.de <u-boot@bugs.denx.de>
Date:	Thu Sep 11 15:40:01 2008 +0200

    85xx: socrates: autoprobe Lime chip

    This patch is an attempt to implement autoprobing for the Lime
    presence on the bus.
    Configure GPCM for Lime CS2 and try to access chip ID registers.
    Second read atempt delivers register values if the chip is present.

    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit e99b607a5ec56ce66e0bcccb78480d5e16fb7bc5
Author: u-boot@bugs.denx.de <u-boot@bugs.denx.de>
Date:	Thu Sep 11 15:40:01 2008 +0200

    85xx: socrates: Add support for new image format.

    Signed-off-by: Detlev Zundel <dzu@denx.de>

commit 3c094b652d4107b34641f300a8e9fe16ca15e3d8
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Thu Sep 11 17:28:18 2008 +0900

    sh: Fix compile error for r2dplus

    netdev.h was not include by r2dplus.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>

commit 56844a22b76c719e600047e23b80465a44d76abd
Author: Heiko Schocher <hs@denx.de>
Date:	Thu Sep 11 08:11:23 2008 +0200

    powerpc: Fix bootm to boot up again with a Ramdisk

    Commit 2a1a2cb6 didnt remove the dummy mem reservation in fdt_chosen,
    and this stopped Linux from booting with a Ramdisk. This patch fixes
    this, by deleting the useless dummy mem reservation.

    When booting with a Ramdisk, a fix offset FDT_RAMDISK_OVERHEAD is now
    added to of_size, so we dont need anymore a dummy mem reservation.

    I measured the value of FDT_RAMDISK_OVERHEAD on a MPC8270 based
    system (=0x44 bytes) and rounded it up to 0x80).

    Signed-off-by: Heiko Schocher <hs@denx.de>
    Acked-by: Kumar Gala <galak@kernel.crashing.org>

commit fc9c1727b5b3483ce49c3cb668e8332fb001b8a7
Author: Luigi 'Comio' Mantellini <luigi.mantellini@idf-hit.com>
Date:	Mon Sep 8 02:46:13 2008 +0200

    Add support for LZMA uncompression algorithm.

    Signed-off-by: Luigi 'Comio' Mantellini <luigi.mantellini@idf-hit.com>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 0008b6d968160abe2bfd936493f3a516a7c8da20
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Fri Jun 27 23:04:20 2008 +0400

    fsl_elbc_nand: ecclayout cleanups

    This patch deletes oobavail assignments, they're calculated by the nand
    core code in nand_scan_tail, plus current oobavail values are wrong for
    the LP NANDs.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: David Woodhouse <David.Woodhouse@intel.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 8f42bf1c393d53a70c2545e9f329d11c46d74794
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Fri Jun 27 23:04:13 2008 +0400

    fsl_elbc_nand: implement support for flash-based BBT

    This patch implements support for flash-based BBT for chips working
    through ELBC NAND controller, so that NAND core will not have to re-scan
    for bad blocks on every boot.

    Because ELBC controller may provide HW-generated ECCs we should adjust
    bbt pattern and bbt version positions in the OOB free area.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: David Woodhouse <David.Woodhouse@intel.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 97ae023648e764f794ffb9c52da109d6caf09c47
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Fri Jun 27 23:04:04 2008 +0400

    fsl_elbc_nand: fix OOB workability for large page NAND chips

    For large page chips, nand_bbt is looking into OOB area, and checking
    for "0xff 0xff" pattern at OOB offset 0. That is, two bytes should be
    reserved for bbt means.

    But ELBC driver is specifying ecclayout so that oobfree area starts at
    offset 1, so only one byte left for the bbt purposes.

    This causes problems with any OOB users, namely JFFS2: after first mount
    JFFS2 will fill all OOBs with "erased marker", so OOBs will contain:

      OOB Data: ff 19 85 20 03 00 ff ff ff 00 00 08 ff ff ff ff
      OOB Data: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
      OOB Data: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff
      OOB Data: ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff ff

    And on the next boot, NAND core will rescan for bad blocks, then will
    see "0xff 0x19" pattern, and will mark all blocks as bad ones.

    To fix the issue we should implement our own bad block pattern: just one
    byte at OOB start. Though, this will work only for x8 chips. For x16
    chips two bytes must be checked. Since ELBC driver does not support x16
    NANDs (yet), we're safe for now.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: David Woodhouse <David.Woodhouse@intel.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 7238ada313057a85409485b8ee21515dc10c07a5
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Sep 12 13:52:21 2008 +0200

    MPC512x: reduce timeout waiting for Ethernet autonegotiation to 2.5s

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit b18410e508a12ba0a177dfc2a386857c806fa96d
Author: Stefan Roese <sr@denx.de>
Date:	Thu Sep 11 13:05:56 2008 +0200

    ppc4xx: Enable device tree (FDT) support in zeus board port

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 7bf5ecfa50722a9feb45ea8f04da75f5d406f20b
Author: Stefan Roese <sr@denx.de>
Date:	Wed Sep 10 16:53:47 2008 +0200

    ppc4xx: Fix SDRAM inititialization of multiple 405 based board ports

    This patch fixes a problem introdiced with patch
    bbeff30c [ppc4xx: Remove superfluous dram_init() call or replace it by
    initdram()].

    The boards affected are:
    - PCI405
    - PPChameleonEVB
    - quad100hd
    - taihu
    - zeus

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 61737c59a3285f6fadf96a5836879898c04ec28d
Author: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>
Date:	Thu Sep 11 19:41:26 2008 -0400

    ppc4xx: Add .gitignore file to xilinx-ppc440 boards

    Signed-off-by: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 2bec498ed1164a58cd8437b561bdc4551d69f9bf
Author: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>
Date:	Thu Sep 11 19:41:25 2008 -0400

    ppc4xx: Fix compilation of v5fx30teval_flash

    Signed-off-by: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 4bed9deebbd7ee6f0ba746b44d47a922156f7404
Author: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>
Date:	Wed Sep 10 17:44:30 2008 -0400

    ppc4xx: Fix in-tree build for ppc440-generic boards

    Signed-off-by: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 06c4ab50f5ccfb55ea2dd324aa28b2b06102e416
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Sep 12 02:20:47 2008 +0200

    ARM: synchronize mach-types.h with linux 2.6.27-rc6

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 3ee9f03f588ad605e3fd10530237f9e3e2e7ab4c
Author: Jens Scharsig <esw@bus-elektronik.de>
Date:	Fri Sep 12 02:20:47 2008 +0200

    at91rm9200: fix errors with CONFIG_CMD_I2C_TREE

    This patch prevents linker error on AT91RM9200 boards, if
    CONFIG_CMD_I2_TREE is set.
    It implements i2c_set_bus_speed and i2c_get_bus_speed as a dummy function.

    Signed-off-by: Jens Scharsig <esw@bus-elektronik.de>

commit b5b0344957d32e3d07a8dd72fce64fb48e680ba4
Author: Hugo Villeneuve <hugo.villeneuve@lyrtech.com>
Date:	Fri Sep 12 02:20:47 2008 +0200

    ARM DaVinci: Remove duplicate code in cpu/arm926ejs/davinci/dp83848.c

    ARM DaVinci: Remove duplicate code in cpu/arm926ejs/davinci/dp83848.c

    Signed-off-by: Hugo Villeneuve <hugo.villeneuve@lyrtech.com>

commit 03db53335c8eba656a7c44d1555b1a4514383e33
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Fri Sep 12 02:20:46 2008 +0200

    make: Remove redundant __ARM__ addition when cross-compiling on *BSD

    __ARM__ is given by arm_config.mk automatically.

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit 8cc62a7d9c77f8ef5166fb57322c4a6ddac320b4
Author: Claudio Scordino <claudio@evidence.eu.com>
Date:	Fri Sep 12 02:20:46 2008 +0200

    Fix MACH_TYPE for the AT91RM9200DK board.

    Signed-off-by: Claudio Scordino <claudio@evidence.eu.com>

commit 274737e5eb25b2bcd3af3a96da923effd543284f
Author: Andrew Dyer <adyer@righthandtech.com>
Date:	Fri Sep 12 02:20:46 2008 +0200

    i.mx change get_timer(base) to return time since base

    This patch changes get_timer() for i.MX to return the time since
    'base' instead of the time since the counter was at zero.

    Symptom seen is flash timeout errors when erasing or programming a
    sector using the common cfi flash code.

    Signed-off-by: Andrew Dyer <adyer@righthandtech.com>

commit 48fed40575b3e8eae960eb0141509ddd9a73012a
Author: Andrew Dyer <adyer@righthandtech.com>
Date:	Fri Sep 12 02:20:46 2008 +0200

    i.MX use u-boot baud rate and don't assume UART master clock

    1) Change the i.MX serial driver to use the baud rate set in the
     u-boot environment

    2) don't assume a 16MHz value for PERCLK1 in baud rate calculations

    3) don't write a 1 to the RDR bit in the USR2 reg. (bit is not "write
     one to clear" like other status bits in the reg.)

    Signed-off-by: Andrew Dyer <adyer@righthandtech.com>

commit 6e1551a870d360805b9d172dc56d935064abe71d
Author: Andrew Dyer <adyer@righthandtech.com>
Date:	Fri Sep 12 02:20:46 2008 +0200

    arm920t fix constant error in start.S

    Code in cpu/arm920t/start.S will die with a compilation error if
    CONFIG_STACKSIZE + CFG_MALLOC_LEN works out to an invalid constant for
    the ARM sub instruction.  Change the code so that each is subtracted
    independently to avoid the error.

    Signed-off-by: Andrew Dyer <adyer@righthandtech.com>

commit b23253835f871cd9bd8e955b9a971d18a7d4ff56
Author: Gururaja Hebbar K R <gururajakr@sanyo.co.in>
Date:	Fri Sep 12 02:20:40 2008 +0200

    ARM OMAP : Correct Invalid Timer Register Field Declaration in omap1510.h & omap730.h

    - Correct Invalid #define of MPUTIM_PTV_MASK for
       omap1510 & omap730 register definition

     MPUTIM_PTV_MASK is defined as
     #define MPUTIM_PTV_MASK		(0x7<<PTV_BIT)

     while it should have been
     #define MPUTIM_PTV_MASK		(0x7<<MPUTIM_PTV_BIT)

    - Below Patch corrects the same

    Signed-off-by: Gururaja Hebbar <gururajakr@sanyo.co.in>

commit c455d07396dddc9864fd8dbb965ee10fe95ce8cf
Author: Adrian Filipi <adrian.filipi@eurotech.com>
Date:	Fri Jul 18 11:52:02 2008 -0400

    Set up SD/MMC OCR as comment describes. i.e. 3.2-3.4v.

    Signed-off-by: Adrian Filipi <adrian.filipi@eurotech.com>

commit eb16135df20535b0d19969f50fb5bd17f95e9c25
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Thu Aug 28 12:25:11 2008 +0200

    i.MX31: document timer precision option

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit 1a6337b01351b82a45b0defa76f08744511c580b
Author: Magnus Lilja <lilja.magnus@gmail.com>
Date:	Fri Aug 29 10:36:18 2008 +0200

    i.MX31: Make the SPI bus and chip select configurable for MC13783

    The i.MX31 has three SPI buses and each bus has several chip selects
    and the MC13783 chip can be connected to any of these. The current
    RTC driver for MC13783 is hardcoded for CSPI2/SS2.

    This patch makes make MC13783 SPI bus and chip select configurable
    via CONFIG_MC13783_SPI_BUS and CONFIG_MC13783_SPI_CS.

    Signed-off-by: Magnus Lilja <lilja.magnus@gmail.com>

commit 8c4ebec25b21e355b8488698ec1594da9701fff4
Author: Magnus Lilja <lilja.magnus@gmail.com>
Date:	Fri Aug 29 10:36:17 2008 +0200

    i.MX31: Add reset_timer() and modify get_timer_masked().

    This patch adds the reset_timer() function (needed by nand_base.c) and
    modifies the get_timer_masked() to work in the same way as the omap24xx
    function.

    Signed-off-by: Magnus Lilja <lilja.magnus@gmail.com>

commit deeec4991a55de243787002ede24d2331d234fc8
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Sep 10 22:48:09 2008 +0200

    ap325rxa: remove duplicate CONFIG_FLASH_CFI_DRIVER

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit a3a08c0cedd329edf5256e1d6b2bad0fca002725
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Sep 10 22:48:09 2008 +0200

    bootm arm/avr32/blackfin/microblaze/nios2/sh: remove no more need 'error' label

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 0e8d158664a913392cb01fb11a948d83f72e105e
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Sep 10 22:48:06 2008 +0200

    rename CFG_ENV macros to CONFIG_ENV

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 1ede78710c3bf9ad6f4a53aaddc3bcc86fedd9df
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Sep 10 22:48:05 2008 +0200

    nvedit: rename error comment to CONFIG_ENV_IS_IN_

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit b64b775e7546ed138df360ceb3a71ee358cb9a01
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Sep 10 22:48:05 2008 +0200

    cmd_mem: Move conditional compilation to Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 8a40fb148efa442d6526eac46a2001e4c64d28ff
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Sep 10 22:48:05 2008 +0200

    move cmd_get_data_size to command.c

    add CMD_DATA_SIZE macro to enable it

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 507641d2491980531932b9f25dab37fe5e6c3a1a
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Sep 10 22:48:04 2008 +0200

    env_flash: Move conditional compilation to Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 5a1aceb0689e2f731491838970884a673ef7e7d3
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Sep 10 22:48:04 2008 +0200

    rename CFG_ENV_IS_IN_FLASH in CONFIG_ENV_IS_IN_FLASH

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 7d9b5bae5ba558c7464d89d033aca04acaf01172
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Sep 10 22:48:03 2008 +0200

    cleanup use of CFG_ENV_IS_IN_FLASH

    - #if CFG_ENV_IS_IN_FLASH
    - #if (CFG_ENV_IS_IN_FLASH == 1)
    - #define CFG_ENV_IS_IN_FLASH 0

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 0cf4fd3cf8d0e00605bec5fc56f89c6415015a46
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Sep 10 22:48:01 2008 +0200

    rename environment.c in env_embedded.c to reflect is functionality

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit c0878af6e32f0fd8e13a6ca315b9add64441115a
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Sep 10 22:48:01 2008 +0200

    env_nowhere: Move conditional compilation to Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 93f6d72544da4510a146bc4c93d609b0116cde37
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Sep 10 22:48:00 2008 +0200

    rename CFG_ENV_IS_NOWHERE in CONFIG_ENV_IS_NOWHERE

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 2556ef78113b5f089dfcac5da90bf31dd568397b
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Sep 10 22:48:00 2008 +0200

    env_sf: Move conditional compilation to Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 0b5099a8419bf9c828df5e3e2c6878dc300d98e3
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Sep 10 22:48:00 2008 +0200

    rename CFG_ENV_IS_IN_SPI_FLASH in CONFIG_ENV_IS_IN_SPI_FLASH

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 55c5f49910ec8225347aa1d211352a84de6649b4
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Sep 10 22:48:00 2008 +0200

    env_onenand: Move conditional compilation to Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 9656138ff1a34d4c4768db6b490deffc40ee674b
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Sep 10 22:47:59 2008 +0200

    rename CFG_ENV_IS_IN_ONENAND in CONFIG_ENV_IS_IN_ONENAND

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 957a0e69575683efd70ace147746bbb3d8e7c501
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Sep 10 22:47:59 2008 +0200

    env_nvram: Move conditional compilation to Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 9314cee6917444ab88bd4e758da7a30975120187
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Sep 10 22:47:59 2008 +0200

    rename CFG_ENV_IS_IN_NVRAM in CONFIG_ENV_IS_IN_NVRAM

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 06f61354397911a4c121dfa51b6ccbf7e300d48b
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Sep 10 22:47:59 2008 +0200

    env_nand: Move conditional compilation to Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 51bfee192099206a4397f15f3b93516e01f58ab0
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Sep 10 22:47:58 2008 +0200

    rename CFG_ENV_IS_IN_NAND in CONFIG_ENV_IS_IN_NAND

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit d8cc04d0ac9c7c0d12454708aaf5489f8532bbf9
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Sep 10 22:47:58 2008 +0200

    env_dataflash: Move conditional compilation to Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 057c849c45b9ee19df8ff3acdeee66be52819962
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Sep 10 22:47:58 2008 +0200

    rename CFG_ENV_IS_IN_DATAFLASH in CONFIG_ENV_IS_IN_DATAFLASH

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit d1034bc8db60fa6bd419328baf6a75cb0645cee8
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Sep 10 22:47:52 2008 +0200

    cmd_eeprom: Move conditional compilation to Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit bf5a7710ec70e90e98f451b4ba0eb65f9ffc34eb
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Sep 5 09:19:54 2008 +0200

    env_eeprom: Move conditional compilation to Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit bb1f8b4f8bb0bfce52e0faa4637b975b745824b3
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Sep 5 09:19:30 2008 +0200

    rename CFG_ENV_IS_IN_EEPROM in CONFIG_ENV_IS_IN_EEPROM

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 32628c5008105a732212003d83b75f05e5243bb2
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Aug 30 23:54:58 2008 +0200

    cmd_mac: Move conditional compilation to Makefile

    finish remaning CFG_ID_EEPROM in CONFIG_ID_EEPROM
    start in commit ad8f8687b78c3e917b173f038926695383c55555

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit e5648acab153f0f429bfc714902c5aaa7879f71b
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Aug 30 23:47:41 2008 +0200

    cmd_fdc: Move conditional compilation to Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 2d02d91d530e831f2dab228085963fc1d5b71cb0
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Aug 30 23:47:38 2008 +0200

    common/Makefile: add core command section

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 0d92d4a699fb1a39381d98571dc51fb97e5bcf9e
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Aug 30 23:29:57 2008 +0200

    cmd_vfd: Move conditional compilation to Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 6644641d072aee3087da129d8443187196a4d8a9
Author: Scott Wood <scottwood@freescale.com>
Date:	Wed Sep 10 11:48:49 2008 -0500

    delta, zylonite: Update nand_oobinfo to nand_ecclayout.

    This is part of the switch to newer upstream MTD code.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 9b05aa788bfdd3264ff1bc9418cb19550a7234e4
Author: Hugo Villeneuve <hugo.villeneuve@lyrtech.com>
Date:	Sat Aug 30 17:06:55 2008 -0400

    ARM DaVinci: Fix broken HW ECC for large page NAND.

    Based on original patch by Bernard Blackham <bernard@largestprime.net>

    U-boot's HW ECC support for large page NAND on Davinci is completely
    broken.  Some kernels, such as the 2.6.10 one supported by
    MontaVista for DaVinci, rely upon this broken behaviour as they
    share the same code for ECCs. In the existing scheme, error
    detection *might* work on large page, but error correction
    definitely does not.  Small page ECC correction works, but the
    format is not compatible with the mainline git kernel.

    This patch adds ECC code that matches what is currently in the
    Davinci git repository (since NAND support was added in 2.6.24).
    This makes the ECC and OOB layout written by u-boot compatible with
    Linux for both small page and large page devices and fixes ECC
    correction for large page devices.

    The old behaviour can be restored by defining the macro
    CFG_DAVINCI_BROKEN_ECC, which is undefined by default.

    Signed-off-by: Hugo Villeneuve <hugo.villeneuve@lyrtech.com>
    Acked-by: Sergey Kubushyn <ksi@koi8.net>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 0b7c5639891f4103a0e31ec7ae0beb3e97ed3836
Author: Heiko Schocher <hs@denx.de>
Date:	Wed Sep 10 11:15:28 2008 +0200

    muas3001: update BR4 settings

    Also set up the port pins for using I2C.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 3591293509e0c0bcf244b0f974775bff2e25697e
Author: Petri Lehtinen <petri.lehtinen@inoi.fi>
Date:	Wed Sep 10 09:43:49 2008 +0300

    autoscr: Fix one-character lines and non-newline terminated scripts

    When not using hush, the autoscr command now executes lines that are
    only one character long. It also runs the last line of scripts even if
    it does not end in a newline.

    Signed-off-by: Petri Lehtinen <petri.lehtinen@inoi.fi>

commit 9ebbb54f7a25055010fa6668eba40c72a4c4f985
Author: Victor Gallardo <vgallardo@amcc.com>
Date:	Tue Sep 9 15:13:29 2008 -0700

    ppc4xx: Allow DTT_I2C_DEV_CODE configured by CFG_I2C_DTT_ADDR

    On AMCC Arches board DTT_I2C_DEV_CODE is different then canyonlands
    and glacier.

    Signed-off-by: Victor Gallardo <vgallardo@amcc.com>

commit 245f6ef3e11828cb46188e396fb1e67f7b07cd03
Author: Heiko Schocher <hs@denx.de>
Date:	Mon Sep 8 10:21:11 2008 +0200

    muas3001: added support for the LM75 sensor.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 4a02a2dca82aeab8f839db9dd35fda9d5412dacb
Author: Heiko Schocher <hs@denx.de>
Date:	Mon Sep 8 10:20:19 2008 +0200

    muas3001: activate WDT for the muas3001 board.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit a55d074dac24dc941f1afb5b4e94b1509bfdda4e
Author: Heiko Schocher <hs@denx.de>
Date:	Mon Sep 8 10:19:36 2008 +0200

    muas3001: added 64MB SDRAM autodetection.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 5251469943895de4bb9a04d5053352cc22acb7d5
Author: Andrew Klossner <andrew@cesa.opbu.xerox.com>
Date:	Thu Aug 21 07:12:26 2008 -0700

    Fix printf errors under -DDEBUG

    Fix printf format-string/arg mismatches under -DDEBUG.

    These warnings occur with DEBUG defined for a platform using
    cpu/mpc85xx.  Users of other architectures can unearth similar
    problems by adding the line "CFLAGS += -DDEBUG=1" in config.mk right
    after "CFLAGS += $(call cc-option,-fno-stack-protector)".

    Signed-off-by: Andrew Klossner <andrew@cesa.opbu.xerox.com>
    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 8b9e4787641719d709bfa2ebeb72e8bd4952bee7
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Sep 9 23:55:18 2008 +0200

    Update CHANGELOG, prepare 2008-10-rc1 release

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit e0ff3d350d6b7960deb5a881dfc5acf3a63ef676
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Sep 8 08:51:29 2008 -0500

    85xx: Ensure timebase is zero on secondary cores

    The e500um says the timebase is volatile out of reset.  To ensure
    TB sync works we need to make sure its zero.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 54b4ab3c961a2012a1c2a09c259a6343323ec551
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Tue Sep 9 22:18:24 2008 +0200

    bootm_load_os: fix load_end debug message

    print load_end value not pointer

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 1d9af0be764960e6cc1c093e97176c3542796820
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Tue Sep 9 22:18:23 2008 +0200

    bootm: enable fdt support only on ppc, m68k and sparc

    ...as done in image.c

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 748b5274e76f81df85cfcffaffedc323678d0623
Author: Markus Heidelberg <markus.heidelberg@web.de>
Date:	Tue Sep 9 18:51:05 2008 +0200

    common/cmd_mem.c: remove nested #if defined(CONFIG_CMD_MEMORY)

    Signed-off-by: Markus Heidelberg <markus.heidelberg@web.de>

commit 650632fe4ca09cfd0e5e6a593f2efc02ef87a58c
Author: Markus Heidelberg <markus.heidelberg@web.de>
Date:	Tue Sep 9 17:31:46 2008 +0200

    gitignore: add tags files and Vim swap file

    Signed-off-by: Markus Heidelberg <markus.heidelberg@web.de>

commit 1d9b67b23fca6a25154333733204339802510720
Author: Yoshihiro Shimoda <shimoda.yoshihiro@renesas.com>
Date:	Tue Sep 9 17:52:47 2008 +0900

    add board_eth_init() for sh7785lcr board

    Fix the problem that cannot work RTL8169 on sh7785lcr board.

    Signed-off-by: Yoshihiro Shimoda <shimoda.yoshihiro@renesas.com>

commit 7b7a869a8ba3bd6d9bffb748c91232141330f514
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Aug 6 16:08:41 2008 -0500

    mtd: SPI Flash: Support the STMicro Flash

    Add MTD SPI Flash support for M25P16, M25P20, M25P32,
    M25P40, M25P64, M25P80, M25P128.

    Signed-off-by: Jason McMullan <mcmullan@netapp.com>
    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit 4bc07c368076560ed7fa4c9f987c71a8521488a9
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Sep 9 17:55:31 2008 +0200

    trab: fix build problem after change to use do_div()

    We must link with libgeneric now.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 3b20fd83c73c22acfcb0c6663be747bd5c8b7011
Author: Ryan CHEN <ryan.chen@st.com>
Date:	Wed Aug 20 13:00:17 2008 -0400

    Correct drv_usb_kbd_init function

    The patch is that check if usb_get_dev_index() function return valid
    pointer. If valid, continue. Otherwise return -1.

    Signed-off-by: Ryan Chen <ryan.chen@st.com>
    Acked-by: Markus Klotzbuecher <mk@denx.de>

commit eba1f2fc75f128a9a6c1328d786996a93fd7a707
Author: Remy Bohmer <linux@bohmer.net>
Date:	Wed Aug 20 11:22:02 2008 +0200

    Make usb-stop() safe to call multiple times in a row.

    A recent commit (936897d4d1365452bbbdf8430db5e7769ef08d38)
    enabled the usb_stop() command in common/cmd_bootm.c which was
    not enabled for some time, because no board did actually set the
    CFG_CMD_USB flag. So, now the usb_stop() is executed before
    loading the linux kernel.

    However, the usb_ohci driver hangs up (at least on AT91SAM) if the
    driver is stopped twice (e.g. the peripheral clock is stopped on AT91).
    If some other piece of code calls usb_stop() before the bootm command,
    this command will hangup the system during boot.
    (usb start and stop is typically used while booting from usb memory stick)

    But, stopping the usb stack twice is useless anyway, and a flag already
    existed that kept track on the usb_init()/usb_stop() calls.
    So, we now check if the usb stack is really started before we stop it.

    This problem is now fixed in both the upper as low-level layer.

    Signed-off-by: Remy Bohmer <linux@bohmer.net>
    Acked-by: Markus Klotzbuecher <mk@denx.de>

commit 2c8ccf2728f5e67d991cecf76c4057db75a87b67
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Sep 9 16:55:47 2008 +0200

    Makefile: fix bug introduced by commit 47ffd6c2

commit 880f6a5d7596f42db5ff8803b797b78ec5b146e0
Author: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>
Date:	Tue Sep 9 10:00:33 2008 -0400

    ppc4xx: ppc440-generic-ALL: Fix out of tree build v2

    This patch solves the problems compiling ml507, v5fx30teval and
    ppc440-generic out of tree.

    Signed-off-by: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>

commit 47bebe34ca4e33bab0e822e4ceebbec2590ccbcb
Author: Ncolas Carneiro Lebedenco <nicolas.lebedenco@tasksistemas.com.br>
Date:	Thu Sep 4 15:35:46 2008 -0300

    Fix dev_print when called from usb_stor_info (usb storage command)

    Fix output of the usb storage command. It was printing "Device 0: not
    available" because IF_TYPE_USB was not included into the switch
    statement.

    Signed-off-by: Nicolas Lebedenco <nicolas.lebedenco@tasksistemas.com.br>

commit a4f243452cc8ce0c2c9b51a2520db4bde5f472de
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Tue Sep 9 12:58:16 2008 +0200

    FIT: make iminfo check hashes of all images in FIT, return 1 on failed check

    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>

commit 919f550dc11a13abf01c6bc713c968de790b8d7c
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Tue Sep 9 12:58:15 2008 +0200

    FIT: add ability to check hashes of all images in FIT, improve output

    - add function fit_all_image_check_hashes() that verifies if all
      hashes of all images in the FIT are valid
    - improve output of fit_image_check_hashes() when the hash check fails

    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>

commit 1de1fa408967cef6804bb046b904114519bb36f0
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Mon Sep 8 20:54:39 2008 +0200

    qemu_mips: Update linux bootm to support dynamic cmdline

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit f5ed9e39088ecfa5a5f3ef47b08e5bda7890d764
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Mon Sep 8 14:56:49 2008 -0500

    Add support for booting of INTEGRITY operating system uImages

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 72f1b65f1b68bc6ed0d182eda1f3d6cf51b6414a
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Mon Sep 8 21:01:29 2008 +0200

    mips/bootm: Fix typo in commit c4f9419c, "initrd_start" replaced by "images->rd_start"

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 9ba2e2c8191353d75b2d535e672a125be7b84c03
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Sep 8 13:57:12 2008 -0500

    Remove support for booting ARTOS images

    Pantelis Antoniou stated:
	AFAIK, it is still used but the products using PPC are long gone.
	Nuke it plz (from orbit).

    So remove it since it cleans up a usage of env_get_char outside of
    the environment code.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 47ffd6c2fc72b46daa9d5d59eedb894fab2b7ee1
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Sep 9 15:45:18 2008 +0200

    Makefile: compile and link each module just once

    Several source files need to be compiled and linked when one or more
    config options are selected. To allow for easy selection in the
    Makefiles yet to avoild multiple compilation (which costs build time)
    and especially multiple linking (which causes errors), we use
    "COBJS = $(sort COBJS-y)" which eliminates duplicates.

    By courtesy of Detlev Zundel who suggested this approach.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 48d0192fe869948fef14b460b5f0c85bca933693
Author: Andreas Engel <andreas.engel@ericsson.com>
Date:	Mon Sep 8 14:30:53 2008 +0200

    Moved conditional compile into Makefile

    Signed-off-by: Andreas Engel <andreas.engel@ericsson.com>

commit 20c9226cb8cab08a111ee73db04e62d943ee0c97
Author: Andreas Engel <andreas.engel@ericsson.com>
Date:	Mon Sep 8 10:17:31 2008 +0200

    Merged serial_pl010.c and serial_pl011.c.

    They only differ in the init function.
    This also adds the missing watchdog support for the PL011.

    Signed-off-by: Andreas Engel <andreas.engel@ericsson.com>

commit 0817d688f307ee2c0598e79175c94a40ce90337b
Author: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>
Date:	Sun Sep 7 17:10:27 2008 -0400

    Remove gap fill in srec object v2

    SREC files do not need gap fill: The load address is specified in the
    file. On the other hand, it can't be avoided in a .bin object. It has
    no information about memory location.

    Signed-off-by: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>

commit 1dc306931ca5ce87f13916fa7165b052d3aa714f
Author: Markus Heidelberg <markus.heidelberg@web.de>
Date:	Sun Sep 7 20:18:27 2008 +0200

    README: fix missing subdirectory in the documentation

    Signed-off-by: Markus Heidelberg <markus.heidelberg@web.de>

commit 3ef96ded38a8d33b58b9fab9cd879d51ddac4cbd
Author: Graeme Russ <graeme.russ@gmail.com>
Date:	Sun Sep 7 07:08:42 2008 +1000

    Update i386 code (sc520_cdp)

    Attempt to bring i386 / sc520 inline with master

    Signed-off-by: Graeme Russ <graeme.russ@gmail.com>

commit 5608692104efa8d56df803dc79ea41ac3607eee5
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Thu Sep 4 13:01:49 2008 +0200

    fw_env: add NAND support

    Add support for environment in NAND with automatic NOR / NAND recognition,
    including unaligned environment, bad-block skipping, redundant environment
    copy.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit dd794323a2a1ed6a8a5df51785c31bcde60ad7ca
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Tue Sep 9 09:50:24 2008 +0200

    ppc4xx: Fix out-of-tree building of CPCI405 variants

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Acked-by: Stefan Roese <sr@denx.de>

commit 59f630588e3fdbd698a0a2798e52a8924e899563
Author: Sergei Poselenov <sposelenov@emcraft.com>
Date:	Fri Aug 15 15:42:11 2008 +0200

    Removed hardcoded MxMR loop value from upmconfig() for MPC85xx.

    Signed-off-by: Sergei Poselenov <sposelenov@emcraft.com>

commit e64987a892353f3d49eb242d997820ef8f538912
Author: Anatolij Gustschin <agust@denx.de>
Date:	Fri Aug 15 15:42:13 2008 +0200

    85xx: socrates: Enable Lime support.

    This patch adds Lime GDC support together with support for the PWM
    backlight control through the w83782d chip.  The reset pin of the
    latter is attached to GPIO, so we need to reset it in
    early_board_init_r.

    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit 3e79b588b5199f35016f178fc0d5d1266382097f
Author: Detlev Zundel <dzu@denx.de>
Date:	Fri Aug 15 15:42:12 2008 +0200

    85xx: Socrates: Major code update.

    - Update the local bus ranges in the FDT for Linux for the various
      devices connected to the local bus via chip-select.

    - Set the LCRR_DBYP bit in the LCRR for local bus frequencies
      lower than 66 MHz and uses I/O accessor functions consequently.

    - UPM data update.

    - Update of default environment and configuration.	Use I2C multibus
      as we do have two I2C buses.  Also enable sdram and ext2 commands.

    Signed-off-by: Wolfgang Grandegger <wg@grandegger.com>
    Signed-off-by: Sergei Poselenov <sposelenov@emcraft.com>
    Signed-off-by: Detlev Zundel <dzu@denx.de>

commit e8d18541c6ceab821f75faab031740b33fdbfa4b
Author: Timur Tabi <timur@freescale.com>
Date:	Fri Jul 18 16:52:23 2008 +0200

    Update Freescale 85xx boards to sys_eeprom.c

    The new sys_eeprom.c supports both the old CCID EEPROM format and the new NXID
    format, and so it obsoletes board/freescale/common/cds_eeprom.c.  Freescale
    86xx boards already use sys_eeprom.c, so this patch migrates the remaining
    Freescale 85xx boards to use it as well.  cds_eeprom.c is deleted.

    Signed-off-by: Timur Tabi <timur@freescale.com>

commit aab2bf0202c86227e3dcc8a5b58946087ebcc1af
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Sep 9 10:08:02 2008 +0200

    lib_ppc/interrupts.c: make board_show_activity() a weak function

    This allows to use show_activity() without having to
    define an empty board_show_activity() function.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit fe876787f8743883ce58fed61525eaa2f34da4c5
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Sep 9 10:06:44 2008 +0200

    stxxtc: remove empty CONFIG_SHOW_ACTIVITY functions

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 965de106ba8900372c8b16dc60d5acab7f925e38
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Sep 9 10:03:47 2008 +0200

    NETTA2: remove empty CONFIG_SHOW_ACTIVITY functions

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 6cc64f9b5f69239c8b1969572b5a3a4aab7de5b9
Author: Sergei Poselenov <sposelenov@emcraft.com>
Date:	Fri Aug 15 15:42:11 2008 +0200

    Removed hardcoded MxMR loop value from upmconfig() for MPC85xx.

    Signed-off-by: Sergei Poselenov <sposelenov@emcraft.com>

commit 36241ca29d4804a1006fb3f26069effda5202581
Author: Anatolij Gustschin <agust@denx.de>
Date:	Fri Aug 15 15:42:13 2008 +0200

    85xx: socrates: Enable Lime support.

    This patch adds Lime GDC support together with support for the PWM
    backlight control through the w83782d chip.  The reset pin of the
    latter is attached to GPIO, so we need to reset it in
    early_board_init_r.

    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit 7a47753ddcaebbf2142809842f70c5f723bd9ddb
Author: Detlev Zundel <dzu@denx.de>
Date:	Fri Aug 15 15:42:12 2008 +0200

    85xx: Socrates: Major code update.

    - Update the local bus ranges in the FDT for Linux for the various
      devices connected to the local bus via chip-select.

    - Set the LCRR_DBYP bit in the LCRR for local bus frequencies
      lower than 66 MHz and uses I/O accessor functions consequently.

    - UPM data update.

    - Update of default environment and configuration.	Use I2C multibus
      as we do have two I2C buses.  Also enable sdram and ext2 commands.

    Signed-off-by: Wolfgang Grandegger <wg@grandegger.com>
    Signed-off-by: Sergei Poselenov <sposelenov@emcraft.com>
    Signed-off-by: Detlev Zundel <dzu@denx.de>

commit 4d2ae70e8c31c22e5710df5ff236b5565ea2cf2c
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Tue Sep 9 01:22:39 2008 +0200

    disk-on-chip: remove duplicate doc_probe declaration

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 3221b074a0ab199f6ae47c19cc22f42ddf3ef819
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Tue Sep 9 00:59:40 2008 +0200

    onenand_uboot: fix warning: 'struct mtd_oob_ops' declared inside parameter list

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 13b4db0e2107175a8622ebb48529fa3ad8e12c75
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Tue Sep 9 00:59:39 2008 +0200

    rs5c372: fix rtc_set prototype

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 1bb8b2ef2722bbaea3cc5d46321ce1d99f9b56f7
Author: Sergei Poselenov <sposelenov@emcraft.com>
Date:	Thu Aug 14 14:08:28 2008 +0200

    ARM: fix warning: target CPU does not support interworking

    This patch fixes warnings like this:

    start.S:0: warning: target CPU does not support interworking

    which come from some ARM cross compilers and are caused by hard-coded
    (with "--with-cpu=arm9" configuration option) ARM targets (which
    support ARM Thumb instructions), while the ARM target selected from
    the command line (with "-march=armv4") doesn't support Thumb
    instructions.

    This warning is issued by the compiler regardless of the real use of
    the Thumb instructions in code.

    To fix this problem, we use options according to compiler version
    being used.

    Signed-off-by: Sergei Poselenov <sposelenov@emcraft.com>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 4265c35fbcb248e58179007621d61d32d0b3b82a
Author: Sergei Poselenov <sposelenov@emcraft.com>
Date:	Thu Aug 14 14:08:28 2008 +0200

    ARM: Use do_div() instead of division for "long long".

    Signed-off-by: Sergei Poselenov <sposelenov@emcraft.com>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 8febd13c69cb68652577d1a9fcbde954bf784155
Author: Timur Tabi <timur@freescale.com>
Date:	Fri Jul 18 16:52:23 2008 +0200

    Update Freescale 85xx boards to sys_eeprom.c

    The new sys_eeprom.c supports both the old CCID EEPROM format and the new NXID
    format, and so it obsoletes board/freescale/common/cds_eeprom.c.  Freescale
    86xx boards already use sys_eeprom.c, so this patch migrates the remaining
    Freescale 85xx boards to use it as well.  cds_eeprom.c is deleted.

    Signed-off-by: Timur Tabi <timur@freescale.com>

commit 1055171ed05b7c4885737463d52b8d6c013bcb5d
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Sep 8 23:26:22 2008 +0200

    lib_arm/bootm.c: fix compile warnings

    bootm.c:128: warning: label 'error' defined but not used
    bootm.c:65: warning: unused variable 'ret'

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 2e3c867d0a63c563a51e65b776973b008f16cec5
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Sep 8 22:46:42 2008 +0200

    ml507: fix out of tree build problem

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 9863a15a98f23b79f34a0e4f9e465bc6df5d504d
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Sep 8 22:10:28 2008 +0200

    common/cmd_bootm.c: fix printf() format warnings

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 4394f9a8c42bb1b0abc4fc04bd582d4db5f8b726
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Sep 8 22:37:45 2008 +0200

    BMW, PCIPPC2, PCIPPC6, RBC82: fix compile warnings

    missing doc_probe() prototype.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 2c5e3cc4994897d364b148942ff23e47783198f6
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Sep 8 21:28:14 2008 +0200

    mk48t59: fix compile problem introduced by commit d1e23194

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 5ff889349d2ace13f10c9335e09365fcec8247cc
Author: Stefan Roese <sr@denx.de>
Date:	Mon Sep 8 14:11:12 2008 +0200

    ppc4xx: Move ppc4xx specific prototypes to ppc4xx header

    This patch moves some 4xx specific prototypes out of include common.h
    to a ppc4xx specific header.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit ac53ee8318678190bf3c68da477a84a657d86fb0
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Fri Sep 5 15:34:04 2008 +0200

    ppc4xx: Update CPCI405(AB) configuration

    This patch add FDT support and command line editing capabilities
    for CPCI405 and CPCI405AB boards.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 7b1fbcadf73a83b3beb94abccda1c35e2c075a94
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Fri Sep 5 15:34:03 2008 +0200

    ppc4xx: Cleanup CPCI405 linker script

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 767f9159c5c94cd0cb3135b5b82814ad12816ddf
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Fri Sep 5 15:34:02 2008 +0200

    ppc4xx: Update CPCI405 variants handling

    This patch replaces the BOARD_REVISION variable in include/config.mk
    by a using a temporary include file in the platform directory.

    The former way does not work anymore and the latter is also used by
    some other boards.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit f071f01fd09e9bf1cf09de37a7416aacce71bae1
Author: Stefan Roese <sr@denx.de>
Date:	Mon Sep 8 10:01:48 2008 +0200

    ppc4xx: Remove CONFIG_CS8952_PHY define

    Since this define is only used on one board that was never really in
    production, removing this compile time option doesn't hurt and makes
    the code more readable.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 6ca8646c1860bba74326bf916a5a3389a5c0d3b5
Author: Stefan Roese <sr@denx.de>
Date:	Fri Sep 5 14:11:40 2008 +0200

    ppc4xx: Fix compilation warning for PIP405

    This patch fixes a compilation warning for the PIP405 board. It moves the
    #ifndef CONFIG_CS8952_PHY define a little so that the warning doesn't
    occur anymore. I am a little unsure if this #ifdef is at the correct
    place now or if it could be removed completely. This needs to get
    tested on the PIP405 board.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 725b53ac61f4df3026b8f6489ef0080fd27d3816
Author: Stefan Roese <sr@denx.de>
Date:	Fri Sep 5 14:09:09 2008 +0200

    ppc4xx: Fix compilation warning for canyonlands & glacier

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 302e52e0b1d4c7f994991709d0cb6c3ea612cdb5
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Sep 5 14:40:29 2008 -0500

    Fix compiler warning in mpc8xxx ddr code

    ctrl_regs.c: In function 'compute_fsl_memctl_config_regs':
    ctrl_regs.c:523: warning: 'caslat' may be used uninitialized in this function
    ctrl_regs.c:523: note: 'caslat' was declared here

    Add a warning in DDR1 case if cas_latency isn't a value we know about.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit d1e2319414ea5218ba801163e4530ecf2dfcbf36
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Mon Sep 1 23:06:23 2008 +0200

    rtc: allow rtc_set to return an error and use it in cmd_date

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit ee9536a28cb149bcb6c5dee9d08c62c91f4c72d2
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Mon Sep 1 01:16:33 2008 +0200

    ap325rxa/favr-32-ezkit: Use CONFIG_FLASH_CFI_DRIVER

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 6b971c73f182248ce103503d74fbc0100bb8c8b7
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Sun Aug 31 05:37:04 2008 +0900

    config.mk: Move arch-specific condition to $(ARCH)_config.mk

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit ea86b9e64b811753d9eabe0f560ee189fbe5d0c1
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Aug 29 19:08:29 2008 -0500

    Prevent crash if random/invalid ramdisks are passed to bootm

    Adds returning an error from the ramdisk detection code if
    its not a real ramdisk (invalid).  There is no reason we can't
    just return back to the console if we detect an invalid
    ramdisk or CRC error.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 8e02494e8f86c8f2d7324b5eb9e75271104a01ef
Author: Anatolij Gustschin <agust@denx.de>
Date:	Fri Aug 29 21:04:45 2008 +0200

    Prevent crash if random DTB address is passed to bootm

    This patch adds bootm_start() return value check. If
    error status is returned, we do not proceed further to
    prevent board reset or crash as we still can recover
    at this point.

    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit cc347801add2689b1ee54d21f62bc14ecf6e1dd8
Author: Andrew Dyer <adyer@righthandtech.com>
Date:	Fri Aug 29 12:30:39 2008 -0500

    clean up some #if !defined() in drivers/video/cfb_console.c

    rearrange some #if !defined() / #else / #endif statements to remove
    the negative logic.

    Signed-off-by: Andrew Dyer <adyer@righthandtech.com>

commit c83f4c2d77f07174dcd6bef7e87a0f7017be7c33
Author: Kyungmin Park <kmpark@infradead.org>
Date:	Fri Aug 29 09:02:20 2008 +0900

    apollon: use the last memory area for u-boot

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>

commit a6f2e455b774d0c5d56e44e5661df9adb69b6e07
Author: Heiko Schocher <hs@denx.de>
Date:	Thu Aug 28 13:50:42 2008 +0200

    TQM8272: move NAND part in seperate File

    I didn't try to use drivers/mtd/nand/fsl_upm.c for the NAND driver,
    because I have no longer access to the hardware.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 584f979f7ee914e32d408739cbdd2c4457ec18b8
Author: Heiko Schocher <hs@denx.de>
Date:	Thu Aug 28 13:48:36 2008 +0200

    TQM8272: Fix compiling error for the TQM8272 board.

    Fix compile problems caused by
    commit  cfa460adfdefcc30d104e1a9ee44994ee349bb7b

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 1a7f8ccec981648ccd38fca2535490582eee08e6
Author: Kyungmin Park <kmpark@infradead.org>
Date:	Wed Aug 27 14:45:20 2008 +0900

    Add JFFS2 command support on OneNAND

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>

commit f5c3ba79788b0e39baab7026d374fe375dd1a43f
Author: Mark Jackson <mpfj@mimc.co.uk>
Date:	Mon Aug 25 19:21:30 2008 +0100

    Allow console input to be disabled

    Added new CONFIG_DISABLE_CONSOLE define and GD_FLG_DISABLE_CONSOLE.

    When CONFIG_DISABLE_CONSOLE is defined, setting
    GD_FLG_DISABLE_CONSOLE disables all console input and output.

    Signed-off-by: Mark Jackson <mpfj@mimc.co.uk>

commit 2b22d608f370565c87f55928b524207031419c11
Author: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>
Date:	Wed Jul 30 12:39:29 2008 +0200

    loads: allow negative offsets

    Signed-off-by: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>

commit e90fb6afab2c0c074dfb67bacb4de179eb188a24
Author: Yuri Tikhonov <yur@emcraft.com>
Date:	Thu Sep 4 11:19:05 2008 +0200

    USB EHCI: reset root hub

    Some of multi-function USB controllers (e.g. ISP1562) allow root hub
    resetting only via EHCI registers. So, this patch adds the
    corresponding kind of reset to OHCI's hc_reset() if the newly
    introduced CONFIG_PCI_EHCI_DEVNO option is set (e.g. for Socrates
    board).

    Signed-off-by: Yuri Tikhonov <yur@emcraft.com>
    Acked-by: Markus Klotzbuecher <mk@denx.de>

commit 5875d358f025c1b042d8a0f08384b756de7256c9
Author: Yuri Tikhonov <yur@emcraft.com>
Date:	Fri Aug 15 15:42:09 2008 +0200

    RX 8025 RTC: analyze 12/24-hour mode flag in rtc_get().

    Signed-off-by: Yuri Tikhonov <yur@emcraft.com>

commit 3e3c026ed746a284c6f0ef139b26d859939de7e9
Author: Stefan Roese <sr@denx.de>
Date:	Fri Sep 5 10:47:46 2008 +0200

    devices: Use list_add_tail() instead of list_add() to register a device

    This patch fixes a problem spotted on Glacier/Canyonlands (and most
    likely lots of other board ports), that no serial output was seen
    after console initialization in console_init_r(). This is because the
    last added console device was used instead of the first added.

    This patch fixes this problem by using list_add_tail() instead of
    list_add() to register a device. This way the first added console
    is used again.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 78d78236896d62bb8ca7302af38d8f1493eb2651
Author: Victor Gallardo <vgallardo@amcc.com>
Date:	Thu Sep 4 23:49:36 2008 -0700

    ppc4xx: Add support for GPCS, SGMII and M88E1112 PHY

    This patch adds GPCS, SGMII and M88E1112 PHY support
    for the AMCC PPC460GT/EX processors.

    Signed-off-by: Victor Gallardo <vgallardo@amcc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit f6b6c45840f9b4671d2d97243a12a1f3ffb64765
Author: Adam Graham <agraham@amcc.com>
Date:	Wed Sep 3 12:26:59 2008 -0700

    ppc4xx: Update Kilauea to use PPC4xx DDR autocalibration routines

    Signed-off-by: Adam Graham <agraham@amcc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 075d0b81e896e8735ae26372cd384f87cbd24e41
Author: Adam Graham <agraham@amcc.com>
Date:	Wed Sep 3 12:26:28 2008 -0700

    ppc4xx: IBM Memory Controller DDR autocalibration routines

    Alternate SDRAM DDR autocalibration routine that can be generically used
    for any PPC4xx chips that have the IBM SDRAM Controller core allowing for
    support of more DIMM/memory chip vendors and gets the DDR autocalibration
    values which give the best read latency performance (SDRAM0_RDCC.[RDSS]).

    Two alternate SDRAM DDR autocalibration algoritm are provided in this patch,
    "Method_A" and "Method_B".	DDR autocalibration Method_A scans the full range
    of possible PPC4xx	SDRAM Controller DDR autocalibration values and takes a
    lot longer to run than Method_B.  Method_B executes in the same amount of time
    as the currently existing DDR autocalibration routine, i.e. 1 second or so.
    Normally Method_B is used and it is set as the default method.

    The current U-Boot PPC4xx DDR autocalibration code calibrates the IBM SDRAM
    Controller registers.[bit-field]:
    1)	SDRAM0_RQDC.[RQFD]
    2)	SDRAM0_RFDC.[RFFD]

    This alternate PPC4xx DDR autocalibration code calibrates the following
    IBM SDRAM Controller registers.[bit-field]:

    1)	SDRAM0_WRDTR.[WDTR]
    2)	SDRAM0_CLKTR.[CKTR]
    3)	SDRAM0_RQDC.[RQFD]
    4)	SDRAM0_RFDC.[RFFD]

    and will also use the calibrated settings of the above four registers that
    produce the best "Read Sample Cycle Select" value in the SDRAM0_RDCC.[RDSS]
    register.[bit-field].

    Signed-off-by: Adam Graham <agraham@amcc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit e07f4a8033b6270b8103049adb6456f660ff4a89
Author: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>
Date:	Mon Sep 1 13:09:39 2008 -0400

    ppc44x: Unification of virtex5 pp440 boards

    This patch provides an unificated way of handling xilinx v5 ppc440 boards.

    It unificates 3 different things:

    1) Source code
    A new board called ppc440-generic has been created. This board includes
    a generic tlb initialization (Maps the whole memory into virtual) and
    defines board_pre_init, checkboard, initdram and get_sys_info weakly,
    so, they can be replaced by specific functions.

    If a new board needs to redefine any of the previous functions
    (specific initialization) it can create a new directory with the
    specific initializations needed. (see the example ml507 board).

    2) Configuration file
    Common configurations are located under configs/xilinx-ppc440.h, this
    header file interpretes the xparameters file generated by EDK and
    configurates u-boot in correspondence. Example: if there is a Temac,
    allows CMD_CONFIG_NET
    Specific configuration are located under specific configuration file.
    (see the example ml507 board)

    3) Makefile
    Some work has been done in order to not duplicate work in the Main
    Makefile. Please see the attached code.

    In order to support new boards they can be implemented in the next way:

    a) Simple Generic Board  (90% of the time)
    Using EDK generates a new xparameters.h file, replace
    ppc440-generic/xparameters.h  and run make xilinx-ppc440-generic_config
    && make

    b) Simple Boards with special u-boot parameters (9 % of the time)
    Create a new file under configs for it (use ml507.h as example) and
    change your paramaters. Create a new Makefile paragraph and compile

    c) Complex boards (1% of the time)
    Create a new folder for the board, like the ml507

    Finally, it adds support for the Avnet FX30T Evaluation board, following
    the new generic structure:

    Cheap board by Avnet for evaluating the Virtex5 FX technology.

    This patch adds support for:
     - UartLite
     - 16MB Flash
     - 64MB RAM

    Prior using U-boot in this board, read carefully the ERRATA by Avnet
    to solve some memory initialization issues.

    Signed-off-by: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 64ac1eb5afafced49b327425ad1814b2dc422d6e
Author: Nick Spence <nick.spence@freescale.com>
Date:	Tue Sep 2 15:21:16 2008 -0500

    mpc83xx: fix mpc8313 in-tree building with NAND

    and add mpc8313 NAND build to MAKEALL

    Signed-off-by: Nick Spence <nick.spence@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 6eb2a44e27919fdc601e0c05404b298a7602c0e3
Author: Nick Spence <nick.spence@freescale.com>
Date:	Thu Aug 28 14:09:25 2008 -0700

    mpc83xx: clean up cache operations and unlock_ram_in_cache() functions

    Cleans up some latent issues with the data cache control so that
    dcache_enable() and dcache_disable() will work reliably (after
    unlock_ram_in_cache() has been called)

    Signed-off-by: Nick Spence <nick.spence@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 46497056ae3b1e81e736e9cf3a170472c5d9719f
Author: Nick Spence <nick.spence@freescale.com>
Date:	Thu Aug 28 14:09:19 2008 -0700

    mpc83xx: Store and display Arbiter Event Register values

    Record the Arbiter Event Register values and optionally display them.

    The Arbiter Event Register can record the type and effective address of
    an arbiter error, even through an HRESET. This patch stores the values in
    the global data structure.

    Display of the Arbiter Event registers immediately after the RSR value
    can be enabled with defines. The Arbiter values will only be displayed
    if an arbiter event has occured since the last Power On Reset, and either
    of the following defines exist:
     #define CONFIG_DISPLAY_AER_BRIEF - display only the arbiter address and
					and type register values
     #define CONFIG_DISPLAY_AER_FULL  - display and interpret the arbiter
					event register values

    Address Only transactions are one of the trapped events that can register
    as an arbiter event. They occur with some cache manipulation instructions
    if the HID0_ABE (Address Broadcast Enable) is set and the memory region
    has the MEMORY_COHERENCE WIMG bit set. Setting:
     #define CONFIG_MASK_AER_AO - prevents the arbiter from recording address
				  only events, so that it can still capture
				  other real problems.

    Signed-off-by: Nick Spence <nick.spence@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit ade50c7fa1b16ef98be17e9c3ae286aecf4f5605
Author: Nick Spence <nick.spence@freescale.com>
Date:	Thu Aug 28 14:09:11 2008 -0700

    mpc83xx: use r4 instead of r2 in lock_ram_in_cache and unlock_ram_in_cache

    This is needed in unlock_ram_in_cache() because it is called from C and
    will corrupt the small data area anchor that is kept in R2.

    lock_ram_in_cache() is modified similarly as good coding practice, but
    is not called from C.

    Signed-off-by: Nick Spence <nick.spence@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit d9fe88173cb4f7d293796ffe10c7a0d3d426d8f9
Author: Nick Spence <nick.spence@freescale.com>
Date:	Fri Aug 22 23:52:50 2008 -0700

    MPC83XX: Fix GPIO configuration - set gpio level before direction

    Set DAT value before DIR values to avoid creating glitches on the
    GPIO signals.

    Set gpio level register before direction register to inhibit
    glitches on high level output pins.

    Dir and data gets cleared at powerup, so high level output lines see
    a short low pulse between setting the direction and level registers.

    Issue was seen on a new board with the nReset line of the NOR flash
    connected to a GPIO. Setting the direction register puts the NOR flash
    in reset so the next instruction to set the level cannot get executed.

    Signed-off-by: Nick Spence <nick.spence@freescale.com>
    Signed-off-by: Peter Korsgaard <jacmet@sunsite.dk>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 7007c5975ee900ad70983b0681d3251e221f8321
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Tue Sep 2 02:58:32 2008 +0200

    doc/qemu_mips: add doc howto debug u-boot with gdb

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 7deb3b3ecd0e81ef09bb68aa0ec2346f4ae0a405
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Wed Sep 3 17:15:45 2008 +0200

    ppx4xx: Fix broken DASA_SIM board

    This patch adds initdram() to DASA_SIM boards that has been
    removed accidentally by a previous commit.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 7e410aa30fbcb1d19a26bbf1e84a9ca6102d534b
Author: Stefan Roese <sr@denx.de>
Date:	Mon Sep 1 08:35:37 2008 +0200

    ppc4xx: Remove reference to common/lists.o from some esd linker scripts

    This patch removes some direct references to common/lists.o from some
    esd linker scripts. This is necessary because the lists source was moved
    and is not in the "common" directory anymore.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 97b0734d65f8a0b03df0a335a2addc759da56107
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Tue Sep 2 16:33:05 2008 +0200

    ppc4xx: Remove obsolete or unused functions from some esd boards

    This patch removes initdram() and testdram() from most esd 405 platforms.
    Some boards also have an empty dummy implementation of
    misc_init_f(). This is also removed.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 1092ce218c514e5ccb18450ac5af501d96d6e3e9
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Tue Sep 2 15:07:54 2008 +0200

    ppc4xx: Update VOM405 board configuration

    - remove PCI code
    - add command line editing
    - minor cleanup

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 830c800e28e96ec7c3c6936a0bd1b9461f3e77d4
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Tue Sep 2 15:07:53 2008 +0200

    ppc4xx: Remove obsolete initdram() function from VOM405 board

    This patch removed the obsolete initdram() function from
    VOM405 platform file.

    Some minor cleanup.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 3d4dd7a941b2327b8c2fc535b782ca307ff8b6c8
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Tue Sep 2 15:07:52 2008 +0200

    ppc4xx: Cleanup VOM405 linker script

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit fcaffd597f6f5191b12ca66c2a4789bbdeea85c2
Author: Matthias Fuchs <mf@esd.eu>
Date:	Tue Sep 2 15:07:51 2008 +0200

    ppc4xx: Add fdt support for VOM405 boards

    Signed-off-by: Matthias Fuchs <mf@esd.eu>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 9ec367aa2c5dcf79558aa2b209b45d7686654c14
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Tue Sep 2 11:36:14 2008 +0200

    ppc4xx: Coding style cleanup

    Wrap long lines etc.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 17e65c21adfb63980e6aff80bfbd2df0eeb12060
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Tue Sep 2 11:35:56 2008 +0200

    ppc4xx: Enable USB on PLU405 boards

    This patch enables the PCI-OHCI controller on PLU405 board.

    Also the default CPU frequency is updated to 266 MHz and
    command line editing is enabled.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 40e43e3b87d57b2ac786e27f6e25a7df9940d93b
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Tue Sep 2 11:35:35 2008 +0200

    ppc4xx: Cleanup PLU405 platform file

    This patch
    - wraps some long lines
    - removes unused/obsolete functions: misc_init_f() and initdram()

    Signed-off-by: Matthias Fuchs <mf@esd.eu>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit d74cdb1d0614ab78128e0735a51e7988a7b7ea33
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Tue Sep 2 11:35:04 2008 +0200

    ppc4xx: Cleanup PLU405 linker script

    Signed-off-by: Matthias Fuchs <mf@esd.eu>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 3bc1054cec2f6b25822f301ea922a16233baa4c7
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Tue Sep 2 11:34:36 2008 +0200

    ppc4xx: Add fdt support for PLU405 boards

    Signed-off-by: Matthias Fuchs <mf@esd.eu>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 5a3e480b783bfbc139586293a54fb875d7c5c5d4
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Tue Sep 2 11:34:08 2008 +0200

    ppc4xx: Increase U-Boot size to 384kB for PLU405 boards

    Signed-off-by: Matthias Fuchs <mf@esd.eu>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit be1b0d2777e179191a57b138b660547a17e55aad
Author: Jochen Friedrich <jochen@scram.de>
Date:	Tue Sep 2 11:24:59 2008 +0200

    Don't tftp to unknown flash

    If a board has a variable number of flash banks, there are empty entries
    in flash_info[] and CFG_DIRECT_FLASH_TFTP is set, tftp boot fails with
    "Outside available Flash". This patch skips flash banks with unknown
    flash ids.

    Signed-off-by: Jochen Friedrich <jochen@scram.de>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 33314470ab32a3f5412bb61b5f3d6c216c88bf9b
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Thu Aug 28 13:40:44 2008 +0900

    net: smc911x: Add pkt_data_pull and pkt_data_push function

    The RSK7203 board has the SMSC9118 wired up 'incorrectly'.
    Byte-swapping is necessary, and so poor performance is inevitable.
    This problem cannot evade by the swap function of CHIP, this can
    evade by software Byte-swapping.
    And this has problem by FIFO access only. pkt_data_pull/pkt_data_push
    functions necessary to solve this problem.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 10efa024b8ffd9e6aaca63da8bddfdffdc672274
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Sun Aug 31 20:37:00 2008 -0700

    Moved initialization of EEPRO100 Ethernet controller to board_eth_init()

    Affected boards:
	db64360
	db64460
	katmai
	taihu
	taishan
	yucca
	cpc45
	cpu87
	eXalion
	elppc
	debris
	kvme080
	mpc8315erdb
	integratorap
	ixdp425
	oxc
	pm826
	pm828
	pm854
	pm856
	ppmc7xx
	sc3
	sc520_spunk
	sorcery
	tqm8272
	tqm85xx
	utx8245

    Removed initialization of the driver from net/eth.c
    Also, wrapped contents of pci_eth_init() by CONFIG_PCI.

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 8ca0b3f99c4fce7a599dcaf92ae095496dc8c8e0
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Sun Aug 31 10:45:44 2008 -0700

    Moved initialization of TULIP Ethernet controller to board_eth_init()

    Affected boards:
	cu824
	bab7xx
	adciop
	dasa_sim
	mousse
	mpc8540eval
	musenki
	mvblue
	pcippc2/pcippc6
	sbc8240
	stxssa

    Removed initialization of the driver from net/eth.c

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit ad3381cf4167120db5c7b88e4970245e1d5c0a32
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Sun Aug 31 10:44:19 2008 -0700

    Moved initialization of E1000 Ethernet controller to board_eth_init()

    Affected boards:
	ap1000
	mvbc_p
	PM854

    Removed initialization of the driver from net/eth.c

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 4fce2aceaf8afd31a252bc782c9dbc497bf40487
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Sun Aug 31 10:40:51 2008 -0700

    Moved initialization of plb2800 Ethernet driver to board_eth_init

    Affected boards:
	purple

    Removed initialization of controller from net/eth.c

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit e1d7480b5de1fd4830bf7cf5e2237d3b0846d08d
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Sun Aug 31 10:39:12 2008 -0700

    Moved initialization of MPC5xxx_FEC Ethernet driver to CPU directory

    Modified board_eth_init() functions of boards that have this FEC in addition
    to other Ethernet controllers.

    Affected boards:
	bc3450
	icecube
	mvbc_p
	o2dnt
	pm520
	total5200
	tq5200

    Removed initialization of controller from net/eth.c

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit a0aad08f9427ac00218bdb2cb649833ce6ec9b8d
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Sun Aug 31 10:36:38 2008 -0700

    Moved initialization of MPC512x_FEC Ethernet driver to CPU directory

    Added a cpu_eth_init() function to MPC512x CPU directory and
    removed code from net/eth.c

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 8218bd2aa68820b878a8413493ae17fd8d21f944
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Sun Aug 31 10:16:59 2008 -0700

    Moved initialization of IncaIP Ethernet controller to board_eth_init

    Affected boards:
	IncaIP

    Removed initialization of the driver from net/eth.c

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 164846eeb25cb2a5ede7ab9371fdca7f4831a055
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Sun Aug 31 10:15:26 2008 -0700

    Moved initialization of 3COM Ethernet controller (AmigaOne) to board_eth_init()

	Affected boards:
	    AmigaOneG3SE

	Removed initialization of the driver from net/eth.c

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 6aca145e067efe75398e9fac97822bd3700de0b2
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Sun Aug 31 10:13:34 2008 -0700

    Moved initialization of GT6426x Ethernet controller to board_eth_init()

    Affected boards:
	EVB64260
	P3G4
	ZUMA

    Removed initialization of the driver from net/eth.c

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit e3090534d62045dcb73f5392bacc64a4e8e443dc
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Sun Aug 31 10:08:43 2008 -0700

    Moved initialization of PCNET Ethernet controller to board_eth_init()

    Affected boards:
	PN62
	sc520_cdp

    Removed initialization of the driver from net/eth.c

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit b902b8dda5e1fd4d5fe2f202c71ee3521d2c40ed
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Sun Aug 31 10:07:16 2008 -0700

    Moved initialization of NATSEMI Ethernet controller to board_eth_init()

    Affected boards:
	a3000

    Removed initialization of the driver from net/eth.c

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 19403633dd70333893c2da7926a1d0dcd6dab7d8
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Sun Aug 31 10:03:22 2008 -0700

    Moved initialization of NS8382X Ethernet controller to board_eth_init()

    Affected boards:
	bc3450
	cpci5200
	mecp5200
	pf2000
	icecube
	o2dnt
	pm520
	sandpoint8245
	total5200
	tqm5200

    Removed initialization of the driver from net/eth.c

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit ccdd12f83ef93719fbe85f642aa4dc648b9498f0
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Sun Aug 31 09:59:33 2008 -0700

    Moved initialization of TSI108 Ethernet controller to board_eth_init()

    Affected boards:
	mpc7448hpc2

    Removed initialization of the driver from net/eth.c

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 0b252f50ae218ae15bfb63af44227972686ebc56
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Sun Aug 31 21:41:08 2008 -0700

    Moved initialization of RTL8139 Ethernet controller to board_eth_init()

    Affected boards:
	hidden_dragon
	MPC8544DS
	MPC8610HPCN
	R2DPLUS
	TB0229

    Removed initialization of the driver from net/eth.c

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 02d69891d95ee76b0e86e1715a4dc0b964a57cb7
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Sun Aug 31 09:49:42 2008 -0700

    Moved initialization of RTL8169 Ethernet controller to board_eth_init()

    Affected boards:
	linkstation
	r7780mp

    Removed initialization of the driver from net/eth.c

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 3ae071e44256144d6c1e3febb65f6c56bd433769
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Tue Aug 12 22:11:53 2008 -0700

    Moved initialization of Ethernet controllers on Atmel AT91 to board_eth_init()

    Removed at91sam9_eth_initialize() from net/eth.c

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 89973f8a82c28ad893c4c3cc56839a8e10fe5f13
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Sun Aug 31 22:22:04 2008 -0700

    Introduce netdev.h header file and remove externs

    This addresses all drivers whose initializers have already
    been moved to board_eth_init()/cpu_eth_init().

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 5a8a163ac394d9f4f7ff57f415d82bd673b0068c
Author: Andy Fleming <afleming@freescale.com>
Date:	Sun Aug 31 16:33:30 2008 -0500

    Add pixis_set_sgmii command

    The 8544DS and 8572DS platforms support an optional SGMII riser card to
    expose ethernet over an SGMII interface.  Once the card is in, it is also
    necessary to configure the board such that it uses the card, rather than
    the on-board ethernet ports.  This can either be done by flipping dip switches
    on the motherboard, or by modifying registers in the pixis.  Either way
    requires a reboot.

    This adds a command to allow users to choose which ports are routed through
    the SGMII card, and which through the onboard ports.  It also allows users
    to revert to the current switch settings.

    This code does not work on the 8572, as the PIXIS is different.

    Signed-off-by: Andy Fleming <afleming@freescale.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 216f2a7156a5fde7b47adc40ad553c888a9cbaa7
Author: Andy Fleming <afleming@freescale.com>
Date:	Sun Aug 31 16:33:29 2008 -0500

    Add SGMII support for the 8544 DS

    The 8544 DS has an optional SGMII Riser card, which uses different PHY
    addresses.	Check if we are in SGMII mode, and invoke the SGMII Riser
    setup code if so.

    Signed-off-by: Andy Fleming <afleming@freescale.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 652f7c2eef76a1340928bd660845441e932d86a2
Author: Andy Fleming <afleming@freescale.com>
Date:	Sun Aug 31 16:33:28 2008 -0500

    Add support for Freescale SGMII Riser Card

    The 8544DS and 8572DS systems have an optional SGMII riser card which
    exposes new ethernet ports which are connected to the eTSECs via an
    SGMII interface.  The SGMII PHYs for this board are offset from the standard
    PHY addresses, so this code modifies the passed in tsec_info structure to
    use the SGMII PHYs on the card, instead.

    Signed-off-by: Andy Fleming <afleming@freescale.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 2abe361c03b43e6dcf68f54e96b5c05156c49284
Author: Andy Fleming <afleming@freescale.com>
Date:	Sun Aug 31 16:33:27 2008 -0500

    Add SGMII support to the tsec

    Adds support for configuring the TBI to talk properly with the SerDes.

    Signed-off-by: Andy Fleming <afleming@freescale.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 75b9d4ae0d69f214eab641caf12ce8af83a39a42
Author: Andy Fleming <afleming@freescale.com>
Date:	Sun Aug 31 16:33:26 2008 -0500

    Pass in tsec_info struct through tsec_initialize

    The tsec driver contains a hard-coded array of configuration information
    for the tsec ethernet controllers.	We create a default function that works
    for most tsecs, and allow that to be overridden by board code.  It creates
    an array of tsec_info structures, which are then parsed by the corresponding
    driver instance to determine configuration.  Also, add regs, miiregs, and
    devname fields to the tsec_info structure, so that we don't need the kludgy
    "index" parameter.

    Signed-off-by: Andy Fleming <afleming@freescale.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit dd3d1f56a01f460d560766126ee7dfed2ea9bc10
Author: Andy Fleming <afleming@freescale.com>
Date:	Sun Aug 31 16:33:25 2008 -0500

    tsec: Move tsec.h to include/

    This is to prepare the way for board code passing in the tsec_info structure

    Signed-off-by: Andy Fleming <afleming@freescale.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit d23dc394aa69093b6326ad917db04dc0d1aff3f8
Author: Sergei Poselenov <sposelenov@emcraft.com>
Date:	Fri Jun 6 15:52:44 2008 +0200

    PHY: Add support for the M88E1121R Marvell chip.

    Signed-off-by: Yuri Tikhonov <yur@emcraft.com>
    Signed-off-by: Sergei Poselenov <sposelenov@emcraft.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 1711f3bd16d1c5e9d17b4c0198b426d86999781b
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Sep 2 21:17:36 2008 +0200

    fw_env.c: fix build problems with MTD_VERSION=old

    (as needed to support old 2.4 Linux kernel based releases)

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 628ffd73bcff0c9f3bc5a8eeb2c7455fe9d28a51
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Mon Sep 1 17:11:26 2008 +0200

    device: make device_register() clone the device

    This is expected by the callers, but this fact was hidden well within
    the old list implementation.

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit baf449fc5ff96f071bb0e3789fd3265f6d4fd9a0
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Mon Sep 1 14:00:07 2008 +0200

    avr32: Add support for "GPIO" port mux

    The "GPIO" port mux is used on AVR32 UC3 parts as well as AT32AP7200 and
    all later AVR32 chips. This patch adds a driver for it, implementing the
    same API as the existing portmux-pio driver but with more functionality.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit d92852579546c46bdaac978e0b6767a6645b69e0
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Fri Aug 15 15:02:29 2008 +0200

    atstk1000: Convert to new-style makefile

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit 25e6854d42c11046a468576179b5494f850311b2
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Sun Aug 31 18:46:35 2008 +0200

    avr32: use board_early_init_r instead of board_init_info

    Replace the avr32-specific board_init_info hook by the standard
    board_early_init_r hook and make it optional.

    board_early_init_r() runs somewhat earlier than board_init_info used to
    do, but this isn't a problem for any of the in-tree boards.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit 36d375faf5cff98e8dca32aabbbb1ec6036437dd
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Sun Aug 31 18:24:24 2008 +0200

    avr32: Use board_postclk_init instead of gclk_init

    Replace the avr32-specific gclk_init() board hook with the standard
    board_postclk_init() hook which is supposed to run at the same point
    during initialization.

    Provide a dummy weak alias for boards not implementing this hook. The
    cost of this is:
      - 2 bytes for the dummy function (retal 0)
      - 2 bytes for each unnecessary function call (short rcall)

    which is a pretty small price to pay for avoiding lots of #ifdef
    clutter. In this particular case, all boards probably end up slightly
    smaller because we avoid the conditional checking if the gclk_init
    symbol is NULL.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit abdde2b1d570b1ee77606bf783444fcddf7f0965
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Sun Aug 31 18:07:35 2008 +0200

    hammerhead: Use gclk helper functions

    Use the new gclk helper functions to set up the PHY clock instead of
    accessing the PM registers directly.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit 98090cd75cdb40b2ab94c806c338540a5716748b
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Sun Aug 31 18:05:32 2008 +0200

    avr32: Add gclk helper functions

    Add two helper functions for configuring and enabling generic clocks:
      - gclk_enable_output: Enables output on a GCLKx pin
      - gclk_set_rate: Configures a gclk to run at a specific rate

    This should eliminate any reason to go mucking about with PM registers
    from board code.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit ab0df36fc7db9dda0b786b909f653e279dfeb9cf
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Fri Aug 29 21:09:49 2008 +0200

    avr32: refactor the portmux/gpio code

      - Separate the portmux configuration functionality from the GPIO pin
	control API.
      - Separate the controller-specific code from the chip-specific code.
      - Allow "ganged" port configuration (multiple pins at once).
      - Add more flexibility to the "canned" peripheral select functions:
	  - Allow using more than 23 address bits, more chip selects, as
	well as NAND- and CF-specific pins.
	  - Make the MACB SPEED pin optional, and choose between MII/RMII
	using a parameter instead of an #ifdef.
	  - Make it possible to use other MMC slots than slot 0, and support
	different MMC/SDCard data bus widths.
      - Use more reasonable pull-up defaults; floating pins may consume a
	lot of power.
      - Get rid of some custom portmux code from the mimc200 board code. The
	old gpio/portmux API couldn't really handle its requirements, but
	the new one can.
      - Add documentation.

    The end result is slightly smaller code for all boards. Which isn't
    really the point, but at least it isn't any larger.

    This has been verified on ATSTK1002 and ATNGW100. I'd appreciate if
    the board maintainers could help me test this on their boards. In
    particular, the mimc200 port has lost a lot of code, so I'm hoping Mark
    can help me out.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
    Cc: Hans-Christian Egtvedt <hans-christian.egtvedt@atmel.com>
    Cc: Mark Jackson <mpfj@mimc.co.uk>
    Cc: Alex Raimondi <alex.raimondi@miromico.ch>
    Cc: Julien May <julien.may@miromico.ch>

    Changes since v1:
      * Enable pullup on NWAIT
      * Add missing include to portmux-pio.h
      * Rename CONFIG_PIO2 -> CONFIG_PORTMUX_PIO to match docs

commit 4c24e8288c601cb773ab02528b48a8577970e867
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Sat Aug 30 17:28:36 2008 +0200

    avr32: data_bits should reflect the actual number of data bits

    Make the data_bits enum in struct sdram_config reflect the actual number
    of data bits on the bus, i.e. 16 or 32. Having 0 mean 16 bits and 1 mean
    32 bits is just too confusing.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit 66b7bc5175325809718d8d49ef073bc1036ad71b
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Fri Aug 29 17:48:18 2008 +0200

    avr32: Update README

    Remove some outdated and/or unnecessary information, and add updated
    information about the toolchain and buildroot.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit c75e772a2f061a508bba28ded1b5bea91f0442b0
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Sun Aug 31 23:28:15 2008 +0900

    sh: Remove CC line from board's Makefile

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 468eae0660de6fdfd9999944c536ecc4797bd944
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Sun Aug 31 23:25:57 2008 +0900

    sh: Replaced "@./mkconfig" for @$(MKCONFIG)

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 3aeb1ff7482a732503186c742d3a5ded4b7a0d34
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Thu Aug 28 14:50:52 2008 +0900

    sh: Add support sh2 to MAKEALL

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 6f3d8bb5faa12dbf3031382286784c978df038ee
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Thu Aug 28 14:52:23 2008 +0900

    sh: Fix compile error rsk7203 board

    This boards used old type preprocessor.
    This patch fix compile error.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 1c98172e025018552e9bb4c43b0aaee76f79b1aa
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Thu Aug 28 14:53:31 2008 +0900

    sh: Fix compile error sh7785lcr board

    This boards used old type preprocessor.
    This patch fix compile error.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 6f0da4972e48f99d37bc522814940a6022cd3084
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Fri Aug 22 17:39:09 2008 +0900

    sh: Renesas Solutions AP325RXA board support

    AP325RXA is SH7723's reference board.
    This has SCIF, NOR Flash, Ethernet, USB host, LCDC, SD Host, Camera and other.
    In this patch, support SCIF, NOR Flash, and Ethernet.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit ab09f433b50bb83b5e440c335bc3839ee069e534
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Fri Aug 22 17:48:51 2008 +0900

    sh: add support Renesas SH7723

    Renesas SH7723 has 5 SCIF, SD, Camera, LCDC and other.
    This patch supports CPU register's header file and SCIF serial driver.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit c655fad06ba3fb042dbc667724a40e1a9a091248
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Sun Aug 31 23:02:04 2008 +0900

    sh: Renesas RSK+ 7203 board support

    This adds initial support for the RTE RSK+ SH7203 board.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 6ede753ddf52a7b0f992d9bccbe5e4a0968ca475
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Thu Jul 3 23:11:02 2008 +0900

    sh: Add support Renesas SH7203 processor

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 6ad43d0dd86b612895ddc7f480eb6cdfe793adf9
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Sun Aug 31 22:48:33 2008 +0900

    sh: Add support SH2/SH2A which is CPU of Renesas Technology

    Add support SH2/SH2A basic function.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 0d53a47dc0737b6aa3a39caee21410c169441ae5
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Sun Aug 31 22:45:08 2008 +0900

    sh: Renesas R0P7785LC0011RL board support

    This board has SH7785, 512MB DDR2-SDRAM, NOR Flash,
    Graphic, Ethernet, USB, SD, RTC, and I2C controller.

    This patch supports the following functions:
     - 128MB DDR2-SDRAM (29-bit address mode only)
     - NOR Flash
     - USB host
     - Ethernet

    Signed-off-by: Yoshihiro Shimoda <shimoda.yoshihiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit b0b6218929bc7de9a6bdb8e564fa8ec2efa71b4e
Author: Yoshihiro Shimoda <shimoda.yoshihiro@renesas.com>
Date:	Thu Jul 10 19:32:53 2008 +0900

    sh: add support for SH7785

    Renesas SH7785 has DDR2-SDRAM controller, PCI, and other.
    This patch supports CPU register's header file.

    Signed-off-by: Yoshihiro Shimoda <shimoda.yoshihiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit d6e04258be8f2408845468d3cf722a4cf0433445
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Aug 31 04:45:42 2008 +0200

    davinci: fix remaining dm644x_eth

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 08ab4e1780fa63c88dd5a5ab52f4ff4ed1ee1878
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Aug 31 04:24:56 2008 +0200

    fs: Move conditional compilation to Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit c1de7a6daf9c657484e1c6d433f01fccd49a7f48
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Aug 31 04:24:55 2008 +0200

    devices: merge to list_head

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit ef0255fc75f28655f9681422079287d68a14dbaa
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Aug 31 04:24:51 2008 +0200

    update linux/list

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 71cb31227bee741b274f6c0279b2aac1ab8e28e3
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Aug 31 00:39:48 2008 +0200

    smdk6400: add gitignore

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit f9f692e2b146d4e306b777e6d5f69f1d725b9eb9
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Aug 31 00:39:48 2008 +0200

    smdk6400: Use CONFIG_FLASH_CFI_DRIVER

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 7c0e5a8db3d1358b0ce3cc85ada0de6341ca4a15
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Sun Aug 31 00:39:47 2008 +0200

    smdk6400: remove redundant bootargs definition

    Double bootargs setting leads to a duplicated environmant entry.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit 11edcfe260f20dcea79284a3e95270989d433854
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Sun Aug 31 00:39:47 2008 +0200

    ARM: Add support for S3C6400 based SMDK6400 board

    SMDK6400 can only boot U-Boot from NAND-flash. This patch adds a nand_spl
    driver for it too. The board can also boot from the NOR flash, but due to
    hardware limitations it can only address 64KiB on it, which is not enough
    for U-Boot. Based on the original sources by Samsung for U-Boot 1.1.6.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit e0056b341069796eaea11eae0fc8eb93a3dceaac
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Sun Aug 31 00:39:47 2008 +0200

    NAND: add NAND driver for S3C64XX

    Based on the original S3C64XX NAND driver by Samsung for U-Boot 1.1.6.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit 3fe7b589f9c7463df39056f8872006a67f56a91c
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Sun Aug 31 00:39:47 2008 +0200

    S3C64XX: remove broken HWFLOW support from the serial driver

    As noted by Harald Welte, HWFLOW support in the S3C64XX serial driver is
    broken and currently unused. Remove it.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit 2fb28dcf82048045e1bf5014e938e486fa6c2383
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Sun Aug 31 00:39:47 2008 +0200

    serial: add S3C64XX serial driver

    Based on the original S3C64XX UART driver by Samsung for U-Boot 1.1.6.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit 8262813ca04fc57f5d8856e1828085c136e0f1eb
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Sun Aug 31 00:39:46 2008 +0200

    USB: Add support for OHCI controller on S3C6400

    Notice: USB on S3C6400 currently works _only_ with switched off MMU. One could
    try to enable the MMU, but map addresses 1-to-1, and disable data cache, then
    it should work too and we could still profit from instruction cache.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit 9b07773f8883665b002500c190507e9fd99b7181
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Sun Aug 31 00:39:46 2008 +0200

    ARM: Add arm1176 core with S3C6400 SoC

    Based on the original S3C64XX port by Samsung for U-Boot 1.1.6.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit fcaac589a68115819ddadcf5c18ded9a5f9e2c75
Author: Sandeep Paulraj <s-paulraj@ti.com>
Date:	Sun Aug 31 00:39:46 2008 +0200

    ARM DaVinci: Changing function names for EMAC driver

    DM644x is just one of a series of DaVinci chips that use the EMAC driver.
    By replacing all the function names that start with dm644x_* to davinci_*
    we make these function more portable. I have tested this change on my EVM.
    DM6467 is another DaVinci SOC which uses the EMAC driver and i will
    be sending patches that add DaVinci DM6467 support to the list soon.

    Signed-off-by: Sandeep Paulraj <s-paulraj@ti.com>

commit fbbb1de369ca7d5ace6f7b0ce9d0aee24a6f457b
Author: Gururaja Hebbar K R <gururajakr@sanyo.co.in>
Date:	Sat Aug 30 23:21:30 2008 +0200

    Integrator[AP/CP] - Remove unused file memsetup.S

    - memsetup.s is changed/merged to lowlevel_init.S
      memsetup.S has a global label memsetup that just returns back to caller
    - memsetup global label is changed/merged to lowlevel_init
      This label is not called from anywhere.

    Signed-off-by: Gururaja Hebbar <gururajakr@sanyo.co.in>

commit 89d51d022a63be1a851eda983c8cbce1a044f65f
Author: Hugo Villeneuve <hugo.villeneuve@lyrtech.com>
Date:	Wed Aug 27 21:35:52 2008 +0200

    ARM DaVinci: Standardize names of directories/files

    ARM DaVinci: Standardize names of directories/files.

    Signed-off-by: Hugo Villeneuve <hugo.villeneuve@lyrtech.com>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 264bbdd11d01f14f5ea4629556ae63b00b13402d
Author: Hugo Villeneuve <hugo.villeneuve@lyrtech.com>
Date:	Fri Jul 11 15:10:13 2008 -0400

    ARM DaVinci: Move common functions to board/davinci/common

    ARM DaVinci: Move common functions to board/davinci/common.

    Signed-off-by: Hugo Villeneuve <hugo.villeneuve@lyrtech.com>

commit c2b4b2e4814f4ace9015fdb64132894327400bf0
Author: Stefan Roese <sr@denx.de>
Date:	Fri Aug 29 11:56:49 2008 +0200

    ppc4xx/NAND: Add select_chip function to 4xx NDFC driver

    This function is needed for the new NAND infrastructure. We only need
    a dummy implementation though for the NDFC.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 3d4a746e2fb4545f07d871049805fb34ae97cc94
Author: Stefan Roese <sr@denx.de>
Date:	Fri Aug 29 12:06:27 2008 +0200

    ppc4xx: Increase image size for NAND boot target

    This is needed since now with HUSH enabled (amcc-common.h) the image
    read from NAND exceeds the previous limit.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 6b5049d056cd8ef72d1f2f461ceb2d033d93f759
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Thu Aug 28 23:58:30 2008 -0700

    Move MPC512x_FEC driver to drivers/net

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 80b00af01b3c9154774de2936f05a051e92f6a03
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Thu Aug 28 23:58:29 2008 -0700

    Move MPC5xxx_FEC driver to drivers/net

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 3de7bf0e6b1ad2608014096c8192f13229b2e9d7
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Aug 29 21:53:57 2008 +0200

    cmd_terminal: remove no need ifdef

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 578118bdf122877ae769776be002255be447b4fa
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Aug 29 21:53:57 2008 +0200

    common/Makefile: order by functionality

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit ba7b5b2348b684cf8ec424b2e38e267dc1cfd2fb
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Aug 29 21:53:56 2008 +0200

    miiphyutil: Move conditional compilation to Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 81789c39db3f0f6b621df8c0ec66014d701f368e
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Aug 29 21:53:37 2008 +0200

    autoscript: Move conditional compilation to Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit bbf52df9aa94ffb115b8b1ebeb00d01374bb0a1d
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Aug 29 01:18:11 2008 +0200

    crc16: move to lib_generic

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 55195773eacefb22dd483a3c560ea30a14263ce1
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Aug 29 01:18:01 2008 +0200

    miiphybb: move to drivers/net/phy

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit e8314035996a9118ac5948df2ff8a2f2161ed67a
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Thu Aug 28 12:31:51 2008 +0200

    soft_spi: move to drivers/spi

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 4d75e0aa9caca64d4a1d55d95cd1ca5f30d9fc56
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Thu Aug 28 12:31:51 2008 +0200

    soft_i2c: move to drivers/i2c

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 717a222229fdb77703e9174d0eb08a4b41febf49
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Thu Aug 28 12:31:48 2008 +0200

    gunzip: move to lib_generic

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 52aef8f9ba28b747973bf76741c23db658d5773c
Author: Wolfgang Ocker <weo@reccoware.de>
Date:	Tue Aug 26 19:55:23 2008 +0200

    ppc4xx: NAND configuration

    Made NAND bank configuration setting a config variable.

    Signed-off-by: Wolfgang Ocker <weo@reccoware.de>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 5bc542a593abc9e974fbd34704af85c37c366c60
Author: Victor Gallardo <vgallardo@amcc.com>
Date:	Thu Aug 28 16:03:28 2008 -0700

    ppc4xx: fix UIC external_interrupt hang on UIC0

    This patch fixes a UIC external_interrupt hang if critical or non-critical
    interrupt is set at the same time as a normal interrupt is set on UIC0.

    Signed-off-by: Victor Gallardo <vgallardo@amcc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 04737d5ffd16248cb80ab3dd4f3765057a803f18
Author: Prodyut  Hazarika <phazarika@amcc.com>
Date:	Wed Aug 27 16:39:00 2008 -0700

    ppc4xx: Optimizations/Cleanups for IBM DDR2 Memory Controller

    Removed Magic numbers from Initialization preload registers
    Tested with Kilauea, Glacier, Canyonlands and Katmai boards
    About 5-7% improvement seen for LMBench memtests

    Signed-off-by: Prodyut Hazarika <phazarika@amcc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 8a490422bed685c9491274ec997f62061d88620b
Author: John Rigby <jrigby@freescale.com>
Date:	Thu Aug 28 13:17:07 2008 -0600

    ADS5121: Fix NOR and CPLD ALE timing for rev 2 silicon

    MPC5121 rev 2 silicon has a new register for controlling how long
    CS is asserted after deassertion of ALE in multiplexed mode.

    The default is to assert CS together with ALE.  The alternative
    is to assert CS (ALEN+1)*LPC_CLK clocks after deassertion of ALE.

    The default is wrong for the NOR flash and CPLD on the ADS5121.

    This patch turns on the alternative for CS0 (NOR) and CS2 (CPLD)
    it does so conditionally based on silicon rev 2.0 or greater.

    Signed-off-by: Martha J Marx <mmarx@silicontkx.com>
    Signed-off-by: John Rigby <jrigby@freescale.com>

commit 5d9a5efa4b332f442b54a755d49969123c3a8742
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Tue Aug 19 00:56:46 2008 +0600

    Add I2C frequency dividers for ColdFire

    The existing I2C freqency dividers for FDR does not apply
    to ColdFire platforms; thus, a seperate table is added
    based on MCF5xxx Reference Manual

    Signed-off-by: Luigi 'Comio' Mantellini <luigi.mantellini@idf-hit.com>
    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
    Acked-by: Tabi Timur <timur@freescale.com>

commit eec567a67e00d1ed8d941e9098b7d421f4091abf
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Tue Aug 19 03:01:19 2008 +0600

    ColdFire: I2C fix for multiple platforms

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit d53cf6a9c7423cba668b867978648645f71c3090
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Tue Aug 19 00:37:13 2008 +0600

    ColdFire: Add CONFIG_MII_INIT for M5272C3

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit f78ced3028d4130b24a318943a70cf5584ab16f4
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Tue Aug 19 00:26:25 2008 +0600

    ColdFire: Multiple fixes for MCF5445x platforms

    Add FEC pin set and mii reset in __mii_init(). Change
    legacy flash vendor from 2 to AMD LEGACY (0xFFF0),
    change cfi_offset to 0, and change CFG_FLASH_CFI to
    CONFIG_FLASH_CFI_LEGACY. Correct M54451EVB and
    M54455EVB env settings in configuration file.

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit 454e725b3a9537b7f273bbd0cbca180f23a7a6e8
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Fri Aug 15 18:24:25 2008 +0000

    ColdFire: Change the SDRAM BRD2WT timing from 3 to 7

    The user manuals recommend 7.

    Signed-off-by: Kurt Mahan <kmahan@freescale.com>
    Acked-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit 79e0799cf6e88d98d77b216a55234bf674b59a4e
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Fri Aug 15 16:50:07 2008 +0000

    ColdFire: Raise uart baudrate to 115200 bps

    M5249EVB, M5271EVB, M5272C3, M5275EVB and M5282EVB platforms
    uart baudrate increase from 19200 to 115200 bps

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit ab6ba842682552ccf071d0034da0a20633d1d1ac
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Aug 13 12:07:03 2008 +0000

    ColdFire: Fix board.c warning message

    Implicit declaration of nand_init() warning message

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit 5798b1c4650e9a8713c95b25c1e669a2bc80a97b
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Aug 27 01:10:34 2008 -0500

    FSL DDR: Remove duplicate setting of cs0_bnds register on 86xx.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 258c37b147353bc522ffc33dfbd7d0d9cd7c32d7
Author: Heiko Schocher <hs@denx.de>
Date:	Thu Aug 21 20:44:49 2008 +0200

    mpc52xx: added support for the MPC5200 based MUC.MC52 board from MAN.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 9cff4448a9cb882defe6c8bde73b77fc0c636799
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Aug 19 14:46:36 2008 -0500

    mpc85xx: remove redudant code with lib_ppc/interrupts.c

    For some reason we duplicated the majority of code in lib_ppc/interrupts.c
    not show how that happened, but there is no good reason for it.

    Use the interrupt_init_cpu() and timer_interrupt_cpu() since its why
    they exist.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 9490a7f1a9484617bad75c60807ce02c8a3a6d56
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Jul 25 13:31:05 2008 -0500

    mpc85xx: Add support for the MPC8536DS reference board

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Srikanth Srinivasan <srikanth.srinivasan@freescale.com>
    Signed-off-by: Dejan Minic <minic@freescale.com>
    Signed-off-by: Jason Jin <Jason.jin@freescale.com>
    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit ef50d6c06ece74fb17e8d7510e62cad9df8b810d
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Aug 12 11:14:19 2008 -0500

    mpc85xx: Add support for the MPC8536

    The MPC8536 Adds SDHC and SATA controllers to the PQ3 family.  We
    also have SERDES init code for the 8536.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Srikanth Srinivasan <srikanth.srinivasan@freescale.com>
    Signed-off-by: Dejan Minic <minic@freescale.com>
    Signed-off-by: Jason Jin <Jason.jin@freescale.com>
    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit 129ba616b3813dde861f25f3d8a3c47c5c36ad5f
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Aug 12 11:13:08 2008 -0500

    mpc85xx: Add support for the MPC8572DS reference board

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 457caecdbca3df21a93abff19eab12dbc61b7897
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Aug 27 01:05:35 2008 -0500

    FSL DDR: Remove old SPD support from cpu/mpc85xx

    All 85xx boards have been converted to the new code so we can
    remove the old SPD DDR setup code.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 0e7927db138976469e7257e29c1338050a50fcd9
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Aug 27 01:04:07 2008 -0500

    FSL DDR: Convert STXSSA to new DDR code.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit c360d9b970fbb9c13744c355879671165bbb9b9e
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Aug 27 01:03:42 2008 -0500

    FSL DDR: Convert STXGP3 to new DDR code.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 8e55313b7ae12352a343f9b9962e662dbd897187
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Aug 26 23:52:58 2008 -0500

    FSL DDR: Convert SBC8560 to new DDR code.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 9658bec2e8f55d56ca1be70090ce5a348be4980f
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Aug 26 23:52:32 2008 -0500

    FSL DDR: Convert MPC8540EVAL to new DDR code.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 6bfa8f723cfd82c55e3ef5620ade396916470a70
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Aug 26 23:52:07 2008 -0500

    FSL DDR: Convert PM856 to new DDR code.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit d53bd3e17bd4f460257c19255569ea6dcfaae817
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Aug 26 23:51:49 2008 -0500

    FSL DDR: Convert PM854 to new DDR code.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 33b9079ba20926f14238fff863b68a98e938948e
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Aug 26 23:15:28 2008 -0500

    FSL DDR: Convert sbc8548 to new DDR code.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit a947e4c7eb15cea1d9fb633955c516aab5ad35dd
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Aug 26 23:14:14 2008 -0500

    FSL DDR: Convert atum8548 to new DDR code.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit be0bd8234b9777ecd63c4c686f72af070d886517
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Aug 26 22:56:56 2008 -0500

    FSL DDR: Convert socrates to new DDR code.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 1167a2fd56138b716e01370c4267f3b70bf9ffa0
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Aug 26 08:02:30 2008 -0500

    FSL DDR: Convert MPC8544DS to new DDR code.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit e6f5b35b41ddbd637bb9ca4ad985b1e0b07dae0e
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Mar 18 13:51:05 2008 -0500

    FSL DDR: Convert MPC8568MDS to new DDR code.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit e31d2c1e2bc954dc32e33bb2076139f85b95f8e6
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Mar 18 13:51:06 2008 -0500

    FSL DDR: Convert MPC8548CDS to new DDR code.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit aa11d85cf318b961e029fe50d68ca47d004bce93
Author: Jon Loeliger <jdl@freescale.com>
Date:	Mon Mar 17 15:48:18 2008 -0500

    FSL DDR: Convert MPC8541CDS to new DDR code.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 2b40edb10d81da7bba724edbccd7f53777112579
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Mar 18 11:12:42 2008 -0500

    FSL DDR: Convert MPC8555ADS to new DDR code.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 8b625114e8bc5a6b436181167a6e7fcd3303dd2c
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Mar 18 11:12:44 2008 -0500

    FSL DDR: Convert MPC8560ADS to new DDR code.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 9617c8d49a21703eaf13a4033ab1a56eecc033cc
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Jun 6 13:12:18 2008 -0500

    FSL DDR: Convert MPC8540ADS to new DDR code.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 2a6c2d7ab2a66660f40a6cd3de2eb29ee29d9693
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Aug 26 21:34:55 2008 -0500

    FSL DDR: Add 85xx specific register setting

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 6fb1b7346849ccd0c20306143e334f5b76143070
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Jun 9 11:07:46 2008 -0500

    FSL DDR: Add e500 TLB helper for DDR code

    Provide a helper function that board code can call to map TLBs when
    setting up DDR.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit d26b739afe5a6760bd345743188759cd9d0f3b47
Author: Andrew Dyer <adyer@righthandtech.com>
Date:	Tue Aug 26 17:03:38 2008 -0500

    dm9000 remove dead external phy support, gpio fix

    dm9000 has code to detect and initialize external phy parts, but later
    on in the code the part is forced to use the internal phy
    unconditionally.  Remove the unused/untested code.

    change the GPIO initialization so that only the GPIO used as an
    internal phy reset (hardwired in the chip) is set as an output.  The
    remaining GPIO need to be handled by board specific code to prevent
    possible drive conflicts.  Set as inputs for safety.

    replace a few magic numbers with defines

    Signed-off-by: Andrew Dyer <adyer@righthandtech.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit a1573db0c07c8ba99e9c373bb07ecd6f59da672c
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Tue Aug 26 11:17:48 2008 -0500

    Standardize bootp, tftpboot, rarpboot, dhcp, and nfs command descriptions

    cmd_net.c command descriptions were updated to describe the optional
    hostIPaddr argument.  The dhcp command help message was also updated
    to more closely reflect the other commands in cmd_net.c

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 51dfe1382ebaf691485badfa0ea5e75b0710531b
Author: Remy Bohmer <linux@bohmer.net>
Date:	Wed Aug 20 11:30:28 2008 +0200

    Fix bogus error message in the DHCP handler

    The DHCP handler has 1 state that is not listed in this case, causing a
    failure message when there is actually no failure.

    Signed-off-by: Remy Bohmer <linux@bohmer.net>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 61365501a0e2cae9c1df2818b7b5b3f52c450d18
Author: Remy Bohmer <linux@bohmer.net>
Date:	Wed Aug 20 11:30:27 2008 +0200

    Fix compile error when CONFIG_BOOTP_RANDOM_DELAY is set.

    The option CONFIG_BOOTP_RANDOM_DELAY does not compile, because of a
    missing extern inside the net/bootp.h header

    Signed-off-by: Remy Bohmer <linux@bohmer.net>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 1803f7f91ff35ca402259065df7557107dcf28a2
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Tue Aug 19 21:26:32 2008 +0000

    ColdFire: Add FEC Buffer descriptors in SRAM

    Add FEC Buffer descriptors and data buffer in SRAM for
    faster execution and access.

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 429be27ce195210d4b9decf9e867b9ca6155a87d
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Aug 21 23:55:11 2008 +0000

    Fix ColdFire FEC warning messages

    Types mismatch and implicit declaration of icache_invalid()
    warning messages

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 6a002171098e968bd5b362347d2831224fab6048
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Sat Jul 12 00:17:50 2008 -0700

    Moved initialization of SKGE Ethernet driver to board code.

    The only board using this driver is the SL8245 board.
    Removed initialization for the driver from net/eth.c

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 8379f42bc745eb9e4ca551a30fd2d0a63f740d75
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Sat Jul 12 00:08:45 2008 -0700

    Moved conditional compilation to Makefile for SK98 Ethernet driver

    Brute-force removal of #ifdefs.  Didn't touch the code.
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 65d3d99c28dc363d15eaee78225ff643df499b97
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Fri Jul 11 23:42:19 2008 -0700

    Moved initialization of ULI526X Ethernet driver to board code.

    The only board using this driver is the Freescale MPC8610HPCD board.
    Removed initialization for the driver from net/eth.c

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 914947313a710f5dcf06beaf7f2aa24f1ebcce4f
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Fri Jul 11 23:15:28 2008 -0700

    Moved initialization of Blackfin EMAC Ethernet controller to board_eth_init()

    Added board_eth_init() function to bf537-stamp board.
    Removed initialization for the Blackin EMAC driver from net/eth.c

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit fc363ce35408f348cacced68505f3747a53e3d7c
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Wed Jul 9 01:04:19 2008 -0700

    Moved initialization of GRETH Ethernet driver to CPU directory

    Added a cpu_eth_init() function to leon2/leon3 CPU directories and
    removed code from net/eth.c

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 86882b80771309bceb11c6accfd7f6f90ade8bfc
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Tue Aug 26 22:16:25 2008 -0700

    Moved initialization of MCFFEC Ethernet driver to CPU directory

    Added a cpu_eth_init() function to coldfire CPU directories and
    removed code from net/eth.c

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit b31da88b9c160d80d42a59cbbb31e24f27184d5c
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Tue Aug 26 22:12:36 2008 -0700

    Moved initialization of FSL_MCDMAFEC Ethernet driver to CPU directory

    Added a cpu_eth_init() function to cpu/mcf547x_8x directory and
    removed code from net/eth.c

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit b5710d9974f6f0f3ddb4e67d6cccc262ab37049e
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Aug 26 15:01:38 2008 -0500

    FSL DDR: Remove old SPD support from cpu/mpc86xx

    All 86xx boards have been converted to the new code so we can
    remove the old SPD DDR setup code.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 9bd4e5911b750837515466bc7449087698b88e0e
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Aug 26 15:01:37 2008 -0500

    FSL DDR: Convert SBC8641D to new DDR code.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 39aa1a73483e1ac2bd56d5523abfc3970ee82c77
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Aug 26 15:01:36 2008 -0500

    FSL DDR: Convert MPC8610HPCD to new DDR code.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 6a8e5692933e8e6d6e5ba7e594f49dd6d4c3a263
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Aug 26 15:01:35 2008 -0500

    FSL DDR: Convert MPC8641HPCN to new DDR code.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 46ff4f1100ea64a01d21cc008ce85ac15eb1821f
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Aug 26 15:01:34 2008 -0500

    FSL DDR: Add 86xx specific register setting

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 233fdd502a6c227f476212b3097653ad48d7e254
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Aug 26 15:01:32 2008 -0500

    FSL DDR: Add DDR2 DIMM paramter support

    Compute DIMM parameters based upon the SPD information.

    Signed-off-by: James Yang <James.Yang@freescale.com>
    Signed-off-by: Jon Loeliger <jdl@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 05c05a2363a6ac11e0e405926034546ffad71fad
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Aug 26 15:01:30 2008 -0500

    FSL DDR: Add DDR1 DIMM paramter support

    Compute DIMM parameters based upon the SPD information in spd.

    Signed-off-by: James Yang <James.Yang@freescale.com>
    Signed-off-by: Jon Loeliger <jdl@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 58e5e9aff147e8c7e2bc1406bf9384f65f020ffa
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Aug 26 15:01:29 2008 -0500

    FSL DDR: Rewrite the FSL mpc8xxx DDR controller setup code.

    The main purpose of this rewrite it to be able to share the same
    initialization code on all FSL PowerPC products that have DDR
    controllers.  (83xx, 85xx, 86xx).

    The code is broken up into the following steps:
	GET_SPD
	COMPUTE_DIMM_PARMS
	COMPUTE_COMMON_PARMS
	GATHER_OPTS
	ASSIGN_ADDRESSES
	COMPUTE_REGS
	PROGRAM_REGS

    This allows us to share more code an easily allow for board specific code
    overrides.

    Additionally this code base adds support for >4G of DDR and provides a
    foundation for supporting interleaving on processors with more than one
    controller.

    Signed-off-by: James Yang <James.Yang@freescale.com>
    Signed-off-by: Jon Loeliger <jdl@freescale.com>
    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>
    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit f784e32b4bce0013983506b11af4b85b8ca3d36e
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Aug 26 15:01:28 2008 -0500

    FSL DDR: Provide a generic set_ddr_laws()

    Provide a helper function that will setup the last available
    LAWs (upto 2) for DDR.  Useful for SPD/dyanmic DDR setting code.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 0f2cbe3f5eddbdf3848265f35e4f714434929cff
Author: James Yang <James.Yang@freescale.com>
Date:	Tue Aug 26 15:01:27 2008 -0500

    Add proper SPD definitions for DDR1/2/3

    Also adds helper functions for DDR1/2 to verify the checksum.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 285db74716c724ae8a0ff177878fd09a74428c7b
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Aug 27 01:02:48 2008 +0200

    Update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit adf22b66d8bf05bd46e098cf71e6dca29b30aa7b
Author: Heiko Schocher <hs@denx.de>
Date:	Tue Aug 19 10:08:49 2008 +0200

    Add support for muas3001 board (MPC8270)

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 322098bff32410d2a00031649b47c4ec90a66d9a
Author: Gururaja Hebbar K R <gururajakr@sanyo.co.in>
Date:	Tue Aug 19 08:31:18 2008 +0530

    common/cmd_load.c cleanup - remove unused variables

    - Remove unused global variable os_data_count.
    - Remove unused variable z.

    Signed-off-by: Gururaja Hebbar <gururajakr@sanyo.co.in>

commit 306620b762a4f9fa6678568ad2e8772dec145208
Author: Andre Schwarz <andre.schwarz@matrix-vision.de>
Date:	Mon Aug 18 13:35:27 2008 +0200

    remove MVS1 board

    MVS1 board has reached end-of-life and can be removed completely.

    Signed-off-by: Andre Schwarz <andre.schwarz@matrix-vision.de>

commit 40d7e99d374ba0a0a29cd1a8ba40d3b7c2c175c7
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Aug 15 08:24:45 2008 -0500

    bootm: refactor do_reset and os boot function args

    There is no need for each OS specific function to call do_reset() we
    can just do it once in bootm. This means its feasible on an error for
    the OS boot function to return.

    Also, remove passing in cmd_tbl_t as its not needed by the OS boot
    functions.	flag isn't currently used but might be in the future so
    we left it alone.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 40afac22a9c602e55c501c800f1c064324711b56
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Aug 15 08:24:44 2008 -0500

    fdt: Added resize command

    Resize the fdt to size + padding to 4k boundary

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 2a1a2cb6e2b87ee550e6f27b647d23331dfd5e1b
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Aug 15 08:24:43 2008 -0500

    fdt: refactor initrd related code

    Created a new fdt_initrd() to deal with setting the initrd properties
    in the device tree and fixing up the mem reserve.  We can use this
    both in the choosen node handling and lets us remove some duplicated
    code when we fixup the initrd info in bootm on PPC.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 3082d2348c8e13342f5fdd10e9b3f7408062dbf9
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Aug 15 08:24:42 2008 -0500

    fdt: refactor fdt resize code

    Move the fdt resizing code out of ppc specific boot code and into
    common fdt support code.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 396f635b8ff3ccbc38d75d5eda98444c6466810a
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Aug 15 08:24:41 2008 -0500

    bootm: refactor image detection and os load steps

    Created a bootm_start() that handles the parsing and detection of all
    the images that will be used by the bootm command (OS, ramdisk, fdt).
    As part of this we now tract all the relevant image offsets in the
    bootm_headers_t struct. This will allow us to have all the needed
    state for future sub-commands and lets us reduce a bit of arch
    specific code on SPARC.

    Created a bootm_load_os() that deals with decompression and loading
    the OS image.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit e906cfae08e8cc2447f59b1bc4c22ab9c3c286d2
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Aug 15 08:24:40 2008 -0500

    bootm: move lmb into the bootm_headers_t structure

    To allow for persistent state between future bootm subcommands we
    need the lmb to exist in a global state.
    Moving it into the bootm_headers_t allows us to do that.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 54f9c86691309b2f919f567f9255b8bcad2c7651
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Aug 15 08:24:39 2008 -0500

    bootm: Set working fdt address as part of the bootm flow

    Set the fdt working address so "fdt FOO" commands can be used as part
    of the bootm flow.	Also set an the environment variable "fdtaddr"
    with the value.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 06a09918f3903450313e2047a9cc258bf5872f46
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Aug 15 08:24:38 2008 -0500

    bootm: refactor fdt locating and relocation code

    Move the code that handles finding a device tree blob and relocating
    it (if needed) into common code so all arch's have access to it.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit c4f9419c6b54958e0eddbcbc9e5a4a7b7ec99865
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Aug 15 08:24:37 2008 -0500

    bootm: refactor ramdisk locating code

    Move determing if we have a ramdisk and where its located into the
    common code. Keep track of the ramdisk start and end in the
    bootm_headers_t image struct.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit c160a9544743e80e8889edb2275538e7764ce334
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Aug 15 08:24:36 2008 -0500

    bootm: refactor entry point code

    Move entry point code out of each arch and into common code.
    Keep the entry point in the bootm_headers_t images struct.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 20220d22b9f41446288588cd2e457e0077a18bed
Author: Randy Vinson <rvinson@mvista.com>
Date:	Wed Aug 13 11:44:57 2008 -0700

    mpc7448hpc2: Fix PCI I/O space mapping.

    PCI I/O space is currently mapped 1:1 at 0xFA000000. Linux requires
    PCI I/O space to start at 0 on the PCI bus. This patch maps PCI I/O
    space such that 0xFA000000 in the processor's address space maps to 0
    on the PCI I/O bus.

    Signed-off-by Randy Vinson <rvinson@mvista.com>
    Acked-by: Roy Zang <tie-fei.zang@freescale.com>

commit b4e07520bbb5467ad72eb92a5c9177d2797b9e30
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Wed Aug 13 18:10:26 2008 +0200

    i.MX31: Specify maintainers for i.MX31-based boards

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 51e46e28fda4bbdf5149ac7f67d62fcc8df4da63
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Aug 26 15:01:28 2008 +0200

    ADS5121: adjust image addresses in RAM and flash

    Use the same mapping in flash as used by Linux

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 19f101412c16edee9fd55db4039e1d68a833b28b
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Aug 26 13:14:34 2008 +0200

    cmd_mem.c: Fix help message alignment

    Bug was introced by "Big white-space cleanup" (53677ef1)

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 1a9eeb78b825bfade31d7606a2fe3b9eca9e35be
Author: Andre Schwarz <andre.schwarz@matrix-vision.de>
Date:	Wed Aug 20 11:11:52 2008 +0200

    change mvBL-M7 default env and move to vendor subdir

    fix mvBL-M7 config and move to matrix_vision subdir

    Signed-off-by: Andre Schwarz <andre.schwarz@matrix-vision.de>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 002d27caf26e7eb913d474d3a91f67d56c8c31d5
Author: Nick Spence <nick.spence@freescale.com>
Date:	Fri Aug 22 23:52:40 2008 -0700

    MPC83XX: Add miscellaneous registers and #defines to support MPC83xx family devices

    This patch adds elements to the 83xx sysconf structure and #define values that are used
    by mpc83xx family devices.

    Signed-off-by: Nick Spence <nick.spence@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 447ad5768abda669ac0e7f46fcdb62fbe828d637
Author: Ira W. Snyder <iws@ovro.caltech.edu>
Date:	Fri Aug 22 11:00:15 2008 -0700

    MPC8349EMDS: Add PCI Agent (PCISLAVE) support

    Add the ability for the MPC8349EMDS to run in PCI Agent mode, acting as a
    PCI card rather than a host computer.

    Signed-off-by: Ira W. Snyder <iws@ovro.caltech.edu>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 4ff9aea9d6b5602683a920951ef896996438af62
Author: Ira W. Snyder <iws@ovro.caltech.edu>
Date:	Fri Aug 22 11:00:14 2008 -0700

    mpc83xx: add PCISLAVE support to 83XX_GENERIC_PCI setup code

    This adds a helper function to unlock the PCI configuration bit, so that
    any extra PCI setup (such as outbound windows, etc.) can be done after
    using the 83XX_GENERIC_PCI code to set up the PCI bus.

    Signed-off-by: Ira W. Snyder <iws@ovro.caltech.edu>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 162338e1fcde231ca4d562e5ebd7859456731691
Author: Ira W. Snyder <iws@ovro.caltech.edu>
Date:	Fri Aug 22 11:00:13 2008 -0700

    MPC8349EMDS: use 83XX_GENERIC_PCI setup code

    Change the MPC8349EMDS board to use the generic PCI initialization code
    for the mpc83xx cpu.

    Signed-off-by: Ira W. Snyder <iws@ovro.caltech.edu>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit f4e55a4941e8ba46bc06020b2747928adf8fdee7
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Mon Aug 25 14:53:09 2008 -0500

    fix out of tree building

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit a49d10cf027d059ee15c262010a05cdaec0961e1
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Aug 25 23:45:41 2008 +0200

    Minor coding style cleanup, updte CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 4d56e8dea670757c801a6a65531f02a8f981ce1f
Author: Stefan Roese <sr@denx.de>
Date:	Wed Aug 20 20:29:38 2008 +0200

    RTC: Fix Makefile problem with COBJS-$(CONFIG_RTC_DS1307 || CONFIG_RTC_DS1338)

    This "||" doesn't seem to work. Now using the idea suggest by Scott Wood
    to combine both config options into one line. This even allows defining
    both options and not generating the target object twice.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 079edb913dbae147b50a488cf02e03f473fc5f28
Author: Jens Gehrlein <sew_s@tqs.de>
Date:	Fri Jul 4 16:50:05 2008 +0200

    MX31: fix bit masks in function mx31_decode_pll()

    Bits MPCTL[MFN] and MPCTL[MFD] were not fully covered.

    Signed-off-by: Jens Gehrlein <sew_s@tqs.de>

commit e8f1207bbf2df6fb693ee1aa3329b2014c92e5e6
Author: Gururaja Hebbar K R <gururajakr@sanyo.co.in>
Date:	Mon Aug 25 11:11:34 2008 +0200

    Correct ARM Versatile Timer Initialization

     - According to ARM Dual-Timer Module (SP804) TRM (ARM DDI0271),
       -- Timer Value Register @ TIMER Base + 4 is Read-only.
       -- Prescale Value (Bits 3-2 of TIMER Control register)
	can only be one of 00,01,10. 11 is undefined.
       -- CFG_HZ for Versatile board is set to
	#define CFG_HZ		(1000000 / 256)
	So Prescale bits is set to indicate
	- 8 Stages of Prescale, Clock divided by 256
     - The Timer Control Register has one Undefined/Shouldn't Use Bit
       So we should do read/modify/write Operation

    Signed-off-by: Gururaja Hebbar <gururajakr@sanyo.co.in>

commit 535cfa4f3de86cf48d6c0af1daf33aebdca089f9
Author: Gururaja Hebbar K R <gururajakr@sanyo.co.in>
Date:	Mon Aug 25 11:30:29 2008 +0200

    Add ARM AMBA PL031 RTC Support

    Signed-off-by: Gururaja Hebbar K R <gururajakr@sanyo.co.in>

commit e39411674669cc880e1ec4a8ca4794fb15c33a45
Author: Hugo Villeneuve <hugo.villeneuve@lyrtech.com>
Date:	Tue Aug 19 16:21:03 2008 -0400

    ARM DaVinci: Removed redundant NAND initialization code.

    ARM DaVinci: Removed redundant NAND initialization code.

    Signed-off-by: Hugo Villeneuve <hugo.villeneuve@lyrtech.com>

commit b3fb663b20d995ca41327db877ddb168279b3f62
Author: Hugo Villeneuve <hugo.villeneuve@lyrtech.com>
Date:	Tue Aug 19 16:21:00 2008 -0400

    ARM DaVinci: Fix compilation error with new MTD code.

    ARM DaVinci: Fix compilation error with new MTD code.

    Signed-off-by: Hugo Villeneuve <hugo.villeneuve@lyrtech.com>

commit 109c30fb8edea1a15d37a6ce787cd5faf33d8e43
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Fri Aug 22 14:37:05 2008 -0400

    Add note on dereferencing /aliases pointers

    Replace the "must quote special characters" note with a hint on
    how to dereference /aliases pointers by omitting the leading "/".
    This feature was introduced by Kumar Gala as a libfdt enhancement
    in commit ed035708235332c3c117ee3bb1a426063f03cfcb.

    Example:

    => fdt print /aliases
    aliases {
	    ethernet0 = "/qe@e0100000/ucc@2000";
	    ethernet1 = "/qe@e0100000/ucc@3000";
	    serial0 = "/soc8360@e0000000/serial@4500";
	    serial1 = "/soc8360@e0000000/serial@4600";
	    pci0 = "/pci@e0008500";
    };
    => fdt print ethernet0
    ucc@2000 {
	    device_type = "network";
	    compatible = "ucc_geth";
	    cell-index = <0x1>;
	    reg = <0x2000 0x200>;
	    interrupts = <0x20>;
	    interrupt-parent = <0x2>;
	    local-mac-address = [00 00 00 00 00 00];
	    rx-clock-name = "none";
	    tx-clock-name = "clk9";
	    phy-handle = <0x3>;
	    phy-connection-type = "rgmii-id";
	    pio-handle = <0x4>;
    };

    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>

commit feeca3f578b7f53c032ba203698751c982f8bf5a
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Aug 14 08:28:19 2008 -0500

    libfdt: Add support for using aliases in fdt_path_offset()

    If the path doesn't start with '/' check to see if it matches some alias
    under "/aliases" and substitute the matching alias value in the path
    and retry the lookup.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: David Gibson <david@gibson.dropbear.id.au>
    Acked-by: Gerald Van Baren <vanbaren@cideas.com>

commit 0219399a4e3a8edb428e1924e1a03d58cccf8d8e
Author: David Gibson <david@gibson.dropbear.id.au>
Date:	Wed Aug 6 14:50:49 2008 +1000

    libfdt: Implement fdt_get_property_namelen() and fdt_getprop_namelen()

    As well as fdt_subnode_offset(), libfdt includes an
    fdt_subnode_offset_namelen() function that takes the subnode name to
    look up not as a NUL-terminated string, but as a string with an
    explicit length.  This can be useful when the caller has the name as
    part of a longer string, such as a full path.

    However, we don't have corresponding 'namelen' versions for
    fdt_get_property() and fdt_getprop().  There are less obvious use
    cases for these variants on property names, but there are
    circumstances where they can be useful e.g. looking up property names
    which need to be parsed from a longer string buffer such as user input
    or a configuration file, or looking up an alias in a path with
    IEEE1275 style aliases.

    So, since it's very easy to implement such variants, this patch does
    so.  The original NUL-terminated variants are, of course, implemented
    in terms of the namelen versions.

    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>

commit f171746f701ea58bf6a53e835b53d2aaebee0d81
Author: David Gibson <david@gibson.dropbear.id.au>
Date:	Tue Jul 29 14:51:22 2008 +1000

    libfdt: Forgot one function when cleaning the namespace

    In commit b6d80a20fc293f3b995c3ce1a6744a5574192125, we renamed all
    libfdt functions to be prefixed with fdt_ or _fdt_ to minimise the
    chance of collisions with things from whatever package libfdt is
    embedded in, pulled into the libfdt build via that environment's
    libfdt_env.h.

    Except... I missed one.  This patch applies the same treatment to
    _stringlist_contains().  While we're at it, also make it static since
    it's only used in the same file.

    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>

commit 46390da15411351fc3b498bd8c1615f78fe80df0
Author: Wolfram Sang <w.sang@pengutronix.de>
Date:	Wed Jul 9 11:22:44 2008 +0200

    libfdt: Improve documentation in libfdt.h

    Fix a few typos and mistakes.

    Signed-off-by: Wolfram Sang <w.sang@pengutronix.de>
    Acked-by: David Gibson <david@gibson.dropbear.id.au>

commit fc7758ee4f5782878f2e96876b7bc56cfee0ac66
Author: David Gibson <david@gibson.dropbear.id.au>
Date:	Wed Jul 9 14:10:24 2008 +1000

    libfdt: Increase namespace-pollution paranoia

    libfdt is supposed to easy to embed in projects all and sundry.
    Often, it won't be practical to separate the embedded libfdt's
    namespace from that of the surrounding project.  Which means there can
    be namespace conflicts between even libfdt's internal/static functions
    and functions or macros coming from the surrounding project's headers
    via libfdt_env.h.

    This patch, therefore, renames a bunch of libfdt internal functions
    and macros and makes a few other chances to reduce the chances of
    namespace collisions with embedding projects.  Specifically:
	- Internal functions (even static ones) are now named _fdt_*()

	- The type and (static) global for the error table in
	      fdt_strerror() gain an fdt_ prefix

	- The unused macro PALIGN is removed

	- The memeq and streq macros are removed and open-coded in the
	      users (they were only used once each)

	- Other macros gain an FDT_ prefix

	- To save some of the bulk from the previous change, an
	      FDT_TAGALIGN() macro is introduced, where FDT_TAGALIGN(x) ==
	      FDT_ALIGN(x, FDT_TAGSIZE)

    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>

commit c66830263af19831f2b7db307f79d1943febf7f9
Author: David Gibson <david@gibson.dropbear.id.au>
Date:	Mon Jul 7 10:14:15 2008 +1000

    dtc: Enable and fix -Wcast-qual warnings

    Enabling -Wcast-qual warnings in dtc shows up a number of places where
    we are incorrectly discarding a const qualification.  There are also
    some places where we are intentionally discarding the 'const', and we
    need an ugly cast through uintptr_t to suppress the warning.  However,
    most of these are pretty well isolated with the *_w() functions.  So
    in the interests of maximum safety with const qualifications, this
    patch enables the warnings and fixes the existing complaints.

    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>
    Acked-by: Gerald Van Baren <vanbaren@cideas.com>

commit ef4e8ce1beb5b93aedda5a4c1b90bfd989c6791e
Author: David Gibson <david@gibson.dropbear.id.au>
Date:	Mon Jul 7 10:10:48 2008 +1000

    dtc: Enable and fix -Wpointer-arith warnings

    This patch turns on the -Wpointer-arith option in the dtc Makefile,
    and fixes the resulting warnings due to using (void *) in pointer
    arithmetic.  While convenient, pointer arithmetic on void * is not
    portable, so it's better that we avoid it, particularly in libfdt.

    Also add necessary definition of uintptr_t needed by David Gibson's
    changeset "dtc: Enable and fix -Wpointer-arith warnings" (the definition
    comes from stdint.h, which u-boot doesn't have). -- gvb

    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>
    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>

commit 5d4b3d2b31e58fcb2d4bd10af762f5ff41b229fd
Author: Tirumala R Marri <tmarri@amcc.com>
Date:	Thu Aug 21 21:54:53 2008 -0700

    ppc4xx: AMCC PPC460GT/EX PCI-E de-emphasis adjustment fix

    During recent PCI-E tests it has been found that current
    driverl level and de-emphasis values are not set correctly.
    After sweeping throgh all de-ephasis values, it was found that
    0x130 is a right value. Where 0x13 is driver level and 0 is
    de-emphasis.

    Signed-off-by: Tirumala R Marri <tmarri@amcc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 0bb86d823b6c150c7ee17de0cfca9ffccc16463b
Author: Remy Bohmer <linux@bohmer.net>
Date:	Wed Aug 20 20:46:56 2008 +0200

    Make the YAFFS filesystem work

    Recently the YAFFS filesystem support has been added to U-boot.
    However, just enabling CONFIG_YAFFS2 is not enough to get it working.

    ymount will generate an exception (when dereferencing mtd->readoob()), because
    the genericDevice is a null pointer. Further, a lot of logging is produced
    while using YAFFS fs, so logging should also be disabled.
    Both issues are solved by this patch.

    With this patch and CONFIG_YAFFS2 enabled, I get a readable filesystem
    in U-boot, as well as in Linux.

    Tested on a Atmel AT91SAM9261EK board.

    Signed-off-by: Remy Bohmer <linux@bohmer.net>
    Acked-by: William Juul <william.juul@tandberg.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit bfd7f38614e21f745b6d6845fcc616ebc5e4d36f
Author: Kyungmin Park <kmpark@infradead.org>
Date:	Tue Aug 19 08:42:53 2008 +0900

    Fix OneNAND read_oob/write_oob functions compatability

    Also sync with kernel OneNAND codes

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 8d765456c1d33f2010d2717ee58de7647fdc6346
Author: Scott Wood <scottwood@freescale.com>
Date:	Mon Aug 18 17:11:20 2008 -0500

    NAND: Remove delay from nand_boot_fsl_elbc.c.

    It was for debugging purposes, and shouldn't have been left in.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit f556483734126793522fb7a8cf36af90da78f084
Author: Stefan Roese <sr@denx.de>
Date:	Thu Aug 21 11:05:03 2008 +0200

    ppc4xx: Cleanup of "ppc4xx: Optimize PLB4 Arbiter..." patch

    This patch fixes some minor issues introduced with the patch:
    ppc4xx: Optimize PLB4 Arbiter... from Prodyut Hazarika:

    - Rework memory-queue and PLB arbiter optimization code, that the
      local variable is not needed anymore. This removes one #ifdef.
    - Use consistant spacing in ppc4xx.h header (XXX + 0x01 instead
      of XXX+ 0x01). This was not introduced by Prodyut, just a
      copy-paste problem.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 079589bcfb24ba11068460276a3cc9549ab5346f
Author: Prodyut  Hazarika <phazarika@amcc.com>
Date:	Wed Aug 20 09:38:51 2008 -0700

    ppc4xx: Optimize PLB4 Arbiter and Memory Queue settings for PPC440SP/SPe,
	PPC405EX and PPC460EX/GT/SX

    - Read pipeline depth set to 4 for PPC440SP/SPE, PPC405EX, PPC460EX/GT/SX
      processors
    - Moved PLB4 Arbiter register definitions to ppc4xx.h since it is shared
      across processors (405 and 440/460)
    - Optimize Memory Queue settings for PPC440SP/SPE and PPC460EX/GT/SX
      processors
    - Add register bit definitions for Memory Queue Configuration registers

    Signed-off-by: Prodyut Hazarika <phazarika@amcc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit ba37aa03287c5483c61c0a3e320c8888bee0143a
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Aug 19 15:41:18 2008 -0500

    fdt: rework fdt_fixup_ethernet() to use env instead of bd_t

    Move to using the environment variables 'ethaddr', 'eth1addr', etc..
    instead of bd->bi_enetaddr, bi_enet1addr, etc.

    This makes the code a bit more flexible to the number of ethernet
    interfaces.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 4cacf7c64609839f809e2f9c45873f1d65861703
Author: Stefan Roese <sr@denx.de>
Date:	Tue Aug 19 14:57:55 2008 +0200

    hush: Fix printf debug macro in hush.c so that it usable in U-Boot

    This patch changes the debug_printf() marco for U-Boot in hush.c and
    moves the definition of DEBUG_SHELL to a place that is actually compiled
    under U-Boot.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 8f2b457ef26a44d9e5fd7d6b16c394e5c3a71ca2
Author: Heiko Schocher <hs@denx.de>
Date:	Tue Aug 19 09:57:41 2008 +0200

    cfi: rename CFG_FLASH_CFI_DRIVER to CONFIG_FLASH_CFI_DRIVER

    Commit	00b1883a4cac59d97cd297b1a3a398db85982865
    missed a few boards:
	include/configs/M5253DEMO.h
	include/configs/ml507.h
	include/configs/redwood.h

    This patch fixes this.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 0768b7a872964085eece8d5e9fec9175e9deb161
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Mon Aug 18 13:41:27 2008 +0200

    Consolidate strmhz() implementation

    ARM, i386, m68k and ppc all have identical implementations of strmhz().
    Other architectures don't provide this function at all.

    This patch moves strmhz() into lib_generic, reducing code duplication
    and providing a more unified API across architectures.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit a928d0df211f1d829308d335d19be3ca42558dfc
Author: Andre Schwarz <andre.schwarz@matrix-vision.de>
Date:	Mon Aug 18 12:02:51 2008 +0200

    fix mvbc_p board build warnings

    fix build warnings @ mvBC-P board by using correct types, i.e. change
    out_be32 to out_be16 and out_8 accordingly.

    Signed-off-by: Andre Schwarz <andre.schwarz@matrix-vision.de>

commit a958b663d27f616bd1dfb720d1b476d1ecaaa569
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Aug 16 18:54:27 2008 +0200

    Makefile: fix posix support on find

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit bef92e215d945cc574399c1a1b00a3a76d35aa03
Author: Axel Beierlein <belatronix@web.de>
Date:	Sat Aug 16 00:30:48 2008 +0200

    Adding bootlimit/bootcount feature for MPC5XXX on TQM5200 Boards

    Tested with TQM5200S on STK52XX.200 Board

    Signed-off-by: Axel Beierlein <belatronix@web.de>

commit 0800707b6d5041a840a65d556032c15c584b55f8
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Fri Aug 15 14:36:32 2008 -0500

    mod_i2c_mem() bugfix

    The last used chip, address, and address length were not being
    stored for the imm and imn commands.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 4afbef967275b2f636abae86f91b81becee7ad03
Author: Steven A. Falco <sfalco@harris.com>
Date:	Fri Aug 15 15:37:31 2008 -0400

    Fix typo in spelling of ATAPI.

    Correct a small spelling mistake.

    Signed-off-by: Steven A. Falco <sfalco@harris.com>

commit 36c2d3062ecc6ab85f8e237180eb134464c48418
Author: Steven A. Falco <sfalco@harris.com>
Date:	Fri Aug 15 15:34:10 2008 -0400

    Add a hook to allow board-specific PIO mode setting.

    This patch adds a hook whereby a board-specific routine can be called to
    configure hardware for a PIO mode.	The prototype for the board-specific
    routine is:

	int inline ide_set_piomode(int pio_mode)

    ide_set_piomode should be prepared to configure hardware for a pio_mode
    between 0 and 6, inclusive.  It should return 0 on success or 1 on failure.

    Signed-off-by: Steven A. Falco <sfalco@harris.com>

commit 9571b84cb1423876f1153081b9e6a51d90fbcdc4
Author: Steven A. Falco <sfalco@harris.com>
Date:	Fri Aug 15 15:29:12 2008 -0400

    Replace enums in ata.h with an include of libata.h

    This patch removes some enums from ata.h and replaces them with an
    include of libata.h.  This way, we eliminate duplicated code, and
    prevent errors whereby the different versions could be out of sync.

    Signed-off-by: Steven A. Falco <sfalco@harris.com>

commit 0de0afbca865ecf482b4d2b635236746def8518f
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Aug 15 18:32:41 2008 +0200

    coldfire: fix CFI drivers activation with new macro

    rename CFG_FLASH_CFI_DRIVER to CONFIG_FLASH_CFI_DRIVER

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 7dbc38ad915f4ae67f4cd1818b7ac8fed368aaa9
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Aug 15 08:24:35 2008 -0500

    fdt: fdt addr w/o any args reports back the current working address

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit f953d99fd528a496b400a706b511eaf8e3ea66af
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Aug 15 08:24:34 2008 -0500

    fdt: added the ability to set initrd start/end via chosen command

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit ffa4bafacaef67058463b3d7d0099ced57569dd2
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Aug 15 08:24:33 2008 -0500

    Add command to enable/disable interrupts

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 9e8e63cce69556aef10b58bcbc56d324f570ec3a
Author: Nick Spence <nick.spence@freescale.com>
Date:	Tue Aug 19 22:21:16 2008 -0700

    CFI: Add CFI_CMDSET_INTEL_EXTENDED to fix flash_real_protect()

    This patch fixes a missing vendor code in the flash_real_protect() function.

    Signed-off-by: Nick Spence <nick.spence@freescale.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 4e00acded2e6a8d663e12690a0f0f08f5bec5a58
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Tue Aug 19 16:53:39 2008 +0000

    CFI: Fix AMD Legacy sector protect

    New implement sector lock and unlock or softlock commands
    do not exist in AMD legacy flash. Thus, causing issue
    when erasing AMD legacy flash (such as lv040)

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 492671404140f09d5b21b3d2ce4e362c0692c069
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Wed Aug 20 09:40:16 2008 +0200

    hammerhead/mimc200: Use CONFIG_FLASH_CFI_DRIVER

    CFG_FLASH_CFI_DRIVER was recently renamed CONFIG_FLASH_CFI_DRIVER.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit 33eac2b3d946fc998a09245dfe54d017079b9056
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Wed Aug 20 09:28:36 2008 +0200

    hammerhead: Add missing printf parameter to CONFIG_AUTOBOOT_PROMPT

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit 25da0b84195fdda89a943b2d25757db5afeef5b8
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Wed Aug 20 09:27:37 2008 +0200

    favr-32-ezkit: Fix printf format warnings

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit 462da25e89b0b58bf4c66346c1fcb3087c61b4b8
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Fri Aug 15 12:04:25 2008 +0200

    MAINTAINERS: Sort avr32 section alphabetically

    The rest of the MAINTAINERS file appears to be sorted
    almost-alphabetically, but entries for the newly added AVR32 boards were
    added somewhat randomly. This patch sorts the list alphabetically again.

    Also update my e-mail address. The old one still works, but it may not
    work forever.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit 13b50fe3bc065c48911fa373231421280855a9d6
Author: Mark Jackson <mpfj@mimc.co.uk>
Date:	Wed Jul 30 13:07:27 2008 +0100

    avr32: Add MIMC200 board

    The MIMC200 board is based on Atmel's NGW100 dev kit, but with an extra
    8MByte FLASH and 128KByte FRAM.

    Signed-off-by: Mark Jackson <mpfj@mimc.co.uk>
    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit db70b84329315c52f6ec77f5ae5ca1afe970a9bb
Author: Yoshihiro Shimoda <shimoda.yoshihiro@renesas.com>
Date:	Wed Jul 9 21:07:34 2008 +0900

    rtl8169: add support for RTL8110SCL

    This patch fixes a problem that RTL8110SCL started transfer
    with an incorrect memory address.

    Signed-off-by: Yoshihiro Shimoda <shimoda.yoshihiro@renesas.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 943b825bf15e6a28ac8328e0f6489478bceef1ea
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Jun 25 15:48:52 2008 -0500

    Fix dm9000 receive status and len little endian issue

    The received status and len was in little endian
    format and caused the ethernet unable to proceed
    further. Add __le16_to_cpu() in dm9000_rx_status_8/16/32bit().

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit fcd69a1a57fb2af4d26201422095a4be9f36963e
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Aug 15 08:24:32 2008 -0500

    Clean up usage of icache_disable/dcache_disable

    There is no point in disabling the icache on 7xx/74xx/86xx parts and not
    also flushing the icache.  All callers of invalidate_l1_instruction_cache()
    call icache_disable() right after.	Make it so icache_disable() calls
    invalidate_l1_instruction_cache() for us.

    Also, dcache_disable() already calls dcache_flush() so there is no point
    in the explicit calls of dcache_flush().

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit a15b07104ca7bbb7093c9009c9ae1b58b4202d13
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Aug 15 08:24:31 2008 -0500

    Update linux bootm to support ePAPR client interface

    The ePAPR spec has some subtle differences from the current device
    tree based boot interface to the powerpc linux kernel. The powerpc
    linux kernel currently ignores the differences that ePAPR specifies.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit b734e5556a239b3be5f9693b2f4b4b739683ec16
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Aug 18 23:50:20 2008 +0200

    Minor code cleanup: keep lists sorted.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit d0039d4ed275e6ca09fb417895024ad02be118c4
Author: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>
Date:	Wed Jul 23 19:10:14 2008 +0200

    Add support for ADT7460 I2C monitor chip

    Signed-off-by: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>

commit eb59ea45ab77c14b090ea857d9ea9f902f40db0b
Author: Michal Simek <monstr@monstr.eu>
Date:	Mon Jul 14 19:45:45 2008 +0200

    video: Clean drivers/video/Makefile

    Signed-off-by: Michal Simek <monstr@monstr.eu>

commit 871c18dd301752270e1f74328c846c3104be1e2e
Author: Michal Simek <monstr@monstr.eu>
Date:	Mon Jul 14 19:45:37 2008 +0200

    rtc: Clean drivers/rtc/Makefile

    Signed-off-by: Michal Simek <monstr@monstr.eu>

commit a4a549b4b53adf40a0d3882cc30ac812a8f847c5
Author: Michal Simek <monstr@monstr.eu>
Date:	Mon Jul 14 19:45:35 2008 +0200

    i2c: Clean drivers/i2c/ Makefile

    Signed-off-by: Michal Simek <monstr@monstr.eu>

commit 0a823aa2a8a8c0685e73900f387d602d7edafc0e
Author: Harald Welte <laforge@openmoko.org>
Date:	Wed Jul 9 22:30:30 2008 +0800

    Add 'license' command to U-Boot command line

    The 'license' command includes the U-Boot license (GPLv2) into the
    actual bootloader binary. The license text can be shown interactively
    at the U-Boot commandline.

    For products where the commandline can actually be accessed by the
    end user, this helps to prevent inadvertent GPL violations, since the
    GPLv2 license text can no longer be 'forgotten' to be included into
    the product.

    The 'license' command can be enabled by CONFIG_CMD_LICENSE.

    Signed-off-by: Harald Welte <laforge@openmoko.org>

commit fe2ce5500ebf43d79d227190bd2370232d5b113d
Author: Harald Welte <laforge@gnumonks.org>
Date:	Sun Jul 6 15:56:38 2008 +0800

    add 'unzip' command to u-boot commandline

    [PATCH] add new 'unzip' command to u-boot commandline

    common/cmd_mem.c: new command "unzip srcaddr dstaddr [dstsize]" to unzip from
    memory to memory, and option CONFIG_CMD_UNZIP to enable it

    Signed-off-by: Werner Almesberger <werner@openmoko.org>
    Signed-off-by: Harald Welte <laforge@openmoko.org>

commit 07efc9e321619c3dec213310c32e011aa6f02783
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Aug 6 19:37:17 2008 -0500

    Change CFG_ENV_SIZE to CFG_ENV_SECT_SIZE for SPI sector erase

    The CFG_ENV_SIZE is not suitable used for SPI flash erase
    sector size if CFG_ENV_SIZE is less than CFG_ENV_SECT_SIZE.
    Add condition check if CFG_ENV_SIZE is larger than
    CFG_ENV_SECT_SIZE, calculate the right number of sectors for
    erasing.

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit 4cb4e654cafabaa1ac180d37b00c8f6095dae9c9
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Mon Aug 11 15:54:25 2008 +0000

    ColdFire: Multiple fixes for M5282EVB

    Incorrect CFG_HZ value, change 1000000 to 1000.
    Rename #waring to #warning. RAMBAR1 uses twice
    in start.S, rename the later to FLASHBAR. Insert
    nop for DRAM setup. And, env_offset in linker file.

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit 10db3a17a278dd3a27668b31cb32cdd1476e9513
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Mon Aug 11 15:26:43 2008 +0000

    ColdFire: Move m5282evb from board to board/freescale

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit 56df091d391f74bbf2dc2f7931f9f3c8f23529e4
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Mon Aug 11 15:25:07 2008 +0000

    ColdFire: Move m5272c3 from board to board/freescale

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit 659e9bad629a480f606b286d5703aef7159edf98
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Mon Aug 11 15:23:16 2008 +0000

    ColdFire: Move m5271evb from board to board/freescale

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit 05316f8ece8206339a208ec052f039cd0f7ca922
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Mon Aug 11 13:41:49 2008 +0000

    ColdFire: Add M54451EVB platform support for MCF5445x

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit 922cd7515597e9a2c07d68e2a6240b0b7b0f0136
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Aug 6 19:14:08 2008 -0500

    ColdFire: Add Serial Flash support for M54455EVB

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit 9f751551456828b2d0ff417f10959fb0c7110bd0
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Jul 23 20:38:53 2008 -0500

    ColdFire: Implement SBF feature for M5445EVB

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit a7323bba229203aae2604afde131ab47bad4eadc
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Jul 23 17:53:36 2008 -0500

    ColdFire: Add SSPI feature for MCF5445x

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit b2d022d1ac3f59bffa9cec249341e77aea168abc
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Jul 23 17:37:10 2008 -0500

    ColdFire: Use CFI Flash driver for M54455EVB

    Remove non-common flash driver in
    board/freescale/m54455evb/flash.c. The non-cfi flash will
    use CONFIG_FLASH_CFI_LEGACY to configure the flash
    attribute.

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit 6d33c6acfa35b1144d46ffbff7e29ee7969290d0
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Jul 23 17:11:47 2008 -0500

    ColdFire: Add M5253DEMO platform support for MCF5253

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit 80ba61fd82569af40e04d4a089257b81881884f2
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Aug 6 14:17:09 2008 -0500

    ColdFire: Raise M5253EVBE uart baudrate to 115200 bps

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit d361307e73ce1f6fc68760123f37d4876f851f3e
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Aug 6 14:11:36 2008 -0500

    ColdFire: Fix M5253EVB dram bring up issue

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit 4b0708093e15b412296328bf81325cf9b69fe512
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Aug 14 14:41:06 2008 +0200

    Coding Style cleanup, update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 68cf19aae48f2969ec70669604d0d776f02c8bc4
Author: Scott Wood <scottwood@freescale.com>
Date:	Wed Aug 13 18:24:05 2008 -0500

    socrates: Update NAND driver to new API.

    Also, fix some minor formatting issues, and simplify the handling of
    "state" for writes.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit ba22d10f39eaeedd035e8265616e31ff88e314d5
Author: Scott Wood <scottwood@freescale.com>
Date:	Wed Aug 13 18:03:40 2008 -0500

    quad100hd: Update NAND driver to new API.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit f64cb652a8a84c5c34d0afcbd7ffef886aa1d838
Author: Scott Wood <scottwood@freescale.com>
Date:	Wed Aug 13 17:53:48 2008 -0500

    m5373evb: Update NAND driver to new API.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 1a23a197c8722b805f40895544bbdb1a648c1c82
Author: Scott Wood <scottwood@freescale.com>
Date:	Wed Aug 13 17:04:30 2008 -0500

    s3c24x0: Update NAND driver to new API.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit aa5f75f20db8a7103fad9c34d6f1193e10d1890f
Author: Scott Wood <scottwood@freescale.com>
Date:	Wed Aug 13 15:56:00 2008 -0500

    at91: Update board NAND drivers to current API.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit d438d50848e9425286e5fb0493e0affb5a0b1e1b
Author: Kyungmin Park <kmpark@infradead.org>
Date:	Wed Aug 13 09:11:02 2008 +0900

    Fix OneNAND build break

    Since page size field is changed from oobblock to writesize. But OneNAND is not updated.
    - fix bufferram management at erase operation
    This patch includes the NAND/OneNAND state filed too.

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 9483df6408c25f16060432de3868901e352e23bc
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Aug 13 01:40:43 2008 +0200

    drivers/mtd/nand_legacy: Move conditional compilation to Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit cc4a0ceeac5462106172d0cc9d9d542233aa3ab2
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Aug 13 01:40:43 2008 +0200

    drivers/mtd/nand: Move conditional compilation to Makefile

    rename CFG_NAND_LEGACY to CONFIG_NAND_LEGACY

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 4fb09b81920e5dfdfc4576883186733f0bd6059c
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Aug 13 01:40:42 2008 +0200

    drivers/mtd/onenand: Move conditional compilation to Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 00b1883a4cac59d97cd297b1a3a398db85982865
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Aug 13 01:40:42 2008 +0200

    drivers/mtd: Move conditional compilation to Makefile

    rename CFG_FLASH_CFI_DRIVER to CONFIG_FLASH_CFI_DRIVER

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 7ba44a5521cdb7fa1c72864025cde1e21a6f6921
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Aug 13 01:40:41 2008 +0200

    drivers/qe: Move conditional compilation to Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit ab6878c7bc68a7b5e5b731655bdc13221bbfc493
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Aug 13 01:40:40 2008 +0200

    drivers/pci: Move conditional compilation to Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 55d6d2d39fe3fe87802e399aa17539368b495d2e
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Aug 13 01:40:40 2008 +0200

    drivers/misc: Move conditional compilation to Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 65e41ea0548b86e3d7892defac8e4dc1ea70aed1
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Aug 13 01:40:40 2008 +0200

    drivers/input: Move conditional compilation to Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 88f57e093114a44aa9a858d52b099bcc52034a8c
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Aug 13 01:40:39 2008 +0200

    drivers/dma: Move conditional compilation to Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 1a02806c4b1b4a09ad4e95d3aac3783889e5f8d7
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Aug 13 01:40:39 2008 +0200

    drivers/block: Move conditional compilation to Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 1a6ffbfaf4353bec379ed1fcfc54b6f1a30af09a
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Aug 13 01:40:39 2008 +0200

    serial: move CFG_NS9750_UART to CONFIG_NS9750_UART

    move also conditional compilation to Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 6c58a030f86829fa4f0d4337cf4b794c41a1823e
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Aug 13 01:40:38 2008 +0200

    serial: move CFG_SCIF_CONSOLE to CONFIG_SCIF_CONSOLE

    move also conditional compilation to Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit d6e9ee92e890f67594ab150689510df361133ead
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Aug 13 01:40:38 2008 +0200

    common: Move conditional compilation to Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit f5acb9fd9bba1160de3ef349c7d33fe510eda286
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Aug 13 01:40:09 2008 +0200

    mx31: move freescale's mx31 boards to vendor board dir

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 8ed2f5f950e2581214d20b011a8f27a6396d65d2
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Jul 5 23:11:11 2008 +0200

    at91: move arch-at91sam9 to arch-at91

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 195ccfc5991d48764b2519941e3507f693851d5d
Author: Fathi BOUDRA <fabo@debian.org>
Date:	Wed Aug 6 10:06:20 2008 +0200

    OneNAND: Fill in MTD function pointers for OneNAND.

    onenand_print_device_info():
     - Now returns a string to be placed in mtd->name,
       rather than calling printf.
     - Remove verbose parameter as it becomes useless.

    Signed-off-by: Fathi Boudra <fabo@debian.org>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit aa646643b6bc250cb3a4966bf728876e0c10d329
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Wed Aug 6 21:42:07 2008 +0200

    nand_spl: Support page-aligned read in nand_load, use chipselect

    Supporting page-aligned reads doesn't incure any sinificant overhead, just
    a small change in the algorithm. Also replace in_8 with readb, since there
    is no in_8 on ARM.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 4f32d7760a58fe73981b6edc0b0751565d2daa4c
Author: Scott Wood <scottwood@freescale.com>
Date:	Tue Aug 5 11:15:59 2008 -0500

    NAND boot: Update large page support for current API.

    Also, remove the ctrl variable in favor of passing the constants
    directly, and remove redundant (u8) casts.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit e4c09508545d1c45617ba45391c03c03cbc360b9
Author: Scott Wood <scottwood@freescale.com>
Date:	Mon Jun 30 14:13:28 2008 -0500

    NAND boot: MPC8313ERDB support

    Note that with older board revisions, NAND boot may only work after a
    power-on reset, and not after a warm reset.  I don't have a newer board
    to test on; if you have a board with a 33MHz crystal, please let me know
    if it works after a warm reset.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit acdab5c33f1ea6f5e08f06f08bc64af23ff40d71
Author: Scott Wood <scottwood@freescale.com>
Date:	Thu Jun 26 14:06:52 2008 -0500

    mpc8313erdb: Enable NAND in config.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit c3db8c649c6ab3da2f1411c4c6d61aecea054aa4
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Thu Jul 31 12:38:26 2008 +0200

    NAND: Do not write or read a whole block if it is larger than the environment

    Environment can be smaller than NAND block size, do not need to read a whole
    block and minimum for writing is one page. Also remove an unused variable.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit eafcabd15f00c142156235c519fcc55b10993241
Author: Marcel Ziswiler <marcel@ziswiler.com>
Date:	Sun Jun 22 16:30:06 2008 +0200

    NAND: chip->state does not always get set.

    Fixes an issue with chip->state not always being set causing troubles.

    Signed-off-by: Marcel Ziswiler <marcel@ziswiler.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 13f0fd94e3cae6f8a0d9fba5d367e311edc8ebde
Author: Ilya Yanok <yanok@emcraft.com>
Date:	Mon Jun 30 15:34:40 2008 +0200

    NAND: Scan bad blocks lazily.

    Rather than scanning on boot, scan upon the first attempt to check the
    badness of a block.  This speeds up boot when not using NAND, and reduces
    the likelihood of needing to reflash via JTAG if NAND becomes
    nonfunctional.

    Signed-off-by: Ilya Yanok <yanok@emcraft.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit dfbf617ff055e4216f78d358b0867c548916d14b
Author: Scott Wood <scottwood@freescale.com>
Date:	Thu Jun 12 13:20:16 2008 -0500

    NAND read/write fix

    Implement block-skipping read/write, based on a patch from
    Morten Ebbell Hestens <morten.hestnes@tandberg.com>.

    Signed-off-by: Morten Ebbell Hestnes <morten.hestnes@tandberg.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 984e03cdf1431bb593aeaa1b74c445d616f955d3
Author: Scott Wood <scottwood@freescale.com>
Date:	Thu Jun 12 13:13:23 2008 -0500

    NAND: Always skip blocks on read/write/boot.

    Use of the non-skipping versions was almost always (if not always)
    an error, and no valid use case has been identified.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit e1c3dbada349992875934575c97b328ab2cb33ca
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Thu Jun 12 11:10:21 2008 -0500

    nand: fsl_upm: convert to updated MTD NAND infrastructure

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 300253306acc72b1b2e9faf0987f86551151d7cf
Author: Scott Wood <scottwood@freescale.com>
Date:	Thu May 22 15:02:46 2008 -0500

    fsl_elbc_nand: Hard-code the FBAR/FPAR split.

    The hardware has separate registers for block and page-within-block,
    but the division between the two has no apparent relation to the
    actual erase block size of the NAND chip.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 9c814b0a716aae884bec977b9a032dfa59cfb79a
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Fri Mar 28 22:10:54 2008 +0300

    fsl_elbc_nand: workaround for hangs during nand write

    Using current driver elbc sometimes hangs during nand write. Reading back
    last byte helps though (thanks to Scott Wood for the idea).

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 9fd020d6b4b36b9fb67cd834bc1ae7fdba15ee9e
Author: Scott Wood <scottwood@freescale.com>
Date:	Fri Mar 21 16:12:51 2008 -0500

    Freescale eLBC FCM NAND driver

    This is a driver for the Flash Control Machine of the enhanched Local Bus
    Controller found on some Freescale chips (such as the mpc8313 and the
    mpc8379).

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 41ef8c716e93fdf50efe9c1ba733ca6675daaca6
Author: Scott Wood <scottwood@freescale.com>
Date:	Tue Mar 18 15:29:14 2008 -0500

    Don't panic if a controller driver does ecc its own way.

    Some hardware, such as the enhanced local bus controller used on some
    mpc83xx chips, does ecc transparently when reading and writing data, rather
    than providing a generic calculate/correct mechanism that can be exported to
    the nand subsystem.

    The subsystem should not BUG() when calculate, correct, or hwctl are
    missing, if the methods that call them have been overridden.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit e52b34d40a8a646e3d11638ea8797e96398dba13
Author: Stefan Roese <sr@denx.de>
Date:	Thu Jan 10 18:47:33 2008 +0100

    NAND: Make NAND driver less verbose per default

    This patch turns off printing of bad blocks per default upon bootup.
    This can always be shown via the "nand bad" command later.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit fe56a2772e5c59577df906163d0d4b29b056140e
Author: Sergey Kubushyn <ksi@koi8.net>
Date:	Wed Jan 9 15:36:20 2008 +0100

    NAND: Davinci driver updates

    Here comes a trivial patch to cpu/arm926ejs/davinci/nand.c. Unfortunately I
    don't have hardware handy so I can not test it at the moment but changes are
    rather trivial so it should work. It would be nice if somebody with a
    hardware checked it anyways.

    Signed-off-by: Sergey Kubushyn <ksi@koi8.net>

commit deac913effd8d80535c9ff4687b6fcdff540c554
Author: Stefan Roese <sr@denx.de>
Date:	Sat Jan 5 16:50:32 2008 +0100

    NAND: Fix compilation warning and small coding style issue

    Signed-off-by: Stefan Roese <sr@denx.de>

commit c568f77acdf896fc3dd6413ce53205b17ba809a3
Author: Stefan Roese <sr@denx.de>
Date:	Sat Jan 5 16:49:37 2008 +0100

    NAND: Update nand_spl driver to match updated nand subsystem

    This patch changes the NAND booting driver nand_spl/nand_boot.c to match
    the new infrastructure from the updated NAND subsystem. This NAND
    subsystem was recently synced again with the Linux 2.6.22 MTD/NAND
    subsystem.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 3df2ece0f0fbba47d27f02fff96c533732b98c14
Author: Stefan Roese <sr@denx.de>
Date:	Sat Jan 5 16:47:58 2008 +0100

    NAND: Update 4xx NDFC driver to match updated nand subsystem

    This patch changes the 4xx NAND driver ndfc.c to match the new
    infrastructure from the updated NAND subsystem. This NAND
    subsystem was recently synced again with the Linux 2.6.22 MTD/NAND
    subsystem.

    Tested successfully on AMCC Sequoia and Bamboo.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 12072264528eba33737bc9674e19f0e925ffda23
Author: Stefan Roese <sr@denx.de>
Date:	Sat Jan 5 16:43:25 2008 +0100

    NAND: Change nand_wait_ready() to not call nand_wait()

    This patch changes nand_wait_ready() to not just call nand_wait(),
    since this will send a new command to the NAND chip. We just want to
    wait for the chip to become ready here.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 9ad754fef5053144daed3b007adaf1c9bec654c9
Author: William Juul <william.juul@datarespons.no>
Date:	Fri Dec 14 16:33:45 2007 +0100

    make nand dump and nand dump.oob work

    Signed-off-by: William Juul <william.juul@tandberg.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 43ea36fb8fdcbc6e26f0caffe808c63633b18838
Author: William Juul <william.juul@datarespons.no>
Date:	Mon Nov 19 14:46:00 2007 +0100

    moving files from yaffs2/direct/ to yaffs2/ and deleting all symlinks

    Signed-off-by: William Juul <william.juul@tandberg.com>

commit 98824ce3f95e6c4d08d439b779c0acb0048045a6
Author: William Juul <william.juul@tandberg.com>
Date:	Tue Jun 10 16:18:13 2008 -0500

    Clean out unneeded files

    Signed-off-by: William Juul <william.juul@tandberg.com>

commit ec29a32b5a71b203f7d9087f1f4d786e7f13dd23
Author: William Juul <william.juul@datarespons.no>
Date:	Fri Nov 16 08:44:27 2007 +0100

    Create symlinks from yaffs2/direct to yaffs2

    Signed-off-by: William Juul <william.juul@tandberg.com>

commit 90ef117b68387d66763291af0117677644166611
Author: William Juul <william.juul@datarespons.no>
Date:	Thu Nov 15 12:23:57 2007 +0100

    Incorporate yaffs2 into U-boot

    To use YAFFS2 define CONFIG_YAFFS2

    Signed-off-by: William Juul <william.juul@tandberg.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 0e8cc8bd92257da2e1df88cbc985e166e472ce61
Author: William Juul <william.juul@datarespons.no>
Date:	Thu Nov 15 11:13:05 2007 +0100

    YAFFS2 import

    Direct import of yaffs as a tarball as of 20071113 from their public
    CVS-web at http://www.aleph1.co.uk/cgi-bin/viewcvs.cgi/yaffs2/

    The code can also be imported on the command line with:
    export CVSROOT=:pserver:anonymous@cvs.aleph1.co.uk:/home/aleph1/cvs cvs logon
    (Hit return when asked for a password)
    cvs checkout yaffs2

    Signed-off-by: William Juul <william.juul@tandberg.com>
    Signed-off-by: Stig Olsen <stig.olsen@tandberg.com>

commit 3043c045d5a9897faba7d5c7218c2f4d06cd0038
Author: William Juul <william.juul@datarespons.no>
Date:	Wed Nov 14 14:28:11 2007 +0100

    Whitespace cleanup and marking broken code.

    Changes requested by maintainer Stefan Roese after
    posting patch to U-boot mailing list.

    Signed-off-by: William Juul <william.juul@tandberg.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 5e1dae5c3db7f4026f31b6a2a81ecd9e9dee475f
Author: William Juul <william.juul@datarespons.no>
Date:	Fri Nov 9 13:32:30 2007 +0100

    Fixing coding style issues

     - Fixing leading white spaces
     - Fixing indentation where 4 spaces are used instead of tab
     - Removing C++ comments (//), wherever I introduced them

    Signed-off-by: William Juul <william.juul@tandberg.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 4cbb651b29cb64d378a06729970e1e153bb605b1
Author: William Juul <william.juul@datarespons.no>
Date:	Thu Nov 8 10:39:53 2007 +0100

    Remove white space at end.

    Signed-off-by: William Juul <william.juul@tandberg.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit cfa460adfdefcc30d104e1a9ee44994ee349bb7b
Author: William Juul <william.juul@datarespons.no>
Date:	Wed Oct 31 13:53:06 2007 +0100

    Update MTD to that of Linux 2.6.22.1

    A lot changed in the Linux MTD code, since it was last ported from
    Linux to U-Boot. This patch takes U-Boot NAND support to the level
    of Linux 2.6.22.1 and will enable support for very large NAND devices
    (4KB pages) and ease the compatibility between U-Boot and Linux
    filesystems.

    This patch is tested on two custom boards with PPC and ARM
    processors running YAFFS in U-Boot and Linux using gcc-4.1.2
    cross compilers.

    MAKEALL ppc/arm has some issues:
     * DOC/OneNand/nand_spl is not building (I have not tried porting
       these parts, and since I do not have any HW and I am not familiar
       with this code/HW I think its best left to someone else.)

    Except for the issues mentioned above, I have ported all drivers
    necessary to run MAKEALL ppc/arm without errors and warnings. Many
    drivers were trivial to port, but some were not so trivial. The
    following drivers must be examined carefully and maybe rewritten to
    some degree:
     cpu/ppc4xx/ndfc.c
     cpu/arm926ejs/davinci/nand.c
     board/delta/nand.c
     board/zylonite/nand.c

    Signed-off-by: William Juul <william.juul@tandberg.com>
    Signed-off-by: Stig Olsen <stig.olsen@tandberg.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit cd82919e6c8a73b363a26f34b734923844e52d1c
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Aug 12 16:08:38 2008 +0200

    Coding style cleanup, update CHANGELOG, prepare release

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 17e900b8c0f38d922da47073246219dce2a847f2
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Aug 12 14:54:04 2008 +0200

    MVBC_P: fix compile problem

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 52b047ae48219b59bebe37ba743ab103fd4f8316
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Aug 12 12:10:11 2008 +0200

    MPC8272ADS: fix build error: 'bd_t' has no member named 'pci_clk'

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit c9c101c660b3d1995045c61c7c6041f52b6cf335
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Aug 12 00:36:53 2008 +0200

    ads5121: fix compiler warnings (unused variables)

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 902ca09246039964d59bbcb519b1e1b5aed01308
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Aug 11 11:29:28 2008 -0500

    85xx: Rename CONFIG_NR_CPUS to CONFIG_NUM_CPUS

    Use CONFIG_NUM_CPUS to match existing define used by 86xx.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: Jon Loeliger <jdl@freescale.com>

commit 3216ca9692ff80d7c638723ef448f3d36301d9e7
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Aug 11 09:20:53 2008 -0500

    Fix fallout from autostart revert

    The autostart revert caused a bit of duplicated code as well as
    code that was using images->autostart that needs to get removed so
    we can build again.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 3cf8a234b8e8c02e4da1f23566043bc288b05220
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Aug 11 09:16:25 2008 -0500

    Fix compile error related to r8a66597-hcd & usb

    When building the 8544DS board we get this error:

    In file included from r8a66597-hcd.c:22:
    u-boot/include/usb.h:190:2: error: #error USB Lowlevel not defined
    make[1]: *** [r8a66597-hcd.o] Error 1

    The cleanest fix is to only build r8a66597-hcd.c if CONFIG_USB_R8A66597_HCD
    is set.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 2d0daa03612338a813e3c9d22680e54eabfea378
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Mon Aug 4 14:02:26 2008 -0500

    POWERPC 86xx: Move BAT setup code to C

    This is needed because we will be possibly be locating
    devices at physical addresses above 32bits, and the asm
    preprocessing does not appear to deal with ULL constants
    properly. We now call write_bat in lib_ppc/bat_rw.c.

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>
    Acked-by: Jon Loeliger <jdl@freescale.com>

commit 9de67149db576c91b9c2a0a182652331e7e44211
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Mon Aug 4 14:01:53 2008 -0500

    POWERPC: Add synchronization to write_bat in lib_ppc/bat_rw.c

    Perform sync/isync as required by the architecture.

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>
    Acked-by: Jon Loeliger <jdl@freescale.com>

commit 23f935c073e7578c6066804fd2f9ee116cae6ffe
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Mon Aug 4 14:01:16 2008 -0500

    POWERPC: 86xx - add missing CONFIG_HIGH_BATS to sbc8641d config

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>
    Acked-by: Jon Loeliger <jdl@freescale.com>

commit 5276a3584d26a9533404f0ec00c3b61cf9a97939
Author: Magnus Lilja <lilja.magnus@gmail.com>
Date:	Sun Aug 3 21:44:10 2008 +0200

    i.MX31: Fix mx31_gpio_mux() function and MUX_-macros.

    Correct the mx31_gpio_mux() function to allow changing all i.MX31 IOMUX
    contacts instead of only the first 256 ones as is the case prior to
    this patch.

    Add missing MUX_* macros and update board files to use the new macros.

    Signed-off-by: Magnus Lilja <lilja.magnus@gmail.com>

commit b6b183c5b2fffd4c456b7e3fcb064cceb47fe7ac
Author: Magnus Lilja <lilja.magnus@gmail.com>
Date:	Sun Aug 3 21:43:37 2008 +0200

    i.MX31: Fix IOMUX related typos

    Correct the names of some IOMUX macros.

    Signed-off-by: Magnus Lilja <lilja.magnus@gmail.com>

commit 4d57b0fb2927d4f50d834884b4ec4a7ca01708b0
Author: Steve Sakoman <steve@sakoman.com>
Date:	Mon Aug 11 20:26:16 2008 +0200

    OneNAND: Remove unused parameters to onenand_verify_page

    The block and page parameters of onenand_verify_page() are not used. This causes a compiler error when CONFIG_MTD_ONENAND_VERIFY_WRITE is enabled.

    Signed-off-by: Steve Sakoman <steve@sakoman.com>
    Signed-off-by: Dirk Behme <dirk.behme@gmail.com>

commit e84d568fa2a9f4ce7888141e71676368ef6b3f25
Author: Anatolij Gustschin <agust@denx.de>
Date:	Fri Aug 8 18:00:40 2008 +0200

    video: fix bug in cfb_console code

    FILL_15BIT_555RGB macro extension for pixel swapping
    by commit bed53753dd1d7e6bcbea4339be0fb7760214cc35
    introduced a bug in cfb_console:

    Bitmaps with odd-numbered width won't be rendered
    correctly and even U-Boot crashes are observed on
    some platforms while repeated rendering of such
    bitmaps with "bmp display". Also if a bitmap is
    rendered to an odd-numbered x starting position,
    the same problem occurs. This patch is an attempt
    to fix it.

    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit d9015f6a50d7258125349ef5c2af836458a0029a
Author: Anatolij Gustschin <agust@denx.de>
Date:	Fri Aug 8 18:00:39 2008 +0200

    video: fix bug in logo_plot

    If logo_plot() should ever be called with x starting
    position other than zero and for pixel depths greater
    than 8bpp, logo colors distortion will be observed.
    This patch fixes the issue.

    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit 406819ae94f79f5b59e01d163380ca7d83709251
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Aug 11 00:17:52 2008 +0200

    MAINTAINERS: sort entries

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit cfc442d7913d4d1c3a9bf494f90c012c2f8c3bdc
Author: Roy Zang <tie-fei.zang@freescale.com>
Date:	Thu Aug 7 18:19:28 2008 +0800

    Add mpc7448hpc2 maintainer information

    Signed-off-by: Roy Zang <tie-fei.zang@freescale.com>

commit a9fe0c3e7ca48afa50d6a0db99fa91e7282d73d8
Author: Gururaja Hebbar K R <gururajakr@sanyo.co.in>
Date:	Thu Aug 7 13:13:27 2008 +0530

    common/cmd_load.c - Minor code & Coding Style cleanup

    - os_data_header Variable is a carry over feature
       & unused. So removed all instance of this variable
     - Minor Code Style Update

    Signed-off-by: Gururaja Hebbar <gururajakr@sanyo.co.in>
    Acked-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 0d28f34bbe56d0971bd603789dcc6fe7adf11f14
Author: Magnus Lilja <lilja.magnus@gmail.com>
Date:	Wed Aug 6 19:32:33 2008 +0200

    Update the U-Boot wiki URL.

    Signed-off-by: Magnus Lilja <lilja.magnus@gmail.com>

commit aa5ffa16d7e4c461b7b77bf8e79d2ef5638cf754
Author: dirk.behme@googlemail.com <dirk.behme@googlemail.com>
Date:	Sun Aug 10 17:56:36 2008 +0200

    OneNAND: Remove base address offset usage

    While locally preparing some U-Boot patches for ARM based OMAP3 boards, some
    using OneNAND and some using NAND, we found some differences in OneNAND and
    NAND command address handling.

    As this might confuse users (it already confused us), we like to align OneNAND
    and NAND address handling.

    The issue is that cmd_onenand.c subtracts the onenand base address from the
    addresses you type into the u-boot command line so, unlike nand, you can't
    use addresses relative to the start of the onenand part e.g. this won't work:

    onenand read 82000000 280000 400000

    you have to use:

    onenand read 82000000 20280000 400000

    Looking at recent git, the only board currently using OneNAND is Apollon, and
    for this the OneNAND base address is 0 (apollon.h)

    #define	CFG_ONENAND_BASE	0x00000000

    so patch below won't break any existing boards and will align OneNAND and NAND
    handling on boards where OneNAND base address is != 0.

    Signed-off-by: Steve Sakoman <sakoman@gmail.com>
    Signed-off-by: Manikandan Pillai <mani.pillai@ti.com>
    Signed-off-by: Dirk Behme <dirk.behme@gmail.com>

commit c11528083ef6e55e76df742228c26e39d151813d
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Aug 7 09:28:20 2008 -0500

    mpc85xx: workaround old binutils bug

    The recent change to move the .bss outside of the image gives older
    binutils (ld from eldk4.1/binutils-2.16) some headache:

    ppc_85xx-ld: u-boot: Not enough room for program headers (allocated 3, need 4)
    ppc_85xx-ld: final link failed: Bad value

    We workaround it by being explicit about the program headers and not
    assigning the .bss to a program header.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 0bf202ec586d4466c900e987720fa635c594d689
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Aug 10 01:26:26 2008 +0200

    Revert "[new uImage] Add autostart flag to bootm_headers structure"

    This reverts commit f5614e7926863bf0225ec860d9b319741a9c4004.

    The commit was based on a misunderstanding of the (documented)
    meaning of the 'autostart' environment variable. It might cause
    boards to hang if 'autostart' was used, with the potential to brick
    them. Go back to the documented behaviour.

    Conflicts:

	common/cmd_bootm.c
	common/image.c
	include/image.h

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 29f8f58ff40c67f7f2e11afd1715173094e52ac2
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Aug 9 23:17:32 2008 +0200

    TQM8xx{L,M}: try to normalize config files for TQM8xx? based board

    - enable CFI driver where this was forgotten
    - enable mtdparts support
    - adjust default environment
    etc.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 41266c9b5a5f873df3ec891bb0907616958b5602
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Tue Aug 5 10:51:57 2008 -0500

    FIT: Fix handling of images without ramdisks

    boot_get_ramdisk() should not treat the case when a FIT image does
    not contain a ramdisk as an error.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>
    Acked-by: Michal Simek <monstr@monstr.eu>

commit f77d92a3f56d88e63cc02226a1204b3bdbac6961
Author: Sergey Lapin <slapin@ossfans.org>
Date:	Sat Aug 9 01:39:09 2008 +0400

    DataFlash: AT45DB021 fix and AT45DB081 support

    Fix for page size of AT45DB021. Also adding bigger AT45DB081
    which comes with some newer boards.

    Signed-off-by: Sergey Lapin <slapin@ossfans.org>

commit ba9324451b662dd393afa53e5cc36fc5d3d10966
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Fri Aug 8 16:30:23 2008 +0900

    sh: Update sh7763rdp config

    Add sh_eth support to sh7763rdp.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>

commit 21f971ec265f6042ec21636d55d06a6bc0751077
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Jul 7 01:22:29 2008 +0200

    TQM823L: re-enable logo support; update LCD_INFO text

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 3b8d17f0f082073346c0df017c9dfd6acdb40d6d
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Aug 8 16:41:56 2008 +0200

    TQM8xxL: fix support for second flash bank

    When switching the TQM8xxL modules to use the CFI flash driver,
    support for the second flash bank was broken because the CFI driver
    did not support dynamically sized banks. This gets fixed now.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 2a112b234d879f6390503a5f4e38246acce9d0b0
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Aug 8 16:39:54 2008 +0200

    CFI: allow for dynamically determined flash sizes and addresses

    The CFI driver allowed only for static initializers in the
    CFG_FLASH_BANKS_LIST definition, i. e. it did not allow to map
    several flash banks contiguously if the bank sizes were not known in
    advance, which kind of violates U-Boot's design philosophy.

    (will be used for example by the TQM8xxL boards)

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit d9d78ee46d9a396d0a81d00c2b003a9bd32c2e61
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Thu Aug 7 23:26:35 2008 -0700

    QE UEC: Fix compiler warnings

    Moved static functions earlier in file so forward declarations are not needed.

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit d5d28fe4aad5f4535400647a5617c11039506467
Author: David Saada <David.Saada@ecitele.com>
Date:	Mon Mar 31 02:37:38 2008 -0700

    QE UEC: Add MII Commands

    Add MII commands to the UEC driver. Note that once a UEC device is selected,
    any device on its MDIO bus can be addressed.

    Signed-off-by: David Saada <david.saada@ecitele.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit fd0f2f3796ff2a7a32d35deb1b7996e485849df7
Author: Yoshihiro Shimoda <shimoda.yoshihiro@renesas.com>
Date:	Wed Jul 9 21:07:38 2008 +0900

    usb: add support for R8A66597 usb controller

    add support for Renesas R8A66597 usb controller.
    This patch supports USB Host mode.

    Signed-off-by: Yoshihiro Shimoda <shimoda.yoshihiro@renesas.com>
    Signed-off-by: Markus Klotzbuecher <mk@denx.de>

commit 1d10dcd041aaeae9fd7c821005692898a0303382
Author: Hunter, Jon <jon-hunter@ti.com>
Date:	Sat Jul 26 18:59:16 2008 -0500

    Add support for OMAP5912 and OMAP16xx to usbdcore_omap1510.c

    Add support to drivers/usb/usbdcore_omap1510.c for OMAP5912 and OMAP16xx devices.

    Signed-off-by: Jon Hunter <jon-hunter@ti.com>
    Signed-off-by: Markus Klotzbuecher <mk@denx.de>

commit eab1007334b93a6209f1ec33615e26ef5311ede7
Author: Steven A. Falco <sfalco@harris.com>
Date:	Wed Aug 6 15:42:52 2008 -0400

    ppc4xx: Sequoia has two UARTs in "4-pin" mode. Configure the GPIOs as per schematic.

    The Sequoia board has two UARTs in "4-pin" mode. This patch modifies the GPIO
    configuration to match the schematic, and also sets the SDR0_PFC1 register to
    select the corresponding mode for the UARTs.

    Signed-off-by: Steven A. Falco <sfalco@harris.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 0eb5717a85b6cba3f67c11fa89bdde38dcd081b5
Author: Hans-Christian Egtvedt <hans-christian.egtvedt@atmel.com>
Date:	Wed Aug 6 14:42:13 2008 +0200

    avr32: add support for EarthLCD Favr-32 board

    This patch adds support for the Favr-32 board made by EarthLCD.

    This kit, which is also called ezLCD-101 when running with EarthLCD firmware,
    has a 10.4" touch screen LCD panel, 16 MB 32-bit SDRAM, 8 MB parallel flash,
    Ethernet, audio out, USB device, SD-card slot, USART and various other
    connectors for cennecting stuff to SPI, I2C, GPIO, etc.

    Signed-off-by: Hans-Christian Egtvedt <hans-christian.egtvedt@atmel.com>
    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit bc9019e19758a19a388fb20ef18dc771cd39fdda
Author: Rafael Campos <rafael.campos@hanscan.com>
Date:	Thu Jul 31 10:22:20 2008 +0200

    cfi-flash: Added support to flash_real_protect for Atmel flash devices

    Some of the flash memories produced by ATMEL start in read-only mode.
    We need to unprotect it. This patch allows the AT49BV6416 to work with
    cfi_flash memories. Tested in the at91rm9200ek board.

    Signed-off-by: Rafael Campos Las Heras <rafael.campos@hanscan.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 7949839e5836bf8b1074bb6142c46d30ac3aa350
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Tue Aug 5 15:36:39 2008 +0200

    cfi-flash: Add definition for the AM29LV800BB AMD NOR-flash

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 1318673045fe188c6e24c582b1e6efc00ae1c62c
Author: Stefan Roese <sr@denx.de>
Date:	Wed Aug 6 14:06:03 2008 +0200

    Fix merge problems

    Signed-off-by: Stefan Roese <sr@denx.de>

commit f2302d4430e7f3f48308d6a585320fe96af8afbd
Author: Stefan Roese <sr@denx.de>
Date:	Wed Aug 6 14:05:38 2008 +0200

    Fix merge problems

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 6689484ccd43189322aaa5a1c6cd02cdd511ad7d
Author: Kenneth Johansson <kenneth@southpole.se>
Date:	Tue Jul 15 12:13:38 2008 +0200

    mpc5121: Move iopin features from board specific to common files.

    And in the process eliminate some duplicate register defines.

    Signed-off-by: Kenneth Johansson <kenneth@southpole.se>

commit ef11df6b66ecf5797e94ba322254b8fb7a4e2e12
Author: John Rigby <jrigby@freescale.com>
Date:	Tue Aug 5 17:38:57 2008 -0600

    mpc5121: squash some fdt fixup errors

    On ADS5121 when booting linux the following errors are seen:
	Unable to update property /soc5121@80000000:bus-frequency, err=FDT_ERR_NOTFOUND
	Unable to update property /soc5121@80000000/ethernet@2800:local-mac-address, err=FDT_ERR_NOTFOUND
	Unable to update property /soc5121@80000000/ethernet@2800:address, err=FDT_ERR_NOTFOUND

    This is caused by ft_cpu_setup trying to deal with
    both old and new soc node naming.  This patch
    fixes this by being smarter about what to
    fixup.

    Also do soc node fixups by compatible instead of by path.
    A new board config called OF_SOC_COMPAT defined
    to be "fsl,mpc5121-immr" replaces the old
    OF_SOC node path that was defined to be "soc@80000000".

    Old device trees still work, but the compatiblity
    is conditional on CONFIG_OF_SUPPORT_OLD_DEVICE_TREES
    which is on by default in include/configs/ads5121.h.

    Signed-off-by: John Rigby <jrigby@freescale.com>

commit 81091f58f0c58ecd26c5b05de2ae20ca6cdb521c
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Aug 2 23:48:30 2008 +0200

    drivers/serial: Move conditional compilation to Makefile for CONFIG_* macros

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 4cd7e6528f61ec669755c3754bb4f9779874fab3
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Aug 2 23:48:32 2008 +0200

    nios2/sysid: fix printf warning

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 66da6fa0e35e7ee56628c85981709afe7180fc8e
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Aug 2 23:48:33 2008 +0200

    Fix remaining build issues with MPC8xx FADS boards.

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 81d3f1fdddafd1eb53bbca8739f488d417eb3dd2
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Aug 2 23:48:31 2008 +0200

    nios2: fix phys_addr_t and phys_size_t support

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 5fa62000db6d0b46ecdeadbeb50faf5197db49ef
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Aug 2 23:48:34 2008 +0200

    mvbc_p: Fix problem with '#if (CONFIG_CMD_KGDB)'

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 1464eff77e7fdaed609ecf263a2423c9dcf96b1f
Author: Mark Jackson <mpfj@mimc.co.uk>
Date:	Fri Aug 1 09:48:29 2008 +0100

    Fix bitmap display for atmel lcd controller

    The current lcd_display_bitmap() function does not work properly
    for the Atmel LCD controller.

    2 fixes need to be done:-

    (a) when setting the colour map, use the lcd_setcolreg() function
	as provided by the Atmel driver
    (b) the data is never actually written to the lcd framebuffer !!

    Signed-off-by: Mark Jackson <mpfj@mimc.co.uk>

commit 2a433c66b1e2770349fe4911be23c375f053ebd8
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Aug 1 08:40:34 2008 +0200

    qemu_mips: update README to follow qemu update about default machine

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit ac169d645f5f0e0b9a232563099209e92a355d8e
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Jul 31 19:53:21 2008 -0500

    ColdFire: Fix compilation issue caused by a missing function

    Implement usec2ticks() which is used by fsl_i2c.c in
    lib_m68k/time.c

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit 01ae85b58b51d2fb1fac5b93095f6042cf48ae7b
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Jul 31 19:53:06 2008 -0500

    Fix compilation error for TASREG

    TASREG is ColdFire platform, the include ppc4xx.h in
    board/esd/common/flash.c causes conflict.

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit 35d3bd3cc35c508a6823dac77e0fd126808e4fc7
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Jul 31 19:52:36 2008 -0500

    Fix compilation error for MCF5275

    Rename OBJ to COBJ in board/platform/Makefile

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit 5c40548f01218360a1f1395198c50ff45f3035b5
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Jul 31 19:52:28 2008 -0500

    Fix compile error caused by incorrect function return type

    Rename int mii_init(void) to void mii_init(void) for idmr
    ColdFire platform

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit a58c78067c928976c082c758d3987e89ead5b191
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Aug 1 12:06:22 2008 +0200

    Fix build issues with MPC8xx FADS boards.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 4b50cd12a3b3c644153c4cf393f4a4c12289e5aa
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Jul 31 17:54:03 2008 +0200

    Prepare v1.3.4-rc2: update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit a48311557db6e7e9473a6163b44bb1e6c6ed64c4
Author: Mark Jackson <mpfj@mimc.co.uk>
Date:	Thu Jul 31 16:09:00 2008 +0100

    Add gzipped logo support

    The README file states that CONFIG_VIDEO_BMP_GZIP behaves as follows:

      If this option is set, additionally to standard BMP
      images, gzipped BMP images can be displayed via the
      splashscreen support or the bmp command.

    However, the splashscreen function *only* supports standard BMP images.

    This patch adds the documented gzip support.

    Signed-off-by: Mark Jackson <mpfj@mimc.co.uk>

commit a5bcb01fbde6b1f1c9863cd86e5c4c369f0121ac
Author: Mark Jackson <mpfj@mimc.co.uk>
Date:	Thu Jul 31 15:56:48 2008 +0100

    Fix Atmel LCD controller endianess for AVR32 processors

    The Atmel lcd controller is used on Atmel's AT91 (little endian) and
    AVR32 (big endian) platforms.

    As such, the controller can handle both big and little endian memory.

    This patch fixes the driver for the AVR32 platform.

    Signed-off-by: Mark Jackson <mpfj@mimc.co.uk>

commit cdb8bd2fd3bcbe65d8e4334a55f5a667845426a1
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Thu Jul 31 15:56:01 2008 +0200

    apollon: fix build out of tree

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 2e752be39d3e398d4ab89ffa6634c397df298297
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Thu Jul 31 12:35:04 2008 +0200

    Uncompressed images loaded to their start address shall set load_end too

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>
    Acked-by: Bartlomiej Sieka <tur@semihalf.com>

commit c37207d7f51e19c17f859966f314e27cc1231801
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Jul 16 16:38:59 2008 +0200

    Fix printf() format problems with configurable prompts

    U-Boot allows for configurable prompt strings using the
    CONFIG_AUTOBOOT_PROMPT resp. CONFIG_MENUPROMPT definitions. So far,
    the assumption was that any such user defined problts would contain
    exactly one "%d" format specifier. But some boards did not.

    To allow for flexible boot prompts without adding too complex code we
    now allow to specify the whole list of printf() arguments in the user
    definition. This is powerful, but requires a responsible user who
    really understands what he is doing, as he needs to know for exanple
    which variables are available in the respective context.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 54754120637b6a7f4ff774fb199fc550bcfea1da
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Jul 31 17:02:14 2008 +0200

    TQM85xx: fix typo introduce by commit ffbb5cb9

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 0b4951d4cddca9cc800745891c95b291e47cbbd7
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Jul 31 15:27:01 2008 +0200

    mvbc_p board: fix most build warnings.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit c4ec6db074051d2f6fc76a66411c60621b22bc02
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Jul 31 13:57:20 2008 +0200

    E1000: clean up CONFIG_E1000_FALLBACK_MAC handling

    Avoid "integer constant is too large for 'long' type" warnings.
    And simplify the code.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 9196b44334c330cc13de2464c59181e4db71f549
Author: Matvejchikov Ilya <matvejchikov@gmail.com>
Date:	Wed Jul 30 23:21:19 2008 +0400

    8260: Making the use of gd->pci_clk dependant on the CONFIG_PCI

    Signed-off-by: Matvejchikov Ilya <matvejchikov@gmail.com>

commit 6361ad4b596f5a940a01c91ae0297d98f790cbe0
Author: Matvejchikov Ilya <matvejchikov@gmail.com>
Date:	Wed Jul 30 23:20:32 2008 +0400

    PPC: Add pci_clk in the global_data for CPM2 processors

    This patch adds pci_clk field to the global_data structure for the
    processors which have CPM2 module in case the CONFIG_PCI is defined.

    Signed-off-by: Matvejchikov Ilya <matvejchikov@gmail.com>

commit f0ff885ca64655bee6540eb8a25eed90b1152686
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Jul 30 14:13:30 2008 -0500

    mpc85xx: Update linker scripts for Freescale boards

    * Move to using absolute addressing always.  Makes the scripts a bit more
      portable and common
    * Moved .bss after the end of the image.  These allows us to have more
      room in the resulting binary image for code and data.
    * Removed .text object files that aren't really needed
    * Make sure _end is 4-byte aligned as the .bss init code expects this.
      (Its possible that the end of .bss isn't 4-byte aligned)

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 57c219ad5d34dd9d49991777a62e3899595f2ec7
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Jul 30 08:01:15 2008 -0500

    Fix compile warnings in dlmalloc

    The origional code was using on odd reference to get to the first
    real element in av_[].  The first two elements of the array are
    not used for actual bins, but for house keeping.  If we are more
    explicit about how use the first few elements we can get rid of the
    warnings:

    dlmalloc.c: In function 'malloc_extend_top':
    dlmalloc.c:1971: warning: dereferencing type-punned pointer will break strict-aliasing rules
    dlmalloc.c:1999: warning: dereferencing type-punned pointer will break strict-aliasing rules
    dlmalloc.c:2029: warning: dereferencing type-punned pointer will break strict-aliasing rules
    ...

    The logic of how this code came to be is:
	bin_at(0) = (char*)&(av_[2]) - 2*SIZE_SZ

    SIZE_SZ is the size of pointer, and av_ is arry of pointers so:
	bin_at(0) = &(av_[0])

    Going from there to bin_at(0)->fd or bin_at(0)->size should be straight forward.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 3f9ae1a5d43c49a8ecf497470c3d1d80255e44b9
Author: Stefan Roese <sr@denx.de>
Date:	Wed Jul 30 10:21:01 2008 +0200

    ppc4xx: Fix W7OLMG compile problems by adding missing LM75 defines

    Signed-off-by: Stefan Roese <sr@denx.de>

commit ebb86c4ecd37a7701358284e497ca4c6483c7cc5
Author: Stefan Roese <sr@denx.de>
Date:	Wed Jul 30 09:59:51 2008 +0200

    cmd_bootm.c: Fix problem with '#if (CONFIG_CMD_USB)'

    A recent patch used '#if (CONFIG_CMD_USB)' instead of
    '#if defined(CONFIG_CMD_USB)'. This patch fixes this problem and makes
    common/bootm.c compile again.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Acked-by: Markus Klotzbuecher <mk@denx.de>

commit 2cb9080427fe641dcb71da46cd0634dd406f37ed
Author: Kyungmin Park <kmpark@infradead.org>
Date:	Tue Jul 22 08:01:43 2008 +0900

    Remove unused I2C at apollon board

    There are no I2C devices on this board.

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>

commit 3c95960e526b3b026da20201db64526f46faf14b
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Jul 31 10:12:09 2008 +0200

    at91rm9200dk, csb637: fix NAND related build problems

    Tried fixing NAND support for the at91rm9200dk board; untested.
    Disabled NAND support in the csb637 board config file.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 9246f5ecfd353ae297a02ffd5328402acf16c9dd
Author: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>
Date:	Wed Jul 30 12:39:28 2008 +0200

    ppc4xx: ML507: Environment in flash and MTD Support

    - Relocate the location of U-Boot in the flash
    - Save the environment in one sector of the flash memory
    - MTD Support

    Signed-off-by: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit a8a16af4d59d14cc1c1187c10aaad80d6b8394b5
Author: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>
Date:	Tue Jul 29 17:16:10 2008 +0200

    ppc4xx: ML507: Use of get_ram_size in board ml507

    - Change suggested by WD

    Signed-off-by: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 01a004313c5ec2d128b611df4c208b1b0d3c3fb4
Author: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>
Date:	Mon Jul 21 20:30:07 2008 +0200

    ppc4xx: ML507: U-Boot in flash and System ACE

    This patch allows booting from FLASH the ML507 board by Xilinx.
    Previously, U-Boot needed to be loaded from JTAG or a Sytem ACE CF

    Signed-off-by: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 5c374c9ee16fee2bf68533cc4010b3c0df21f783
Author: Julien May <mailinglist@miromico.ch>
Date:	Mon Jun 23 13:57:52 2008 +0200

    Add support for the hammerhead (AVR32) board

    The Hammerhead platform is built around a AVR32 32-bit microcontroller
    from Atmel.  It offers versatile peripherals, such as ethernet, usb
    device, usb host etc.

    The board also incooperates a power supply and is a Power over Ethernet
    (PoE) Powered Device (PD).

    Additonally, a Cyclone III FPGA from Altera is integrated on the board.
    The FPGA is mapped into the 32-bit AVR memory bus. The FPGA offers two
    DDR2 SDRAM interfaces, which will cover even the most exceptional need
    of memory bandwidth. Together with the onboard video decoder the board
    is ready for video processing.

    For more information see: http:///www.miromico.com/hammerhead

    Signed-off-by: Julien May <mailinglist@miromico.ch>
    [haavard.skinnemoen@atmel.com: various small fixes and adaptions]
    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit 09d318a8bb1444ec92e31cafcdba877eb9409e58
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Jul 29 12:23:49 2008 -0500

    fsl_i2c: Use timebase timer functions instead of get_timer()

    The current implementation of get_timer() is only really useful after we
    have relocated u-boot to memory.  The i2c code is used before that as part
    of the SPD DDR setup.

    We actually have a bug when using the get_timer() code before relocation
    because the .bss hasn't been setup and thus we could be reading/writing
    a random location (probably in flash).

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 4fc72a0d6ca85070a5e90d76cc5a853526ac09c4
Author: Frank Svendsbe <frank.svendsboe@gmail.com>
Date:	Tue Jul 29 14:49:31 2008 +0200

    Adder8xx: Fix CFG_MONITOR_LEN

    Due to increased space usage, U-Boot can no longer be stored in three sectors.
    The current U-Boot use just over three flash sectors (197k), and U-Boot will
    become corrupt after saving environment variables. This patch adds another 64k
    to CFG_MONITOR_LEN.

    Signed-off-by: Frank E. Svendsbe <frank.svendsboe@gmail.com>

commit a4c59ad4a21140550ada6f97690d2527c4146ce5
Author: Kyungmin Park <kmpark@infradead.org>
Date:	Tue Jul 29 08:47:57 2008 +0900

    Add OneNAND IPL related files to gitignore

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>

commit 8d87589e8e874df7120a3d9667f051bc33bac250
Author: Rafal Jaworowski <raj@semihalf.com>
Date:	Mon Jul 28 20:38:25 2008 +0200

    API: Teach the storage layer about SATA and MMC options.

    Signed-off-by: Rafal Czubak <rcz@semihalf.com>
    Acked-by: Rafal Jaworowski <raj@semihalf.com>

commit 6b73b754f782e1ecce5048bf20b22ce56a07a5b8
Author: Rafal Jaworowski <raj@semihalf.com>
Date:	Mon Jul 28 20:37:48 2008 +0200

    API: Dump contents of sector 0 in the demo application.

    Signed-off-by: Rafal Czubak <rcz@semihalf.com>
    Acked-by: Rafal Jaworowski <raj@semihalf.com>

commit 13ca6305f2eba49c175f6370c35286141059c789
Author: Rafal Jaworowski <raj@semihalf.com>
Date:	Mon Jul 28 20:37:10 2008 +0200

    API: Correct storage enumeration routine, other minor fixes in API storage area.

    Signed-off-by: Rafal Czubak <rcz@semihalf.com>
    Acked-by: Rafal Jaworowski <raj@semihalf.com>

commit 05c7fe0f049b1c9eb9a1992f27e5e350d865f4a8
Author: Rafal Jaworowski <raj@semihalf.com>
Date:	Mon Jul 28 20:36:19 2008 +0200

    API: Fix compilation warnings in api_examples/demo.c.

    Signed-off-by: Rafal Czubak <rcz@semihalf.com>

commit c14eefcc48212af2f3314809605698dd8393a90a
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Jul 27 17:09:43 2008 +0200

    Fix more printf() format warnings

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 936897d4d1365452bbbdf8430db5e7769ef08d38
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Jul 25 15:18:16 2008 +0200

    Fix remaining CFG_CMD_ define, ifdef and comments

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 5d1d00fb36005482e1803a00ddc46efa11d719af
Author: Stefano Babic <sbabic@denx.de>
Date:	Fri Jul 25 08:57:40 2008 +0200

    Add include for config.h in command.h.

    Because the cmd_tbl_s structure depends on the configuration file, it
    must be assured that config.h is included before the structure is
    evaluated by the compiler. If this is not certain, it could happen
    that the compiler generates structures of different size, depending
    on the fact if the source file includes <config.h> before or after
    <command.h>.

    The effect is that u-boot crashes when tries to relocate the command
    table (for ppc) or try to access to the command table for other
    architectures.

    The problem can happen on board-depending commands. All general
    commands under /common are unaffected, because they include already
    config.h before command.h.

    Signed-off-by: Stefano Babic <sbabic@denx.de>

commit 2dacb734bac9dba1db9e704d3e0b200ef521c79a
Author: Scott Wood <scottwood@freescale.com>
Date:	Wed Jul 23 13:16:06 2008 -0500

    NAND: $(obj)-qualify ecc.h in kilauea NAND boot Makefile.

    This fixes building out-of-tree.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 36d59bd9da9e15d19b867b48449408830f4e2ad5
Author: Heiko Schocher <hs@denx.de>
Date:	Wed Jul 23 07:30:46 2008 +0200

    Fix warnings if compiling with IDE support.

    cmd_ide.c:827: Warnung: weak declaration of `ide_outb' after first use results in unspecified behavior
    cmd_ide.c:839: Warnung: weak declaration of `ide_inb' after first use results in unspecified behavior

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 7610db17fd4d59c51d825488526d85ede2f06767
Author: Adrian Filipi <adrian.filipi@eurotech.com>
Date:	Tue Jul 22 14:28:11 2008 -0400

    Removed support for the adsvix board.

    Support for the adsvix was originally provided by Applied Data
    Systems (ADS), inc., now EuroTech, Inc.
    The board never shipped aside from some sample boards.

    Signed-off-by: Adrian Filipi <adrian.filipi@eurotech.com>

commit f96b44cef897bd372beb86dde1b33637c119d84d
Author: Remy Bohmer <linux@bohmer.net>
Date:	Tue Jul 22 16:22:11 2008 +0200

    ARM: set GD_FLG_RELOC for boards skipping relocation to RAM

    If CONFIG_SKIP_RELOCATE_UBOOT is set the flag GD_FLG_RELOC is usually
    never set, because relocation to RAM is actually never done by U-boot
    itself. However, several pieces of code check if this flag is set at
    some time.

    So, to make sure this flag is set on boards skipping relocation, this
    is added to the initialisation of U-boot at a moment where it is safe
    to do so.

    Signed-off-by: Remy Bohmer <linux@bohmer.net>

commit e4dafff86f289b5677143a3e41da7b45c6d27fc7
Author: Timur Tabi <timur@freescale.com>
Date:	Mon Jul 21 14:26:23 2008 -0500

    fsl-i2c: fix writes to data segment before relocation

    Prevent i2c_init() in fsl_i2c.c from writing to the data segment before
    relocation.  Commit d8c82db4 added the ability for i2c_init() to program the
    I2C bus speed and save the value in i2c_bus_speed[], which is a global
    variable.  It is an error to write to the data segment before relocation,
    which is what i2c_init() does when it stores the bus speed in i2c_bus_speed[].

    Signed-off-by: Timur Tabi <timur@freescale.com>

commit dbd32387920e5ad6f9dd58a7b5012bbabe2a6a21
Author: Wolfgang Ocker <weo@reccoware.de>
Date:	Mon Jul 28 16:56:51 2008 +0200

    mips: Fix baudrate divisor computation on alchemy cpus

    Use CFG_MIPS_TIMER_FREQ when computing the baudrate divisor
    on alchemy cpus.

    Signed-off-by: Wolfgang Ocker <weo@reccoware.de>
    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit c8c845cfdc6d0217135c1d5927eebd2b133a3314
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Sat Jul 5 00:08:48 2008 -0700

    Moved initialization of AVR32 Ethernet controllers to board_eth_init()

    Renamed initialization functions for atngw100 and atstk1000.
    Removed initializations for these boards from net/eth.c

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>
    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit a229d291f33308ab7761d39f25fa1a53c0fc00a2
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Wed Jul 23 10:55:46 2008 +0200

    spi flash: Fix printf() format warnings

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit 252a5e0738bcafaf25f7fbb40f19a59abc2cb13e
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Wed Jul 23 10:55:31 2008 +0200

    atmel_mci: Fix printf() format warnings

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit 7f4b009f4232d57084ce0ec5aeb3b57bccb08e4c
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Wed Jul 23 10:55:15 2008 +0200

    avr32: Fix printf() format warnings

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit a79c3e8d9c31db25d5ca3ec8e08a97f323410dd4
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Wed Jul 23 10:52:19 2008 +0200

    avr32: asm/io.h needs asm/types.h

    map_physmem() takes a phys_addr_t as parameter. This type is defined in
    asm/types.h, so we need to include that file.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit 1953d128fd07f07d1c3810a28c0863ea64dae1b6
Author: Michal Simek <monstr@monstr.eu>
Date:	Thu Jul 17 12:25:46 2008 +0200

    microblaze: Fix printf() format issues

    Signed-off-by: Michal Simek <monstr@monstr.eu>

commit de2a07e534f18b1ca5f9869a4ef0604ca829cff0
Author: Gururaja Hebbar K R <gururajakr@sanyo.co.in>
Date:	Thu Jul 17 07:27:51 2008 +0530

    Remove unused code from lib_arm/bootm.c

    Signed-off-by: Gururaja Hebbar <gururajakr@sanyo.co.in>

commit ffbb5cb942e9856fa24e946977e0a60c64df04ab
Author: Detlev Zundel <dzu@denx.de>
Date:	Wed Jul 16 18:56:45 2008 +0200

    tqm85xx: Demystify 'DK: !!!' comment

    Signed-off-by: Detlev Zundel <dzu@denx.de>

commit b2f44ba570f3a01113bbb745daf46f3858d22f53
Author: Detlev Zundel <dzu@denx.de>
Date:	Wed Jul 16 18:56:44 2008 +0200

    83xx/85xx/86xx: Add LTEDR local bus definitions

    Signed-off-by: Detlev Zundel <dzu@denx.de>

commit f13f64cf42d5abec3e0f920233f6a7a61e7ae494
Author: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>
Date:	Wed Jul 16 16:22:32 2008 +0200

    serial_xuartlite.c: fix compiler warnings

    Signed-off-by: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>
    Acked-by: Grant Likely <grant.likely@secretlab.ca>

commit 86446d3a5d9d3ca81e85d1ccd3accaaae6f8e3c9
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jul 18 11:03:35 2008 +0200

    POST: Add disable interrupts in some of the missing CPU POST tests

    Some CPU POST tests did not disable the interrupts while running. This
    seems to be necessary to protect this self modifying code.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 97a3bf268d096e0e97e54048448c35114edcf557
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jul 18 10:43:24 2008 +0200

    ide: Use CFG_64BIT_LBA instead of CFG_64BIT_STRTOUL

    This is needed for boards that define CFG_64BIT_STRTOUL but don't define
    CFG_64BIT_LBA.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 0043ac55024963295fc79b39af85b6dc3b261e17
Author: Niklaus Giger <niklaus.giger@netstal.com>
Date:	Fri Jul 18 11:22:23 2008 +0200

    POST PPC4xx/spr IVPR only if PPC440

    The SPR IVPR register is only present (as far as I know) for
    processors with a PPC440 core.

    Signed-off-by: Niklaus Giger <niklaus.giger@netstal.com>
    Acked-by: Stefan Roese <sr@denx.de>

commit 1092fbd64748dfa2e979b102611ece9bc5ec1855
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jul 18 10:42:29 2008 +0200

    ppc4xx: Enable 64bit printf format on 440/460 platforms

    This patch defines CFG_64BIT_VSPRINTF and CFG_64BIT_STRTOUL for all
    440/460 platforms. This may be needed since those platforms support
    36bit physical address space.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 66fe183b1dd9c7534605147a8ecfed1c02345ee5
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jul 18 15:57:23 2008 +0200

    ppc4xx: Fix incorrect MODTx setup for some DIMM configurations

    This patch fixes a problem with incorrect MODTx (On Die Termination)
    setup for a configuration with multiple DIMM's and multiple ranks.
    Without this change Katmai was unable to boot Linux with DDR2 frequency
    >= 533MHz and mem>=3GB. With this patch Katmai successfully boots Linux
    with DDR2 frequency = 640MHz and mem=4GB.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 60204d06ed9f8c2a67cc79eb67fd2b1d22bcbc8c
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jul 18 12:24:41 2008 +0200

    ppc4xx: Minor coding style cleanup of Xilinx Virtex5 ml507 support

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 086511fc96a8a9bb56e5e19a3d84c40f4dba80cc
Author: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>
Date:	Thu Jul 17 12:47:09 2008 +0200

    ppc4xx: ML507 Board Support

    The Xilinx ML507 Board is a Virtex 5 prototyping board that includes,
	among others:
	-Virtex 5 FX FPGA (With a ppc440x5 in it)
	-256MB of SDRAM2
	-32MB of Flash
	-I2C Eeprom
	-System ACE chip
	-Serial ATA connectors
	-RS232 Level Conversors
	-Ethernet Transceiver

    This patch gives support to a standard design produced by EDK for this
    board: ppc440, uartlite, xilinx_int and flash

    - Includes Changes propossed by Stefan Roese and Michal Simek

    Signed-off-by: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>
    Acked-by: Stefan Roese <sr@denx.de>

commit d865fd09809a3a18669f35f970781820af40e4de
Author: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>
Date:	Thu Jul 17 11:44:12 2008 +0200

    ppc4xx: CPU PPC440x5 on Virtex5 FX

    -This patchs gives support for the embbedded ppc440
     on the Virtex5 FPGAs
    -interrupts.c divided in uic.c and interrupts.c
    -xilinx_irq.c for xilinx interrupt controller
    -Include modifications propossed by  Stefan Roese

    Signed-off-by: Ricardo Ribalda Delgado <ricardo.ribalda@uam.es>
    Acked-by: Stefan Roese <sr@denx.de>

commit 340ccb260f21516be360745d5c5e3bd0657698df
Author: Sebastian Siewior <bigeasy@linutronix.de>
Date:	Wed Jul 16 20:04:49 2008 +0200

    cfi_flash: fix flash on BE machines with CFG_WRITE_SWAPPED_DATA

    This got broken by commits 93c56f212c
     [cfi_flash: support of long cmd in U-boot.]

    That command needs to be in little endian format on BE machines
    with CFG_WRITE_SWAPPED_DATA. Without this patch, the command 0xf0
    gets saved on stack as 0x00 00 00 f0 and 0x00 gets written into
    the cmdbuf in case portwidth = chipwidth = 8bit.

    Cc: Alexey Korolev <akorolev@infradead.org>
    Cc: Vasiliy Leonenko <vasiliy.leonenko@mail.ru>
    Signed-off-by: Sebastian Siewior <bigeasy@linutronix.de>

commit 11188d55bc16dd907451c00282e00a038f73dd62
Author: Stefan Roese <sr@denx.de>
Date:	Thu Jul 17 10:40:51 2008 +0200

    ppc4xx: Fix alphabetical order in 4xx Makefile part (redwood)

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 021f6df6e96af5b387810cf96d24848da1faa55c
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Thu Jul 10 17:20:51 2008 +0400

    83xx: mpc8315erdb: fix silly thinko in fdt_tsec1_fixup

    The thinko was quite silly indeed, I messed with !ptr. Normally this
    would trigger some fault, but in U-Boot NULL pointer is equal to phys
    0, so the code was working still, just didn't actually test mpc8315erdb
    environment variable value. Heh.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 25f5f0d49a3ae89bf4396f2557ce98debfef21da
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Tue Jul 8 21:00:04 2008 +0400

    83xx: mpc8315erdb: add support for switching between ULPI/UTMI USB PHYs

    Freescale ships MPC8315E-RDB boards either with TSEC1 and USB UTMI
    support, or without TSEC1 but with USB ULPI PHY support in addition.
    With this patch user can specify desired USB PHY.

    Also, it seems that we can't distinguish the two boards in software, so
    user have to set `mpc8315erdb' environment variable to either 'tsec1'
    (TSEC1 enabled) or `ulpi' (board with ULPI PHY, TSEC1 disabled), so that
    Linux will not probe for TSEC1.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 015b27b9e165fcf220e42f2c4afbaeaa2758fcf6
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Tue Jul 8 20:59:43 2008 +0400

    fdt_support: fdt_fixup_dr_usb: add support for phy_type fixups

    Currently U-Boot can only fixup the usb dr_mode, but some boards (namely
    MPC8315E-RDB) can use two PHY types: ULPI (stand-alone OTG port) or UTMI
    (connected to the four-ports hub, usb host only).

    This patch implements support for passing Dual-Role USB controller's
    device tree property phy_type through the usb_phy_type environment
    variable.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Acked-by: Gerald Van Baren <vanbaren@cideas.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 699f05125509249072a0b865c8d35520d97cd501
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Jul 15 22:22:44 2008 +0200

    Prepare v1.3.4-rc1: Code cleanup, update CHANGELOG, sort Makefile

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit bcab74baa6b1b1c969038ab6f64a186239180405
Author: Hugo Villeneuve <hugo.villeneuve@lyrtech.com>
Date:	Tue Jul 15 11:23:02 2008 -0400

    Round the serial port clock divisor value returned by calc_divisor()

    Round the serial port clock divisor value returned by
    calc_divisor()

    Signed-off-by: Hugo Villeneuve <hugo.villeneuve@lyrtech.com>
    Acked-by: Gerald Van Baren <vanbaren@cideas.com>

commit 0328ef0edfe950f0b7b8b368dae482531506b74a
Author: Robin Getz <rgetz@blackfin.uclinux.org>
Date:	Tue Jul 15 21:44:46 2008 +0200

    Fix DHCP protocol so U-Boot does not respond too early
    on the network with it's offered IP number; it should not reply until
    after it has received a DHCP ACK message. Also ensures that U-Boot
    does it's DHCPREQUEST as broadcast (per RFC 2131).

    Signed-off-by: Robin Getz <rgetz@blackfin.uclinux.org>
    Acked-by: Ben Warren <biggerbadderben@gmail.com>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 7288f972fcaee14a9741cb08c8688a23874b4a2e
Author: Sebastian Siewior <bigeasy@linutronix.de>
Date:	Tue Jul 15 13:35:23 2008 +0200

    cfi_flash: make the command u32 only

    This got changed by commit 93c56f212c
    [cfi_flash: support of long cmd in U-boot.]

    Long is the wrong type because it will behave differently on 64bit
    machines in a way that is probably not expected. u32 should be
    enough.

    Cc: Alexey Korolev <akorolev@infradead.org>
    Cc: Vasiliy Leonenko <vasiliy.leonenko@mail.ru>
    Signed-off-by: Sebastian Siewior <bigeasy@linutronix.de>

commit 31cfe57491b183acae575d486729e158f016c27b
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Mon Jul 14 23:48:41 2008 +0200

    tools/gitignore: update to all generated files

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 5e0de0e216b8fb27634afb11c60a2fa24c23349e
Author: Andre Schwarz <andre.schwarz@matrix-vision.de>
Date:	Wed Jul 9 18:30:44 2008 +0200

    mpc5xxx: Add MVBC_P board support

    The MVBC_P is a MPC5200B based camera system with Intel Gigabit ethernet
    controller (using e1000) and custom Altera Cyclone-II FPGA on PCI.

    Signed-off-by: Andre Schwarz <andre.schwarz@matrix-vision.de>
    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit e2d31fb3450653115452144363d5bde4e5e3e693
Author: Timur Tabi <timur@freescale.com>
Date:	Thu Jun 19 17:56:11 2008 -0500

    Update Freescale sys_eeprom.c to handle CCID formats

    Update the sys_eeprom.c file to handle both NXID and CCID EEPROM formats.  The
    NXID format replaces the older CCID format, but it's important to support both
    since most boards out there still use the CCID format.  This change is in
    preparation for using one file to handle both formats.  This will also unify
    EEPROM support for all Freescale 85xx and 86xx boards.

    Also update the 86xx board header files to use the standard CFG_I2C_EEPROM_ADDR
    instead of ID_EEPROM_ADDR.

    Signed-off-by: Timur Tabi <timur@freescale.com>

commit d85f46a25ccb33ed9b295de3c2cfe1ce270ece9a
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Fri Jul 11 17:22:43 2008 +0900

    pci: sh: Add pci_skip_dev and pci_print_dev function

    Add function of new PCI, pci_skip_dev and pci_print_dev.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 1107014e835ec9d46c0333f4211d104f77442db0
Author: Andy Fleming <afleming@freescale.com>
Date:	Mon Jul 14 20:29:07 2008 -0500

    Clean up INIT_RAM options

    The L2_INIT_RAM option was unused, and recent changes to the TLB code
    meant that the INIT_RAM TLBs weren't being cleared out.  In order to reduce
    the amount of mapped space attached to nothing, we change things so the TLBs
    get cleared.

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 4524561820a9327e89107854b3a7187800ccf719
Author: Andy Fleming <afleming@freescale.com>
Date:	Mon Jul 14 20:26:57 2008 -0500

    Remove fake flash bank from 8544 DS

    The fake flash bank was generating errors for anyone who didn't have a
    PromJET hooked up to the board.  As that constitutes the vast majority of
    users, we remove it.

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 630d9bfcb5f6d3a43f251901a6b480994dcb6ea3
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Jul 14 14:07:03 2008 -0500

    MPC8544DS: Add ATI Video card support

    Add support for using a PCIe ATI Video card on PCIe2.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 7f9f4347cf325c63a39fe30910f3fb211ae2cc15
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Jul 14 14:07:02 2008 -0500

    85xx: Add some L1/L2 SPR register definitions

    Add new L1/L2 SPRs related to e500mc cache config and control.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit e5852787f0c3c442a276262f13d91ca450605ac0
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Jul 14 14:07:01 2008 -0500

    MPC8544DS: Report board id, board version and fpga version.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 73f15a060f67a2462551c334215bd20fac6b81d1
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Jul 14 14:07:00 2008 -0500

    85xx: Cleanup L2 cache size detection

    The L2 size detection code was a bit confusing and we kept having to add
    code to it to handle new processors.  Change the sense of detection so we
    look for the older processors that aren't changing.

    Also added support for 1M cache size on 8572.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit c3ca7e5e00a24451f20df3bded9a61ba541921df
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Fri Jul 11 15:33:08 2008 -0400

    sbc8560: enable CONFIG_OF_LIBFDT by default

    Make the default build for the sbc8560 board be powerpc
    capable with libfdt support.

    Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>

commit 6b44a44ec2aab180d7095c1c92e669cee1d3e3bd
Author: Andy Fleming <afleming@freescale.com>
Date:	Mon Jul 14 20:04:40 2008 -0500

    Fix indentation for default boot environment variables

    This was proposed by Paul Gortmaker in response to Wolfgang's comments on
    similar #defines in sbc8560.h.

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 37fef499104e28e0a83b02b85ca0d1fbe80d294a
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Fri Jul 11 15:33:07 2008 -0400

    sbc8560: add default fdt values

    Add in the default fdt settings and the typical EXTRA_ENV
    settings as borrowed from the mpc8560ads.  Fix a couple
    of stale references to the mpc8560ads dating back to the
    original clone/fork.

    Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit d04e76edf92f7f89696989e8702b97e020455af3
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Fri Jul 11 15:33:06 2008 -0400

    sbc8560: add in ft_board_setup()

    Add in for the sbc8560, the ft_board_setup() routine, based on what is
    in use for the Freescale MPC8560ADS board.

    Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>

commit c158bcaca3b31cbe38c4143812e6170e38a57393
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Fri Jul 11 15:33:05 2008 -0400

    sbc8560: define eth0 and eth1 instead of eth1 and eth2

    The existing config doesn't define CONFIG_HAS_ETH0, and so the
    fdt support doesn't update the zeros in the dtb local-mac with
    real data from the u-boot env.  Since the existing config is
    tailored to just two interfaces, get rid of the ETH2 definitions
    at the same time.

    Also don't include any end user specific data into the environment
    by default -- things like MAC address, network parameters etc. need
    to come from the end user.

    Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 0ec436d2f95076d9e46ae594db6e9b1d8732840d
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Fri Jul 11 15:33:04 2008 -0400

    sbc8560: properly set cs0_bnds for 512MB

    The sbc8560 board ships with 512MB of memory installed,
    but the current cs0_bnds is hard coded for 256MB.  Set the
    value based on CFG_SDRAM_SIZE.

    Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>

commit 6de5bf24004c8d9c9b070bb8f7418d1c45e5eb27
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Fri Jul 11 15:33:03 2008 -0400

    sbc8560: proper definitions for TSEC.

    The definitions for the TSEC have become out of date.  There is no
    longer any such options like "CONFIG_MPC85xx_TSEC1" or similar.
    Update to match those of other boards, like the MPC8560ADS.

    Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
    Acked-by: Ben Warren <biggerbadderben@gmail.com>

commit 71074abbe0c76429577aff58aeff0a24ad210b23
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Wed Jul 9 13:23:05 2008 -0400

    8xxx-fdt: set ns16550 clock from CFG_NS16550_CLK, not bi_busfreq

    Some boards that have external 16550 UARTs don't have a direct
    tie between bi_busfreq and the clock used for the UARTs.  Boards
    that do have such a tie should set CFG_NS16550_CLK to be
    get_bus_freq(0) -- which most of them do already.

    Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>
    Acked-by: Kim Phillips <kim.phillips@freescale.com>

commit 24ef76f320fbadf074105229826514db140f939f
Author: Andrew Klossner <andrew@cesa.opbu.xerox.com>
Date:	Wed Jul 2 07:03:53 2008 -0700

    Change the temp map to ROM to align addresses to page size.

    With a page size of BOOKE_PAGESZ_16M, both the real and effective
    addresses must be multiples of 16MB.  The hardware silently truncates
    them so the code happens to work.  This patch clarifies the situation
    by establishing addresses that the hardware doesn't need to truncate.

    Signed-off-by: Andrew Klossner <andrew@cesa.opbu.xerox.com>
    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 06b4186c10204b6683edb047ac5f506fb0ce0937
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Tue Jun 17 17:45:22 2008 -0500

    mpc85xx: use IS_E_PROCESSOR macro

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 6b70ffb9d1b2e791161f3cf92937aa45b4a07b78
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Mon Jun 16 15:55:53 2008 -0500

    fdt: add crypto node handling for MPC8{3, 5}xxE processors

    Delete the crypto node if not on an E-processor.  If on 8360 or 834x family,
    check rev and up-rev crypto node (to SEC rev. 2.4 property values)
    if on an 'EA' processor, e.g. MPC8349EA.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 85e5808e8ea9f77da5219f23394112f0b424fa5e
Author: Hugo Villeneuve <hugo.villeneuve@lyrtech.com>
Date:	Fri Jul 11 15:10:11 2008 -0400

    ARM DaVinci: Remove extern phy_t declaration by moving code to proper place

    ARM DaVinci: Remove extern phy_t declaration by moving
    code to proper place.

    Signed-off-by: Hugo Villeneuve <hugo.villeneuve@lyrtech.com>

commit 3a9e7ba2ac14018c5dd1e78a7dd735571569c971
Author: Hugo Villeneuve <hugo.villeneuve@lyrtech.com>
Date:	Fri Jul 11 15:10:10 2008 -0400

    ARM DaVinci: Remove duplicate definitions of MACH_TYPE and prototype of i2c_init()

    ARM DaVinci: Remove duplicate definitions of MACH_TYPE
    and prototype of i2c_init().

    Signed-off-by: Hugo Villeneuve <hugo.villeneuve@lyrtech.com>

commit 348753d416cd2c9e7ec6520a544c8f33cf02a560
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Jul 14 14:03:02 2008 -0500

    Fix some more printf() format problems.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 45b16d22c64674ccd8c4637456a987463609141c
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Jul 14 22:38:42 2008 +0200

    Fix coding style; make code better parsable by external tools

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit b880cbf207b1c109d3a661417a8feddcbd729a9d
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Jul 14 21:19:08 2008 +0200

    cpu/i386/serial.c: Fix syntax errors

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit e2d45e6f4d9919e1afeac5e09557b2252832fccf
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Jul 14 20:41:35 2008 +0200

    elppc board: Coding style cleanup.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 82b24a8a505fc81466484b3c55b574ee0b4205bc
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Jul 14 20:40:22 2008 +0200

    elppc board: fix syntax error.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 0fe340585a6a48bd392d315b0dd84d068b1c3790
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Jul 14 20:38:26 2008 +0200

    EB+MCF-EV123 board: fix coding style (alingment)

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 6841785a0bb0f38175456a923edd634fb7dd6947
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Jul 14 20:36:44 2008 +0200

    EB+MCF-EV123 board: fix syntx error

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit ab5cda9f88c3eaf9cf599adc3a3375906c4ed904
Author: Andy Fleming <afleming@freescale.com>
Date:	Mon Jul 7 18:02:08 2008 -0500

    Remove LBC_CACHE_BASE from 8544 DS

    The 8544 DS doesn't have any cacheable Local Bus memories set up.  By mapping
    space for some anyway, we were allowing speculative loads into unmapped space,
    which would cause an exception (annoying, even if ultimately harmless).
    Removing LBC_CACHE_BASE, and using LBC_NONCACHE_BASE for the LBC LAW solves the
    problem.

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit d0ff51ba5d0309dbe9e25ea54f8a0285a6d5db90
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Jul 14 15:19:07 2008 +0200

    Code cleanup: fix old style assignment ambiguities like "=-" etc.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit d7854223c5c85b5849fbf422cc8ac0efef461c37
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Jul 14 15:10:53 2008 +0200

    AmigaOneG3SE: remove dead and incomplete files

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit b64f190b7a34224df09b559ca111eb1b733f00ad
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Jul 14 15:06:35 2008 +0200

    Fix printf() format issues with sizeof_t types by using %zu

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit f354b73e16a86f9e9085471a830605f74f84ea5d
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Mon Jul 14 14:11:45 2008 +0200

    vsprintf: add z and t options

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 25dbe98abb686d8210e1731fba85ced7d3ce874c
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Jul 13 23:07:35 2008 +0200

    Fix some more printf() format issues.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit d5996dd555edf52721b7691a4c59de016251ed39
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Jul 13 19:51:00 2008 +0200

    Fix some more printf() format problems.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 0f9d5f6d6e814907794995c6a22af752040c35d9
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Jul 13 19:48:26 2008 +0200

    ADS5121: Fix (delete) incorrect ads5121_diu_init() prototype

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 322716a1d1eb33a71067ba0eb1c5346fb2dd6b34
Author: Anatolij Gustschin <agust@denx.de>
Date:	Sat Jul 12 17:31:36 2008 +0200

    Fix bug in Lime video driver

    We need to wait while drawing engine clears frame
    buffer before any further software accesses to frame
    buffer will be initiated. Otherwise software drawn
    parts could be partially destroyed by the drawing
    engine or even GDC chip freeze could occur (as
    observed on socrates board).

    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit 0a5676befb0c590212a53f7627fa5d0d8a84bf34
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Jul 12 14:36:34 2008 +0200

    Fix some more printf() format issues.

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 18c8a28aad49803780bd8d52432ded528e37e701
Author: Michal Simek <monstr@monstr.eu>
Date:	Fri Jul 11 15:11:57 2008 +0200

    hwmon: rename CONFIG_DS1722 to CONFIG_DTT_DS1722

    Signed-off-by: Michal Simek <monstr@monstr.eu>
    Acked-by: Stefan Roese <sr@denx.de>

commit 6ecbb45bb027e90c19d63b48e7b0c05acc1a87c0
Author: Michal Simek <monstr@monstr.eu>
Date:	Fri Jul 11 11:50:53 2008 +0200

    hwmon: Cleaning hwmon devices

    Clean Makefile
    Move device specific values to driver for better reading

    Signed-off-by: Michal Simek <monstr@monstr.eu>
    Acked-by: Stefan Roese <sr@denx.de>

commit c78fce699c7ff467ecd841da6a79f065180bf578
Author: Michal Simek <monstr@monstr.eu>
Date:	Fri Jul 11 10:43:13 2008 +0200

    FIS: repare incorrect return value with ramdisk handling

    Microblaze and PowerPC use boot_get_ramdisk for loading
    ramdisk to memory with checking return value.
    Return 0 means success. Return 1 means failed.
    Here is correspond part of code from bootm.c which check
    return code.

    ret = boot_get_ramdisk (argc, argv, images, IH_ARCH_PPC,
		&rd_data_start, &rd_data_end);
    if (ret)
	goto error;

    Signed-off-by: Michal Simek <monstr@monstr.eu>

commit 84a2c64a26dc5e275e1cf4e76a6e194a18fb5477
Author: Michal Simek <monstr@monstr.eu>
Date:	Fri Jul 11 10:10:32 2008 +0200

    microblaze: Remove useless ancient headers

    Signed-off-by: Michal Simek <monstr@monstr.eu>

commit 53ea981c3124b13c137c2d10e975b7c6672266e0
Author: Michal Simek <monstr@monstr.eu>
Date:	Fri Jul 11 10:10:31 2008 +0200

    microblaze: Clean uartlite driver

    Redesign uartlite driver to in_be32 and out_be32 macros
    Fix missing header in io.h

    Signed-off-by: Michal Simek <monstr@monstr.eu>
    Acked-by: Grant Likely <grant.likely@secretlab.ca>

commit dbf3dfb386a2d5d2381814e39985ab2e21894550
Author: Marcel Ziswiler <marcel@ziswiler.com>
Date:	Fri Jul 11 02:39:14 2008 +0200

    Enable passing of ATAGs required by latest Linux kernel.

commit ef130d3093bdf88f01cf3e000fe5df249ebf2b1a
Author: Hugo Villeneuve <hugo.villeneuve@lyrtech.com>
Date:	Fri Jul 11 10:24:15 2008 -0400

    Fix integer overflow warning in calc_divisor()

    which happened when rounding the serial port clock divisor

    Signed-off-by: Hugo Villeneuve <hugo.villeneuve@lyrtech.com>

commit 6b760189d77f001684e3160b355c185ca3804961
Author: Marcel Ziswiler <marcel@ziswiler.com>
Date:	Fri Jul 11 01:09:59 2008 +0200

    Fix build time warnings in function mmc_decode_csd()

    Signed-off-by: Marcel Ziswiler <marcel@ziswiler.com>

commit c15947d6ce0d59925c97fdfac692476af6e262d0
Author: Hugo Villeneuve <hugo.villeneuve@lyrtech.com>
Date:	Thu Jul 10 10:46:33 2008 -0400

    ARM: Fix for broken compilation when defining CONFIG_CMD_ELF

    caused by missing dcache status/enable/disable functions.

    Signed-off-by: Hugo Villeneuve <hugo.villeneuve@lyrtech.com>

commit 068c1b77c8f42a1a31084d2f4b1d5cc807c1a9ce
Author: Stefan Roese <sr@denx.de>
Date:	Thu Jul 10 13:53:31 2008 +0200

    ppc4xx: Remove redundant ft_board_setup() functions from some 4xx boards

    This patch removes some ft_board_setup() functions from some 4xx boards.
    This can be done since we now have a default weak implementation for this
    in cpu/ppc4xx/fdt.c. Only board in need for a different/custom
    implementation like canyonlands need their own version.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit d39a089f8bc960ba9ae6a08fda5582b578620cc1
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Jul 13 14:58:16 2008 +0200

    Add last known maintainer for orphaned boards; reformat.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 5c761d57bb9940e016d561fda8b2ed84c55de5b6
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Thu Jul 10 13:16:04 2008 +0200

    Remove kharris@nexus-tech.net from MAINTAINERS

    Mail to kharris@nexus-tech.net bounces because the user doesn't exist
    anymore. You can't be a maintainer without a valid e-mail address, so
    move all boards that used to be maintained by Kyle Harris to the
    "orphaned" list.

    Currently, only PowerPC has a list of orphaned boards, so this patch
    creates one for ARM as well.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit 17bd17071463b0cde391ac4a0863d600474b4ea1
Author: Anatolij Gustschin <agust@denx.de>
Date:	Thu Jul 10 01:15:10 2008 +0200

    at91: Fix to enable using Teridian MII phy (78Q21x3) with at91sam9260

    On the at91sam9260ep development board there is an EEPROM
    connected to the TWI interface (PA23, PA24 Peripheral A
    multiplexing), so we cannot use these pins as ETX2, ETX3.
    This patch configures PA10, PA11 pins for ETX2, ETX3
    instead of PA23, PA24 pins.

    Signed-off-by: Anatolij Gustschin <agust@denx.de>
    Signed-off-by: Manuel Sahm <Manuel.Sahm@feig.de>

commit f889265753ddf4465d9d580827bb9289bfac55d6
Author: Kenneth Johansson <kenneth@southpole.se>
Date:	Sat Jul 12 13:18:34 2008 -0600

    fix DIU for small screens

    The DIU_DIV register is 8 bit not 5 bit. This prevented large DIV values
    so it was not possible to set a slow pixel clock and thus prevented
    display on small screens.

    Signed-off-by: Kenneth Johansson <kenneth@southpole.se>
    Acked-by: John Rigby <jrigby@freescale.com>

commit b60b8573875e650e4c69be667bfc88d3ed474a7c
Author: John Rigby <jrigby@freescale.com>
Date:	Fri Jul 11 14:44:09 2008 -0600

    ADS5121 cleanup compile warnings

    board/ads5121/iopin.c
	Replace bit fields in struct iopin_t with a single
	field and intialize it via plain old macros.
	This fixes the type pun warnings and makes the code
	more readable.

    board/ads5121/ads5121.c
	Add include iopin.h to ads5121.c for the iopin_initialize
	prototype.

	Add an extern void ads5121_diu_init(void)

    Signed-off-by: John Rigby <jrigby@freescale.com>

commit bde63587622c4b830a27d1ddf7265843de9e994f
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Jul 11 22:56:11 2008 +0200

    Fix some more printf() format issues.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 184f1b404a90eef8b425c0e7b3018d59ef9982c8
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Jul 11 22:55:31 2008 +0200

    Fixed some out-of-tree build issues

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 47bf9c71ae838305a3ea3161af8d14e6f3fc2c82
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Jul 9 16:20:23 2008 -0500

    ColdFire: Fix FB CS not setup properly for Mcf5282

    Remove all CFG_CSn_RO in cpu/mcf52x2/cpu_init.c. If
    CFG_CSn_RO is defined as 0, the chipselect will not
    be assigned.

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit bc3ccb139f0836f0a834cfd370a120a00ad7e63a
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Jul 9 15:47:27 2008 -0500

    ColdFire: Fix incorrect define for mcf5227x and mcf5445x RTC

    Rename CONFIG_MCFTMR to CONFIG_MCFRTC to include real time
    clock module in cpu/<cf arch>/cpu_init.c

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit f94945b517f10e01927101679c62361e03d4e837
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Jul 9 15:25:01 2008 -0500

    ColdFire: Fix incorrect board name in MAKEALL for M5253EVBE

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit 0e0c4357d14a3563c6a2a1e6d5ad6a2cc4f35cab
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Jul 9 15:21:44 2008 -0500

    Fix compile error caused by missing timer function

    Add #define CONFIG_MCFTMR in EB+MCF-EV123.h configuration file

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit c37ea031175b807c54e6bad9b270e9bede6c0078
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Jul 9 15:14:25 2008 -0500

    Fix compile error caused by incorrect function return type

    Rename int mii_init(void) to void mii_init(void)

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit ab4860b255239dbaecccdd002c8d11f4ef54dd75
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Jun 18 19:27:23 2008 -0500

    ColdFire: Fix power up issue for MCF5235

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit dd08e97361fbc9e79fa5ef1a8acf29273b934b11
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Jun 18 19:19:07 2008 -0500

    ColdFire: Fix compiling error for MCF5275

    The compiling error was caused by missing a closed parentheses
    in speed.c

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit 94603c2fd4dbe0655878416aa0da9f302d4c30d3
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Jun 18 19:14:01 2008 -0500

    ColdFire: Fix timer issue for MCF5272

    The timer was assigned to wrong timer memory mapped which
    caused udelay() and timer() not working properly.

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit 3b1e8ac9b43f89cc9291a6a86e6b33ef55801515
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Jun 18 19:12:13 2008 -0500

    ColdFire: Change invalid JMP to BRA caught by new v4e toolchain

    Signed-off-by: Kurt Mahan <kmahan@freescale.com>

commit 8371dc2066136be21e10b7b9293e469297d77298
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Jun 18 19:05:23 2008 -0500

    ColdFire: Add -got=single param for new linux v4e toolchains

    Signed-off-by: Kurt Mahan <kmahan@freescale.com>

commit 56d52615cd47bc522ee13bb7ec7e59d6ce9426c7
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Jun 18 13:21:19 2008 -0500

    ColdFire: Fix code flash configuration for M547x/M548x boards

    Signed-off-by: Kurt Mahan <kmahan@freescale.com>

commit 6e37091afc07fdcc15590093fd066b0cb7399f85
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Tue Jun 24 12:12:16 2008 -0500

    ColdFire: Fix warning messages by passing correct data type in board.c

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit 81cc32322acb1b3225ee45606ced48e2a14824dc
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Thu May 29 12:21:54 2008 -0500

    ColdFire: Fix UART baudrate formula

    The formula "counter = (u32) (gd->bus_clk / gd->baudrate) / 32"
    can generate the wrong divisor due to integer division truncation.
    Round the calculated divisor value by adding 1/2 the baudrate
    before dividing by the baudrate.

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
    Acked-by: Gerald Van Baren <vanbaren@cideas.com>

commit b578fb471444cbd7db1285701ba51343baaf73fb
Author: Stefan Roese <sr@denx.de>
Date:	Thu Jul 10 11:38:26 2008 +0200

    ppc4xx: Fix include sequence in 4xx_pcie.c

    This patch now moves common.h to the top of the inlcude list. This
    is needed for boards with CONFIG_PHYS_64BIT set (e.g. katmai), so that
    the phys_size_t/phys_addr_t are defined to the correct size in this
    driver.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 69e2c6d0d13d7c8cf1612ac090bdc4c59ba6858e
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jul 11 13:10:56 2008 +0200

    ppc4xx: Fix compile warning in 44x_spd_ddr2.c

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 6bd9138498c2e4f4f09190108b99157d1b2140b5
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jul 11 11:40:13 2008 +0200

    ppc4xx: Fix small korat merge problem

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 1d0554736a0a1dd59718acda660871ce56b69e18
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jul 11 11:34:52 2008 +0200

    ppc4xx: Some Rewood cleanups (coding style, leading white spaces)

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 3a82113ed5934d498f25080441a8261fc9454b15
Author: Stefan Roese <sr@denx.de>
Date:	Thu Jul 10 16:37:09 2008 +0200

    ppc4xx: Add 460SX UIC defines

    Only the really needed ones are added (cascading and EMAC/MAL).

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 26173fc6f60521c2a8072f652f863617fc11ba9a
Author: Stefan Roese <sr@denx.de>
Date:	Mon Jun 30 14:11:07 2008 +0200

    ppc4xx: Continue cleanup of ppc440.h

    This patch continues the ppc440.h cleanup by removing some of the unused
    defines.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit d9056b7913ed6a228d2f33671d916efedee541dd
Author: Stefan Roese <sr@denx.de>
Date:	Mon Jun 30 14:05:05 2008 +0200

    ppc4xx: Cleanup Katmai & Yucca PCIe register usage

    This patch cleans up the 440SPe PCIe register usage. Now only defines
    from the include/asm-ppc/4xx_pcie.h are used.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 5de851403b01489b493fa83137ad990b8ce60d1c
Author: Stefan Roese <sr@denx.de>
Date:	Thu Jun 26 17:36:39 2008 +0200

    ppc4xx: Rework 440GX UIC handling

    This patch reworks the 440GX interrupt handling so that the common 4xx
    code can be used. The 440GX is an exception to all other 4xx variants
    by having the cascading interrupt vectors not on UIC0 but on a special
    UIC named UICB0 (UIC Base 0). With this patch now, U-Boot references
    the 440GX UICB0 when UIC0 is selected. And the common 4xx interrupt
    handling is simpler without any 440GX special cases.

    Also some additional cleanup to cpu/ppc4xx/interrupt.c is done.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit d1631fe1a05b063ccaf62ea892a8887b829847d1
Author: Stefan Roese <sr@denx.de>
Date:	Thu Jun 26 13:40:57 2008 +0200

    ppc4xx: Consolidate PPC4xx UIC defines

    This 2nd patch now removes all UIC mask bit definition. They should be
    generated from the vectors by using the UIC_MASK() macro from now on.
    This way only the vectors need to get defined for new PPC's.

    Also only the really used interrupt vectors are now defined. This makes
    definitions for new PPC versions easier and less error prone.

    Another part of this patch is that the 4xx emac driver got a little
    cleanup, since now the usage of the interrupts is clearer.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 4fb25a3db3b3839094aa9ab748efd7a95924690b
Author: Stefan Roese <sr@denx.de>
Date:	Wed Jun 25 10:59:22 2008 +0200

    ppc4xx: Consolidate PPC4xx UIC defines

    This patch is the first step to consolidate the UIC related defines in the
    4xx headers. Move header from asm-ppc/ppc4xx-intvec.h to
    asm-ppc/ppc4xx-uic.h as it will hold all UIC related defines in the next
    steps.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 7ee2619c20ccecd57966d74d844e6329e141261c
Author: Stefan Roese <sr@denx.de>
Date:	Tue Jun 24 17:18:50 2008 +0200

    ppc4xx: Consolidate PPC4xx EBC defines

    This patch removes all EBC related defines from the PPC4xx headers
    ppc405.h and ppc440.h and introduces a new header

    include/asm-ppc/ppc4xx-ebc.h

    with all those defines.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit e321801bed5a6d896d298c00fd20046f039d5d66
Author: Stefan Roese <sr@denx.de>
Date:	Thu Jul 10 13:52:44 2008 +0200

    ppc4xx: Remove redundant ft_board_setup() functions from some 4xx boards

    This patch removes some ft_board_setup() functions from some 4xx boards.
    This can be done since we now have a default weak implementation for this
    in cpu/ppc4xx/fdt.c. Only board in need for a different/custom
    implementation like canyonlands need their own version.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 08250eb2edbd96514d049602d9e134110ac3185f
Author: Stefan Roese <sr@denx.de>
Date:	Thu Jul 10 15:32:32 2008 +0200

    ppc4xx: Fix merge problems in 44x_spd_ddr2.c

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 1740c1bf40e3c6d03ac16c29943fdd9fc1e87038
Author: Grant Erickson <gerickson@nuovations.com>
Date:	Tue Jul 8 08:35:00 2008 -0700

    ppc4xx: Add MII mode support to the EMAC RGMII Bridge

    This patch adds support for placing the RGMII bridge on the
    PPC405EX(r) into MII/GMII mode and allows a board-specific
    configuration to specify the bridge mode at compile-time.

    Signed-off-by: Grant Erickson <gerickson@nuovations.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 2e2050842e731c823ce8d41fb0c15579eb70ced9
Author: Grant Erickson <gerickson@nuovations.com>
Date:	Wed Jul 9 16:46:35 2008 -0700

    ppc4xx: Add Mnemonics for AMCC/IBM DDR2 SDRAM Controller

    This patch completes the preprocessor mneomics for the IBM DDR2 SDRAM
    controller registers (MODT and INITPLR) used by the
    PowerPC405EX(r). The MMODE and MEMODE registers are unified with their
    peer values used for the INITPLR MR and EMR registers,
    respectively. Finally, a spelling typo is correct (MANUEL to MANUAL).

    With these mnemonics in place, the CFG_SDRAM0_* magic numbers for
    Kilauea are replaced by equivalent mnemonics to make it easier to
    compare and contrast other 405EX(r)-based boards (e.g. during board
    bring-up).

    Finally, unified the SDRAM controller register dump routine such that
    it can be used across all processor variants that utilize the IBM DDR2
    SDRAM controller core. It produces output of the form:

	PPC4xx IBM DDR2 Register Dump:
		...
		SDRAM_MB0CF[40] = 0x00006701
		...

    which is '<mnemonic>[<DCR #>] = <value>'. The DCR number is included
    since it is not uncommon that the DCR values in header files get mixed
    up and it helps to validate, at a glance, they match what is printed
    in the user manual.

    Tested on:
      AMCC Kilauea/Haleakala:
      - NFS Linux Boot: PASSED
      - NAND Linux Boot: PASSED

    Signed-off-by: Grant Erickson <gerickson@nuovations.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit ad7382d828982e9c1bafc4313ef1b666f6145f58
Author: Grant Erickson <gerickson@nuovations.com>
Date:	Wed Jul 9 16:31:59 2008 -0700

    ppc4xx: Add AMCC/IBM DDR2 SDRAM ECC Field Mnemonics

    Add additional DDR2 SDRAM memory controller DCR mneomnics, condition
    revision ID DCR based on 405EX, and add field mnemonics for bus error
    status and ECC error status registers.

    Signed-off-by: Grant Erickson <gerickson@nuovations.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 103201731bd8e85404d0f51a5b4e8abd14c0b6c6
Author: Grant Erickson <gerickson@nuovations.com>
Date:	Wed Jul 9 16:31:36 2008 -0700

    ppc4xx: Add SDR0_SRST Mnemonics for the 405EX(r)

    This patch adds bit field mnemonics for the 405EX(r) SDR0_SRST soft reset register.

    Signed-off-by: Grant Erickson <gerickson@nuovations.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 5b457d00730d4aa0c6450d21a9104723e606fb98
Author: Grant Erickson <gerickson@nuovations.com>
Date:	Wed Jul 9 11:55:46 2008 -0700

    PPC4xx: Correct SDRAM_MCSTAT for PPC405EX(r)

    While the PowerPC 405EX(r) shares in common the AMCC/IBM DDR2 SDRAM
    controller core also used in the 440SP, 440SPe, 460EX, and 460GT, in
    the 405EX(r), SDRAM_MCSTAT has a different DCR value.

    Its present value on the 405EX(r) causes a read back of 0xFFFFFFFF
    which causes SDRAM initialization to periodically fail since it can
    prematurely indicate SDRAM ready status.

    Signed-off-by: Grant Erickson <gerickson@nuovations.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 0ce5c8675bb2c61f1d71fb97f0bbe822663fb93d
Author: Feng Kan <fkan@amcc.com>
Date:	Tue Jul 8 22:48:42 2008 -0700

    ppc4xx: Initial framework of the AMCC PPC460SX redwood reference board.

    Add AMCC Redwood reference board that uses the latest
    PPC 464 CPU processor combined with a rich mix of peripheral
    controllers. The board will support PCIe, mutiple Gig ethernet
    ports, advanced hardware RAID assistance and IEEE 1588.

    Signed-off-by: Feng Kan <fkan@amcc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 96e5fc0e6a1861d0fea4efa3cd376df95a5b1b89
Author: Feng Kan <fkan@amcc.com>
Date:	Tue Jul 8 22:48:07 2008 -0700

    ppc4xx: Add initial 460SX reference board (redwood) config file and defines.

    Signed-off-by: Feng Kan <fkan@amcc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 7d30793685efcada183891c78fc892e6c9ba50c7
Author: Feng Kan <fkan@amcc.com>
Date:	Tue Jul 8 22:47:31 2008 -0700

    ppc4xx: Add initial 460SX defines for the cpu/ppc4xx directory.

    Signed-off-by: Feng Kan <fkan@amcc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 9b55a2536919f4de1bb1044e6eb8262c2f53bc96
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Jul 11 01:16:00 2008 +0200

    Fix some more print() format errors.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit fdd70d1921b87287d9a99d1be99bc35226c2b412
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Thu Jul 10 20:57:54 2008 +0200

    MAKEALL: remove duplicated at91 from ARM9 list and add LIST_at91 to arm

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit c6457e3b8bc79a97381cf7deffa08f7c5a24f86c
Author: Sergey Lapin <slapin@ossfans.org>
Date:	Thu Jun 5 11:06:29 2008 +0400

    DataFlash AT45DB021 support

    Some boards based on AT91SAM926X-EK use smaller DF chips to keep
    bootstrap, u-boot and its environment, using NAND or other external
    storage for kernel and rootfs. This patch adds support for
    small 1024x263 chip.

    Signed-off-by: Sergey Lapin <slapin@ossfans.org>

commit 4109df6f75fc00ab7da56d286ba50149a0d16a69
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Thu Jul 10 14:00:15 2008 -0500

    silence misc printf formatting compiler warnings

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 3d71c81a9bb03f866a1e98da96363ef3f46c76b3
Author: Markus Klotzbcher <mk@denx.de>
Date:	Thu Jul 10 14:47:09 2008 +0200

    USB: shutdown USB before booting

    This patch fixes a potentially serious issue related to USB which was
    discouvered by Martin Krause <martin.krause@tqs.de> and fixed for
    ARM920T. Martin wrote:

      Turn off USB to prevent the host controller from writing to the
      SDRAM while Linux is booting. This could happen, because the HCCA
      (Host Controller Communication Area) lies within the SDRAM and the
      host controller writes continously to this area (as busmaster!), for
      example to increase the HccaFrameNumber variable, which happens
      every 1 ms.

    This is a slightly modified version of the patch in order to shutdown
    USB when booting on all architectures.

    Signed-off-by: Markus Klotzbuecher <mk@denx.de>

commit f31c49db2a5e076f415c0785eb37f67f2faa5fc8
Author: Martha Marx <mmarx@silicontkx.com>
Date:	Thu May 29 14:23:25 2008 -0400

    Configuration changes for ADS5121 Rev 3

    ADS5121 Rev 3 board is now the default config

    config targets are now

    ads5121_config
	Rev 3 board with
	PCI
	M41T62 on board RTC
	512MB DRAM

    ads5121_rev2_config
	Rev 2 board with
	No PCI
	256MB DRAM

    Signed-off-by: Martha Marx <mmarx@silicontkx.com>
    Acked-by: Grant Likely <grant.likely@secretlab.ca>
    Acked-by: John Rigby <jrigby@freescale.com>

commit 16bee7b0dc294ee01ca2434aa1dd3bd717a69615
Author: Martha Marx <mmarx@silicontkx.com>
Date:	Thu May 29 15:37:21 2008 -0400

    Consolidate ADS5121 IO Pin configuration

    Consolidate ADS5121 IO Pin configuration to one file
    board/ads5121/iopin.c.

    Remove pin config from cpu/mpc512x/fec.c

    Signed-off-by: Martha Marx <mmarx@silicontkx.com>
    Acked-by: Grant Likely <grant.likely@secretlab.ca>
    Acked-by: John Rigby <jrigby@freescale.com>

commit d4692b0ba83b7b454bbd92bad1f4befe6e1657b7
Author: Christian Eggers <christian@p2400.wgnetz.xx>
Date:	Fri Jun 27 19:46:51 2008 +0200

    Fix "usb part" command

    Only print partition for selected device if user supplied the <dev>
    arg with the "usb part [dev]" command.

    Signed-off-by: Christian Eggers <ceggers@gmx.de>
    Acked-by: Markus Klotzbuecher <mk@denx.de>

commit cc83b27217f7380041fea386ddb6d6d9b261617d
Author: Harald Welte <laforge@gnumonks.org>
Date:	Mon Jul 7 00:58:05 2008 +0800

    fix USB devices with multiple configurations

    This patch fixes bugs in usbdcore*.c related to the use of devices
    with multiple configurations.

    The original code made mistakes about the meaning of configuration value and
    configuration index, and the resulting off-by-one errors resulted in:

    * SET_CONFIGURATION always selected the first configuration, no matter what
      wValue is being passed.
    * GET_DESCRIPTOR/CONFIGURATION always returned the descriptor for the first
      configuration (index 0).

    Signed-off-by: Harald Welte <laforge@openmoko.org>
    Acked-by: Markus Klotzbuecher <mk@denx.de>

commit 06c53beae1a726e707971c555613f09b270a2461
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Jul 10 13:16:09 2008 +0200

    Fix some more print() format errors.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit d4b5f3fa001228d76e2c3380cedadf804b802c2a
Author: Christian Eggers <christian@p2400.wgnetz.xx>
Date:	Fri Jun 27 19:46:51 2008 +0200

    Fix "usb part" command

    Only print partition for selected device if user supplied the <dev>
    arg with the "usb part [dev]" command.

    Signed-off-by: Christian Eggers <ceggers@gmx.de>
    Acked-by: Markus Klotzbuecher <mk@denx.de>

commit e73b5212e0463a3db0af0a5c95c75bfb762ca973
Author: Harald Welte <laforge@gnumonks.org>
Date:	Mon Jul 7 00:58:05 2008 +0800

    fix USB devices with multiple configurations

    This patch fixes bugs in usbdcore*.c related to the use of devices
    with multiple configurations.

    The original code made mistakes about the meaning of configuration value and
    configuration index, and the resulting off-by-one errors resulted in:

    * SET_CONFIGURATION always selected the first configuration, no matter what
      wValue is being passed.
    * GET_DESCRIPTOR/CONFIGURATION always returned the descriptor for the first
      configuration (index 0).

    Signed-off-by: Harald Welte <laforge@openmoko.org>
    Acked-by: Markus Klotzbuecher <mk@denx.de>

commit e870690bdca154943ecadd5212d2d59c1b9d391b
Author: Stefan Roese <sr@denx.de>
Date:	Thu Jul 10 10:10:54 2008 +0200

    MTD/NAND: Fix printf format warning in nand code

    This patch fixes NAND related printf format warning. Those warnings are
    now visible since patch dc4b0b38d4aadf08826f6c31270f1eecd27964fd
    [Fix printf errors.] by Andrew Klossner has been applied. Thanks, this is
    really helpful.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 10943c9afa25694bd9999461f4e9e50ce22fff2b
Author: Stefan Roese <sr@denx.de>
Date:	Thu Jul 10 10:00:45 2008 +0200

    rtc: Fix printf format warning in m41t60.c

    Signed-off-by: Stefan Roese <sr@denx.de>

commit dc1da42f814cd71e6756c2cf62af1ada1d0581fb
Author: Stefan Roese <sr@denx.de>
Date:	Tue Jul 8 12:01:47 2008 +0200

    pci: Move PCI device configuration check into a separate weak function

    This patch moves the check, if a device should be skipped in PCI PNP
    configuration into the function pci_skip_dev(). This function is defined
    as weak so that it can be overwritten by a platform specific one if
    needed. The check if the device should get printed in the PCI summary upon
    bootup (when CONFIG_PCI_SCAN_SHOW is defined) is moved to the function
    pci_print_dev() which is also defined as weak too.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit b002144e1dc21374b1ef5281fe6b5d014af96650
Author: Stefan Roese <sr@denx.de>
Date:	Thu Jul 10 09:58:06 2008 +0200

    ppc4xx: Fix printf format warnings now visible with the updated format check

    This patch fixes ppc4xx related printf format warning. Those warnings are
    now visible since patch dc4b0b38d4aadf08826f6c31270f1eecd27964fd
    [Fix printf errors.] by Andrew Klossner has been applied. Thanks, this is
    really helpful.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 5d812b8b4ad9667c77a5bf92b4ba81699abc9fc3
Author: Stefan Roese <sr@denx.de>
Date:	Wed Jul 9 17:33:57 2008 +0200

    ppc4xx: Enable support for > 2GB SDRAM on AMCC Katmai

    Newer PPC's like 440SPe, 460EX/GT can be equipped with more than 2GB of SDRAM.
    To support such configurations, we "only" map the first 2GB via the TLB's. We
    need some free virtual address space for the remaining peripherals like, SoC
    devices, FLASH etc.

    Note that ECC is currently not supported on configurations with more than 2GB
    SDRAM. This is because we only map the first 2GB on such systems, and therefore
    the ECC parity byte of the remaining area can't be written.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit cf1c2ed91df26903b956948f37f82de9e1158a89
Author: Larry Johnson <lrj@acm.org>
Date:	Sat Jun 14 17:02:49 2008 -0400

    ppc4xx: Remove implementation of testdram() from Korat board support

    Signed-off-by: Larry Johnson <lrj@acm.org>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 47ce4a28ccfcfb803aa68d3d4505a8de056a8a5e
Author: Larry Johnson <lrj@acm.org>
Date:	Sat Jun 14 16:53:02 2008 -0400

    ppc4xx: Update and add FDT to Korat board support

    Signed-off-by: Larry Johnson <lrj@acm.org>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 4188f0491886b3b486164e819c0a83fdb97efd7d
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Jul 10 01:13:30 2008 +0200

    Minor coding style cleanup; update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 8915f1189c1d29d8be7f4de325702d90a8988219
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Wed Jul 9 17:50:45 2008 -0400

    e1000: add support for 82545GM 64bit PCI-X copper variant

    This PCI-X e1000 variant works by just adding in the correct
    PCI IDs in the appropriate places.

    Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>

commit 21ae6ca0315afdbc65dc3e95ffd5763e6773d030
Author: Daniel Hellstrom <daniel@gaisler.com>
Date:	Wed Jul 9 12:34:11 2008 +0000

    SPARC: Build error fix

    (introduced by commit 391fd93ab23e15ab3dd58a54f5b609024009c378)

    This patch makes SPARC targets build again. It is caused by
    phys_addr_t and phys_size_t being defined in the wrong header
    file. include/lmb.h need those typedefs to build.

    Signed-off-by: Daniel Hellstrom <daniel@gaisler.com>

commit 11ccc33fa21acce108f6b4a6936e3271af904c64
Author: Marcel Ziswiler <marcel@ziswiler.com>
Date:	Wed Jul 9 08:17:15 2008 +0200

    Many spelling fixes in README.

    Signed-off-by: Marcel Ziswiler <marcel@ziswiler.com>

commit dbab0691d2533560f7e91b92ae844046a9ad1df3
Author: Marcel Ziswiler <marcel@ziswiler.com>
Date:	Wed Jul 9 08:17:06 2008 +0200

    Minor spelling fix in comment.

    Signed-off-by: Marcel Ziswiler <marcel@ziswiler.com>

commit 89134ea1f67208fd3160bdbb0b9eaab4eab98484
Author: Hugo Villeneuve <hugo.villeneuve@lyrtech.com>
Date:	Tue Jul 8 14:54:58 2008 -0400

    Round the serial port clock divisor value returned by calc_divisor()

    Round the serial port clock divisor value returned by
    calc_divisor().

    Signed-off-by: Hugo Villeneuve <hugo.villeneuve@lyrtech.com>
    Signed-off-by: John Roberts <john.roberts@pwav.com>

commit 9d2e3947b2944e5bb85b4335533f8c93c58445fe
Author: Scott Wood <scottwood@freescale.com>
Date:	Wed Jul 9 17:47:52 2008 -0500

    NAND: ifdef-protect most of nand.h when using legacy NAND.

    Some macros such as NAND_CTL_SETALE conflict between current and legacy
    NAND, being defined by the subsystem in the former case and the board
    config file in the latter.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 2b1fa9d383cbbb7d347c1583bd6ca4e181ba8e9e
Author: Hugo Villeneuve <hugo.villeneuve@lyrtech.com>
Date:	Tue Jul 8 11:02:05 2008 -0400

    ARM: Fix for wrong patch version applied for Lyrtech SFF-SDR board (ARM926EJS)

    ARM: Fix for incorrect version of patch applied when
    adding support for the Lyrtech SFF-SDR board.

    Signed-off-by: Hugo Villeneuve <hugo.villeneuve@lyrtech.com>
    Signed-off-by: Philip Balister, OpenSDR <philip@opensdr.com>

commit 47042b363ee5022b8180c65d3f4558e7972c79cd
Author: Kyungmin Park <kmpark@infradead.org>
Date:	Tue Jul 8 09:08:40 2008 +0900

    Remove useless print message at apollon

    Remove useless print message at apollon

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>

commit 98874ff329d4a5b32c467b43f6e966e1aa68479f
Author: Andy Fleming <afleming@freescale.com>
Date:	Mon Jul 7 14:24:39 2008 -0500

    Fix LMB type issues

    The LMB code now uses phys_addr_t and phys_size_t.	Also, there were a couple
    of casting problems in the bootm code that called the LMB functions.

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit da8693a91b8eef75ade8de50a1b2ce035bc5fb54
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Jul 7 09:39:06 2008 -0500

    Fix compiler warnings

    gcc-4.3.x generates the following:

    bootm.c: In function 'do_bootm_linux':
    bootm.c:208: warning: cast from pointer to integer of different size
    bootm.c:215: warning: cast from pointer to integer of different size

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 5bb12dbd7ae03189b6c13d8737b5a1b37c3df698
Author: Harald Welte <laforge@gnumonks.org>
Date:	Mon Jul 7 15:40:39 2008 +0800

    Remove code duplication for setting the default environment

    common/env_common.c (default_env): new function that resets the environment to
		    the default value
    common/env_common.c (env_relocate): use default_env instead of own copy
    common/env_nand.c (env_relocate_spec): use default_env instead of own copy
    include/environment.h: added default_env prototype

    Signed-off-by: Werner Almesberger <werner@openmoko.org>
    Signed-off-by: Harald Welte <laforge@openmoko.org>

commit 99c2b434d37863df5dda5207a53760c6506fc2be
Author: Marcel Ziswiler <marcel@ziswiler.com>
Date:	Sun Jun 22 16:13:46 2008 +0200

    NAND: Fix warning due to missing env_ptr casts to u_char * in env_nand.c.

    The writeenv() and readenv() calls introduced by the recently added bad block
    management for environment variables were missing casts therefore producing
    compile time warnings.
    While at it fixing some typo in a comment and indentation.

    Signed-off-by: Marcel Ziswiler <marcel@ziswiler.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 3167c5386ea1c98b638be5d8763ef6d5938ef1bd
Author: Scott Wood <scottwood@freescale.com>
Date:	Fri Jun 20 12:38:57 2008 -0500

    NAND: Rename DEBUG to MTDDEBUG to avoid namespace pollution.

    This is particularly problematic now that non-NAND-specific code is
    including <nand.h>, and thus all debugging code is being compiled
    regardless of whether it was requested, as reported by Scott McNutt
    <smcnutt@psyent.com>.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit c3bf1ad7baa1b0dd989dedc260b7098b6089ae05
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Thu Jun 12 19:27:58 2008 +0200

    mmc: Move atmel_mci driver into drivers/mmc

    This makes it easier to use the driver on other platforms.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
    Acked-by: Jean-Chritophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit d2d54ea449639f3d1a6007e333ab9fcc609a18f0
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Thu Jun 12 19:27:57 2008 +0200

    avr32: Use CONFIG_ATMEL_MCI to select the atmel_mci driver

    After we move the atmel_mci driver into drivers/mmc, we can't select
    it with CONFIG_MMC anymore. Introduce a new symbol specifically for
    this driver so that there's no ambiguity.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
    Acked-by: Jean-Chritophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 5ce13051a48c62bda9723df3b4778c492fb47f36
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Thu Jun 12 19:27:56 2008 +0200

    Create drivers/mmc subdirectory

    In order to consolidate more of the various MMC drivers around the
    tree, we must first have a common place to put them.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
    Acked-by: Jean-Chritophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit b502611b51f02718c2d1117d4981dabceb5af6de
Author: Joakim Tjernlund <joakim.tjernlund@transmode.se>
Date:	Sun Jul 6 12:30:09 2008 +0200

    Change env_get_char from a global function ptr to a function

    This avoids an early global data reference.

    Signed-off-by: Joakim Tjernlund <Joakim.Tjernlund@transmode.se>

commit 27269417ade432189b234d9fbac98b54e37b978c
Author: Matvejchikov Ilya <matvejchikov@gmail.com>
Date:	Sun Jul 6 13:57:58 2008 +0400

    Some copy-n-paste fixes in printf usage

    Signed-off-by: Matvejchikov Ilya <matvejchikov@gmail.com>

commit 0e6989b9faf1588e8723535539e88a0df3c71356
Author: Matvejchikov Ilya <matvejchikov@gmail.com>
Date:	Sun Jul 6 13:57:00 2008 +0400

    FDT memory and pci node fixes for MPC8260ADS

    Signed-off-by: Matvejchikov Ilya <matvejchikov@gmail.com>

commit dc4b0b38d4aadf08826f6c31270f1eecd27964fd
Author: Andrew Klossner <andrew@cesa.opbu.xerox.com>
Date:	Mon Jul 7 06:41:14 2008 -0700

    Fix printf errors.

    The compiler will help find mismatches between printf formats and
    arguments if you let it.  This patch adds the necessary attributes to
    declarations in include/common.h, then begins to correct the resulting
    compiler warnings.	Some of these were bugs, e.g., "$d" instead of
    "%d" and incorrect arguments.  Others were just annoying, like
    int-long mismatches on a system where both are 32 bits.  It's worth
    fixing the annoying errors to catch the real ones.

    Signed-off-by: Andrew Klossner <andrew@cesa.opbu.xerox.com>

commit 417faf285b2527acb2de24c5cd3e2621d385408c
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Wed Jul 9 11:09:41 2008 -0500

    Allow print_size to print in GB

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit e7c374529c87525c9aa463e0557c287887ae4e9e
Author: Jason McMullan <mcmullan@netapp.com>
Date:	Sun Jun 8 23:56:00 2008 -0400

    mips: When booting Linux images, add 'ethaddr' and 'eth1addr' to the environment

    Add 'ethaddr' and 'eth1addr' to the Linux kernel environment if
    they are set in the U-Boot environment.

    Signed-off-by: Jason McMullan <mcmullan@netapp.com>
    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit 0192d7d56e9320819dea262f49789ae18fdd2c72
Author: Stefan Roese <sr@denx.de>
Date:	Tue Jul 8 12:57:14 2008 +0200

    jedec_flash: Fix AM29DL800BB device ID

    As pointed out by Jerry Hicks, this patch corrects the device ID of
    the Spansion AM29DL800BB NOR device. Verified against latest Spansion
    datasheet (rev C4 from Dezember 2006).

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 689c1b30caacba3fbca0b1813facb3ab70b6cd63
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Mon Jul 7 11:22:37 2008 +0900

    sh: Fix compile error sh7763rdp board

    Disable SH ether driver.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 9e23fe0560b84e324dc5f0ff8813dab2aa34f074
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Tue Jul 8 12:03:24 2008 +0900

    sh: Fix SH-boards compile error

    By Cleanup out-or-tree building for some boards (.depend)
    (commit:c8a3b109f07f02342d097b30908965f7261d9f15)
    because filse ware changed, some SH-boards have compile error.
    I revised this problem.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 3473ab737282b08ad61841fcbb14c4d264a93a8e
Author: Jason Jin <Jason.jin@freescale.com>
Date:	Tue May 13 11:50:36 2008 +0800

    Feed the watchdog in u-boot for 8610 board.

    The watchdog on 8610 board is enabled by setting sw[6]
    to on. Once enabled, the watchdog can not be disabled
    by software. So feed the dog in u-boot is necessary for
    normal operation.

    Signed-off-by: Jason Jin <Jason.jin@freescale.com>

commit 63676841ca2d603b13765f3f7b72ff1a61c23f90
Author: Hugo Villeneuve <hugo.villeneuve@lyrtech.com>
Date:	Wed Jun 18 12:10:33 2008 -0400

    Remove duplicate code in cpu/arm926ejs/davinci/lxt972.c.

    Remove duplicate code in cpu/arm926ejs/davinci/lxt972.c.

    Remove duplicate code in a if/else block in
    cpu/arm926ejs/davinci/lxt972.c.
    Fixed style issues.

    Signed-off-by: Hugo Villeneuve <hugo.villeneuve@lyrtech.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit fec61431a003f5778bafa2624073a571af8bec9f
Author: Hugo Villeneuve <hugo.villeneuve@lyrtech.com>
Date:	Wed Jun 18 12:10:31 2008 -0400

    Remove duplicate definitions in include/lxt971a.h.

    Remove duplicate definitions in include/lxt971a.h.

    Remove duplicate registers and bits definitions in
    include/lxt971a.h for standard MII registers, and
    use values in include/miiphy.h instead.

    Signed-off-by: Hugo Villeneuve <hugo.villeneuve@lyrtech.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 9751ee0990f467941da0b095a4e995f863672d7a
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Wed Jun 11 21:05:00 2008 +0900

    net: sh: Renesas SH7763 Ethernet device support

    Renesas SH7763 has 2 channel Ethernet device.
    This is 10/100/1000 Base support.
    But this patch check 10/100 Base only.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 873d97aabc0b1c8822ed1d87e8c5c8ae0a7e4ae9
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Tue Jun 17 16:28:05 2008 +0900

    sh: Update Renesas R2DPlus board

    New NOR Flash board support and remove old type flash board config.
    And Remove network setting from config file.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit ec39d479d2003f15e86e23ebc4e02a1c9a3a181c
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Tue Jun 17 16:28:01 2008 +0900

    sh: Update Renesas R7780MP board

    New NOR Flash board support and remove network setting from config file.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit c001cd604e9f133743effbddb1c215b48e761c5a
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Tue Jun 17 16:27:56 2008 +0900

    sh: Update Renesas Migo-R board

    Remove network setting from config file.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit f9599eca7cb5ebe40e5305c8006dced6ecc5cd9e
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Tue Jun 17 16:27:52 2008 +0900

    sh: Update Hitachi MS7722SE board

    Remove network setting from config file.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 26209e48e8791670c93108029a5c31a30016c6df
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Tue Jun 17 16:27:48 2008 +0900

    sh: Cleanup source code of SH7763RDP

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 5cd5b2c96ef0025762931349d350287aec03ab47
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Tue Jun 17 16:27:44 2008 +0900

    sh: Cleanup source code of R2DPlus

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 4ec7e915cfaa31b392755dd2c8231e64736d2ea8
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Tue Jun 17 16:27:41 2008 +0900

    sh: Cleanup source code of R7780MP

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 0955ef34c0454ae2ee59a78657a0f01fb3ef16d6
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Tue Jun 17 16:27:38 2008 +0900

    sh: Cleanup source code of MS7722SE

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 1d7b31d97b34ccb6f9b20a2465864998b0bf2691
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Tue Jun 17 16:27:34 2008 +0900

    sh: Cleanup source code of MS7720SE

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 3ab4827cbe409488ebea1a2ee5094783f2672214
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Jul 7 00:45:03 2008 +0200

    SH: fix out of tree building

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 9047bfa1e737d787be460387dd6f45737eeceb10
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Thu Jul 3 23:16:06 2008 +0900

    net: smc911x: Fix typo

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>

commit 5ed546fdd0ca46a165661c2009fa743d9c9fceca
Author: Andre Schwarz <andre.schwarz@matrix-vision.de>
Date:	Wed Jul 2 18:54:08 2008 +0200

    update mvBL-M7 board config

    update mvBL-M7 config file to use UBOOT_VERSION and define
    CONFIG_HIGH_BATS.

    Signed-off-by: Andre Schwarz <andre.schwarz@matrix-vision.de>

commit 5cacc5d0ec52678a5eb83ecda5c3bcb22eb47f30
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Mon Jun 30 17:45:01 2008 +0900

    net: fix compile problem in smc911x driver.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
    Acked-by: Ben Warren <biggerbadderben@gmail.com>

commit 9fea65a6c469b1b474b27446feb58738baba2d31
Author: Michal Simek <monstr@monstr.eu>
Date:	Tue Jun 24 09:54:09 2008 +0200

    ppc4xx: Rename CONFIG_XILINX_ML300 to CONFIG_XILINX_405

    This change helps with better handling with others
    Xilinx based platform.

    Signed-off-by: Michal Simek <monstr@monstr.eu>
    Acked-by: Stefan Roese <sr@denx.de>

commit cbb6289569ae4fc6e2d676528e46ffcc72d743d0
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Tue Jun 17 13:07:11 2008 +0900

    net: ne2000: Move dev_addr variable from grobal to local.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit dd7e5fa5f847188f78f62f2c52de6cb3def3ecdb
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Tue Jun 17 13:07:15 2008 +0900

    net: ne2000: Fix compile error of NE2000

    If enable DEBUG, can not compile ne2000 driver.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit dd35479a50f6c7c31ea491c07c5200c6dfd06a24
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Mon Jun 23 22:57:27 2008 -0700

    Add mechanisms for CPU and board-specific Ethernet initialization

    This patch is the first step in cleaning up net/eth.c, by moving Ethernet
    initialization to CPU or board-specific code.  Initial implementation is
    only on the Freescale TSEC controller, but others will be added soon.

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 7754f2be5d1835d263aad21b5a629526f3e680b0
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Jul 6 01:21:46 2008 +0200

    include/sha256.h: fix file permissions.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit d3bcdf838e2991d58571308fa6e04ca335bc06e8
Author: Patrice Vilchez <patrice.vilchez@atmel.com>
Date:	Tue May 27 11:15:29 2008 +0200

    [AT91SAM9] Fix NAND FLASH timings

    Fix NAND FLASH timings for at91sam9x evaluation kits.

    New timings are based on application note
    "NAND Flash Support on AT91SAM9 Microcontrollers" available at
    http://atmel.com/dyn/resources/prod_documents/doc6255.pdf

    Signed-off-by: Patrice Vilchez <patice.vilchez@atmel.com>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Acked-by: Stelian Pop <stelian@popies.net>

commit 19bd688484322fe62d1a66c8299da6ff9e967ff9
Author: Stelian Pop <stelian@popies.net>
Date:	Thu May 22 00:15:40 2008 +0200

    Fix boot from NOR due to incorrect reset delay.

    AT91 RSTC registers are battery-backuped, so their values
    are not reset across power cycles. One of those registers,
    the AT91_RSTC_MR register, is being modified by U-Boot, in
    the ethernet initialisation routine, to generate a 500ms
    user reset.

    Unfortunately, this value is not being restored afterwards,
    causing subsequent resets to also last for 500ms.

    This long reset sequence causes problems (at least) in the
    boot sequence from NOR: by the time the CPU tries to load
    a program from the NOR flash, the latter is still in reset
    and not yet available.

    Additionaly, this patch fixes a bug in the original code which
    caused the reset delay to last for 2s instead of 500ms.

    Signed-off-by: Stelian Pop <stelian@popies.net>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit f492dd636fbbae529e17533995bc6e5813c007f6
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Jul 4 20:11:49 2008 +0200

    Update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 5e6e350fc489aa19402f1e79037dd8c0a4bbd73d
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Jul 4 20:07:35 2008 +0200

    CCM/SCM boards: fix out of tree building

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit ab4c3a490df9a964711556d2a05b0c787db45fde
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Jul 3 23:22:27 2008 +0200

    SCM board: fix build errors.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit a566466f17ba0e2d2b6c250e77da678fb932470d
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Jul 3 23:06:36 2008 +0200

    IAD210 board: fix ``"ALIGN" redefined'' warning.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit ad756314797c16fa5dca23e115aab881011f164f
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Jul 3 23:00:24 2008 +0200

    CCM board: fix build errors.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit f16ed51702cb9fb6fa2e019bbc0fcd1466b57c3b
Author: Andre Schwarz <andre.schwarz@matrix-vision.de>
Date:	Wed Jul 2 18:54:08 2008 +0200

    update mvBL-M7 board config

    update mvBL-M7 config file to use UBOOT_VERSION.

    Signed-off-by: Andre Schwarz <andre.schwarz@matrix-vision.de>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit ced209c50e80c25f13c083099b05044048d21f4f
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Jul 3 22:39:21 2008 +0200

    sacsng board: fix warnings "suggest explicit braces to avoid ambiguous 'else'"

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 4ff170a8180a79da4cdaab1b30d58cd7b6be565e
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Jul 3 22:34:08 2008 +0200

    Cleanup: fix "expected specifier-qualifier-list before 'phys_size_t'" errors

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 730f298485984b011b6ee8f4acb511cb45a843dd
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Jul 3 22:04:17 2008 +0200

    lmb: fix "implicit declaration of function 'lmb_free'" warning

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 322ef5e28d2dc62571afc699b00add22a8e006e4
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Jul 2 23:53:23 2008 +0200

    Cleanup: remove redundant deleting on *~ files

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit c8a3b109f07f02342d097b30908965f7261d9f15
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Jul 2 23:49:18 2008 +0200

    Cleanup out-or-tree building for some boards (.depend)

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit a30cc5a340e7f8f5f85a0e08e7f6c4106ce117c4
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Jul 2 23:38:50 2008 +0200

    Cleanup: fix out-of-tree building for some boards

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 461fa68d20861811487944d22291db5a13410e20
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Jul 2 23:00:14 2008 +0200

    Cleanup: replace hard-wired $(AR) 'crv' settings by $(ARFLAGS)

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 5981ebd32017e062b08aa6747cf591276f2db779
Author: Detlev Zundel <dzu@denx.de>
Date:	Fri Jun 20 22:26:24 2008 +0200

    fdt: Fix typo in variable name.

    Signed-off-by: Detlev Zundel <dzu@denx.de>

commit a7a5982cd0f3482f88225af4da7795bc4f6cb9bc
Author: Gary Jennejohn <garyj@denx.de>
Date:	Thu Jun 19 11:11:19 2008 +0200

    Add logos for RRvision board

    Signed-off-by: Gary Jennejohn <garyj@denx.de>

commit ee4ae38342142237ca85913f88ee570c1eb5ca7c
Author: Esben Haabendal <EsbenHaabendal@gmail.com>
Date:	Wed Jun 18 11:03:57 2008 +0200

    mpc8260: add fdt_fixup_ethernet support

    Add support for updating mac-address and local-mac-address in fdt for
    all MPC8260 targets.

    Signed-off-by: Esben Haabendal <eha@doredevelopment.dk>

commit f6a69559d64498a04e1e0b087a9b920e5775f866
Author: Steven A. Falco <sfalco@harris.com>
Date:	Thu Jun 12 13:24:42 2008 -0400

    cmd_nvedit.c: clean up syntax highlighting

    My text-editor (vim) has a bit of trouble syntax-highlighting the
    cmd_nvedit.c file, because it apparently does not parse C
    ifdef/else/endif. The following patch does not change the behavior of
    the code at all, but does allow the editor to properly
    syntax-highlight the file.

    Signed-off-by: Steve Falco <sfalco@harris.com>

commit 75678c807a6272ecc5541eb32898c93887f08400
Author: Steven A. Falco <sfalco@harris.com>
Date:	Thu Jun 12 13:22:12 2008 -0400

    Make setenv() return status

    Currently, the setenv function does not return an error code.
    This patch allows to test for errors.

    Signed-off-by: Steve Falco <sfalco@harris.com>

commit 4928e97c8531283ca9b368b7c29a8a12e726562a
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Jun 11 10:14:06 2008 -0500

    PPC: Added fls, fls64, __ilog2_u64, and ffs64 to bitops

    fls64, __ilog2_u64, ffs64 are variants that work on an u64,
    and fls is used to implement them.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 83002a77cbdf383015ca384eff5fa31722d8e571
Author: Magnus Lilja <lilja.magnus@gmail.com>
Date:	Mon Jun 9 22:58:48 2008 +0200

    i.MX31: Cleanup comments in lowlevel_init.S.

    Signed-off-by: Magnus Lilja <lilja.magnus@gmail.com>

commit f8cc312bbee69257d741dc9f4062f4a0f5adf609
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Sun Jun 8 23:28:33 2008 -0700

    Move conditional compilation of MPC8XXX SPI driver to Makefile

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit d92ea21bafb674ee2bf27447970b047845e7b0a2
Author: Juergen Kilb <J.Kilb@gmx.de>
Date:	Sun Jun 8 17:59:53 2008 +0200

    i.MX31: fixed CTRL-C detection

    The Register URXD contains status information in bits [15..8].
    With status bit 15 set, CTRL-C was reported as 0x8003 instead
    of 0x03. Therefore CTRL-C was not detected.
    To solve this, bits [15..8] were masked out now.

    Signed-off-by: Juergen Kilb <J.Kilb@gmx.de>
    Acked-by: Felix Radensky <felix@embedded-sol.com>

commit dd1c5523d6f44e842e69f2fcb50788c6060eab86
Author: Stefan Roese <sr@denx.de>
Date:	Tue Jul 1 17:03:19 2008 +0200

    ppc4xx: Fix 460EX/GT PCIe port initialization

    This patch fixes a bug where the 460EX/GT PCIe UTLSET1 register was
    configured incorrectly. Thanks to Olga Buchonina from AMCC for pointing
    this out.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit b571afde0295b007a45055ee49f8822c753a5651
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Jun 7 12:29:52 2008 +0200

    add SHA256 support

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Francesco Albanese <Francesco.Albanese@swisscom.com>

commit 3bab76a26e03df4ff81342fcc16393ce37d9766b
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Fri Jun 6 23:07:40 2008 +0200

    Delay FIT format check on sector based devices

    Global FIT image operations like format check cannot be performed on
    a first sector data, defer them to the point when whole FIT image was
    uploaded to a system RAM.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>
    Partial ('cmd_nand' case) Acked-by: Grant Erickson <gerickson@nuovations.com>
    NAND and DOC bits Acked-by: Scott Wood <scottwood@freescale.com>

commit 9810263afec5ac5f38f92963bb3b6d799e4331d0
Author: Dave Liu <r63238@freescale.com>
Date:	Tue Jun 3 17:38:19 2008 +0800

    sata: wait for device updating signature to host

    The driver need wait for the device updating signature to host.
    If we don't wait for it, the driver can not detect the device(disk)
    when the system powers up.

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit 745d8a0d3cea82e6d1753e14afb4588c34761b15
Author: Stefan Roese <sr@denx.de>
Date:	Sat Jun 28 14:56:17 2008 +0200

    ppc4xx: Fix 460EX errata with CPU lockup upon high AHB traffic

    This patch implements a fix provided by AMCC so that the lockup upon
    simultanious traffic on AHB USB OTG, USB 2.0 and SATA doesn't occur
    anymore:

    Set SDR0_AHB_CFG[A2P_INCR4] (bit 24) and clear SDR0_AHB_CFG[A2P_PROT2]
    (bit 25) for a new 460EX errata regarding concurrent use of AHB USB OTG,
    USB 2.0 host and SATA.

    This errata is not officially available yet. I'll update the comment
    to add the errata number later.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 8b616edb118e37d05f6401389eaee1c636b22828
Author: Stuart Wood <stuart.wood@labxtechnologies.com>
Date:	Mon Jun 2 16:42:19 2008 -0400

    serial_pl010.c: add watchdog support

    Signed-off-by: Stuart Wood <stuart.wood@labxtechnologies.com>

commit 86d3273e2b7be3fffb45e20c08535d6ad3aded6b
Author: Stuart Wood <stuart.wood@labxtechnologies.com>
Date:	Mon Jun 2 16:40:08 2008 -0400

    jffs2_1pass.c: add watchdog support

    Signed-off-by: Stuart Wood <stuart.wood@labxtechnologies.com>

commit 5744ddc6637fea4f7b911a54a5fa860cb81a5d89
Author: Sascha Laue <sascha.laue@liebherr.com>
Date:	Fri May 30 09:48:14 2008 +0200

    Configure DSP POST; add watchdog reset to diag command

    Signed-off-by: Sascha Laue <sascha.laue@liebherr.com>

commit f13526517859bf6b573e23ff47199e107d1009b5
Author: Tor Krill <tor@excito.com>
Date:	Thu May 29 10:40:17 2008 +0200

    Add sata sil3114 support

    Signed-off-by: Tor Krill <tor@excito.com>

commit e093a247628228100f405b6d7f6b1bfc16141938
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Jun 28 23:34:37 2008 +0200

    Coding Style Cleanup

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 01db232dd7a0ceb81208a9f2545720c80e5bfd83
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Jun 28 23:16:01 2008 +0200

    Update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit c7f879ec2b389c4f2bf726b293bd516f4c692e03
Author: Hugo Villeneuve <hugo.villeneuve@lyrtech.com>
Date:	Wed May 21 13:58:41 2008 -0400

    ARM: Add support for Lyrtech SFF-SDR board (ARM926EJS)

    This patch adds support for the Lyrtech SFF-SDR board,
    based on the TI DaVinci architecture (ARM926EJS).

    Signed-off-by: Hugo Villeneuve <hugo.villeneuve@lyrtech.com>
    Signed-off-by: Philip Balister <philip@balister.org>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 341188b9ccaa8d4462d772cc067aca8d7618633a
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Thu May 22 11:09:59 2008 +0200

    MMC: Consolidate MMC/SD command definitions

    This moves the MMC and SD Card command definitions from
    include/asm/arch/mmc.h into include/mmc.h. These definitions are
    given by the MMC and SD Card standards, not by any particular
    architecture.

    There's a lot more room for consolidation in the MMC drivers which
    I'm hoping to get done eventually, but this patch is a start.

    Compile-tested for all avr32 boards as well as lpc2292sodimm and
    lubbock. This should cover all three mmc drivers in the tree.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit fa60edfc4c952626e048c0e065f654b3c1822fa5
Author: Kyungmin Park <kmpark@infradead.org>
Date:	Wed May 21 14:38:08 2008 +0900

    Use better Ethernet timings for apollon board

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>

commit 41c5eaa7253ed82bbae1eda5667755872c615164
Author: Andy Fleming <afleming@freescale.com>
Date:	Mon Jun 16 13:58:56 2008 -0500

    Resize device tree to allow space for board changes and the chosen node

    Current code requires that a compiled device tree have space added to the end to
    leave room for extra nodes added by board code (and the chosen node).  This
    requires that device tree creators anticipate how much space U-Boot will add to
    the tree, which is absurd.	Ideally, the code would resize and/or relocate the
    tree when it needed more space, but this would require a systemic change to the
    fdt code, which is non-trivial.  Instead, we resize the tree inside
    boot_relocate_fdt, reserving either the remainder of the bootmap (in the case
    where the fdt is inside the bootmap), or adding CFG_FDT_PAD bytes to the size.

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 7570a9941fc565922078679a72d246fe208d696d
Author: Andy Fleming <afleming@freescale.com>
Date:	Mon Jun 16 13:58:55 2008 -0500

    Fix an underflow bug in __lmb_alloc_base

    __lmb_alloc_base can underflow if it fails to find free space.  This was fixed
    in linux with commit d9024df02ffe74d723d97d552f86de3b34beb8cc.  This patch
    merely updates __lmb_alloc_base to resemble the current version in Linux.

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 63796c4e61b207d2e635729d41b7a7f7d188b03c
Author: Andy Fleming <afleming@freescale.com>
Date:	Mon Jun 16 13:58:54 2008 -0500

    Add lmb_free

    lmb_free allows us to unreserve some memory so we can use lmb_alloc_base or
    lmb_reserve to temporarily reserve some memory.

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 4b03ac8b5102ad95f9fede7d13fa236977593e7d
Author: Andy Fleming <afleming@freescale.com>
Date:	Mon Jun 16 13:58:53 2008 -0500

    Add ALIGN() macro

    ALIGN() returns the smallest aligned value greater than the passed
    in address or size.  Taken from Linux.

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 93262af85e3e9d9974c6c08fbd37a9a72e090ca2
Author: Stefan Roese <sr@denx.de>
Date:	Tue Jun 24 17:15:22 2008 +0200

    ppc4xx: Fix compilation problems with phys_size_t

    This patch includes <asm/types.h> before <asm/u-boot.h> in some 4xx
    board specific files where it has been missing.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 28eab0d77352b84885f938759bf2612b7bf0bc44
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Mon May 19 12:26:38 2008 +0200

    Conditionally add -fno-stack-protector to CFLAGS

    When compile-testing on powerpc, I get errors like this:

    net/nfs.c:422: undefined reference to `__stack_chk_fail_local'

    This seems to be because -fstack-protector is on by default, so
    let's explicitly disable it on all architectures that support the
    option.

    The Ubuntu toolchain is affected by this problem, and according to
    Mike Frysinger, Gentoo has been running with SSP enabled for years.
    More and more distros are turning SSP on by default, so this problem
    is likely to get worse in the future.

    Also, powerpc just happens to be one of the arches I do
    compile-testing on. There may be other arches affected by this too.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit dfd3be881c03a26e31f0dea4a42e76061fa610ac
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun May 18 19:09:52 2008 +0200

    pcmcia/ti_pci1410a: Move compile condition to the Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 72d5d5f7b5c74a188df238ec6dd824d80c74857a
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun May 18 19:09:51 2008 +0200

    pxa_pcmcia: Move compile condition to the Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit c9eff32881fb429101c937cf8c268f1d42e5c2a9
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun May 18 19:09:50 2008 +0200

    marabun_pcmcia: Move compile condition to the Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 6a19c46cae43c16c528eddefae3db97134f1915d
Author: Andre Schwarz <andre.schwarz@matrix-vision.de>
Date:	Mon Jun 23 13:25:34 2008 +0200

    fix non-working mvBL-M7

    Add missing #define CONFIG_HIGH_BATS in mvBL-M7 board config file.

    Signed-off-by: Andre Schwarz <andre.schwarz@matrix-vision.de>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 846f1574ddddeda2bc227655e687308695f41cdc
Author: Andre Schwarz <andre.schwarz@matrix-vision.de>
Date:	Mon Jun 23 11:40:56 2008 +0200

    fix system config overwrite @ MPC834x and MPC8313

    During 83xx setup the "System I/O configuration register high" gets
    overwritten with user defined value if CFG_SICRH is defined.

    Regarding to the MPC834x manual (Table 5-28 reve.1) bits 28+29 of SICRH
    must keep their reset value regardless of configuration.

    On my board (using RGMII) those bits are set after reset - yet it's
    unclear where they come from.

    The patch keeps both bits on MPC834x and MPC8313.

    Signed-off-by: Andre Schwarz <andre.schwarz@matrix-vision.de>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 4890246a2c5df90a74e2941e3673a49bbd36aee9
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Tue Jun 17 17:45:27 2008 -0500

    mpc83xx: move CPU_TYPE_ENTRY over to processor.h

    to avoid this:

    cpu.c:47:1: warning: "CPU_TYPE_ENTRY" redefined
    In file included from cpu.c:33:
    /home/kim/git/u-boot/include/asm/processor.h:982:1: warning: this is the location of the previous definition

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit aac7a5095b968d6c9a3e6422f31b4ad203cac9c8
Author: Stefan Roese <sr@denx.de>
Date:	Mon Jun 23 11:15:09 2008 +0200

    ppc4xx: Fix problem in gpio_config()

    As pointed out by Guennadi Liakhovetski (thanks), pin2 is already shifted
    left by one. So the additional shift is bogus.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 40777812316fc252c941665c0f60c148fd79d50f
Author: Detlev Zundel <dzu@denx.de>
Date:	Fri Jun 20 22:24:05 2008 +0200

    fdt: Fix typo in variable name.

    Signed-off-by: Detlev Zundel <dzu@denx.de>

commit 5f723a3b98c630bde33de74351f2121691fdef14
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Fri Jun 20 10:41:05 2008 +0200

    avr32: Enable SPI flash support on ATNGW100

    The ATNGW100 has 8MB DataFlash on board. Give users access to it through
    the new SPI flash framework.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit 5605ef6b5802921cbefe6a933a9dea3497396b5c
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Fri Jun 20 12:44:28 2008 +0200

    avr32: Fix SPI portmux initialization

    Use the new GPIO manipulation functions to set up the chip select lines,
    and make sure both busses use GPIO for chip select control.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit 4688f9e34a87e825aed34d07c9ca7a273e6fc8ab
Author: Peter Ma <pma@mediamatech.com>
Date:	Sun Jun 1 22:59:24 2008 -0700

    avr32: Add GPIO manipulation functions

    Adds GPIO manipulation functions for AVR32 AP7 platform.

    Signed-off-by: Peter Ma <pma@mediamatech.com>
    [haavard.skinnemoen@atmel.com: coding style fixup, slight simplification]
    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit b4fe1a71090c73efc6e4188eed188b2ff67fc02a
Author: Wolfgang Grandegger <wg@grandegger.com>
Date:	Thu Jun 5 13:02:30 2008 +0200

    MPC8360ERDK: adapt NAND interface for the re-written FSL NAND UPM driver

    This patch is based on the following patch sent a few minutes ago:
    "NAND FSL UPM: driver re-write using the hwcontrol callback"
    It is untested, of course. Anton, could you please give it a try.

    Signed-off-by: Wolfgang Grandegger <wg@grandegger.com>
    Acked-by: Anton Vorontsov <avorontsov@ru.mvista.com>

commit 96026d42fa4e646d28318c0a1438aac4b2017909
Author: Anatolij Gustschin <agust@denx.de>
Date:	Thu Jun 12 12:40:11 2008 +0200

    Fix 4xx build issue

    Building for 4xx doesn't work since commit 4dbdb768:

    In file included from 4xx_pcie.c:28:
    include/asm/processor.h:971: error: expected ')' before 'ver'
    make[1]: *** [4xx_pcie.o] Error 1

    This patch fixes the problem.

    Signed-off-by: Anatolij Gustschin <agust@denx.de>
    Acked-by: Stefan Roese <sr@denx.de>
    Acked-by: Kumar Gala <galak@kernel.crashing.org>

commit a036b0443657fe0f4773786de9092251869f08ac
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Jun 19 01:45:50 2008 -0500

    MPC8610HPCD: Report board id, board version and fpga version.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 7de8c21f14df9c20fdcf6027aec8e8545f75f835
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Jun 19 01:45:27 2008 -0500

    MPC8641HPCN: Report board id, board version and fpga version.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit fb8c061ea05fc68d37e2a8b9f8c949d76c8d71a8
Author: Stefan Roese <sr@denx.de>
Date:	Mon Jun 16 10:40:02 2008 +0200

    cfi-flash: Fix problem in flash_toggle(), busy was not detected reliably

    This patch simplifies flash_toggle() (AMD commandset), which is used to
    detect if a FLASH device is still busy with erase/program operations. On
    800MHz Canyonlands/Glacier boards (460EX/GT) the current implementation
    did not detect the busy state reliably, resulting in non erased sectors
    etc. This patch now simplifies this function by "just" comparing the
    complete data-word instead of ANDing it with the command-word (0x40)
    before the compatison. It is done the same way in the Linux implementation
    chip_ready() in cfi_cmdset_0002.c.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 9e4006bca3d9fb4a2d061996771036cb01e539d3
Author: Philip Balister <philip@balister.org>
Date:	Mon Jun 16 08:58:07 2008 -0400

    NAND: Add missing declaration to non-redundant saveenv().

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 2cdb7f50ac59594540fffdf8dbd7b12beac79c52
Author: Wolfgang Grandegger <wg@grandegger.com>
Date:	Mon Jun 2 15:09:55 2008 +0200

    MPC8360ERDK: adapt NAND interface for the re-written FSL NAND UPM driver

    Signed-off-by: Wolfgang Grandegger <wg@grandegger.com>
    Acked-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 212ed90615c3d20fa6bd73d70d5153bd0d124e5f
Author: Stefan Roese <sr@denx.de>
Date:	Tue Jun 10 15:34:11 2008 +0200

    ppc4xx: Canyonlands: Disable the RTC M41T62 square wave output

    This patch disables the square wave output of the M41T62 RTC used on
    Canyonlands & Glacier. Here the explanation:

    The serial real-time clock part used in the design is an
    STMicro M41T62. This part has a full-time 32KHz square wave
    output that is connected to the TmrClk input to the
    processor. The default state for this square wave output is
    enabled so the output runs continuously when the board is
    powered normally and also from the battery. The TmrClk input
    to the processor goes to ground when the power is removed
    from the board/processor, and therefore the running square
    wave output is driving ground which drains the battery quickly.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit a94f22f08f280905926219e568568964cb9eeb9d
Author: Andy Fleming <afleming@freescale.com>
Date:	Wed Jun 11 18:10:20 2008 -0500

    Fix build issue with string.h and linux/string.h

    This commit:
    commit 338cc038461a6c7709c5b86fd9a240209338a1ae
    Author: Wolfgang Denk <wd@denx.de>
    Date:   Fri Jun 6 14:28:14 2008 +0200

	tools/mkimage: fix compiler warnings on some systems.

    Broke building on some systems, because the host's string.h was interfering
    with u-boot's linux/string.h.  It doesn't look like we need the u-boot one if
    we're building for the host, so now we only include when building inside
    u-boot.

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 9973e3c614721bbf169882ffc3be266a6611cd60
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Mon Jun 9 16:03:40 2008 -0500

    Change initdram() return type to phys_size_t

    This patch changes the return type of initdram() from long int to phys_size_t.
    This is required for a couple of reasons: long int limits the amount of dram
    to 2GB, and u-boot in general is moving over to phys_size_t to represent the
    size of physical memory.  phys_size_t is defined as an unsigned long on almost
    all current platforms.

    This patch *only* changes the return type of the initdram function (in
    include/common.h, as well as in each board's implementation of initdram).  It
    does not actually modify the code inside the function on any of the platforms;
    platforms which wish to support more than 2GB of DRAM will need to modify
    their initdram() function code.

    Build tested with MAKEALL for ppc, arm, mips, mips-el. Booted on powerpc
    MPC8641HPCN.

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit 391fd93ab23e15ab3dd58a54f5b609024009c378
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Mon Jun 9 20:37:18 2008 -0500

    Change lmb to use phys_size_t/phys_addr_t

    This updates the lmb code to use phys_size_t
    and phys_addr_t instead of unsigned long.  Other code
    which interacts with this code, like getenv_bootm_size()
    is also updated.

    Booted on MPC8641HPCN, build-tested ppc, arm, mips.

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit 61b09fc2952dc636017df4e7970e3de132276ba1
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Mon Jun 9 20:37:17 2008 -0500

    Change print_size to take phys_size_t

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit b57ca3e128cc10a133ba79bc7ec3e7b50e7c8fbe
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Mon Jun 9 20:37:16 2008 -0500

    Change bd/gd memsize/ram_size to be phys_size_t.

    Currently, both are defined as an unsigned long, but
    should be phys_size_t. This should result in no real change,
    since phys_size_t is currently an unsigned long for all the
    default configs.  Also add print_lnum to cmd_bdinfo to deal
    with the potentially wider memsize.

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit ba04f7010958e88a8910f2a123fee53fdc72e013
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Jun 10 16:16:02 2008 -0500

    FSL LAW: Add new interface to use the last free LAW

    LAWs have the concept of priority so its useful to be able to allocate
    the lowest (highest number) priority.  We will end up using this with the
    new DDR code.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 859a86a25c569d3665ff413d1d923394b8a961f3
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Jun 11 00:51:45 2008 -0500

    85xx/86xx: Move to dynamic mgmt of LAWs

    With the new LAW interface (set_next_law) we can move to letting the
    system allocate which LAWs are used for what purpose.  This makes life
    a bit easier going forward with the new DDR code.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Andy Fleming <afleming@freescale.com>
    Acked-by: Jon Loeliger <jdl@freescale.com>
    Acked-by: Becky Bruce <becky.bruce@freescale.com>

commit f060054dadbbe7027ca088eed806a3ef1f82fdb7
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Jun 11 00:44:10 2008 -0500

    FSL LAW: Keep track of LAW allocations

    Make it so we keep track of which LAWs have allocated and provide
    a function (set_next_law) which can allocate a LAW for us if one is
    free.

    In the future we will move to doing more "dynamic" LAW allocation
    since the majority of users dont really care about what LAW number
    they are at.

    Also, add CONFIG_MPC8540 or CONFIG_MPC8560 to those boards which needed them

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit ddde74a159caa6e18b481fec01d40b885aebb566
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Jun 9 22:31:57 2008 -0500

    85xx: remove dummy board_early_init_f

    A number of board ports have empty version of board_early_init_f
    for no reason since we control its via CONFIG_BOARD_EARLY_INIT_F.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 81e56e9af0d43712db8efb843606a8d62eab454f
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Jun 9 18:55:38 2008 -0500

    MPC8544DS: Update config.h

    * Enable flash progress
    * remove CLEAR_LAW0 since we dont really use it

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 978e81604c1b28526ed580df0fbe64eb8384e94f
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Jun 9 13:37:24 2008 -0500

    85xx: Remove unused and unconfigured memory test code.

    Remove unused and unconfigured DDR test code from FSL 85xx boards.
    Besides, other common code exists.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit a23cddde1a95f987e3fe2a720a7ec9375b7264d7
Author: Sergei Poselenov <sposelenov@emcraft.com>
Date:	Fri Jun 6 15:42:45 2008 +0200

    Socrates: Added FPGA base address update in FDT.

    Signed-off-by: Sergei Poselenov <sposelenov@emcraft.com>

commit fd51b0e0e620b8bc9fd4f6daa3a4fa6f5e1316f4
Author: Sergei Poselenov <sposelenov@emcraft.com>
Date:	Fri Jun 6 15:42:44 2008 +0200

    Socrates: NAND support added. Changed the U-Boot base address and

    Signed-off-by: Sergei Poselenov <sposelenov@emcraft.com>

commit 248ae5cfc8bf69074d1da099dc495d8e06070547
Author: Sergei Poselenov <sposelenov@emcraft.com>
Date:	Fri Jun 6 15:42:43 2008 +0200

    NAND: Added support for 128-bit OOB, adapted

    Signed-off-by: Sergei Poselenov <sposelenov@emcraft.com>

commit 31ca0208612f2eb57690110d7c2815953650e47b
Author: Sergei Poselenov <sposelenov@emcraft.com>
Date:	Fri Jun 6 15:42:42 2008 +0200

    Socrates: added missed file with UPMA configuration data.

    Signed-of-by: Sergei Poselenov <sposelenov@emcraft.com>

commit 59abd15b43cab7a4d19de4ba0943837d9555f7ba
Author: Sergei Poselenov <sposelenov@emcraft.com>
Date:	Fri Jun 6 15:42:41 2008 +0200

    Socrates: Added FPGA mapping. LAWs and TLBs cleanup.

    Signed-off-by: Sergei Poselenov <sposelenov@emcraft.com>

commit 740280e68ccc0b971e613face7eaaa8bd1382b8c
Author: Sergei Poselenov <sposelenov@emcraft.com>
Date:	Fri Jun 6 15:42:40 2008 +0200

    Added the upmconfig() function for 85xx.

    Signed-off-by: Sergei Poselenov <sposelenov@emcraft.com>
    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit d39e68514ff943930ee692cff3fde03532eb7fec
Author: Sergei Poselenov <sposelenov@emcraft.com>
Date:	Fri Jun 6 15:42:39 2008 +0200

    Socrates: config file cleanup.

    Signed-off-by: Sergei Poselenov <sposelenov@emcraft.com>

commit e8cc3f04b124f757af4528206e60d8eb715ae083
Author: Wolfgang Grandegger <wg@grandegger.com>
Date:	Thu Jun 5 13:12:10 2008 +0200

    TQM85xx: Change memory map to support Flash memory > 128 MiB

    Some TQM85xx boards could be equipped with up to 1 GiB (NOR) Flash
    memory. The current memory map only supports up to 128 MiB Flash.
    This patch adds the configuration option CONFIG_TQM_BIGFLASH. If
    set, up to 1 GiB flash is supported. To achieve this, the memory
    map has to be adjusted in great parts (for example the CCSRBAR is
    moved from 0xE0000000 to 0xA0000000).

    If you want to boot Linux with CONFIG_TQM_BIGFLASH set, the new
    memory map also has to be considered in the kernel (changed
    CCSRBAR address, changed PCI IO base address, ...). Please use
    an appropriate Flat Device Tree blob (tqm8548.dtb).

    Signed-off-by: Martin Krause <martin.krause@tqs.de>
    Signed-off-by: Wolfgang Grandegger <wg@grandegger.com>

commit 1c2deff22cd6e2bf0e618fd6e09ca3eec5a8d051
Author: Wolfgang Grandegger <wg@grandegger.com>
Date:	Thu Jun 5 13:12:09 2008 +0200

    TQM85xx: NAND support via local bus UPMB

    This patch adds support for NAND FLASH on the TQM8548. It is disabled by
    default and can be enabled for the TQM8548 modules. It is now based on
    the re-written FSL NAND UPM driver. A patch has been posted earlier today
    with the subject:

    "NAND FSL UPM: driver re-write using the hwcontrol callback"

    Note that the R/B pin is not supported by that module requiring to use
    the specified maximum delay time.

    Note: With NAND support enabled the size of the U-Boot image exceeds
    256 KB and TEXT_BASE must therefore be set to 0xfff80000 in config.mk,
    doubling the image size :-(.

    Signed-off-by: Thomas Waehner <thomas.waehner@tqs.de>
    Signed-off-by: Wolfgang Grandegger <wg@grandegger.com>

commit b9e8078bb3f3c48111a7081e27279938c3a445e1
Author: Wolfgang Grandegger <wg@grandegger.com>
Date:	Thu Jun 5 13:12:08 2008 +0200

    TQM8548: PCI express support

    This patch adds support for PCI express cards. The board support
    now uses common FSL PCI init code, for both, PCI and PCIe on all
    TQM85xx modules.

    Signed-off-by: Thomas Waehner <thomas.waehner@tqs.de>
    Signed-off-by: Wolfgang Grandegger <wg@grandegger.com>

commit 1287e0c55a2ee2c575ac9ce8e4302cd4085be876
Author: Wolfgang Grandegger <wg@grandegger.com>
Date:	Thu Jun 5 13:12:07 2008 +0200

    TQM8548: Basic support for the TQM8548 modules

    This patch adds basic support for the TQM8548 module from TQ-Components
    (http://www.tqc.de/) including DDR2 SDRAM initialisation and support for
    eTSEC 3 and 4

    Furthermore Flash buffer write has been enabled to speed up output to
    the Flash by approx. a factor of 10.

    Signed-off-by: Thomas Waehner <thomas.waehner@tqs.de>
    Signed-off-by: Wolfgang Grandegger <wg@grandegger.com>

commit 25991353204c78b094c3c1fec90182dcd607ab8f
Author: Wolfgang Grandegger <wg@grandegger.com>
Date:	Thu Jun 5 13:12:06 2008 +0200

    TQM85xx: Support for Flat Device Tree

    This patch adds support for Linux kernels using the Flat Device Tree.
    It also re-defines the default environment settings for booting Linux
    with the FDT blob.

    Signed-off-by: Wolfgang Grandegger <wg@grandegger.com>

commit d9ee843d54c54776e1fdb86336ce554906a87331
Author: Wolfgang Grandegger <wg@grandegger.com>
Date:	Thu Jun 5 13:12:05 2008 +0200

    TQM85xx: Support for Intel 82527 compatible CAN controller

    This patch adds initialization of the UPMC RAM to support up to two
    Intel 82527 compatible CAN controller on the TQM85xx modules.

    Signed-off-by: Thomas Waehner <thomas.waehner@tqs.de>
    Signed-off-by: Wolfgang Grandegger <wg@grandegger.com>

commit 518d5cfe72916323c746af1647764459914f555f
Author: Wolfgang Grandegger <wg@grandegger.com>
Date:	Thu Jun 5 13:12:04 2008 +0200

    TQM85xx: Bugfix in the SDRAM initialisation

    The CS0_BNDS register is now set according to the detected
    memory size.

    Signed-off-by Martin Krause <martin.krause@tqs.de>

commit 45dee2e620ccec6ac7b3548fe8979a34fd030e5d
Author: Wolfgang Grandegger <wg@grandegger.com>
Date:	Thu Jun 5 13:12:03 2008 +0200

    TQM85xx: Fix chip select configuration for second FLASH bank

    This patch fixes the re-calculation of the automatic chip select
    configuration for boards with two populated FLASH banks.

    Signed-off-by: Martin Krause <martin.krause@tqs.de>

commit 46346f27cda6fd025a496bde8f2d4aeee04aca5f
Author: Wolfgang Grandegger <wg@grandegger.com>
Date:	Thu Jun 5 13:12:02 2008 +0200

    TQM85xx: Support for Spansion 'N' type flashes added

    The 'N' type Spansion flashes (S29GLxxxN series) have bigger sectors,
    than the formerly used 'M' types (S29GLxxxM series), so the flash layout
    needs to be changed -> new start address of the environment. The macro
    definition CONFIG_TQM_FLASH_N_TYPE is undefined by default and must be
    defined for boards with 'N' type flashes.

    Signed-off-by: Martin Krause <martin.krause@tqs.de>
    Signed-off-by: Wolfgang Grandegger <wg@grandegger.com>

commit 5d5bd838f76eade22c0ea40a500389f924d0da36
Author: Wolfgang Grandegger <wg@grandegger.com>
Date:	Thu Jun 5 13:12:01 2008 +0200

    TQM85xx: Fix CPM port pin configuration

    Do not configure port pins PD30/PD31 as SCC1 TxD/RxD except for the TQM8560
    board. On the other TQM85xx boards (TQM8541 and TQM8555) SCC1 is not used
    as serial interface anyway. Worse, on some board variants configuring the
    pins for SCC1 leads to short circuits (for example on the TQM8541-BG).

    Signed-off-by: Martin Krause <martin.krause@tqs.de>

commit b99ba1679e8cd51b023e67098c89e606e47137d2
Author: Wolfgang Grandegger <wg@grandegger.com>
Date:	Thu Jun 5 13:12:00 2008 +0200

    TQM85xx: Various coding style fixes

    Signed-off-by: Wolfgang Grandegger <wg@grandegger.com>

commit ae9e97fa96f643c8ba2b666b06a026cc8717eb00
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Tue Jun 10 22:15:58 2008 -0400

    libfdt: Move the working_fdt pointer to cmd_fdt.c

    The working_fdt pointer was declared in common/fdt_support.c but was
    not used there.  Move it to common/cmd_fdt.c where it is used (it is
    also used in lib_ppc/bootm.c).

    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>

commit e489b9c078e22b0d9e75f002cd2a1bd967e88f5e
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Tue Jun 10 11:06:17 2008 -0500

    fdt: unshadow global working fdt variable

    differentiate with local variables of the same name by renaming the
    global 'fdt' variable 'working_fdt'.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit e1eb0e25d9d8fd8efdfb93f670a417663f386022
Author: Andy Fleming <afleming@freescale.com>
Date:	Tue Jun 10 18:49:34 2008 -0500

    socrates: Fix PCI clk fix patch

    The submitted patch seems to have been more up-to-date, but an older patch was
    already in the repository.	This patch encompasses the differences

    Taken entirely from Sergei Poselenov <sposelenov@emcraft.com>

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit a75a57ef6e4b613c81434971e96ed70cf9ec9ba0
Author: Wolfgang Grandegger <wg@grandegger.com>
Date:	Thu Jun 5 13:02:29 2008 +0200

    NAND FSL UPM: driver re-write using the hwcontrol callback

    This is a re-write of the NAND FSL UPM driver using the more universal
    hwcontrol callback (instead of the cmdfunc callback). Here is a brief
    list of furher modifications:

    - For the time being, the UPM setup writing the UPM array has been
      removed from the driver and must now be done by the board specific
      code.

    - The bus width definition in "struct fsl_upm_nand" is now in bits to
      comply with the corresponding Linux driver and 8, 16 and 32 bit
      accesses are supported.

    - chip->dev_read is only set if fun->dev_ready != NULL, which is
      required for boards not connecting the R/B pin.

    - A few issue have been fixed with MxMR bit manipulation like in the
      corresponding Linux driver.

    Note: I think the "io_addr" field of "struct fsl_upm" could be removed
	  as well, because the address is already determined by
	  "nand->IO_ADDR_[RW]", but I'm not 100% sure.

    This patch has been tested on a TQM8548 modules with the NAND chip
    Micron MT29F8G08FABWP.

    This patch is based on the following patches posted to this list a few
    minutes ago:

      PPC: add accessor macros to clear and set bits in one shot
      83xx/85xx/86xx: add more MxMR local bus definitions

    Signed-off-by: Wolfgang Grandegger <wg@grandegger.com>
    Acked-by: Anton Vorontsov <avorontsov@ru.mvista.com>

commit 6beecfbb542992eede5831240cd58678274683a9
Author: Wolfgang Grandegger <wg@grandegger.com>
Date:	Thu Jun 5 13:11:59 2008 +0200

    MPC85xx: Beautify boot output of L2 cache configuration

    The boot output is now aligned poperly with other boot output
    lines, e.g.:

      FLASH: 128 MB
      L2:    512 KB enabled

    Signed-off-by: Wolfgang Grandegger <wg@grandegger.com>

commit 398415114f0a705163a14543e9fef03f734b1ffa
Author: Wolfgang Grandegger <wg@grandegger.com>
Date:	Wed Jun 4 12:45:22 2008 +0200

    PPC: add accessor macros to clear and set bits in one shot

    PPC: add accessor macros to clear and set bits in one shot

    This patch adds macros from linux/include/asm-powerpc/io.h to clear and
    set bits in one shot using the in_be32, out_be32, etc. accessor functions.
    They are very handy to manipulate bits it I/O registers.

    This patch is required for my forthcoming FSL NAND UPM driver re-write and
    the support for the TQM8548 module.

    Signed-off-by: Wolfgang Grandegger <wg@grandegger.com>

commit 4677988c7edc070c3786d3db7994abeca3ab82a0
Author: Wolfgang Grandegger <wg@grandegger.com>
Date:	Wed Jun 4 13:52:17 2008 +0200

    TQM: move TQM boards to board/tqc

    Move all TQM board directories to the vendor specific directory "tqc"
    for modules from TQ-Components GmbH (http://www.tqc.de).

    Signed-off-by: Wolfgang Grandegger <wg@grandegger.com>

commit 6fab2fe72ca5bf95280cd52cdf378af3e506eb50
Author: Wolfgang Grandegger <wg@grandegger.com>
Date:	Mon Jun 2 12:09:30 2008 +0200

    83xx/85xx/86xx: add more MxMR local bus definitions

    83xx/85xx/86xx: add more MxMR local bus definitions

    This patch adds more macro definitions for the UPM Machine Mode Registers
    They are copied from "include/mpc82xx.h" to simplify the merge of all 8xxx
    common local bus definitions into include/asm-ppc/fsl_lbc.h. They are
    required for my forthcoming FSL NAND UPM driver re-write and the support
    for the TQM8548 module.

    This patch is based on the following two patches from Anton Vorontsov:

    http://www.mail-archive.com/u-boot-users@lists.sourceforge.net/msg06511.html
    http://www.mail-archive.com/u-boot-users@lists.sourceforge.net/msg06587.html

    I leave coding style violation fixes, code beautification and name
    corrections to somebody else ;-(.

    Signed-off-by: Wolfgang Grandegger <wg@grandegger.com>

commit c8c5fc266e4499e283c293ccb972863156aa4134
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Thu May 29 18:14:56 2008 +0400

    83xx/85xx: further localbus cleanups

    Merge mpc85xx.h's LBC defines to fsl_lbc.h. Also, adopt ACS names
    from mpc85xx.h, so ACS_0b10 renamed to ACS_DIV4, ACS_0b11 to ACS_DIV2.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>

commit 42dbd667c88d496882d53e22656e89b654205492
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Wed May 28 18:20:15 2008 +0400

    83xx/85xx/86xx: factor out Freescale Localbus defines out of mpc83xx.h

    This patch moves Freescale Localbus defines out of mpc83xx.h, so we could
    use it on MPC85xx and MPC86xx processors.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>

commit 730b2fcf6fcd9eec3ea86fbb087c3f98aa23a769
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu May 29 11:22:06 2008 -0500

    85xx: Add setting of cache props in the device tree.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 4dbdb7681e243431530df0725627192a0c4aefda
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Jun 10 16:53:46 2008 -0500

    85xx: expose cpu identification

    The current cpu identification code is used just to return the name
    of the processor at boot.  There are some other locations that the name
    is useful (device tree setup).  Expose the functionality to other bits
    of code.

    Also, drop the 'E' suffix and add it on by looking at the SVR version
    when we print this out.  This is mainly to allow the most flexible use
    of the name.  The device tree code tends to not care about the 'E' suffix.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 2329fe113d847e43cca8e4a0e4edd613b50b8492
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Tue Jun 10 13:25:24 2008 -0500

    mpc83xx: MVBLM7: minor build fixups

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit a1293e549b56da135ef32ffca5b9d35a16aa6802
Author: Andre Schwarz <andre.schwarz@matrix-vision.de>
Date:	Tue Jun 10 09:14:05 2008 +0200

    add MPC8343 based board mvBlueLYNX-M7 (board+make files)

    Add MPC8343 based board mvBlueLYNX-M7.
    It's a single board stereo camera system.
    Please read doc/README.mvblm7 for details.

    Signed-off-by: Andre Schwarz <andre.schwarz@matrix-vision.de>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit c005b93925ba49f07da2aa748527996d927e172f
Author: Andre Schwarz <andre.schwarz@matrix-vision.de>
Date:	Tue Jun 10 09:13:16 2008 +0200

    add MPC8343 based board mvBlueLYNX-M7 (doc+config)

    Add MPC8343 based board mvBlueLYNX-M7.
    It's a single board stereo camera system.
    Please read doc/README.mvblm7 for details.

    Signed-off-by: Andre Schwarz <andre.schwarz@matrix-vision.de>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit f9023afbdfd9f27e7c38f3cce965746e56d62dd3
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Thu May 29 18:14:56 2008 +0400

    83xx/85xx: further localbus cleanups

    move the BRx_* and ORx_* left behind in mpc85xx.h

    The same is needed for mpc8xx.h and mpc8260.h (defines are almost
    the same, just few differences which needs some attention though).

    But the bad news for mpc8xx and mpc8260 is that there are a lot of users
    of these defines. So this cleanup I'll leave for the "better times".

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit bf30bb1f7c954d7855d9b23624b33b00c50b4697
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Wed May 28 18:20:15 2008 +0400

    83xx/85xx/86xx: factor out Freescale Localbus defines out of mpc83xx.h

    This patch moves Freescale Localbus defines out of mpc83xx.h, so we could
    use it on MPC85xx and MPC86xx processors.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Acked-by: Andy Fleming <afleming@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit d82b4fc0ce8cca95e857fc51022e841cb2dbee6a
Author: Tor Krill <tor@excito.com>
Date:	Mon Jun 2 15:09:30 2008 +0200

    Add missing CSCONFIG_BANK_BIT_3 define to mpc83xx.h

    Signed-off-by: Tor Krill <tor@excito.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 3b904ccb93c3196727e2e9870cb1df903cab19ad
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Mon Jun 9 23:37:44 2008 +0900

    net: Conditional COBJS inclusion of network drivers

    Replace COBJS-y with appropriate driver config names.

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 2fb698bf50f4aff2485581a12fa634a07c040e4a
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Mon Jun 9 21:02:17 2008 -0400

    Use strncmp() for the fdt command

    Cleaner than doing multiple conditionals on characters.

    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>

commit 47abe8ab290d2721a8eeadff65b939e6af8c01b0
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Sat Jun 7 12:25:05 2008 -0400

    The fdt boardsetup command criteria was not unique

    It was checking just for "b", which is not unique with respect to the
    "boot" command.  Change to check for "boa"[rdsetup].

    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>

commit 2f08bfa9526bae4f461e043530cfb903fec0d273
Author: David Gibson <david@gibson.dropbear.id.au>
Date:	Tue May 20 17:19:11 2008 +1000

    libfdt: Several cleanups to parameter checking

    This patch makes a couple of small cleanups to parameter checking of
    libfdt functions.

	- In several functions which take a node offset, we use an
    idiom involving fdt_next_tag() first to check that we have indeed been
    given a node offset.  This patch adds a helper function
    _fdt_check_node_offset() to encapsulate this usage of fdt_next_tag().

	- In fdt_rw.c in several places we have the expanded version
    of the RW_CHECK_HEADER() macro for no particular reason.  This patch
    replaces those instances with an invocation of the macro; that's what
    it's for.

	- In fdt_sw.c we rename the check_header_sw() function to
    sw_check_header() to match the analgous function in fdt_rw.c, and we
    provide an SW_CHECK_HEADER() wrapper macro as RW_CHECK_HEADER()
    functions in fdt_rw.c

    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>

commit fec6d9ee7c10443f65ce1788ef818919167bbf2e
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Tue Jun 3 20:34:45 2008 -0400

    Remove the deprecated CONFIG_OF_FLAT_TREE

    Use CONFIG_OF_LIBFDT instead to support flattened device trees.  It is
    cleaner, has better functionality, and is better supported.

    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>

commit 62bcdda293efa752f8281fbd9da03822b27ce82f
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Tue Jun 3 20:26:29 2008 -0400

    Change the stxxst to CONFIG_OF_LIBFDT

    This was configured to use the deprecated CONFIG_OF_FLAT_TREE, change
    to CONFIG_OF_LIBFDT.

    WARNING: It appears that this board lost its ability to boot via a
    flattened device tree prior to this changeset.

    WARNING: This conversion was untested because I do not have a board to
    test it on.

    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>

commit 589c04271d129729a8b01391453851ab9cc4069c
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Tue Jun 3 20:24:58 2008 -0400

    Convert mpc7448hpc2 to CONFIG_OF_LIBFDT

    This was configured to use the deprecated CONFIG_OF_FLAT_TREE, change
    to CONFIG_OF_LIBFDT.

    WARNING: This conversion is untested because I do not have a board to
    test it on.

    NOTE: The FDT blob (DTS) must have an /aliases/ethernet0 and (optionally)
    /aliases/ethernet1 property for the ethernet to work.

    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>

commit ee1e35bede91debc8bff9b02f75574486033b652
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu May 29 01:21:24 2008 -0500

    85xx: Only use PORPLLSR[DDR_Ratio] on platforms that define it

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 3b9519fc50802436e417c839e69df7b2016cade5
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Wed May 14 13:10:04 2008 -0500

    MPC85xx: Change traps.c to not reference non-addressable memory

    Currently, END_OF_RAM is used by the trap code to determine if
    we should attempt to access the stack pointer or not. However,
    on systems with a lot of RAM, only a subset of the RAM is
    guaranteed to be mapped in and accessible.	Change END_OF_RAM
    to use get_effective_memsize() instead of using the raw ram
    size out of the bd.

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit 7faddaecea52f585f538fdf9c2e61f85a789b19c
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Mon Jun 9 13:39:57 2008 +0900

    sh: Renesas Solutions SH7763RDP board support

    SH7763RDP has SCIF, NOR Flash, Ethernet, USB host, LCDC and MMC.
    In this patch, support SCIF, NOR Flash, and Ethernet.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 60179098a95eaa972007d7ec58e4c1588029720f
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Fri Jun 6 16:24:13 2008 +0900

    sh: Add support Renesas SH7763

    Renesas SH7763 has 3 SCIF, MMC, LCDC, Ethernet and other.
    This patch supprts CPU register's header file.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 08c5fabe181d663eec0feba5ecd02c0b78934a52
Author: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
Date:	Fri Jun 6 16:16:08 2008 +0900

    sh: SH7763 SCIF support

    SH7763 has 3 SCIF channels. SCIF0 and 1 are same register constitution,
    but only SCIF2 is different. This patch work all SCIF channel.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu.nobuhiro@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 79b51ff8205f0354d5300570614c1d2db499679c
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Sat Jun 7 20:51:59 2008 +0900

    [MIPS] cpu/mips/Makefile: Split [CS]OBJS onto separate lines

    Also get rid of some #ifdefs in *.c files.

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit 8bde63eb3f79d68f693201528dafc8ae7aa087de
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Sat Jun 7 20:51:56 2008 +0900

    [MIPS] Rename Alchemy processor configs into CONFIG_SOC_*

    CONFIG_SOC_AU1X00

      Common Alchemy Au1x00 stuff. All Alchemy processor based machines
      need to have this config as a system type specifier.

    CONFIG_SOC_AU1000, CONFIG_SOC_AU1100, CONFIG_SOC_AU1200,
    CONFIG_SOC_AU1500, CONFIG_SOC_AU1550

      Machine type specifiers. Each port should have one of aboves.

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit cc49cadeeb8bb2f0ae3fdc13af7051ae59f083bc
Author: Stuart Wood <stuart.wood@labxtechnologies.com>
Date:	Fri May 30 16:05:28 2008 -0400

    env_nand.c: Added bad block management for environment variables

    Modified to check for bad blocks and to skipping over them when
    CFG_ENV_RANGE has been defined.
    CFG_ENV_RANGE must be larger than CFG_ENV_SIZE and aligned to the NAND
    flash block size.

    Signed-off-by: Stuart Wood <stuart.wood@labxtechnologies.com>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 279726bd00558e80263d44581c44167625b7fb9a
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Wed May 14 13:09:58 2008 -0500

    MPC86xx: Change traps.c to not reference non-addressable memory

    Currently, END_OF_RAM is used by the trap code to determine if
    we should attempt to access the stack pointer or not. However,
    on systems with a lot of RAM, only a subset of the RAM is
    guaranteed to be mapped in and accessible.	Change END_OF_RAM
    to use get_effective_memsize() instead of using the raw ram
    size out of the bd to prevent us from trying to access
    non-mapped memory.

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit 338cc038461a6c7709c5b86fd9a240209338a1ae
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Jun 6 14:28:14 2008 +0200

    tools/mkimage: fix compiler warnings on some systems.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit b2815f79288d4da7a3ba18bdbd05120ce09d5622
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jun 6 16:10:41 2008 +0200

    ppc4xx: Fix misspelled CONFIG_440SPE/440EPX/GRX config options

    We use upper case letters for the AMCC processor defines (like
    CONFIG_440SPE) in U-Boot. So the 440SPe is labeled CONFIG_440SPE and
    not CONFIG_440SPe. This patch fixes the last misspelled config options.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 72675dc6c06a48846d180106161d49dd714383cc
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jun 6 15:55:21 2008 +0200

    ppc4xx: Unify AMCC's board config files (part 3/3)

    This patch series unifies the AMCC eval board ports by introducing
    a common include header for all AMCC eval boards:

    include/configs/amcc-common.h

    This header now includes all common configuration options/defines which
    are removed from the board specific headers.

    The reason for this is ease of maintenance and unified look and feel
    of all AMCC boards.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 490f204096d6e2c9940f67816f154a8125bab116
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jun 6 15:55:03 2008 +0200

    ppc4xx: Unify AMCC's board config files (part 2/3)

    This patch series unifies the AMCC eval board ports by introducing
    a common include header for all AMCC eval boards:

    include/configs/amcc-common.h

    This header now includes all common configuration options/defines which
    are removed from the board specific headers.

    The reason for this is ease of maintenance and unified look and feel
    of all AMCC boards.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit a8a11a9ed046b480a16e47a158f8f5300028dfa6
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jun 6 15:54:31 2008 +0200

    ppc4xx: Unify AMCC's board config files (part 1/3)

    This patch series unifies the AMCC eval board ports by introducing
    a common include header for all AMCC eval boards:

    include/configs/amcc-common.h

    This header now includes all common configuration options/defines which
    are removed from the board specific headers.

    The reason for this is ease of maintenance and unified look and feel
    of all AMCC boards.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 0e38c938ed4bcadb4f4fc1419a541431e94fc202
Author: Remy Bohmer <linux@bohmer.net>
Date:	Thu Jun 5 13:03:36 2008 +0200

    DM9000 fix status check fail 0x6d error for trizeps board

    According to the Application Notes of the DM9000, only the 2 bits 0:1 of
    the status byte need to be checked to identify a valid packet in the fifo

    But, The several different Application Notes do not all speak the same
    language on these bits. They do not disagree, but only 1 Application Note
    noted explicitly that only these 2 bits need to be checked.
    Even the datasheets do not mention anything about these 2 bits.

    Because the old code, and the kernel check the whole byte, I left this piece
    untouched.

    However, I tested all board/DM9000[A|E|EP] devices with this 2 bit check, so
    it should work.

    Notice, that the 2nd iteration through this receive loop (when a 2nd packet is
    in the fifo) is much shorter now, compared to the older U-boot driver code,
    so that we can maybe run into a hardware condition now that was never seen
    before, or maybe was seen very unfrequently.

    Additionaly added a cleanup of a stack variable.

    Signed-off-by: Remy Bohmer <linux@bohmer.net>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 7daf2ebe9196dd67131a06d85049c3a8a08ca413
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Thu Jun 5 22:29:00 2008 +0900

    [MIPS] Update <asm/addrspace.h> header

    - Fix traditional KSEG names
    - Replace PHYSADDR with CPHYSADDR

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit f0d5a6f060d00358b85c62a921a423ea8df71184
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Thu Jun 5 22:29:00 2008 +0900

    [MIPS] mips_config.mk: Misc fixes

    - Kill redundant `-pipe' (this will be added by $(TOPDIR)/config.mk)
    - Modify comments

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit 5f64d21c9a2998794f255b469165b91f092dfc2d
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Thu Jun 5 22:29:00 2008 +0900

    [MIPS] Kill unused <version.h> inclusions

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit a55d48174cfd1a5bc184159513f48dcbbe409c83
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Thu Jun 5 22:29:00 2008 +0900

    [MIPS] lib_mips/time.c: Fix CP0 count register usage and timer routines

    MIPS port has two problems in timer routines. One is now we assume CFG_HZ
    equals to CP0 counter frequency, but this is wrong. CFG_HZ has to be 1000
    in the U-Boot system.

    The other is we don't have a proper time management counter like timestamp
    other ARCHs have. We need the 32-bit millisecond clock counter.

    This patch introduces timestamp and CYCLES_PER_JIFFY. timestamp is a
    32-bit non-overflowing CFG_HZ counter, and CYCLES_PER_JIFFY is the number
    of calculated CP0 counter cycles in a CFG_HZ.

    STRATEGY:

    * Fix improper CFG_HZ value to have 1000

    * Use CFG_MIPS_TIMER_FREQ for timer counter frequency, instead.

    * timer_init: initialize timestamp and set up the first timer expiration.
      Note that we don't need to initialize CP0 count/compare registers here
      as they have been already zeroed out on the system reset. Leave them as
      they are.

    * get_timer: calculate how many timestamps have been passed, then return
      base-relative timestamp. Make sure we can easily count missed timestamps
      regardless of CP0 count/compare value.

    * get_ticks: return the current timestamp, that is get_timer(0).

    Most parts are from good old Linux v2.6.16 kernel.

    v2:
    - Remove FIXME comments as they turned out to be trivial.
    - Use CP0 compare register as a global variable for expirelo.
    - Kill a global variable 'cycles_per_jiffy'. Use #define CYCLES_PER_JIFFY
      instead.

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit 199e4f657c8af42efe3fb3ba1d1104eb6bb28c25
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Thu Jun 5 22:29:00 2008 +0900

    [MIPS] lib_mips/time.c: Fix udelay

    What we have to do is just to wait for given micro-seconds. No need to
    take into account current time, get_timer and CFG_HZ.

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit c7e38e413ae69120d3e51f132c7cb1d6b3514d03
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Thu Jun 5 22:28:59 2008 +0900

    [MIPS] lib_mips/time.c: Replace CP0 access functions with existing macros

    We already have many pre-defined CP0 access macros in <asm/mipsregs.h>.
    This patch replaces mips_{compare,count}_set and mips_count_get with
    existing macros.

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit 6b52cfe16cd539935e32bd8cf19146522e462a4d
Author: Remy Bohmer <linux@bohmer.net>
Date:	Tue Jun 3 15:48:17 2008 +0200

    Get rid of annoying/superfluous bad-checksum warning message

    U-boot can complain a lot about 'checksum bad' when it is attached to the network.
    It is annoying for ordinary users who start to doubt the network connection
    in general when they see messages like this.

    This is caused by the routine NetCksumOk() which cannot handle IP-headers longer
    than 20 bytes. Those packages can be ignored anyway by U-boot, so we trash them
    now before checking the checksum.

    Signed-off-by: Remy Bohmer <linux@bohmer.net>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit d6ee5fa40c26970d39990c6fc4a2f20a97822650
Author: Remy Bohmer <linux@bohmer.net>
Date:	Wed Jun 4 10:47:25 2008 +0200

    Fix order for reading rx-status registers in 32bit mode of DM9000

    A last minute cleanup before submitting the DM9000A patch series yesterday introduced
    a bug in reading the rx-status registers in 32bit mode only.
    This patch repairs this.

    Signed-off-by: Remy Bohmer <linux@bohmer.net>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 98291e2e689096420465074cce926b226d2e71b4
Author: Remy Bohmer <linux@bohmer.net>
Date:	Tue Jun 3 15:26:26 2008 +0200

    DM9000: Some minor code cleanups

    Some lines of the U-boot DM9000x driver are longer than 80 characters, or
    need some other minor cleanup.

    Signed-off-by: Remy Bohmer <linux@bohmer.net>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 850ba7555dbd4ca8d14fc475b864d534797adab3
Author: Remy Bohmer <linux@bohmer.net>
Date:	Tue Jun 3 15:26:25 2008 +0200

    DM9000: Make driver work properly for DM9000A

    The DM9000A network controller does not work with the U-boot DM9000x driver.
    Analysis showed that many incoming packets are lost.

    The DM9000A Application Notes V1.20 (section 5.6.1) recommend that the poll to
    check for a valid rx packet be done on the interrupt status register, not
    directly by performing the dummy read and the rx status check as is currently
    the case in the u-boot driver.

    When the recommended poll is done as suggested the driver starts working
    correctly on 10Mbit/HD, but on 100MBit/FD packets come in faster so that there
    can be more than 1 package in the fifo at the same time.

    The driver must perform the rx-status check in a loop and read and handle all
    packages until there is no more left _after_ the interrupt RX flag is set.

    This change has been tested with DM9000A, DM9000E, DM9000EP.

    Signed-off-by: Remy Bohmer <linux@bohmer.net>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit fbcb7ece0ea1e364180f1cf963e0fa0ce7f6560d
Author: Remy Bohmer <linux@bohmer.net>
Date:	Tue Jun 3 15:26:24 2008 +0200

    DM9000: Improve eth_reset() routine

    According to the application notes of the DM9000 v1.22 chapter 5.2 bullet 2, the
    reset procedure must be done twice to properly reset the DM9000 by means of software.
    This errata is not needed anymore for the DM9000A, but it does not bother it.

    This change has been tested with DM9000A, DM9000E, DM9000EP.

    Signed-off-by: Remy Bohmer <linux@bohmer.net>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit acba31847fad9ae40708cc2c9f3a634ec35f3416
Author: Remy Bohmer <linux@bohmer.net>
Date:	Tue Jun 3 15:26:23 2008 +0200

    DM9000: improve eth_send() routine

    The eth_send routine of the U-boot DM9000x driver does not match the
    DM9000 or DM9000A application notes/programming guides.

    This change improves the stability of the DM9000A network controller.

    This change has been tested with DM9000A, DM9000E, DM9000EP.

    Signed-off-by: Remy Bohmer <linux@bohmer.net>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 134e266253c02a7832560da59d394989c4f64453
Author: Remy Bohmer <linux@bohmer.net>
Date:	Tue Jun 3 15:26:22 2008 +0200

    DM9000: repair debug logging

    It seems that the debugging code of the DM9000x driver in U-boot has not been
    compiled for a long time, because it cannot compile...

    Also rearranged some loglines to get more useful info while debugging.

    Signed-off-by: Remy Bohmer <linux@bohmer.net>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit a101361bfe23c120321e45d114c0603b8e0763e9
Author: Remy Bohmer <linux@bohmer.net>
Date:	Tue Jun 3 15:26:21 2008 +0200

    DM9000: Add data bus-width auto detection.

    The U-boot DM9000x driver contains a compile time bus-width definition for
    the databus connected to the network controller.

    This compile check makes the code unclear, inflexible and is unneccessary.
    It can be asked to the network controller what its bus-width is by reading bits
    6 and 7 of the interrupt status register.

    The linux kernel already uses a runtime mechanism to determine this bus-width,
    so the implementation below looks somewhat like that implementation.

    This change has been tested with DM9000A, DM9000E, DM9000EP.

    Signed-off-by: Remy Bohmer <linux@bohmer.net>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 63a0afa0c32e5f4ea98a9439542870072437404d
Author: Stefan Roese <sr@denx.de>
Date:	Wed Jun 4 19:19:20 2008 +0200

    ppc4xx: Fix problem with SDRAM init in bamboo NAND booting port

    This patch fixes a problem spotted by Eugene O'Brian (thanks Eugene)
    introduced by the commit:

    ppc4xx/NAND_SPL: Consolidate 405 and 440 NAND booting code in start.S

    With this patch SDRAM will get initialized again and booting from NAND
    is working again.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Acked-by: Eugene O'Brien <eugene.obrien@advantechamt.com>

commit 9ef1cbef1a649e3779298b0e663be4865cbbbfbc
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue May 27 14:19:30 2008 +0200

    Socrates: Fix PCI bus frequency report

    Signed-off-by: Sergei Poselenov <sposelenov@emcraft.com>

commit 8ec6e332eace0ee78c71ee5f645d12b06813b86f
Author: Tor Krill <tor@excito.com>
Date:	Thu May 29 11:10:30 2008 +0200

    Fix incorrect switch for IF_TYPE in part.c

    Use correct field in block_dev_desc_t when writing interface type in
    dev_print. Error introduced in 574b3195.

    Also added fix from Martin Krause

    Signed-off-by: Tor Krill <tor@excito.com>

commit b64b8a0bd310935b70af69ac970952f2b364ae56
Author: Andre Schwarz <andre.schwarz@matrix-vision.de>
Date:	Tue May 27 10:25:39 2008 +0200

    Add size #defines for Altera Cyclone-II EP2C8 and EP2C20.

    Signed-off-by: Andre Schwarz <andre.schwarz@matrix-vision.de>

commit 35ef877f0a8f6232cdef748f442fed5accb2b641
Author: Peter Tyser <ptyser@xes-inc.com>
Date:	Thu May 22 18:56:52 2008 -0500

    Additional fix to readline_into_buffer() with CONFIG_CMDLINE_EDITING before relocating

    Removed unneeded command line history initialization.  Also, the original
    code would access the 'initted' variable before relocation to SDRAM
    which resulted in erratic behavior since the bss is not initialized when
    executing from flash.

    Signed-off-by: Peter Tyser <ptyser@xes-inc.com>

commit 22f371b63038a4ecab04068877c1089e51a01ba1
Author: Grant Erickson <gerickson@nuovations.com>
Date:	Wed May 21 13:28:30 2008 -0700

    PPC4xx: Simplified post_word_{load, store}

    This patch simplifies post_word_{load,store} by using the preprocessor
    to eliminate redundant, copy-and-pasted code.

    Signed-off-by: Grant Erickson <gerickson@nuovations.com>

commit 9c048b523413ae5f3ff34e00cf57569c3368ab51
Author: Vasiliy Leoenenko <vasiliy.leonenko@mail.ru>
Date:	Wed May 7 21:25:33 2008 +0400

    cfi_flash: enable M18 flash chips family support.

    Added new command set ID. Buffered write command processing is changed
    in order to support M18 flash chips family.

    Signed-off-by: Alexey Korolev <akorolev@infradead.org>
    Signed-off-by: Vasiliy Leonenko <vasiliy.leonenko@mail.ru>

commit 93c56f212ccdadc182018f0769cb284426b88f1d
Author: Vasiliy Leoenenko <vasiliy.leonenko@mail.ru>
Date:	Wed May 7 21:24:44 2008 +0400

    cfi_flash: support of long cmd in U-boot.

    Some NOR flash chips needs support of commands with length grether than max
    value size of uchar. For example all M18 family chips use 0x1ff command in
    buffered write mode as value of program loops count.

    Signed-off-by: Alexey Korolev <akorolev@infradead.org>
    Signed-off-by: Vasiliy Leonenko <vasiliy.leonenko@mail.ru>

commit 4d91d1df2f16b511ab80dec50c80e050ba0d841e
Author: Stefan Roese <sr@denx.de>
Date:	Fri May 16 11:06:06 2008 +0200

    DTT: Issue one-shot command on AD7414 (LM75 code) to read temp

    On AD7414 the first value upon bootup is not read correctly.
    This is most likely because of the 800ms update time of the
    temp register in normal update mode. To get current values
    each time we issue the "dtt" command including upon powerup
    we switch into one-short mode.

    This patch fixes the problem on AD7414 equipped boards (Sequoia,
    Canyonlands etc), that temp value printed in the bootup log was
    incorrect.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit de5bfcf7b0425e032be12698252dbaa6b65a28c0
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Fri May 30 16:55:06 2008 +0200

    ppc4xx: Cleanup CPCI405 variant's config file

    This patch removes some dead code from CPCI405 board's
    config files. JFFS2 support is also removed. It's not used and
    CPCI4052 does not build anymore without some size reduction.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit 2918eb9d42bc705fcbd18c9fcc39d15ff2843c65
Author: Kenneth Johansson <kenneth@southpole.se>
Date:	Thu May 29 16:32:33 2008 +0200

    Remove shell variable UNDEF_SYM.

    UNDEF_SYM is a shell variable in the main Makefile used to force the
    linker to add all u-boot commands to the final image. It has no use here.

    Signed-off-by: Kenneth Johansson <kenneth@southpole.se>

commit 8c66497e06bf803489c589df58ee591d71033274
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Fri May 16 11:10:35 2008 +0200

    Add support for environment in SPI flash

    This is pretty incomplete...it doesn't handle reading the environment
    before relocation, it doesn't support redundant environment, and it
    doesn't support embedded environment. But apart from that, it does
    seem to work.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit b6368467e6a97f225e0a5fd7bfc5c7598ef5ddc4
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Fri May 16 11:10:34 2008 +0200

    SPI Flash: Add "sf" command

    This adds a new command, "sf" which can be used to manipulate SPI
    flash. Currently, initialization, reading, writing and erasing is
    supported.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit d25ce7d24cc0f93881559f4009175ea305af65e8
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Fri May 16 11:10:33 2008 +0200

    SPI Flash subsystem

    This adds a new SPI flash subsystem.

    Currently, only AT45 DataFlash in non-power-of-two mode is supported,
    but some preliminary support for other flash types is in place as
    well.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit 60445cb5c3eb77ed1a07f2d908eef09174483698
Author: Hans-Christian Egtvedt <hcegtvedt@atmel.com>
Date:	Fri May 16 11:10:32 2008 +0200

    atmel_spi: Driver for the Atmel SPI controller

    This adds a driver for the SPI controller found on most AT91 and AVR32
    chips, implementing the new SPI API.

    Changed in v4:
      - Update to new API
      - Handle zero-length transfers appropriately. The user may send a
	zero-length SPI transfer with SPI_XFER_END set in order to
	deactivate the chip select after a series of transfers with chip
	select active. This is useful e.g. when polling the status
	register of DataFlash.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit d255bb0e78d1cac5b7c8c98cb77a095f5f16de0d
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Fri May 16 11:10:31 2008 +0200

    SPI API improvements

    This patch gets rid of the spi_chipsel table and adds a handful of new
    functions that makes the SPI layer cleaner and more flexible.

    Instead of the spi_chipsel table, each board that wants to use SPI
    gets to implement three hooks:
      * spi_cs_activate(): Activates the chipselect for a given slave
      * spi_cs_deactivate(): Deactivates the chipselect for a given slave
      * spi_cs_is_valid(): Determines if the given bus/chipselect
	combination can be activated.

    Not all drivers may need those extra functions however. If that's the
    case, the board code may just leave them out (assuming they know what
    the driver needs) or rely on the linker to strip them out (assuming
    --gc-sections is being used.)

    To set up communication parameters for a given slave, the driver needs
    to call spi_setup_slave(). This returns a pointer to an opaque
    spi_slave struct which must be passed as a parameter to subsequent SPI
    calls. This struct can be freed by calling spi_free_slave(), but most
    driver probably don't want to do this.

    Before starting one or more SPI transfers, the driver must call
    spi_claim_bus() to gain exclusive access to the SPI bus and initialize
    the hardware. When all transfers are done, the driver must call
    spi_release_bus() to make the bus available to others, and possibly
    shut down the SPI controller hardware.

    spi_xfer() behaves mostly the same as before, but it now takes a
    spi_slave parameter instead of a spi_chipsel function pointer. It also
    got a new parameter, flags, which is used to specify chip select
    behaviour. This may be extended with other flags in the future.

    This patch has been build-tested on all powerpc and arm boards
    involved. I have not tested NIOS since I don't have a toolchain for it
    installed, so I expect some breakage there even though I've tried
    fixing up everything I could find by visual inspection.

    I have run-time tested this on AVR32 ATNGW100 using the atmel_spi and
    DataFlash drivers posted as a follow-up. I'd like some help testing
    other boards that use the existing SPI API.

    But most of all, I'd like some comments on the new API. Is this stuff
    usable for everyone? If not, why?

    Changed in v4:
      - Build fixes for various boards, drivers and commands
      - Provide common struct spi_slave definition that can be extended by
	drivers
      - Pass a struct spi_slave * to spi_cs_activate and spi_cs_deactivate
      - Make default bus and mode build-time configurable
      - Override default SPI bus ID and mode on mx32ads and imx31_litekit.

    Changed in v3:
      - Add opaque struct spi_slave for controller-specific data associated
	with a slave.
      - Add spi_claim_bus() and spi_release_bus()
      - Add spi_free_slave()
      - spi_setup() is now called spi_setup_slave() and returns a
	struct spi_slave
      - soft_spi now supports four SPI modes (CPOL|CPHA)
      - Add bus parameter to spi_setup_slave()
      - Convert the new i.MX32 SPI driver
      - Convert the new MC13783 RTC driver

    Changed in v2:
      - Convert the mpc8xxx_spi driver and the mpc8349emds board to the
	new API.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>
    Tested-by: Guennadi Liakhovetski <lg@denx.de>

commit 289011207d999b2e4085150d2aa30d547ad9b800
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Fri May 16 11:10:30 2008 +0200

    Move definition of container_of() to common.h

    AVR32 and AT91SAM9 both have their own identical definitions of
    container_of() taken from the Linux kernel. Move it to common.h so
    that all architectures can use it.

    container_of() is already used by some drivers, and will be used
    extensively by the new and improved SPI API.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit 110e006fe67fb4a6e1719ae6956c79b7ffc0148b
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Fri May 16 11:08:11 2008 +0200

    soft_i2c: Pull SDA high before reading

    Spotted by Dean Capindale.

    Systems that support open-drain GPIO properly are allowed provide an
    empty I2C_TRISTATE define. However, this means that we need to be
    careful not to drive SDA low when the slave is expected to respond.

    This patch adds a missing I2C_SDA(1) to read_byte() required to
    tristate the SDA line on systems that support open-drain GPIO.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit 3c1de1a6d36be9eee284a6c596a86e94f19cc5b2
Author: Stefan Roese <sr@denx.de>
Date:	Mon May 19 11:34:53 2008 +0200

    ppc4xx: Remove implementations of testdram()

    This patch removes the used testdram() implementations of the board
    that are maintained by myself.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit bbeff30cbd1c5d551eb0ad1c2239ec01844c0b0a
Author: Stefan Roese <sr@denx.de>
Date:	Mon Jun 2 17:37:28 2008 +0200

    ppc4xx: Remove superfluous dram_init() call or replace it by initdram()

    Historically the 405 U-Boot port had a dram_init() call in early init
    stage. This function was still called from start.S and most of the time
    coded in assembler. This is not needed anymore (since a long time) and
    boards should implement the common initdram() function in C instead.

    This patch now removed the dram_init() call from start.S and removes the
    empty implementations that are scattered through most of the 405 board
    ports. Some older board ports really implement this dram_init() though.
    These are:

    csb272
    csb472
    ERIC
    EXBITGEN
    W7OLMC
    W7OLMG

    I changed those boards to call this assembler dram_init() function now
    from their board specific initdram() instead. This *should* work, but please
    test again on those platforms. And it is perhaps a good idea that those
    boards use some common 405 SDRAM initialization code from cpu/ppc4xx at
    some time. So further patches welcome here.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 192f90e272b3989ee7b4a666d1fdab831f20f8d2
Author: Stefan Roese <sr@denx.de>
Date:	Mon Jun 2 17:22:11 2008 +0200

    ppc4xx: Use new 4xx SDRAM controller enable defines in common ECC code

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 39b32be18cd33b53a84065edcd4e465165cc5564
Author: Stefan Roese <sr@denx.de>
Date:	Mon Jun 2 17:20:03 2008 +0200

    ppc4xx: Fix common ECC generation code for 440GP style platforms

    This patch makes the common 4xx ECC code really usable on 440GP style
    platforms.

    Since the IBM DDR controller used on 440GP/GX/EP/GR is not register
    compatible to the IBM DDR/2 controller used on 405EX/440SP/SPe/460EX/GT
    we need to make some processor dependant defines used later on by the
    driver.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit ec724f883ee3f3925e6c55027e8ffa70ada83303
Author: Stefan Roese <sr@denx.de>
Date:	Mon Jun 2 17:13:55 2008 +0200

    ppc4xx: Change Kilauea to use the common DDR2 init function

    This patch changes the kilauea and kilauea_nand (for NAND booting)
    board port to not use a board specific DDR2 init routine anymore. Now
    the common code from cpu/ppc4xx is used.

    Thanks to Grant Erickson for all his basic work on this 405EX early
    bootup.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 17ceb069b85fbb9269c4dc09b2c237f88334c5ba
Author: Stefan Roese <sr@denx.de>
Date:	Mon Jun 2 14:59:21 2008 +0200

    ppc4xx: Consolidate PPC4xx SDRAM/DDR/DDR2 defines, part2

    This patch now adds a new header file (asm-ppc/ppc4xx-sdram.h) for all
    ppc4xx related SDRAM/DDR/DDR2 controller defines.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 36ea16f6a066ccb046e91ebce4f326b69f4c0569
Author: Stefan Roese <sr@denx.de>
Date:	Mon Jun 2 14:57:41 2008 +0200

    ppc4xx: Consolidate PPC4xx SDRAM/DDR/DDR2 defines, part1

    This patch removes all SDRAM related defines from the PPC4xx headers
    ppc405.h and ppc440.h. This is needed since now some 405 PPC's use
    the same SDRAM controller as 440 systems do (like 405EX and 440SP).

    It also introduces new defines for the equipped SDRAM controller based on
    which PPC variant is used. There new defines are:

    used on 405GR/CR/EP and some Xilinx Virtex boards.

    used on 440GP/GX/EP/GR.

    used on 440EPx/GRx.

    used on 405EX/r/440SP/SPe/460EX/GT.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 64852d09e06dd6db2b2db2a3c59bc2db176a54d6
Author: Stefan Roese <sr@denx.de>
Date:	Mon Jun 2 14:35:44 2008 +0200

    ppc4xx/NAND_SPL: Consolidate 405 and 440 NAND booting code in start.S

    This patch consolidates the 405 and 440 parts of the NAND booting code
    selected via CONFIG_NAND_SPL. Now common code is used to initialize the
    SDRAM by calling initdram() and to "copy/relocate" to SDRAM/OCM/etc.
    Only *after* running from this location, nand_boot() is called.

    Please note that the initsdram() call is now moved from nand_boot.c
    to start.S. I experienced problems with some boards like Kilauea
    (405EX), which don't have internal SRAM (OCM) and relocation needs to
    be done to SDRAM before the NAND controller can get accessed. When
    initdram() is called later on in nand_boot(), this can lead to problems
    with variables in the bss sections like nand_ecc_pos[].

    Signed-off-by: Stefan Roese <sr@denx.de>
    Acked-by: Scott Wood <scottwood@freescale.com>

commit 8a24c07ba5da2c72ad1f05e3eb8a463750200c98
Author: Grant Erickson <gerickson@nuovations.com>
Date:	Thu May 22 14:44:24 2008 -0700

    ppc4xx: Enable Primordial Stack for 40x and Unify ECC Handling

    This patch (Part 2 of 2):

    * Rolls up a suite of changes to enable correct primordial stack and
      global data handling when the data cache is used for such a purpose
      for PPC40x-variants (i.e. CFG_INIT_DCACHE_CS).

    * Related to the first, unifies DDR2 SDRAM and ECC initialization by
      eliminating redundant ECC initialization implementations and moving
      redundant SDRAM initialization out of board code into shared 4xx
      code.

    * Enables MCSR visibility on the 405EX(r).

    * Enables the use of the data cache for initial RAM on
      both AMCC's Kilauea and Makalu and removes a redundant
      CFG_POST_MEMORY flag from each board's CONFIG_POST value.

      - Removed, per Stefan Roese's request, defunct memory.c file for
	Makalu and rolled sdram_init from it into makalu.c.

    With respect to the 4xx DDR initialization and ECC unification, there
    is certainly more work that can and should be done (file renaming,
    etc.). However, that can be handled at a later date on a second or
    third pass. As it stands, this patch moves things forward in an
    incremental yet positive way for those platforms that utilize this
    code and the features associated with it.

    Signed-off-by: Grant Erickson <gerickson@nuovations.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit c821b5f120bedf73867513466412587c6912a8f8
Author: Grant Erickson <gerickson@nuovations.com>
Date:	Thu May 22 14:44:14 2008 -0700

    ppc4xx: Enable Primordial Stack for 40x and Unify ECC Handling

    This patch (Part 1 of 2):

    * Rolls up a suite of changes to enable correct primordial stack and
      global data handling when the data cache is used for such a purpose
      for PPC40x-variants (i.e. CFG_INIT_DCACHE_CS).

    * Related to the first, unifies DDR2 SDRAM and ECC initialization by
      eliminating redundant ECC initialization implementations and moving
      redundant SDRAM initialization out of board code into shared 4xx
      code.

    * Enables MCSR visibility on the 405EX(r).

    * Enables the use of the data cache for initial RAM on
      both AMCC's Kilauea and Makalu and removes a redundant
      CFG_POST_MEMORY flag from each board's CONFIG_POST value.

      - Removed, per Stefan Roese's request, defunct memory.c file for
	Makalu and rolled sdram_init from it into makalu.c.

    With respect to the 4xx DDR initialization and ECC unification, there
    is certainly more work that can and should be done (file renaming,
    etc.). However, that can be handled at a later date on a second or
    third pass. As it stands, this patch moves things forward in an
    incremental yet positive way for those platforms that utilize this
    code and the features associated with it.

    Signed-off-by: Grant Erickson <gerickson@nuovations.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit a439680019e06171d4a5694b7992accce87f590e
Author: Grant Erickson <gerickson@nuovations.com>
Date:	Wed May 21 13:28:30 2008 -0700

    PPC4xx: Simplified post_word_{load, store}

    This patch simplifies post_word_{load,store} by using the preprocessor
    to eliminate redundant, copy-and-pasted code.

    Signed-off-by: Grant Erickson <gerickson@nuovations.com>

commit f979690ee337450b2030aba128f95b7a8d9881c0
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu May 15 15:13:08 2008 -0500

    Fix warnings from gcc-4.3.0 build on a ppc host

    * The cfi_flash.c memset fix actual allows the board to boot so there is
      a bit more going on here than just resolving warnings associated with
      uninitialized variables.

    * include/asm/bitops.h:302: warning: '__swab32p' is static but used in
      inline function 'ext2_find_next_zero_bit' which is not static

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 9b124a68346ce9605b6e1fcf79e1021541cdba9e
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Wed May 14 13:09:51 2008 -0500

    MPC512x: Change traps.c to not reference non-addressable memory

    Currently, END_OF_RAM is used by the trap code to determine if
    we should attempt to access the stack pointer or not. However,
    on systems with a lot of RAM, only a subset of the RAM is
    guaranteed to be mapped in and accessible.	Change END_OF_RAM
    to use get_effective_memsize() instead of using the raw ram
    size out of the bd.

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit 81673e9ae14b771cd13faf19947192599cae3959
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue May 13 19:01:54 2008 -0500

    Make sure common.h is the first include.

    If common.h isn't first we can get CONFIG_ options defined in the
    board config file ignored.	This can cause an issue if any of those
    config options impact the size of types of data structures
    (eg CONFIG_PHYS_64BIT).

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 95d449ad4de79dd32b1705b8a4d3550f1e9081e3
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Tue May 13 15:53:29 2008 +0200

    Avoid initrd and logbuffer area overlaps

    Add logbuffer to reserved LMB areas to prevent initrd allocation
    from overlaping with it.

    Make sure to use correct logbuffer base address.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 6956d53d9934862507f83f0e3255dfd4662e7482
Author: Sascha Laue <sascha.laue@liebherr.com>
Date:	Tue May 13 13:29:54 2008 +0200

    lwmon5: add memory-pattern-test to FPGA POST.

commit e34a0e911b6a1568d0ca864234fbd0ee060d9b35
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Thu May 8 19:02:51 2008 -0500

    PPC: 86xx Add bat registers to reginfo command

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit d5b9b8cdb8b6eb3a8b0f5d9909d69ccc9c703ed9
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Fri May 9 15:41:35 2008 -0500

    PPC: Add print_bats() to lib_ppc/bat_rw.c

    This function prints the values of all the BAT register
    pairs - I needed this for debug earlier this week; adding it to
    lib_ppc so others can use it (and add it to reginfo commands
    if so desired).

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit c148f24c15743a02e855636e6bed013bd121f7f2
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Thu May 15 21:29:04 2008 -0500

    PPC: Change lib_ppc/bat_rw.c to use high bats

    Currently, this code only deals with BATs 0-3, which makes
    it useless on systems that support BATs 4-7.  Add the
    support for these registers.

    Signed-off-by: Becky Bruce <Becky.bruce@freescale.com>

commit 31d826722434931e1152a09d140187dcf72f8aac
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Thu May 8 19:02:12 2008 -0500

    PPC: Create and use CONFIG_HIGH_BATS

    Change all code that conditionally operates on high bat
    registers (that is, BATs 4-7) to look at CONFIG_HIGH_BATS
    instead of the myriad ways this is done now.  Define the option
    for every config for which high bats are supported (and
    enabled by early boot, on parts where they're not always
    enabled)

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit aa3b8bf9c30065bb2ea852799d32db5020598495
Author: Wolfgang Grandegger <wg@grandegger.com>
Date:	Wed May 28 19:55:19 2008 +0200

    E1000: Add support for the 82541GI LF Intel Pro 1000 GT Desktop Adapter

    Signed-off-by: Wolfgang Grandegger <wg@grandegger.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit ff36fbb2e7583fb808eef773f511489c7a9c2df3
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Wed May 28 13:06:25 2008 -0500

    ColdFire: Add 10 base ethernet support for mcf5445x

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 1a9fcc4b765599db24fa9c32293599f24c7a19ba
Author: Jason McMullan <mcmullan@netapp.com>
Date:	Fri May 30 00:53:38 2008 +0900

    mips: Add an 'include/asm/errno.h', like all other architectures

    All other u-boot architectures have an include/asm/errno.h, so
    this change adds it to the mips include/asm-mips headers also.

    Stolen from Linux 2.6.25.

    Signed-off-by: Jason McMullan <mcmullan@netapp.com>

commit e2ad8426624bac457acc6925b6ff408e9bf20466
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Fri May 30 00:53:38 2008 +0900

    [MIPS] <asm/mipsregs.h>: Update coprocessor register access macros

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit 1a3adac81c292f2ee76e43cdeb2fbe8f915fe194
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Fri May 30 00:53:38 2008 +0900

    [MIPS] <asm/mipsregs.h>: Update register / bit field definitions

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit bf462ae450a7f2eeeddc699ed345b391e3263540
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Fri May 30 00:53:37 2008 +0900

    [MIPS] <asm/mipsregs.h>: CodinygStyle cleanups

    No functional changes.

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit 89a1550ec6b74452274a7a23127936e2c7eec711
Author: Jason McMullan <mcmullan@netapp.com>
Date:	Fri May 30 00:53:37 2008 +0900

    mips: If CONFIG_CMD_SPI is defined, call spi_init()

    The mips architecture currently does not call 'spi_init()' in the generic
    board initialization routine is CONFIG_CMD_SPI is defined.

    This patch rectifies that problem.

    Signed-off-by: Jason McMullan <mcmullan@netapp.com>
    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit e996bc339b0f39f6c0b29b1455ba7eb318b023d3
Author: Jason McMullan <mcmullan@netapp.com>
Date:	Fri May 30 00:53:37 2008 +0900

    [MIPS] lib_mips/board.c: Add nand_init

    This patch adds the standard 'nand_init()' call to the mips generic
    'board_init_r()' call, bringing MIPS in line with the other architectures.

    Signed-off-by: Jason McMullan <mcmullan@netapp.com>
    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit d6ac2ed893c2168738aee01579d6283af8d37045
Author: Scott Wood <scottwood@freescale.com>
Date:	Thu May 22 10:49:46 2008 -0500

    Remove prototypes of nand_init() in favor of including nand.h.

    Likewise with onenand_init().

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 229c56f07a82eacda8c8720cb146fc9be0f6db54
Author: Scott Wood <scottwood@freescale.com>
Date:	Thu May 22 10:49:00 2008 -0500

    Make onenand_uboot.h self-sufficient.

    Don't assume types are provided by previously included headers.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 9723bbb46abb7b2ca24eead5114a3faa58060c20
Author: Dirk Behme <dirk.behme@gmail.com>
Date:	Wed Jan 16 14:26:59 2008 +0100

    nand: Correct NAND erase percentage output

    For NAND erase sizes smaller than one NAND erase block, erase
    percentage output becomes grater than 100% e.g.

    -- cut --
      > nand info
    Device 0: NAND 64MiB 1,8V 8-bit, sector size 16 KiB
      > nand erase 0x100000 0x2000
    NAND erase: device 0 offset 0x100000, size 0x2000
    Erasing at 0x100000 -- 200% complete.
    OK
      >
    -- cut --

    Correct this and give user a warning that more is erased than specified:

    -- cut --
      > nand erase 0x100000 0x2000
    NAND erase: device 0 offset 0x100000, size 0x2000
    Warning: Erase size 0x00002000 smaller than one erase block 0x00004000
	       Erasing 0x00004000 instead
    Erasing at 0x100000 -- 100% complete.
    OK
      >
    -- cut --

    Signed-off-by: Dirk Behme <dirk.behme@gmail.com>

commit 5922db6c0948506be91e0de44e7a6863a18a417f
Author: Stelian Pop <stelian@popies.net>
Date:	Tue May 13 17:31:24 2008 +0200

    Cleanup nand_info[] declaration.

    The nand_info array is declared as extern in several .c files.
    Those days, nand.h contains a reference to the array, so there is
    no need to declare it elsewhere.

    Signed-off-by: Stelian Pop <stelian@popies.net>
    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 135f0a7488af2947adbe4b40b79280bdfe5e9886
Author: Scott Wood <scottwood@freescale.com>
Date:	Mon May 19 09:30:43 2008 -0500

    NAND: Provide a sane default for NAND_MAX_CHIPS.

    This allows the header to be included regardless of whether a board's
    config file provides NAND-related defininitions.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit a8092c021d27f27f4b323b7d49979ca01b3fc19d
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Mon May 26 12:19:10 2008 +0200

    avr32: Fix theoretical race in udelay()

    If the specified delay is very short, the cycle counter may go past the
    "end" time we are waiting for before we get around to reading it.

    Fix it by checking the different between the cycle count "now" and the
    cycle count at the beginning. This will work as long as the delay
    measured in number of cycles is below 2^31.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit 48ea623eae8674793372e3e7c95e72e5a44d7a95
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Wed May 21 13:01:09 2008 +0200

    avr32: Compile atmel_mci.o conditionally

    Remove #ifdef CONFIG_MMC from the source file and use conditional
    compilation in the Makefile instead.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit e92a5bf8330654e33ac13f6b3058634e58f5d1c0
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Thu May 22 12:28:25 2008 +0200

    avr32: Fix wrong error flags in atmel_mci driver

    Make sure we check for CRC errors when sending commands that use CRC
    checking.

    Reported-by: Gururaja Hebbar K R <gururajakr@sanyo.co.in>
    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit 7a96ddadd13e6ac9a829affce9b6f8823f580e49
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Wed May 21 11:10:59 2008 +0200

    avr32: Fix two warnings in atmel_mci.c

    The warnings are harmless but annoying. Let's fix them.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit a23e277c4a3a2bbc42d237aae29da3a8971e757f
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Mon May 19 11:36:28 2008 +0200

    avr32: Rework SDRAM initialization code

    This cleans up the SDRAM initialization and related code a bit, and
    allows faster booting.

      * Add definitions for EBI and internal SRAM to asm/arch/memory-map.h
      * Remove memory test from sdram_init() and make caller responsible
	for verifying the SDRAM and determining its size.
      * Remove base_address member from struct sdram_config (was sdram_info)
      * Add data_bits member to struct sdram_config and kill CFG_SDRAM_16BIT
      * Add support for a common STK1000 hack: 16MB SDRAM instead of 8.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit 95107b7c028806919630bf02c653aa8f4f867c94
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Mon May 19 11:27:37 2008 +0200

    avr32: Do stricter stack checking in the exception handler

    Don't do a stack dump if the stack pointer is outside the memory area
    reserved for stack.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit caf83ea888a0220f41747d0b7748fa43b4a4bd49
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Fri May 2 15:32:57 2008 +0200

    avr32: Use the same entry point for reset and exception handling

    Since the reset vector is always aligned to a very large boundary, we
    can save a couple of KB worth of alignment padding by placing the
    exception vectors at the same address.

    Deciding which one it is is easy: If we're handling an exception, the
    CPU is in Exception mode. If we're starting up after reset, the CPU is
    in Supervisor mode. So this adds a very minimal overhead to the reset
    path (only executed once) and the exception handling path (normally
    never executed at all.)

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit 0c16eed2189a190bd5655b33c029f809a9b31128
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Fri May 2 15:24:22 2008 +0200

    avr32: Put memset in its own section

    All C code is compiled with -ffunction-sections -fdata-sections.
    Assembly functions should get their own sections as well so that
    everything looks consistent.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit 3ace2527ba80bd2fe1bceaab50d0b3c4fb5dd020
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Fri May 2 15:21:40 2008 +0200

    avr32: Rename pm_init() as clk_init() and make SoC-specific

    pm_init() was always more about clock initialization than anything
    else. Dealing with PLLs, clock gating and such is also inherently
    SoC-specific, so move it into a SoC-specific directory.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit 4f5972c3b2454c22957f2842cfe64ec8118e015b
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Wed Apr 30 16:15:57 2008 +0200

    avr32: Use new-style Makefile for the at32ap platform

    This makes it easier to avoid compiling certain files later.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit a9b2bb78a1bd8ebdb633509bdd1c8134d527b213
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Wed Apr 30 14:36:47 2008 +0200

    avr32: Remove unused file cpu/at32ap/pm.c

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit 44453b25b06426eef0b7b2fa7c026fdf19ce34f2
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Wed Apr 30 14:19:28 2008 +0200

    avr32: Clean up the HMATRIX code

    Rework the HMATRIX configuration interface so that it becomes easier
    to configure the HMATRIX for boards with special needs, and add new
    parts.

    The HMATRIX header file has been split into a general,
    chip-independent part with register definitions, etc. and a
    chip-specific part with SFR bitfield definitions and master/slave
    identifiers.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit 0a2e48792dd372c90b80059f3235e67a567e16fc
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Thu Nov 22 12:14:11 2007 +0100

    avr32: Add support for the ATSTK1006 board

    This is a replacement for ATSTK1002 with 64MB SDRAM and NAND flash on
    board. It's currently in production and will be available soon.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit 781eb9a1e4af4bd34c138e6126ec5cc6dd4b5440
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Tue Apr 29 12:53:05 2008 +0200

    avr32: Get rid of the .flashprog section

    The .flashprog section was only needed back when we were running
    directly from flash, and it's even more useless on NGW100 since it
    uses the CFI flash driver which never used this workaround in the
    first place.

    Remove it on STK1000 as well, and get rid of all the associated code and
    annotations.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit cdd42c0c7a5205fc380912d83229069a71ea3abf
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Wed Apr 30 13:09:56 2008 +0200

    avr32: Use correct condition around macb clock accessors

    get_macb_pclk_rate() and get_macb_hclk_rate() should be available when
    the chip has a MACB controller, not when it has a USART.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit f793a3581901ff39c2abb94012d9bbc8573ccf02
Author: David Brownell <david-b@pacbell.net>
Date:	Wed Apr 16 22:57:58 2008 -0700

    avr32: Disable the AP7000 internal watchdog on startup

    This patch forces the watchdog off in all cases.  That will at least
    get rid of the constant reboot cycle, though it won't let the watchdog
    actually run in the new kernels:  its probe() comes up with a polite
    warning.

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit 55ac7a7490b55da56659f95d82a0c83b9756df27
Author: David Brownell <david-b@pacbell.net>
Date:	Fri Feb 22 12:54:39 2008 -0800

    avr32: stk1002 and ngw100 convergence

    Make STK1002 and NGW100 boards act more alike:
      - STK boards can use as many arguments as NGW
      - STK boards don't need to manage FPGAs either
      - NGW commands should match STK ones

    Also spell U-Boot right in prompts for STK1002 and NGW100.

    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>
    [haavard.skinnemoen@atmel.com: update STK100[34] as well]
    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit 5e1882df6a3efc7de5524d28cea4ecde7d163d54
Author: Sergei Poselenov <sposelenov@emcraft.com>
Date:	Tue May 27 13:47:00 2008 +0200

    Socrates: Fix PCI bus frequency report

    Signed-off-by: Sergei Poselenov <sposelenov@emcraft.com>

commit 791e1dba8de76ad8e762a7badb869f224a1f8b82
Author: Sergei Poselenov <sposelenov@emcraft.com>
Date:	Tue May 27 11:49:13 2008 +0200

    Socrates: Added USB support.

    Signed-off-by: Sergei Poselenov <sposelenov@emcraft.com>

commit 5a904e5637cff1d708dc67098004f83ba9e84c54
Author: Sergei Poselenov <sposelenov@emcraft.com>
Date:	Tue May 27 11:35:02 2008 +0200

    USB: add new configuration variable CONFIG_PCI_OHCI_DEVNO

    In case of several PCI USB controllers on a board this variable
    specifys which controller to use.
    See doc/README.generic_usb_ohci for details.

    Signed-off-by: Sergei Poselenov <sposelenov@emcraft.com>

commit 2f7468aeba60e1288030a8d007c4e63bd3f13221
Author: Sergei Poselenov <sposelenov@emcraft.com>
Date:	Tue May 27 10:36:07 2008 +0200

    Socrates: add support for DS75 Digital Thermo Sensor on I2C bus.

    Signed-off-by: Sergei Poselenov <sposelenov@emcraft.com>

commit 83e9d7a2614d4006b92690afa3390c291734267e
Author: Sergei Poselenov <sposelenov@emcraft.com>
Date:	Mon May 26 18:16:04 2008 +0200

    Socrates: Config file cleanup.

    Signed-off-by: Sergei Poselenov <sposelenov@emcraft.com>

commit 602cac1389b755b223272f2328a47e6f8c240848
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat May 24 12:47:46 2008 +0200

    MAKEALL: add at91 list

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 290ef6436838b1cc013bd67e0e0495c9eb3e23c0
Author: Ron Madrid <ron_madrid@sbcglobal.net>
Date:	Fri May 23 15:37:05 2008 -0700

    Add Marvell 88E1118 support for TSEC

    Signed-off-by: Ron Madrid <ron_madrid@sbcglobal.net>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 557b377d8bfc8b833b6e749457bcdfa298331a24
Author: Jens Gehrlein <sew_s@tqs.de>
Date:	Mon May 5 14:06:11 2008 +0200

    smc911x: add 16 bit support

    Signed-off-by: Jens Gehrlein <sew_s@tqs.de>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 6324e5bec8825f7fee3026ffbd394454ae8b53fb
Author: Christian Eggers <ceggers@gmx.de>
Date:	Wed May 21 21:29:10 2008 +0200

    Fix endianess conversion in usb_ohci.c

    Sorry, I forgot this line:

    Signed-off-by: Christian Eggers <ceggers@gmx.de>

    I think this must be swapped (result may be equal).

commit c918261c6d9f265f88baf70f8a73dfe6f0cb9596
Author: Christian Eggers <ceggers@gmx.de>
Date:	Wed May 21 22:12:00 2008 +0200

    USB: replace old swap_ with proper endianess conversion macros

    Signed-off-by: Christian Eggers <ceggers@gmx.de>
    Signed-off-by: Markus Klotzbuecher <mk@denx.de>

commit fb63939b4fe140849cdba69f9e64a3e0e2f3ce1c
Author: Christian Eggers <ceggers@gmx.de>
Date:	Wed May 21 21:29:10 2008 +0200

    Fix endianess conversion in usb_ohci.c

    Signed-off-by: Christian Eggers <ceggers@gmx.de>
    Signed-off-by: Markus Klotzbuecher <mk@denx.de>

commit 477434c63c2ea5baa5c6c4e43500786f436511ff
Author: Sergei Poselenov <sposelenov@emcraft.com>
Date:	Thu May 22 01:15:53 2008 +0200

    USB: add support for multiple PCI OHCI controllers

    Add new configuration variable CONFIG_PCI_OHCI_DEVNO.
    In case of several PCI USB controllers on a board this variable
    specifys which controller to use.

    Also add USB support for sokrates board.

    See doc/README.generic_usb_ohci for details.

    Signed-off-by: Sergei Poselenov <sposelenov@emcraft.com>
    Signed-off-by: Markus Klotzbuecher <mk@denx.de>

commit ce6754df61cbe23b5b73d095a00ac9a8504b3d77
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed May 21 16:56:08 2008 +0200

    Fix some whitespace issues

    introduced by 53677ef18 "Big white-space cleanup."

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 4416603aeb06861b468b06a981e52c3ff805db7b
Author: York Sun <yorksun@freescale.com>
Date:	Mon May 12 14:36:39 2008 -0500

    Make ads5121 out-of-tree compiling safe

    Reuse the existing DIU driver in board/freescale/common.

    Signed-off-by: York Sun <yorksun@freescale.com>

commit 0e1bad47cd345c76c91a64caf41011e431b62599
Author: York Sun <yorksun@freescale.com>
Date:	Mon May 5 10:20:01 2008 -0500

    Adding DIU support for Freescale 5121ADS

    Add DIU and cfb console support to FSL 5121ADS board.

    Use #define CONFIG_VIDEO in config file to enable fb console.

    Signed-off-by: York Sun <yorksun@freescale.com>

commit a48ff68d235e671176f6b496c44246dbe5e0a93f
Author: York Sun <yorksun@freescale.com>
Date:	Mon May 5 10:20:00 2008 -0500

    Replace DPRINTF with debug

    Remove DPRINTF macro and replace it with generic debug macro.

    Signed-off-by: York Sun <yorksun@freescale.com>

commit 3b80c5f574ad7f6e1c55a68f42752b427fdf778d
Author: York Sun <yorksun@freescale.com>
Date:	Mon May 5 10:19:59 2008 -0500

    Move pixel clock setting to board file

    The clock divider has different format in 5121 and 8610. This patch moves it to
    board specific code.

    Signed-off-by: York Sun <yorksun@freescale.com>

commit 53677ef18e25c97ac613349087c5cb33ae5a2741
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue May 20 16:00:29 2008 +0200

    Big white-space cleanup.

    This commit gets rid of a huge amount of silly white-space issues.
    Especially, all sequences of SPACEs followed by TAB characters get
    removed (unless they appear in print statements).

    Also remove all embedded "vim:" and "vi:" statements which hide
    indentation problems.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 2f845dc2bdf461bfee9fa25823f769f5db9eba0b
Author: Sergei Poselenov <sposelenov@emcraft.com>
Date:	Thu May 8 17:46:23 2008 +0200

    socrates: fix second TSEC configuration (it is actually TSEC3)

    Signed-off-by: Sergei Poselenov <sposelenov@emcraft.com>

commit 793670c3c0f0f72caead62f0be9fc3d9fbc6060f
Author: Sergei Poselenov <sposelenov@emcraft.com>
Date:	Thu May 8 14:17:08 2008 +0200

    Fixed reset for socrates

    Signed-off-by: Sergei Poselenov <sposelenov@emcraft.com>

commit e18575d5f589a62e19c70d471d4b4e27cad3af56
Author: Sergei Poselenov <sposelenov@emcraft.com>
Date:	Wed May 7 15:10:49 2008 +0200

    socrates: changes to support FDT

    Signed-off-by: Sergei Poselenov <sposelenov@emcraft.com>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 5d108ac8f435924c624cd6aaacd44f35f5cf94c0
Author: Sergei Poselenov <sposelenov@emcraft.com>
Date:	Wed Apr 30 11:42:50 2008 +0200

    Initial support for "Socrates" board

    Signed-off-by: Sergei Poselenov <sposelenov@emcraft.com>

commit 0e15ddd11f1a84c465e434eb051d2ef08ef02b9b
Author: Yuri Tikhonov <yur@emcraft.com>
Date:	Thu May 8 15:46:42 2008 +0200

    POST: replace the LOGBUFF_INITIALIZED flag in gd->post_log_word (1 << 31) with the GD_FLG_LOGINIT flag in gd->flags.

    This way we become able to utilize the full post_log_word for POST
    activities (overwise, POST ECC, which has 0x8000 ID, could be
    erroneously treated as started in post_output_backlog() even if there
    was actually no POST ECC run (because of OCM POST failure, for
    example).

    Signed-off-by: Yuri Tikhonov <yur@emcraft.com>

commit 7845d49094c81321021b50a4dbb8864d2f3777e4
Author: Yuri Tikhonov <yur@emcraft.com>
Date:	Thu May 8 15:46:02 2008 +0200

    POST: mark OCM test as POST_STOP

    Signed-off-by: Ilya Yanok <yanok@emcraft.com>

commit 28a385065882d6cb6ac5f443311ff87887ed7c13
Author: Yuri Tikhonov <yur@emcraft.com>
Date:	Thu May 8 15:45:26 2008 +0200

    POST: add POST_STOP flag

    Don't run futher tests in case of a test fails that is marked as
    POST_STOP.

    Signed-off-by: Ilya Yanok <yanok@emcraft.com>
    Signed-off-by: Yuri Tikhonov <yur@emcraft.com>

commit a525145d8110d15b4389d23c3ea8a78f22509d3f
Author: Yuri Tikhonov <yur@emcraft.com>
Date:	Thu May 8 15:44:16 2008 +0200

    POST: switch CFG_POST_OCM with CFG_POST_CODEC (workaround)

    Switch the OCM testid with the codec one. The reason is that current
    implementation requires the POST_ROM testid to fit into lower 16
    bits, and the codec test will never run with POST_ROM hopefully.

    Signed-off-by: Ilya Yanok <yanok@emcraft.com>

commit 8b96c788d58f7cb85a89ee3f19c9b335d22443cd
Author: Yuri Tikhonov <yur@emcraft.com>
Date:	Thu May 8 15:43:28 2008 +0200

    lwmon5: enable OCM post test on lwmon5 board

    Signed-off-by: Ilya Yanok <yanok@emcraft.com>

commit 6e8ec682268493b8d098f99e17b1ce71b4448977
Author: Yuri Tikhonov <yur@emcraft.com>
Date:	Thu May 8 15:42:47 2008 +0200

    POST: OCM test added.

    Added OCM test to POST layer. This version runs before all other tests
    but doesn't yet interrupt post sequence on failure.

    Signed-off-by: Ilya Yanok <yanok@emcraft.com>
    Signed-off-by: Yuri Tikhonov <yur@emcraft.com>

commit 6891260bdd935a382c95d9fa333922b0dfded68a
Author: Yuri Tikhonov <yur@emcraft.com>
Date:	Thu May 8 15:40:39 2008 +0200

    POST: typo fix

    Signed-off-by: Ilya Yanok <yanok@emcraft.com>

commit 727f63334676e760877d43bfb8f0e9331ac8b101
Author: Hebbar <gururajakr@sanyo.co.in>
Date:	Tue May 20 02:16:36 2008 -0700

    common/usb.c: fix incorrect escape sequence

    Signed off by: Gururaja Hebbar <gururajakr@sanyo.co.in>

commit 4ce1e23b5e12283579828b3d23e8fd6e1328a7aa
Author: York Sun <yorksun@freescale.com>
Date:	Thu May 15 15:26:27 2008 -0500

    Fix 8313ERDB board configuration

    Change LCRR clock ratio from 2 to 4 to commodate VSC7385.
    Correct TSEC1 vs TSEC2 assignment.
    Define ETHADDR and ETH1ADDR always.

    Signed-off-by: York Sun <yorksun@freescale.com>
    Signed-off-by: Timur Tabi <timur@freescale.com>

commit 2c289e320dcfb3760e99cf1d765cb067194a1202
Author: Jon Loeliger <jdl@freescale.com>
Date:	Mon May 19 09:47:25 2008 -0500

    mpc86xx: Removed unused and unconfigured memory test code.

    Besides, other common code exists.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 180a90abdae72587c0f679edf8991455e559440d
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon May 19 12:47:11 2008 +0200

    Release v1.3.3

    Update CHANGELOG for release.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 16bedc661de0dae767b1377d8413373a3fbcfa79
Author: Stefan Roese <sr@denx.de>
Date:	Mon May 19 07:14:38 2008 +0200

    ppc4xx: Canyonlands: Disable PCIe0/SATA in dev-tree depending on selection

    When SATA is selected (via jumper J6) we need to disable the first PCIe
    node in the device tree, so that Linux doesn't initialize it. Otherwise
    the Linux SATA driver will fail to detect the devices.

    The same goes the other way around too. So if PCIe is selected we need
    to disable the SATA node in the device tree.

    This is because PCIe port 0 and SATA on 460EX share the same pins
    (multiplexed) and we have to configure in U-Boot which peripheral is
    enabled.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 3cc27b426aeefe2930f911692e9df3143fb2565f
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun May 18 19:09:58 2008 +0200

    i386: Fix multiple definitions of __show_boot_progress

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 311f3446930c1e64c12026c1cfd00500b05be52d
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun May 18 19:09:57 2008 +0200

    sc530_spunk: add missing SOBJS entry

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit a559317143b4f95927b08cd388707e6f077e95fa
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun May 18 19:09:56 2008 +0200

    sc520_spunk: Fix flash

    flash.c:593: warning: dereferencing type-punned pointer will break strict-aliasing rules
    flash.c:398: error: label at end of compound statement

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 91f221317af64191ee8caf303ea9305943158691
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun May 18 19:09:49 2008 +0200

    drivers/pcmcia: add missing i82365

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit dd223944132f97ffa52977ea95e5a52428f5cc2f
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun May 18 19:09:47 2008 +0200

    i386/bootm: remove unused var

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit a9da341df19b32ad2ecb58ce529f7e4fada7814e
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun May 18 19:09:45 2008 +0200

    example/gitignore: update with all generated examples

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit a38dc3ea8614f8b0c41e432b445a9959b9711295
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu May 15 00:42:45 2008 +0200

    TQM8272: fix out-of-tree building

    ...and add to MAKEALL script

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 4f805c1e3a60b9263da8ec3bcd1f45edcefa7dcf
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed May 14 23:34:53 2008 +0200

    environment: fix bug introduced by commit a8409f4f1ac8

    env_get_char is not a function, but a pointer to one.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 0c11935cd62ca1f65eeb228ff4c848440d4553bf
Author: Gary Jennejohn <garyj@denx.de>
Date:	Wed May 14 13:39:22 2008 +0200

    ppc4xx: QUAD100HD: Allow the environment to be put into flash.

    After moving TEXT_BASE the value for CFG_ENV_ADDR was incorrect.  Also
    use a redundant environment.

    Signed-off-by: Gary Jennejohn <garyj@denx.de>

commit cda2a4a9961fd4341b7db305cb22fc05957e8b77
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed May 14 13:55:30 2008 +0200

    Fix config files for out-of-tree building

    Several board/<...>/config.mk files include dynamically built (by
    the Makefile) config files but used the wrong file name of
	$(TOPDIR)/board/$(BOARDDIR)/config.tmp
    instead if the correct
	$(OBJTREE)/board/$(BOARDDIR)/config.tmp

    The bug is nasty because the build result is correct for the (normal)
    in-tree builds, and because 'sinclude' is used no errors get raised
    even for out-of-tree build tests. But out-of-tree builds use an
    incomplete and thus usually incorrect configuration...

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 2dd7082e06d580404010b06fe4e0e8b7038a00c8
Author: Stefan Roese <sr@denx.de>
Date:	Wed May 14 13:40:03 2008 +0200

    ppc4xx: Fix bogus Canyonlands config.mk

    This patch fixes the canyonlands config.mk file to enable correct
    out-of-tree builds. Thanks to Wolfgang Denk for spotting this.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit fdd1247a66d788a3446244f6fde9955a93c26322
Author: Stefan Roese <sr@denx.de>
Date:	Wed May 14 10:32:32 2008 +0200

    ppc4xx: Individual handling of ddr2_fixed.c for canyonlands_nand build

    Canyonlands has a file ddr2_fixed.c which needs special treatment when
    building in separate directory. It has to be linked to build directory
    otherwise it is not seen.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit a8409f4f1ac84c36273c1a1e341189662521bcfb
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed May 14 12:22:49 2008 +0200

    environment: cleanup prototype declarations of env functions.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit cf39b07948015c480b72a6e732cf7d839aa93a9e
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed May 14 12:21:48 2008 +0200

    linkstation_HGLAN: Fix out of tree building.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 085551c05ca09e6c491ea11a1c6727a36776a545
Author: Stefan Roese <sr@denx.de>
Date:	Wed May 14 10:32:32 2008 +0200

    ppc4xx: Individual handling of ddr2_fixed.c for canyonlands_nand build

    Canyonlands has a file ddr2_fixed.c which needs special treatment when
    building in separate directory. It has to be linked to build directory
    otherwise it is not seen.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 1510b82d50615f344e89d42533e8224cce067dc0
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue May 13 23:15:52 2008 +0200

    Makefile: fix "error: version_autogenerated.h: No such file or directory"

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 54694a91428f6c3280fe1ee0923488a1e7e8dbc4
Author: Stelian Pop <stelian@popies.net>
Date:	Tue May 13 17:31:24 2008 +0200

    Cleanup nand_info[] declaration.

    The nand_info array is declared as extern in several .c files.
    Those days, nand.h contains a reference to the array, so there is
    no need to declare it elsewhere.

    Signed-off-by: Stelian Pop <stelian@popies.net>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 70fab1908fc1734a403711eaabbef546bc4b77dc
Author: Stefan Roese <sr@denx.de>
Date:	Tue May 13 20:22:01 2008 +0200

    ppc4xx: Add 405EX(r) revision C PVR definitions and detection code

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 65dcfa79204f4750b905a173a5365e0b2eb6c2f6
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon May 12 01:11:21 2008 +0200

    Revert "pci: Add CONFIG_PCI_SKIP_HOST_BRIDGE config option"

    This reverts commit 55774b512fdf63c0516d441cc5da7c54bbffb7f2
    which broke many PowerPC boards.

commit ee0cfa70803a3e629ea581a9b216f8ecef402bfc
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon May 12 00:56:28 2008 +0200

    Revert "Avoid initrd and logbuffer area overlaps"

    This reverts commit 1b5605ca57fbb364f4d78eeee28b974ed875e888
    which breaks building on all PPC boards that don't use a log buffer.

commit 02b9b22446e3d7ad6a6382be17a1ce79a7de589b
Author: Nick Spence <nick.spence@freescale.com>
Date:	Sat May 10 14:02:04 2008 -0700

    Fix offset calculation for multi-type legacy images.

    Calculation of tail was incorrect when size % 4 == 0.

    New code removes the conditional and does the same thing but with arithmetic

    Signed-off-by: Nick Spence <nick.spence@freescale.com>

commit c9dca3c3f37d2647aec4509b24b16d15882ae3e4
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon May 12 00:40:58 2008 +0200

    Revert "Change env_get_char from a global function ptr to a function."

    This reverts commit c0559be371b2a64b1a817088c3308688e2182f93
    which is known to break booting from dataflash and NAND.

commit 20e5ed137483823aaea5178169f3b144c7a4d9e0
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun May 11 23:13:57 2008 +0200

    API: remove duplicate syscall check

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 67e3beb52c320b0a31cf030716c99392cde2d532
Author: Stelian Pop <stelian@popies.net>
Date:	Fri May 9 21:46:51 2008 +0200

    AT91: Cleanup unused config header file definitions.

    CONFIG_ENV_OVERWRITE is commented out in the config header files,
    so let's cleanup the files by removing the whole definition.

    Signed-off-by: Stelian Pop <stelian@popies.net>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 19883aede2ac0a522493bfb2b35a7dbb200071b1
Author: Stelian Pop <stelian@popies.net>
Date:	Thu May 8 14:52:34 2008 +0200

    Support AT91CAP9 revC CPUs

    The AT91CAP9 revC CPU has a few differences over the previous,
    revB CPU which was distributed in small quantities only (revA was
    an internal Atmel product only).

    The revC silicon needs a special initialisation sequence to
    switch from the internal (imprecise) RC oscillator to the
    external 32k clock.

    Signed-off-by: Stelian Pop <stelian@popies.net>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 098b7b4b441b12c2a64dd517930f43c793542759
Author: Stelian Pop <stelian@popies.net>
Date:	Thu May 8 14:52:33 2008 +0200

    Use custom logo for Atmel boards

    This patch adds a custom vendor logo for the Atmel AT91 boards.

    Signed-off-by: Stelian Pop <stelian@popies.net>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 761c70b80cdd3bead40146b96a8e713d6ae01632
Author: Stelian Pop <stelian@popies.net>
Date:	Thu May 8 14:52:32 2008 +0200

    AT91SAM9RLEK: hook up the ATMEL LCD driver

    This patch makes the necessary adaptations (PIO configurations and
    defines in config header file) to hook up the Atmel LCD driver to the
    AT91SAM9RLEK board.

    Signed-off-by: Stelian Pop <stelian@popies.net>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 56a2479cd7fecabdd91348a775b2801dd2e65c7f
Author: Stelian Pop <stelian@popies.net>
Date:	Thu May 8 14:52:31 2008 +0200

    AT91SAM9263EK: hook up the ATMEL LCD driver

    This patch makes the necessary adaptations (PIO configurations and
    defines in config header file) to hook up the Atmel LCD driver to the
    AT91SAM9263EK board.

    Signed-off-by: Stelian Pop <stelian@popies.net>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 820f2a958325061a446115f3035e48e4726b3390
Author: Stelian Pop <stelian@popies.net>
Date:	Thu May 8 14:52:30 2008 +0200

    AT91SAM9261EK: hook up the ATMEL LCD driver

    This patch makes the necessary adaptations (PIO configurations and
    defines in config header file) to hook up the Atmel LCD driver to the
    AT91SAM9261EK board.

    Signed-off-by: Stelian Pop <stelian@popies.net>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit c139b17d20c8371c1e0a8d7fb27c11050cf86304
Author: Stelian Pop <stelian@popies.net>
Date:	Thu May 8 14:52:29 2008 +0200

    AT91CAP9ADK: hook up the ATMEL LCD driver

    This patch makes the necessary adaptations (PIO configurations and
    defines in config header file) to hook up the Atmel LCD driver to the
    AT91CAP9ADK board.

    Signed-off-by: Stelian Pop <stelian@popies.net>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 39cf480484fcce5c04a590ee1c30be0c17b02c34
Author: Stelian Pop <stelian@popies.net>
Date:	Fri May 9 21:57:18 2008 +0200

    Add ATMEL LCD driver

    This patch adds support for the ATMEL LCDC driver which is used on some
    AT91 and AVR platforms.

    Is has been tested with the AT91CAP9ADK, AT91SAM9261EK, AT91SAM9263EK and
    AT91SAM9RLEK boards. Adaptation for AVR32 should probably be easy.

    Signed-off-by: Stelian Pop <stelian@popies.net>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 2118ebb44dc40f8117c94950fd95799a9ef821b2
Author: Stelian Pop <stelian@popies.net>
Date:	Thu May 8 18:52:25 2008 +0200

    AT91SAM9RLEK support

    This patch adds support for the AT91SAM9RL chip and the AT91SAM9RLEK
    board.

    Signed-off-by: Stelian Pop <stelian@popies.net>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 8e429b3eee23927c1222679f6b6f53667b21595c
Author: Stelian Pop <stelian@popies.net>
Date:	Thu May 8 18:52:23 2008 +0200

    AT91SAM9263EK support

    This patch adds support for the AT91SAM9263 chip and the AT91SAM9263EK
    board.

    Signed-off-by: Stelian Pop <stelian@popies.net>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit d99a8ff66d8ae87e5c87590ed2e4ead629540607
Author: Stelian Pop <stelian@popies.net>
Date:	Thu May 8 20:52:22 2008 +0200

    AT91SAM9261EK support

    This patch adds support for the AT91SAM9261 chip and the AT91SAM9261EK
    board.

    Signed-off-by: Stelian Pop <stelian@popies.net>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 86c8c8a414988c50104a3b02c29f50af2be738c0
Author: Stelian Pop <stelian@popies.net>
Date:	Thu May 8 20:52:21 2008 +0200

    AT91SAM9260EK: Fix dataflash offsets in CONFIG_BOOTCOMMAND

    This patch fixes the dataflash offsets used in CONFIG_BOOTCOMMAND
    in order to cope with the changes in DataFlash partitionning scheme
    (cset c3a60cb3).

    Signed-off-by: Stelian Pop <stelian@popies.net>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 96996ac25d5222611a8888968db6e53a6d3726da
Author: Stelian Pop <stelian@popies.net>
Date:	Thu May 8 20:52:20 2008 +0200

    AT91SAM9260EK: Normalize BOOTARGS

    This patch adapts CONFIG_BOOTARGS to the chosen boot method (boot from
    DataFlash or from NAND), and gives to Linux a fully specified mtdparts
    variable.

    Signed-off-by: Stelian Pop <stelian@popies.net>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 79f0cb6e9c54d31a1d9e3f5e226a9bebc3c3a47a
Author: Stelian Pop <stelian@popies.net>
Date:	Thu May 8 20:52:19 2008 +0200

    AT91SAM9260EK: Normalize SPI timings

    This patch changes the SPI timings to closely match the ones
    used by the Linux kernel and the Atmel's own bootstrap project.

    Signed-off-by: Stelian Pop <stelian@popies.net>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit c1212b2f5c5ed440bf8e9ebc8e4fd7488858b935
Author: Stelian Pop <stelian@popies.net>
Date:	Thu May 8 20:52:18 2008 +0200

    AT91SAM9260EK: Handle 8 or 16 bit NAND

    The Atmel boards can handle 8 or 16 bit NAND memories. This patch
    makes the support configurable in the board config header file
    (CFG_NAND_DBW_8 or CFG_NAND_DBW_16).

    Signed-off-by: Stelian Pop <stelian@popies.net>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit ab52640fc01624e208424e527af0b7b3a5a65a12
Author: Stelian Pop <stelian@popies.net>
Date:	Thu May 8 20:52:17 2008 +0200

    AT91CAP9ADK: Fix dataflash offsets in CONFIG_BOOTCOMMAND

    This patch fixes the dataflash offsets used in CONFIG_BOOTCOMMAND
    in order to cope with the changes in DataFlash partitionning scheme
    (cset c3a60cb3).

    Signed-off-by: Stelian Pop <stelian@popies.net>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 3267508ec4c9e74c39ee41c9ae6951ad185fe270
Author: Stelian Pop <stelian@popies.net>
Date:	Thu May 8 20:52:16 2008 +0200

    AT91CAP9ADK: Normalize BOOTARGS

    This patch adapts CONFIG_BOOTARGS to the chosen boot method (boot from
    DataFlash or from NAND), and gives to Linux a fully specified mtdparts
    variable.

    Signed-off-by: Stelian Pop <stelian@popies.net>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 93da48b910511911ce110656e17ed733c8ac4c45
Author: Stelian Pop <stelian@popies.net>
Date:	Thu May 8 20:52:15 2008 +0200

    AT91CAP9ADK: Normalize SPI timings

    This patch changes the SPI timings to closely match the ones
    used by the Linux kernel and the Atmel's own bootstrap project.

    Signed-off-by: Stelian Pop <stelian@popies.net>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 1c90df3e148ce0a3e2c86c63b38b19d47772f2a0
Author: Stelian Pop <stelian@popies.net>
Date:	Thu May 8 20:52:14 2008 +0200

    AT91CAP9ADK: Handle 8 or 16 bit NAND

    The Atmel boards can handle 8 or 16 bit NAND memories. This patch
    makes the support configurable in the board config header file
    (CFG_NAND_DBW_8 or CFG_NAND_DBW_16).

    Signed-off-by: Stelian Pop <stelian@popies.net>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 11b162bae058e96c7929e358d4adff2bee6c2cc4
Author: Stelian Pop <stelian@popies.net>
Date:	Thu May 8 20:52:13 2008 +0200

    Use a common u-boot.lds file across all AT91CAP9/AT91SAM9 platforms

    All the AT91CAP9/AT91SAM9 boards have the same linker script. The patch
    below avoids the duplication of u-boot.lds by putting the file in the
    cpu directory instead of the board one.

    Signed-off-by: Stelian Pop <stelian@popies.net>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit d48abea4b89adaf5e45ea75b5e38c0d8de179ece
Author: Stelian Pop <stelian@popies.net>
Date:	Thu May 8 20:52:12 2008 +0200

    Add proper copyright notices in Atmel boards Makefiles

    The Makefiles for the AT91CAP9/AT91SAM9 boards have an incomplete
    copyright notice. This patch adds the missing pieces.

    Signed-off-by: Stelian Pop <stelian@popies.net>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit e817a042cef6164bf26fee86f90326f2ec9e6745
Author: Stelian Pop <stelian@popies.net>
Date:	Thu May 8 20:52:11 2008 +0200

    Add copyright information in Atmel boards partition.c

    When Ulf did the dataflash.c cleanup, he didn't add his copyright on
    the new created files. This patch fixes the problem.

    Signed-off-by: Stelian Pop <stelian@popies.net>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 4f6c810106f4f76d83cfc57d98f4540cd45f9a19
Author: Stelian Pop <stelian@popies.net>
Date:	Thu May 8 20:52:10 2008 +0200

    Update origin and copyright information in arch-at91sam9 header files

    When doing the AT91CAP9/AT91SAM9 port, a number of header files were
    copied from the Linux kernel sources. This patch explicitly specifies
    this origin for all the copied headers, and for those missing copyright
    information, adds it.

    Additionaly, the header file 'at91sam926x_mc.h' has been superceeded
    in the latest kernel sources by 'at91sam9_smc.h'.

    The copyright information has been confirmed by the AT91 Linux kernel
    maintainer, Andrew Victor <avictor.za@gmail.com>.

    Signed-off-by: Stelian Pop <stelian@popies.net>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 79dd1712689d6a5031d7cbff54957049680751c7
Author: Markus Klotzbcher <mk@denx.de>
Date:	Thu May 8 16:00:55 2008 +0200

    ppc4xx: Kilauea: Add CONFIG_BOOTP_SUBNETMASK to Kilauea board config

    When using dhcp/bootp the "netmask" environment variable is not set
    because CONFIG_BOOTP_SUBNETMASK is not defined. But usually this is
    desireable, so the following patch adds this this option to the board
    config.

    Signed-off-by: Markus Klotzbuecher <mk@denx.de>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 869d14b4cc2e47de2ddcb117bad0407a44436684
Author: Stefan Roese <sr@denx.de>
Date:	Sat May 10 10:30:36 2008 +0200

    ppc4xx: Update Makalu defconfig to use device-tree booting as default

    This patch reworks the default environment on Makalu. Now "net_nfs" for
    example uses the device-tree style booting formerly know as "net_nfs_fdt".
    Also the addresses in RAM were changed because of the new image booting
    support, which check for image overwriting. So the addresses needed to
    get adjusted.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit f3612a7b199cab3942f60d9c1392eb39d58cc699
Author: Becky Bruce <bgill@freescale.com>
Date:	Wed May 7 13:28:16 2008 -0500

    PPC: fix map_physmem build warning

    map_physmem currently generates a warning when CONFIG_PHYS_64BIT is
    enabled.  This quiets the warning.

    Signed-off-by: Becky Bruce <Becky.Bruce@freescale.com>

commit 36f32675f40292002ee1fed252c180a43022d2d4
Author: Becky Bruce <bgill@freescale.com>
Date:	Wed May 7 13:24:57 2008 -0500

    Update pci code to use phys_addr_t

    Physical addrs need to be represented by phys_addr_t, not
    unsigned long.  Otherwise, systems that use CONFIG_PHYS_64BIT
    are going to fail mightily.

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit 91a616741fc128cdb88f39bddcd4d72fe17466d0
Author: Nick Spence <nick.spence@freescale.com>
Date:	Thu May 8 22:32:22 2008 -0700

    Support legacy multi-type images without FDT section.

    This patch enables legacy multi-type images containing only a Linux kernel
    and root file system to be loaded, maintaining compatibility with previous
    versions of u-boot.

    This is required when using old image files such as a Linux 2.4 kernel /
    filesystem.

    Signed-off-by: Nick Spence <nick.spence@freescale.com>
    Acked-by: Bartlomiej Sieka <tur@semihalf.com>

commit 881031d9732783b7aeae2198fc7eb480ae8974a6
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat May 10 00:38:02 2008 +0200

    Update CHANGELOG.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit e5e9d6c9c08160be7e5a36e04d125ccce99b8774
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat May 10 00:36:09 2008 +0200

    post/cpu/ppc4xx/Makefile: line length cleanup

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit cce9cfdabcf416ecd2aacc3681c91e5378c75a3d
Author: Stelian Pop <stelian@popies.net>
Date:	Thu May 8 22:52:09 2008 +0200

    Fix @ -> <at> substitution

    When applying the AT91CAP9 patches upstream, something transformed
    the '@' character into the ' <at> ' sequence.

    The patch below restores the original form in all the places where
    it has been modified (the AT91CAP9 files, the AT91SAM9260 files which
    were copied from AT91CAP9, and a couple of other files where the
    ' <at> ' sequence was present).

    Signed-off-by: Stelian Pop <stelian@popies.net>

commit 9606b3c81b3c47a1d58514e9a232c6f461a17597
Author: Stelian Pop <stelian@popies.net>
Date:	Thu May 8 22:52:10 2008 +0200

    Update origin and copyright information in arch-at91sam9 header files

    When doing the AT91CAP9/AT91SAM9 port, a number of header files were
    copied from the Linux kernel sources. This patch explicitly specifies
    this origin for all the copied headers, and for those missing copyright
    information, adds it.

    Additionaly, the header file 'at91sam926x_mc.h' has been superceeded
    in the latest kernel sources by 'at91sam9_smc.h'.

    The copyright information has been confirmed by the AT91 Linux kernel
    maintainer, Andrew Victor <avictor.za@gmail.com>.

    Signed-off-by: Stelian Pop <stelian@popies.net>

commit ceb6b4fbe1dcc40bb672ef8133ddf4813e97cbb1
Author: Stelian Pop <stelian@popies.net>
Date:	Thu May 8 22:52:11 2008 +0200

    Add copyright information in Atmel boards partition.c

    When Ulf did the dataflash.c cleanup, he didn't add his copyright on
    the new created files. This patch fixes the problem.

    Signed-off-by: Stelian Pop <stelian@popies.net>

commit 2ab02fd456d8ef92ae9f5439618d1fa7ca16e5f3
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Thu May 8 10:09:27 2008 +0200

    mx31ads: fix 32kHz clock handling

    According to schematics and to RedBoot sources, the MX31ADS uses a 32768Hz
    oscillator as a SKIL source. Fix previously wrongly assumed 32000Hz value.
    Also fix a typo when verifying a jumper configuration. While at it, make
    two needlessly global functions static.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit 1b5605ca57fbb364f4d78eeee28b974ed875e888
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Wed May 7 13:10:04 2008 +0200

    Avoid initrd and logbuffer area overlaps

    Add logbuffer to reserved LMB areas to prevent initrd allocation
    from overlaping with it.

    Make sure to use correct logbuffer base address.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit c59518e15949b3403df5c5b0c2c48ea0e5bea24b
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Wed May 7 13:08:54 2008 +0200

    ppc: Cleanup get_effective_memsize() use

    Removed duplicated effective memory size calculation code.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 273c37d843d5b581090378016cd12dd9c586907b
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Wed May 7 09:03:53 2008 +0200

    Fix build errors when CONFIG_LOGBUFFER and CONFIG_FIT are enabled

    Recent modifcations to LOGBUFFER handling code were incorrecly
    introduced to fit_check_kernel() routine during
    "Merge branch 'new-image' of git://www.denx.de/git/u-boot-testing",
    commit 27f33e9f45ef7f9685cbdc65066a1828e85dde4f.

    This patch cleans up this merge issue.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit bc11756daff89a3de09ca80adac962b88cf06e6e
Author: Grant Erickson <gerickson@nuovations.com>
Date:	Tue May 6 20:16:15 2008 -0700

    Propagate Error Status to the Shell on fw_printenv Errors

    Changed implementation such that fw_printenv returns failure status
    when one or more specified variables do not exist or when incorrect
    command syntax is used.

    This aids scripting fw_printenv such that the script can key of the
    return status rather than relying on standard error "scraping".

    Signed-off-by: Grant Erickson <gerickson@nuovations.com>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit f3b6d528e4dd719640a4bfcd954f4e4c7f5db0d6
Author: Grant Erickson <gerickson@nuovations.com>
Date:	Tue May 6 16:18:00 2008 -0700

    Fix Compilation Errors with 'tools/env/fw_printenv'

    In the current top-of-tree, 1.3.3.-rc2, the optional tool
    'tools/env/fw_printenv' fails to compile for two reasons:

    1) The header watchdog.h cannot be found.
    2) The header zlib.h is picked up from the tool chain rather than the
       project causing a prototype conflict for crc32.

    This patch addresses both of these issues.

    Platforms Tested On:
    - AMCC "Kilauea"

    Signed-off-by: Grant Erickson <gerickson@nuovations.com>

commit 597f6c26a18b389903a64692bacbf9a1ca69355b
Author: James Yang <James.Yang@freescale.com>
Date:	Mon May 5 10:22:53 2008 -0500

    Fix readline_into_buffer() with CONFIG_CMDLINE_EDITING before relocating

    When CONFIG_CMDLINE_EDITING is enabled, readline_into_buffer() doesn't
    work before relocating to RAM because command history is written into
    a global array that is not writable before relocation.  This patch
    defers to the no-editing and no-history code in readline_into_buffer()
    if it is called before relocation.

    Signed-off-by: James Yang <James.Yang@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 726c0f1e5f108dccea052965123b95837d2bd402
Author: Detlev Zundel <dzu@denx.de>
Date:	Mon May 5 16:11:22 2008 +0200

    cosmetic: Adjust coding style for switch statements to be consistent

    Signed-off-by: Detlev Zundel <dzu@denx.de>

commit 574b319512b13e10800f0045e39b993f4ca25e42
Author: Detlev Zundel <dzu@denx.de>
Date:	Mon May 5 16:11:21 2008 +0200

    Fix disk type output in disk/part.c

    Signed-off-by: Detlev Zundel <dzu@denx.de>

commit 045b4d2d7168ef09c7349dcf6ecebe7432b74171
Author: Vlad Lungu <vlad.lungu@windriver.com>
Date:	Mon May 5 14:20:03 2008 +0300

    Mail address change, documentation modified

    Signed-off-by: Vlad Lungu <vlad.lungu@windrvier.com>

commit 4d49b28038e2819088e8356a77212fc95a89ce5a
Author: Michal Simek <monstr@monstr.eu>
Date:	Sun May 4 15:42:41 2008 +0200

    microblaze: Repare intc handling

    Signed-off-by: Michal Simek <monstr@monstr.eu>

commit 878b3b1e193e570caf3e96ad8e31e561f68d0287
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun May 4 15:17:52 2008 +0200

    include/gitignore: update to all architectures

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 1df368aed3b8bc240fe1595d290b0e91b22961da
Author: Marcel Ziswiler <marcel@ziswiler.com>
Date:	Mon May 5 02:12:06 2008 +0200

    ide: Remove spurious second include of io.h

    Removed the second include, with all the #ifdef around as suggested by Wolfgang.

    Signed-off-by: Marcel Ziswiler <marcel@ziswiler.com>

commit 8fbc985bdad09b23b7eb4df1d2ea589619d8db4c
Author: Adrian Filipi <adrian.filipi@eurotech.com>
Date:	Tue May 6 16:46:37 2008 -0400

    Fix some typos

    This patch fixes three typos.
    The first is a repetition of CONFIG_CMD_BSP.
    The second makes the #endif comment match its #if.
    The third is a spelling error.

    Signed-off-by: Adrian Filipi <adrian.filipi@eurotech.com>

commit e419e12d04ae3b280c99a87a2ea4ad7a40628bcb
Author: Grant Erickson <gerickson@nuovations.com>
Date:	Sun May 4 16:45:01 2008 -0700

    Recognize 'powerpc' As an Alias for IH_ARCH_PPC

    Add support for the recognition of 'powerpc' as an alias for the PowerPC
    architecture type since Linux is already trending in that direction,
    preferring 'powerpc' to 'ppc'.

    Signed-off-by: Grant Erickson <gerickson@nuovations.com>

commit f5a24259190c388c2527bdc49fee34577d862cc7
Author: Wheatley Travis <Travis.Wheatley@freescale.com>
Date:	Fri May 2 13:35:15 2008 -0700

    7450 and 86xx L2 cache invalidate bug corrections

    The 7610 and related parts have an L2IP bit in the L2CR that is
    monitored to signal when the L2 cache invalidate is complete whereas the
    7450 and related parts utilize L2I for this purpose. However, the
    current code does not account for this difference. Additionally the 86xx
    L2 cache invalidate code used an "andi" instruction where an "andis"
    instruction should have been used.

    This patch addresses both of these bugs.

    Signed-off-by: Travis Wheatley <travis.wheatley@freescale.com>
    Acked-By: Jon Loeliger <jdl@freescale.com>

commit 4d31cdc45d3592a5545a649fb5a24b458a4e4b72
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri May 9 10:16:13 2008 +0200

    Avoid infinite loop "Generating include/autoconf.mk"

    Fix a bogus circular dependency that caused an infinite loop of
    "Generating include/autoconf.mk" again and again.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 567fb852178dbf59529d7301620a3f3732a4b02d
Author: Stelian Pop <stelian@popies.net>
Date:	Thu May 8 22:52:09 2008 +0200

    Fix @ -> <at> substitution

    When applying the AT91CAP9 patches upstream, something transformed
    the '@' character into the ' <at> ' sequence.

    The patch below restores the original form in all the places where
    it has been modified (the AT91CAP9 files, the AT91SAM9260 files which
    were copied from AT91CAP9, and a couple of other files where the
    ' <at> ' sequence was present).

    Signed-off-by: Stelian Pop <stelian@popies.net>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 73ccb3410a0785593cda7aee455dfc51f790e281
Author: Gary Jennejohn <gary.jennejohn@freenet.de>
Date:	Mon Apr 28 14:04:32 2008 +0200

    ppc4xx: Add the Harris QUAD100HD AMCC 405EP-based board

    Signed-off-by: Gary Jennejohn <garyj@denx.de>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit ef2642625cbfb1c3695e3478d08ae515052a4950
Author: Stefan Roese <sr@denx.de>
Date:	Thu May 8 11:10:46 2008 +0200

    ppc4xx: Kilauea: Fix incorrect FPGA FIFO address

    Signed-off-by: Stefan Roese <sr@denx.de>

commit a00eccfebc954ad9485161efeca7d9aaf626d530
Author: Stefan Roese <sr@denx.de>
Date:	Thu May 8 11:05:15 2008 +0200

    ppc4xx: Add fdt support to all remaining AMCC PPC4xx eval boards

    This patch adds fdt (flattened device tree) support to all remaining AMCC
    eval boards. Most newer boards already support device tree. With this patch,
    all AMCC boards now enable device tree passing from U-Boot to Linux
    arch/powerpc kernels.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit cb5d88b9611e0c35c53543ad3b4ab99fa82203e3
Author: Stefan Roese <sr@denx.de>
Date:	Thu May 8 11:01:09 2008 +0200

    ppc4xx: Add weak default ft_board_setup() routine

    This patch adds a default ft_board_setup() routine to the 4xx fdt code.
    This routine is defined as weak and can be overwritten by a board specific
    one if needed.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit d1c1ba85c7915053adf6a8d14a08ac6fcb750d01
Author: Stefan Roese <sr@denx.de>
Date:	Thu May 8 10:48:58 2008 +0200

    ppc4xx: acadia: Add fdt support and fix section overlap problem

    This patch adds fdt (flattened device tree) support to the AMCC
    Acadia eval board. This increases the image size and it doesn't
    fit anymore into 256kByte. Since we didn't want to remove features
    from the configuration, we decided to increase the U-Boot image size
    (add one flash sector).

    Also changed the default environment definition to make it
    independent of such changes.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 4adb3023de75bc150f088c8935db340930ad38c8
Author: Ira Snyder <iws@ovro.caltech.edu>
Date:	Tue Apr 29 11:18:54 2008 -0700

    ppc4xx: Add device tree support to AMCC Yosemite

    Add support for booting with a device tree blob. This is needed to boot
    ARCH=powerpc kernels. Also add support for setting the eth0 mac address
    via the ethaddr variable.

    Signed-off-by: Ira W. Snyder <iws@ovro.caltech.edu>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit b9bbefce1a653ea35f74a66ec117cdda2e043a4b
Author: Dave Mitchell <dmitchell@amcc.com>
Date:	Wed May 7 09:00:23 2008 -0700

    ppc4xx: Fix typos in 460GT/EX FBDV array

    Corrected two typos in the 460GT/EX FBDV array.

    Signed-off-by: Dave Mitchell <dmitchell@amcc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 66f5fa9263629271edc86178b1f224e3c9aab2b3
Author: Andy Fleming <afleming@freescale.com>
Date:	Wed May 7 16:54:31 2008 -0500

    85xx: Limit CPU2 workaround to parts that have the errata

    Signed-off-by: Ebony Zhu <ebony.zhu@freescale.com>
    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit a5fe514e8ace564300d2c1d73846ddff49654243
Author: Lee Nipper <lee.nipper@freescale.com>
Date:	Fri Apr 25 15:44:45 2008 -0500

    mpc83xx: system performance settings for MPC8349EMDS.

    These same settings are used on MPC8349ITX, and
    improve performance on MPC8349EMDS.

    Signed-off-by: Lee Nipper <lee.nipper@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 49387dba910e485640b575e920ee463b7e611dc3
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Tue May 6 13:22:52 2008 +0900

    [MIPS] cpu/mips/cache.S: Fix build warning

    Some old GNU assemblers, such as v2.14 (ELDK 3.1.1), v2.16 (ELDK 4.1.0),
    warns illegal global symbol references by bal (and jal also) instruction.
    This does not happen with the latest binutils v2.18.

    Here's an example on gth2_config:

    mips_4KC-gcc  -D__ASSEMBLY__ -g  -Os   -D__KERNEL__ -DTEXT_BASE=0x90000000 -I/home/skuribay/devel/u-boot.git/include -fno-builtin -ffreestanding -nostdinc -isy
    stem /opt/eldk311/usr/bin/../lib/gcc-lib/mips-linux/3.3.3/include -pipe  -DCONFIG_MIPS -D__MIPS__ -G 0 -mabicalls -fpic -pipe -msoft-float -march=4kc -mtune=4k
    c -EB -c -o cache.o cache.S
    cache.S: Assembler messages:
    cache.S:243: Warning: Pretending global symbol used as branch target is local.
    cache.S:250: Warning: Pretending global symbol used as branch target is local.

    In principle, gas might be sensitive to global symbol references in PIC
    code because they should be processed through GOT (global offset table).
    But if `bal' instruction is used, it results in PC-based offset jump.
    This is the cause of this warning.

    In practice, we know it doesn't matter whether PC-based reference or GOT-
    based. As for this case, both will work before/after relocation. But let's
    fix the code.

    This patch explicitly sets up a target address, then jump there.
    Here's an example of disassembled code with/without this patch.

     90000668:	     1485ffef	     bne     a0,a1,90000628 <mips_cache_reset+0x20>
     9000066c:	     ac80fffc	     sw      zero,-4(a0)
     90000670:	     01402821	     move    a1,t2
    -90000674:	     0411ffba	     bal     90000560 <mips_init_icache>
    -90000678:	     01803021	     move    a2,t4
    -9000067c:	     01602821	     move    a1,t3
    -90000680:	     0411ffcc	     bal     900005b4 <mips_init_dcache>
    -90000684:	     01a03021	     move    a2,t5
    -90000688:	     03000008	     jr      t8
    -9000068c:	     00000000	     nop
    +90000674:	     01803021	     move    a2,t4
    +90000678:	     8f8f83ec	     lw      t7,-31764(gp)
    +9000067c:	     01e0f809	     jalr    t7
    +90000680:	     00000000	     nop
    +90000684:	     01602821	     move    a1,t3
    +90000688:	     01a03021	     move    a2,t5
    +9000068c:	     8f8f81e0	     lw      t7,-32288(gp)
    +90000690:	     01e0f809	     jalr    t7
    +90000694:	     00000000	     nop
    +90000698:	     03000008	     jr      t8
    +9000069c:	     00000000	     nop

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit 0f8c62a14b523c56874ebcb67c1a16c99aad48b3
Author: Vlad Lungu <vlad.lungu@windriver.com>
Date:	Mon May 5 14:04:00 2008 +0300

    Allow building mips versions with ELDK 3.1.1

    .gpword works only with local symbols on certain binutils versions

    Signed-off-by: Vlad Lungu <vlad.lungu@windrvier.com>

commit 12a67a9e51f6b3ec26cb0f077fb5685a447c359d
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon May 5 12:52:36 2008 +0200

    MAKEALL: add inka4x0 board

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit b83dcc13ae7b2dab394bfef6f699750d11490ee2
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun May 4 21:34:23 2008 +0200

    kb9202 board: fix build problem.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 6adf61dc4cb5c53a2df990cbc8df2bceacbfd869
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun May 4 12:10:33 2008 +0200

    Prepare for v1.3.3-rc3

    Update ChNAGELOG, minor white space cleanup.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 7c0773fde6100b61be2558cb5d8c442a3194aecb
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun May 4 00:35:15 2008 +0200

    drivers/net/tsec.c: Fix typo.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit aa737945e6f37a5de5dbad550a7694e0cb2a8120
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Fri May 2 21:45:12 2008 -0400

    version_autogenerated.h: use printf rather than echo -n

    Some systems are dumb and do not implement the -n flag to echo (like OS X).
    Convert the Makefile to use printf as this should work everywhere.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 4acc2a108ad0a669165924704a6cb083f9138242
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Fri May 2 18:17:50 2008 -0400

    fix building when saveenv is disabled in some setups

    If you enable environment in the flash, but disable the embedded
    option, and you disable the saveenv command, then the #if nested
    logic will trigger a compile failure:
    env_flash.c: In function 'env_relocate_spec':
    env_flash.c:399: error: 'flash_addr' undeclared (first use in this function)
    The fix is to add CMD_SAVEENV ifdef protection like everywhere else.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit ccf1ad535ae1c0dc2d466235c668adbdfe3a55b7
Author: Jeremy McNicoll <jeremy.mcnicoll@windriver.com>
Date:	Fri May 2 16:10:04 2008 -0400

    SBC8548: fix address mask to allow 64M flash

    Fix incorrect mask to enable all 64MB of onboard flash.
    Previously U-Boot incorrectly mapped only 8MB of flash, this
    patch correctly maps all the available flash.

    Signed-off-by: Jeremy McNicoll <jeremy.mcnicoll@windriver.com>

commit 3648085c464c8c22ef76fab006ca4344d3796124
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri May 2 19:48:56 2008 +0200

    qemu_mips: add README

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 6fdd002689190a0022c7b3dbab37fcba724580ce
Author: Marcel Ziswiler <marcel@ziswiler.com>
Date:	Fri May 2 02:35:59 2008 +0200

    Fix misspelled comment

    Signed-off-by: Marcel Ziswiler <marcel@ziswiler.com>

commit fa956fde60b7ec4dd66bd62f9910fd341b5049a1
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu May 1 04:13:05 2008 -0400

    mkimage: make mmap() checks consistent

    The mmap() related code is full of inconsistent casts/constants when
    it comes to error checking, and may break when building on some
    systems (like ones that do not implicitly define the caddr_t type).
    Let's just avoid the whole mess by writing the code nice and clean in
    the first place.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 8e90cd0447a0f0ccf529ef86f0e6b56187d3b82a
Author: Marcel Ziswiler <marcel@ziswiler.com>
Date:	Thu May 1 09:05:34 2008 +0200

    Fix defined but not used build warning

    - warning: 'srom' defined but not used

    Signed-off-by: Marcel Ziswiler <marcel@ziswiler.com>

commit b71190f3250aaffcc81c35f6cfd3498cb7c48013
Author: Marcel Ziswiler <marcel@ziswiler.com>
Date:	Thu May 1 09:05:26 2008 +0200

    Fix implicit declaration build warnings

    - warning: implicit declaration of function serial_initialize

    Signed-off-by: Marcel Ziswiler <marcel@ziswiler.com>

commit 9acde129cc3f9c1b3bc11a821480dd446774d618
Author: Andre Schwarz <andre.schwarz@matrix-vision.de>
Date:	Tue Apr 29 19:18:32 2008 +0200

    TSEC: add config options for VSC8601 RGMII PHY

    The Vitesse VSC8601 RGMII PHY has internal delay for both Rx
    and Tx clock lines. They are configured using 2 bits in extended
    register 0x17.
    Therefore CFG_VSC8601_SKEW_TX and CFG_VSC8601_SKEW_RX have
    been introduced with valid values 0-3 giving 0.0, 1.4,1.7 and 2.0ns delay.

    Signed-off-by: Andre Schwarz <andre.schwarz@matrix-vision.de>
    Acked-by: Andy Fleming <afleming@freescale.com>
    Acked-by: Ben Warren <biggerbadderben@gmail.com>
    --

     drivers/net/tsec.c |    6 ++++++
     drivers/net/tsec.h |    3 +++
     2 files changed, 9 insertions(+), 0 deletions(-)

commit bd98ee60df43ee6dd6f5ebe32c67d03e90513ff8
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat May 3 23:07:15 2008 +0200

    Revert "ColdFire: Get information from the correct GCC"

    This reverts commit b7166e05a513c0806b63b9dfb6f1d77645cede2a
    (replaced by commit c4e5f52a58d278eebb87f476e353972c5dacea40).

commit c4e5f52a58d278eebb87f476e353972c5dacea40
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat May 3 22:25:00 2008 +0200

    config.mk: use correct (cross) compiler

    Some config.mk files reference $(CC) to test for specific tool chain
    features, so make sure $(CC) gets set before including any such
    config files.

    This patch replaces commit b7166e05a5 ("ColdFire: Get information from
    the correct GCC").

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 27c38689d0cfde0e444239345f97b5eecc9f4067
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Thu May 1 02:13:44 2008 +0200

    pxa: fix previous definition on cpu init

    start.S:183:1: warning: "ICMR" redefined
    In file included from start.S:33:
    include/asm/arch/pxa-regs.h:935:1: warning: this is the location of the previous definition
    start.S:187:1: warning: "RCSR" redefined
    ...

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 6d12e697de794d700767f22f950e3026ccf4daf6
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Thu May 1 02:13:43 2008 +0200

    pxa: fix pcmcia operation on 'i' may be undefined

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 4d77f5102dfeaa36cd58d9a9f083bd2cc491526f
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Apr 30 16:24:35 2008 -0500

    MPC8610HPCD: Drop -O2 from the build flags

    Make the flags use -Os like all other boards

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 0072b78be2b41e5a0ca3ddc39335574dc2e855bd
Author: Stefan Roese <sr@denx.de>
Date:	Wed Apr 30 15:50:39 2008 +0200

    RTC: Fix month offset by one problem in M41T62 RTC driver

    This patch fixes a problem with the month being read and written
    incorrectly (offset by one). This only gets visible by also using
    the Linux driver (rtc-m41t80).

    Tested on AMCC Canyonlands.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 141ba1cad8e6598a2466e7e2976c6a12285df619
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Sat May 3 13:51:44 2008 +0900

    [MIPS] cpu/mips/config.mk: Fix GNU assembler minor version picker

    Current trick to pick up GNU assembler minor version uses a dot(.) as a
    delimiter, and take the second field to obtain minor version number. But
    as can be expected, this doesn't work with a version string which has
    dots more than needs.

    Here's an example:

    $ mips-linux-gnu-as --version | grep 'GNU assembler'
    GNU assembler (Sourcery G++ Lite 4.2-129) 2.18.50.20080215
    $ mips-linux-gnu-as --version | grep 'GNU assembler' | cut -d. -f2
    2-129) 2
    $

    This patch restricts the version format to 2.XX.XX... This will work
    in most cases.

    $ mips-linux-gnu-as --version | grep 'GNU assembler' | egrep -o '2\.[0-9\.]+'
    2.18.50.20080215
    $ mips-linux-gnu-as --version | grep 'GNU assembler' | egrep -o '2\.[0-9\.]+' | cut -d. -f2
    18
    $

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit ea638951acead7f1086c908c0b9f086beab82a22
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Sat May 3 13:51:28 2008 +0900

    [MIPS] cpu/mips/cache.S: Add dcache_enable

    Recent bootelf command fixes (017e9b7925f74878d0e9475388cca9bda5ef9482,
    "allow ports to override bootelf behavior") requires ports to have this
    function.

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
    Acked-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit d2c6fbec4397c936b18cd42482b6973cd6781bdf
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu May 1 21:30:16 2008 +0200

    onenand: rename 16 bit memory copy into memcpy_16() to avoid conflicts

    Onenand needs a version of memcpy() which performs 16 bit accesses
    only; make sure the name does not conflict with the standard
    function.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 12bc4e94251c369c529ffa505cf58b148c372f7f
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Apr 30 22:38:17 2008 +0200

    cmd_nand: fix warning: str2long ncompatible pointer type

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 1b9ed2574a38c93cb03dad41885fc06be4bfc9dd
Author: Timur Tabi <timur@freescale.com>
Date:	Fri Apr 4 11:16:11 2008 -0500

    Fix calculation of I2C clock for some 86xx chips

    Some 86xx chips use CCB as the base clock for the I2C, and others used CCB/2.
    There is no pattern that can be used to determine which chips use which
    frequency, so the only way to determine is to look up the actual SOC
    designation and use the right value for that SOC.

    Signed-off-by: Timur Tabi <timur@freescale.com>

commit f32f7fe7bd3a5bda3a476520f00e1aca7c2103a9
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Apr 30 12:11:19 2008 -0500

    ColdFire: Fix ethernet hang issue for mcf547x_8x

    The ethernet hang is caused by receiving buffer in DRAM is not
    yet ready due to access cycles require longer time in DRAM.
    Relocate DMA buffer descriptors from DRAM to internal SRAM.

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit 886d90176fc257e0ab4d0db05d11d0749bbed3ca
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Apr 30 12:10:47 2008 -0500

    ColdFire: Fix compilation issue caused by new changes in fsl_i2c.c

    Signed-off-by: Luigi Comio Mantellini <luigi.mantellini@idf-hit.com>
    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit b7166e05a513c0806b63b9dfb6f1d77645cede2a
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Apr 30 12:10:23 2008 -0500

    ColdFire: Get information from the correct GCC

    Signed-off-by: Kurt Mahan <kmahan@freescale.com>
    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit 378e7ec95da4751ec8fe461baacab2bf7d2512a9
Author: dirk.behme@googlemail.com <dirk.behme@googlemail.com>
Date:	Wed Apr 30 18:02:59 2008 +0200

    Fix warning in env_nand.c if compiled for DaVinci Schmoogie

    Fix warnings

    nv_nand.c: In function 'saveenv':
    env_nand.c:200: warning: passing argument 3 of 'nand_write' from incompatible pointer type
    env_nand.c: In function 'env_relocate_spec':
    env_nand.c:275: warning: passing argument 3 of 'nand_read' from incompatible pointer type

    if compiled for davinci_schmoogie_config.

    Signed-off-by: Dirk Behme <dirk.behme@gmail.com>
    Ack by: Sergey Kubushyn <ksi@koi8.net>

commit 33a4a70d48d622cc4950c60a84fec23b9421f23e
Author: Anatolij Gustschin <agust@denx.de>
Date:	Wed Apr 30 13:34:40 2008 +0200

    Fix warnings while compiling net/net.c for MPC8610HPCD board

    MPC8610HPCD board adds -O2 gcc option to PLATFORM_CPPFLAGS
    causing overriding default -Os option. New gcc (ver. 4.2.2)
    produces warnings while compiling net/net.c file with -O2
    option. The patch is an attempt to fix this.

    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit 58b575e575c25fdf8c88141e145db201f3092149
Author: Sascha Laue <Sascha.Laue@gmx.biz>
Date:	Wed Apr 30 15:23:38 2008 +0200

    lwmon5: fix offset error in sysmon0 POST

    Signed-off-by: Sascha Laue <sascha.laue@liebherr.com>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit e7419b243a373de4ee042f7d4f45f66de787240d
Author: Sascha Laue <Sascha.Laue@gmx.biz>
Date:	Wed Apr 30 15:16:35 2008 +0200

    lwmon5: fix manual merge error in POST

    Signed-off-by: Sascha Laue <sascha.laue@liebherr.com>

commit 42ffcec3f9eba010a662d5b42981812b6bebfb9a
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Apr 30 17:46:26 2008 +0200

    cmd_nand.c: fix another 'incompatible pointer type' warning.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit de109d909707e2dfe806be5efc3cdb103b47c8ad
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Apr 30 17:25:07 2008 +0200

    Makefile: fix parallel builds

    This problem shows up with parallel builds only; it results in
    somewhat cryptic error messages like

	$ JOBS=-j6 MAKEALL netstar
	Configuring for netstar board...
	arm-linux-ld: cannot find -lgeneric
	make[1]: *** [eeprom.srec] Error 1

    A few boards (like netstar and voiceblue) need some libraries for
    building; however, the board Makefile does not contain any such
    dependencies which may cause problems with parallel builds. Adding
    such dependencies is difficult as we would also have to provide build
    rules, which already exist in the respective library Makefiles.

    To solve this, we make sure that all libraries get built before the
    board code.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 4f27098e5b0736989b13cd61d7bca94b3574cf5f
Author: Stefan Roese <sr@denx.de>
Date:	Wed Apr 30 14:51:36 2008 +0200

    ppc4xx: Adapt Canyonlands fixed DDR2 setup to new DIMM module

    This patch changes the Canyonlands/Glacier fixed DDR2 controller setup
    used for NAND booting to match the values needed for the new 512MB
    DIMM modules shipped with the productions boards:

    Crucial: CT6464AC667.8FB

    Signed-off-by: Stefan Roese <sr@denx.de>

commit ea9202a659dc75996facf1475f1866a19a9d3129
Author: Stefan Roese <sr@denx.de>
Date:	Wed Apr 30 10:49:43 2008 +0200

    ppc4xx: Fix problem with DIMMs with 8 banks in 44x_spd_ddr2.c

    This patch fixes a problem with DIMMs that have 8 banks. Now the
    MCIF0_MBxCF register will be setup correctly for this setup too.

    This was noticed with the 512MB DIMM on Canyonlands/Glacier.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 76617299358ebba260ecc02d33e8e75d8d13dd3b
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Apr 29 23:41:06 2008 +0200

    Prepare v1.3.3-rc2, again.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit b7fcc4c13993782342cf5cd20d237a6281648a0b
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Apr 29 23:35:24 2008 +0200

    Prepare v1.3.3-rc2

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit f7b16a0a4d571dd33b2b5185a54f7ddc311f89d4
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Apr 29 23:32:20 2008 +0200

    common/env_nand.c: fix one more incompatible pointer type issue

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit ea6f66894f952229eebfc4ad03cd21fe5c8b3f0f
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Apr 29 21:33:08 2008 +0200

    post/board/lwmon5/sysmon.c: fix manual merge error.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 70a0f81412b0b18a6fd0bea960451bc6c2cca49a
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Apr 29 12:54:59 2008 -0500

    85xx: Add -mno-spe to e500/85xx builds

    Newer gcc's might be configured to enable autovectorization by default.
    If we happen to build with one of those compilers we will get SPE
    instructions in random code.

    -mno-spe disables the compiler for automatically generating SPE
    instructions without our knowledge.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 8ea08e5be69436abcc95d3da114de4a2ff8a6ab5
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Apr 29 10:18:34 2008 -0500

    Update .gitignore for zlib.h

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 45239cf4152109caa925145ccd433529902df887
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Apr 29 10:27:08 2008 -0500

    85xx/86xx: Rename ext_refrec to timing_cfg_3 to match docs

    All the 85xx and 86xx UM describe the register as timing_cfg_3
    not as ext_refrec.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit ef7d30b14394e4c4a153118f5845760cadada02a
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Apr 29 10:28:34 2008 -0500

    85xx/86xx: Rename DDR init address and init extended address register

    Rename init_addr and init_ext_addr to match the docs between
    85xx and 86xx.  Both now use 'init_addr' and 'init_ext_addr'.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit cf6cc014270549684873a5972d2595052c468cb6
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Apr 28 02:24:04 2008 -0500

    85xx: Additional fixes and cleanup of MP code

    * adjust __spin_table alignment to match ePAPR v0.94 spec
    * loop over all cpus when determing who is up.  This fixes an issue if
      the "boot cpu" isn't core0.  The "boot cpu" will already be in the
      cpu_up_mask so there is no harm
    * Added some protection in the code to ensure proper behavior.  These
      changes are explicitly needed but don't hurt:
      - Added eieio to ensure the "hot word" of the table is written after
	all other table updates have occurred.
      - Added isync to ensure we don't prefetch loading of table entries
	until we a released

    These issues we raised by Dave Liu.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit b2d527a8b9fb50afccbaf79b5540952585cdc760
Author: Yuri Tikhonov <yur@emcraft.com>
Date:	Tue Apr 29 15:06:41 2008 +0200

    lwmon5: minor clean-up to include/configs/lwmon5.h

    LWMON5 DSPIC POST uses the watch-dog scratch register. So, make
    the CFG_DSPIC_TEST_ADDR definition more readable.

    Signed-off-by: Yuri Tikhonov <yur@emcraft.com>

commit f4c4d21a885ccc222fd0acdf653b683249e85117
Author: Stefan Roese <sr@denx.de>
Date:	Tue Apr 29 16:08:05 2008 +0200

    ppc4xx: Fix CFG_MONITOR_LEN on Katmai failsave this time

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 138105efe1d2b1a40a3a97b4c1f85c2111bea2d8
Author: Yuri Tikhonov <yur@emcraft.com>
Date:	Tue Apr 29 13:32:45 2008 +0200

    ppc flush_cache: add watch-dog triggering into the loops.

    Some boards (e.g. lwmon5) need rather a frequent watch-dog
    kicking. Since the time it takes for the flush_cache() function
    to complete its job depends on the size of data being flushed, one
    may encounter watch-dog resets on such boards when, for example,
    download big files over ethernet.

    Signed-off-by: Yuri Tikhonov <yur@emcraft.com>

commit cab99d6f3281ab6784feccf98b9b425daa58418a
Author: Stefan Roese <sr@denx.de>
Date:	Tue Apr 29 14:44:54 2008 +0200

    ppc4xx: Fix compilation warning in denali_spd_ddr2.c

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 4ec9d78fe5cd585d2868731fa108ca1e62730e70
Author: Stefan Roese <sr@denx.de>
Date:	Tue Apr 29 14:12:07 2008 +0200

    ppc4xx: Fix Katmai CFG_MONITOR_LEN

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 85ad184b3b2b0f8af9228477303c55dca1b52ed7
Author: Stefan Roese <sr@denx.de>
Date:	Tue Apr 29 13:57:07 2008 +0200

    ppc4xx: Complete remove bogus dflush()

    Since the current dflush() implementation is know to have some problems
    (as seem on lwmon5 ECC init) this patch removes it completely and replaces
    it by using clean_dcache_range().

    Tested on Katmai with ECC DIMM.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 135846d6ecaad255ad28d93ebbb78b3d5da68cdc
Author: Stefan Roese <sr@denx.de>
Date:	Tue Apr 29 13:36:51 2008 +0200

    ppc4xx: Change ECC initialization on lwmon5 to use clean_dcache_range()

    As it seems the "old" ECC initialization routine by using dflush() didn't
    write all lines in the dcache back to memory on lwmon5. This could lead
    to ECC error upon Linux booting. This patch changes the program_ecc()
    routine to now use clean_dcache_range() instead of dflush().
    clean_dcache_range() uses dcbst which is exactly what we want in this
    case.

    Since dflush() is known is cause problems, this routine will be
    removed completely and replaced by clean_dcache_range() with an
    additional patch.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 18ec19e4aa1a045dfbf2c7c2e33963488e92d757
Author: Yuri Tikhonov <yur@emcraft.com>
Date:	Mon Apr 28 18:19:34 2008 +0200

    POST: fix Makefiles for mpc8xx, lwmon, and netta POSTs.

    Signed-off-by: Yuri Tikhonov <yur@emcraft.com>

commit eea5a743a2193ef2a05b9bc6dc447ba241416f35
Author: Markus Brunner <super.firetwister@googlemail.com>
Date:	Mon Apr 28 08:47:47 2008 +0200

    ppc4xx: Fixup ebc clock in FDT for 405GP/EP

    On ppc405EP and ppc405GP (at least) the ebc is directly attached to the plb
    and not to the opb. This patch will try to fixup /plb/ebc if /plb/opb/ebc
    doesn't exist.

    Signed-off-by: Markus Brunner <super.firetwister@gmail.com>

commit 2ef7503a593c77a80c2a054011970227c4b62774
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Thu Apr 24 07:57:17 2008 +0200

    NE2000: Fix regresssion introduced by e710185aae90 on non AX88796

    Move non-inlied functions into specific drivers file
    Set get_prom as weak

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Vlad Lungu <vlad@comsys.ro>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 40cb90ee2b97db1f697e1b54f19a548ffc96d71b
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Thu Apr 3 17:04:19 2008 +0200

    net: make ARP timeout configurable

    Currently the timeout waiting for an ARP reply is hard set to 5 seconds.
    On i.MX31ADS due to a hardware "strangeness" up to four first IP packets
    to the boards get lost, which typically are ARP replies. By configuring
    the timeout to a lower value we significantly improve the first network
    transfer time on this board. The timeout is specified in milliseconds,
    later internally it is converted to deciseconds, because it has to be
    converted to hardware ticks, and CFG_HZ ranges from 900 to 27000000 on
    different boards.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 13e0b8f7ca9d29267bf01d7a01e521a0517adce1
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Thu Apr 3 13:36:18 2008 +0200

    minor cs8900 driver clean up

    Remove a redundant register definition, clean up some coding style
    violations.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 707fa917cca24c0f22776f48ac4a6fa5e5189b10
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Apr 28 22:01:04 2008 +0200

    jffs2_1pass.c: fix incompatible pointer type warning

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 6aee00f5e6a1cf29d8fe8fdc9b7252fbd31115d9
Author: Sascha Laue <Sascha.Laue@gmx.biz>
Date:	Tue Apr 1 10:10:18 2008 +0200

    lwmon5: update dsPIC POST spezification

    The specification for the lwmon5 board dsPIC POST got changed.
    Also add defines for the temperatures  and voltages.

    Signed-off-by: Sascha Laue <sascha.laue@liebherr.com>

commit 3e4615ab7ff38781a5dd80d0f49b9af55b4fe0b7
Author: Sascha Laue <Sascha.Laue@gmx.biz>
Date:	Tue Apr 1 15:13:03 2008 +0200

    Fix watchdog POST for lwmon5

    If the hardware watchdog detects a voltage error, the watchdog sets
    GPIO62 to low. The watchdog POST has to detect this low level.

    Signed-off-by: Sascha Laue <leglas0@legpc180.leg.liebherr.i>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit dd5748bcd669f46aeb6686c1b341323843738ccc
Author: Guennadi Liakhovetski <g.liakhovetski@gmx.de>
Date:	Mon Apr 28 14:37:14 2008 +0200

    rtl8169: fix compiler warnings

    Fix multiple compiler warnings related to argument type mismatch.

    Signed-off-by: Guennadi Liakhovetski <g.liakhovetski@gmx.de>

commit 413bf586266f86c6bdbc6c6d140f67a15af4c4f1
Author: Guennadi Liakhovetski <g.liakhovetski@gmx.de>
Date:	Mon Apr 28 14:36:06 2008 +0200

    IDE: fix compiler warnings

    The IDE driver can use 32-bit addresses in LBA mode, in which case it
    spits multiple warnings during compilation. Fix them.

    Signed-off-by: Guennadi Liakhovetski <g.liakhovetski@gmx.de>

commit db9084de28c46ac81c8f681722cb0d7411be4d7f
Author: Guennadi Liakhovetski <g.liakhovetski@gmx.de>
Date:	Mon Apr 28 14:35:57 2008 +0200

    LinkStation: fix compiler warning, add a maintainer

    out_8 wants a pointer to an unsigned as the first argument. Add a
    maintainer for Linkstation boards.

    Signed-off-by: Guennadi Liakhovetski <g.liakhovetski@gmx.de>

commit c71abba3cb67b063f789f17abf6c7447727c0cd5
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Apr 28 14:55:12 2008 +0200

    cmd_nand.c: fix "differ in signedness" problem

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit f2c288a35341ad02ac03b1563d786763c9c8f159
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Apr 28 12:48:47 2008 +0200

    pcnet.c: fix a merge issue

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 4ca79f477ebd25a6872e6196d80e2f5eff441376
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Apr 28 12:08:18 2008 +0200

    NAND: fix some strict-aliasing compiler warnings

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 5cd0130ecc79d6dcde1b1ac253abc457ca8c3115
Author: Stefan Roese <sr@denx.de>
Date:	Mon Apr 28 11:37:14 2008 +0200

    ppc4xx: Fix compile warning of hcu4 board

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 5379cd15dd6c74ac51499bce3455bf6e0cdbe9f1
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Apr 28 11:31:23 2008 +0200

    MPC8323ERDB: fix implicit declaration of function 'mac_read_from_eeprom'

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 7602ed50a2f0ef3dc8d7da93f116de50288f5b59
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Mon Apr 28 00:25:32 2008 +0200

    mx31ads: fix loadaddr environment variable define

    Arithmetic expressions do not get evaluated under stringification. Remove
    default network configuration, add DHCP command support. Thanks to Felix
    Radensky for reporting.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit 144eec777ac07bcb12bd38245a5a289f694a7f98
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Apr 28 10:55:24 2008 +0200

    katmai: fix section overlap problem

    Since we didn't want to remove features from the configuration, we
    decided to increase the U-Boot image size (add one flash sector).

    Also changed the default environment definition to make it
    independent of such changes.

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Acked-by: Stefan Roese <sr@denx.de>

commit 941d696d25624e3cc65ebf924199541acf52d74e
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Apr 28 10:55:24 2008 +0200

    katmai: fix section overlap problem

    Since we didn't want to remove features from the configuration, we
    decided to increase the U-Boot image size (add one flash sector).

    Also changed the default environment definition to make it
    independent of such changes.

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Acked-by: Stefan Roese <sr@denx.de>

commit 03c6cd39f9184143fd8c537872b3d4b2e03f1466
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Sat Apr 26 11:44:44 2008 -0500

    post: Fix building with O=

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit fd7531c1e9d56b9e5e06d2c0e02b798dab72f70c
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Apr 26 01:55:00 2008 +0200

    Prepare v1.3.3-rc1

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 19cf2ec90d8ce52da60c1693693c4048cb810967
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Apr 26 01:25:39 2008 +0200

    post/Makefile: make sure to use the correct flags

    ARFLAGS was not set, which caused "ppc_8xx-ar: creating libgenpost.a"
    messages to be printed.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 7ed4011733e7dca8f64d21291e4294662f7dc3e2
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Apr 26 00:34:42 2008 +0200

    Coding Style cleanup, update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit f9204e15173834ff8d123e36279ce49c3c6c74fc
Author: Magnus Lilja <lilja.magnus@gmail.com>
Date:	Sun Apr 20 10:38:12 2008 +0200

    i.MX31: Enable SPI and MC13783/RTC support for the Litekit board

    This patch enables SPI and MC13783/RTC support for the Litekit board.

    Signed-off-by: Magnus Lilja <lilja.magnus@gmail.com>

commit f97abbfb47d9e407354e157cae3f6369e460cd37
Author: Ed Swarthout <Ed.Swarthout@freescale.com>
Date:	Fri Apr 25 01:08:32 2008 -0500

    MPC8544DS: decode pcie3 end-point configuration correctly.

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 292188e15523c165c4269403fdcd33c26d89176e
Author: Roy Zang <tie-fei.zang@freescale.com>
Date:	Fri Apr 25 00:55:09 2008 -0500

    MPC8544DS: Removes the unknown flash message information

    This patch removes the unknown flash message information:
    '## Unknown FLASH on Bank 1 - Size = 0xdeadbeef = -286261248 MB'
    This unknown flash message is caused by PromJet.
    Some of the board user is unhappy with this information.

    Signed-off-by: Roy Zang <tie-fei.zang@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit b2115757403beef0ac6bc2c6c3b24f31256a75d2
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Thu Apr 24 14:07:38 2008 -0500

    mpc83xx: bump loadaddr over fdtaddr to 0x500000

    this seems as a good compromise between human memory, typing,
    and last but not least, to accommodate for current and future kernel bloat.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>
    Acked-by: Dave Liu <daveliu@freescale.com>

commit be5a7190265a34d968578ff266549c60f6f57654
Author: Dave Liu <r63238@freescale.com>
Date:	Tue Apr 15 13:12:23 2008 +0800

    mpc83xx: clean up the readme for 83xx boards

    1. correct the typo
    2. correct the memory map for 837xerdb board

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit bcae52a6819ee9dad5d0d96cd7daeb20108d45ff
Author: Dave Liu <r63238@freescale.com>
Date:	Tue Apr 15 13:11:11 2008 +0800

    mpc83xx: remove the unused CPM's stuff

    The MPC83xx family never have CPM block, so remove it from 83xx.

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit c63ad6325a8ac0097a54b418a3288926b0484b18
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Fri Apr 18 16:29:40 2008 +0200

    cfi-flash: Add CFG_FLASH_AUTOPROTECT_LIST

    This patch adds a configurable flash auto protection list that can be used
    to make U-Boot protect flash regions in flash_init().

    The idea has been discussed on the u-boot mailing list starting
    on Nov 18th, 2007.

    Even this patch brings a new feature it is used as a bugfix for 4xx
    platforms where flash_init() does not completely protect the
    monitor's flash range in all situations.

    U-Boot protects the flash range from CFG_MONITOR_BASE to
    (CFG_MONITOR_BASE + monitor_flash_len  - 1) by default. This does not
    include the reset vector at 0xfffffffc.

    Example:
    #define CFG_FLASH_AUTOPROTECT_LIST {{0xfff80000, 0x80000}}

    This config option will auto protect the last 512k of flash that
    contains the bootloader on board like APC405 and PMC405.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit d0d91ae3acb4f29d1a2a3a766747478ed54e2848
Author: Stefan Roese <sr@denx.de>
Date:	Fri Apr 25 13:59:03 2008 +0200

    ppc4xx: Remove double defines in lwmon5.h

    introduced with latest lwmon5/POST merge

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 7590378fb9c686709492ceb142825cd058255956
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Fri Apr 25 13:54:02 2008 +0200

    Use watchdog-aware functions when calculating hashes of images - take two

    Some files didn't get updated properly with the "Use watchdog-aware
    functions when calculating hashes of images" commit, this commit
    fixes this.

    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 8e048c438e20ec89b49da5f085f8f756eba6e587
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Fri Apr 25 12:01:39 2008 +0200

    ppc4xx: Add bootcount limit handling for APC405 boards

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit 1de6b28be5d107ae90ad7a8a43653c49966e8afe
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Fri Apr 25 12:10:09 2008 +0200

    Use watchdog-aware functions when calculating hashes of images

    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>

commit d00ce09040d3100e2c7998ef56db62c2d20d9ee3
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Apr 25 12:44:08 2008 +0200

    USB: fix more GCC 4.2.x aliasing warnings

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Acked-by: Markus Klotzbuecher <mk@denx.de>

commit aff4f86448f6586930f0a3be7fc4b0ddcf450980
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Apr 25 12:41:53 2008 +0200

    lib_generic/crc32.c: add missing #include <watchdog.h>

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 03ccdbcd5602610cea4bd0db7e48e1ef881a51ef
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Apr 25 11:52:21 2008 +0200

    lib_generic/crc32.c: fix compile problem

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 24bfedbd0be4dcaa94861407820d6a70fea7e03b
Author: Stefan Roese <sr@denx.de>
Date:	Tue Apr 22 12:20:32 2008 +0200

    ppc4xx: Pass PCIe root-complex/endpoint configuration to Linux via the fdt

    The PCIe root-complex/endpoint setup as configured via the "pcie_mode"
    environment variable will now get passed to the Linux kernel by setting
    the device_type property of the PCIe device tree node. For normal root-
    complex configuration it will keep its defaults value of "pci" and for
    endpoint configuration it will get changed to "pci-endpoint".

    Signed-off-by: Stefan Roese <sr@denx.de>

commit eb0615bf600d2caf5aa2958f47f5ba364c52d5e7
Author: Yuri Tikhonov <yur@emcraft.com>
Date:	Thu Apr 24 10:30:53 2008 +0200

    lwmon5: watchdog POST fix

    Use the GPT0_MASKx registers as the temporary storage for watch-dog
    timer POST test instead of GPT0_COMPx. The latter
    (GPT0_COMP1..GPT0_COMP5) are used for the log-buffer header.

    Signed-off-by: Sergei Poselenov <sposelenov@emcraft.com>
    Signed-off-by: Yuri Tikhonov <yur@emcraft.com>

commit 78e488298824bc150b5f3ebf7958cd71fa2af1b9
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Mon Apr 21 18:10:14 2008 -0500

    lib_ppc: Revert "Make MPC83xx one step closer to full relocation."

    This reverts commit 70431e8a7393b6b793f77957f95b999fc9a269b8 which has
    proven problematic getting right from the start at least on 83xx and
    4xx.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit a99715b8ebfc500f3f40e01b36b64d473938443d
Author: Detlev Zundel <dzu@denx.de>
Date:	Fri Apr 18 14:50:01 2008 +0200

    Realining some header definitions.

    Signed-off-by: Detlev Zundel <dzu@denx.de>

commit 4acbc6c7f993cae409c424615415a3e76820f13d
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Thu Apr 24 07:57:16 2008 +0200

    NE2000: coding style cleanup

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit b4aff1ffaf7120032c653357c007faa14f74d29d
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Apr 23 00:11:47 2008 +0900

    qemu-mips.h: Add CFI support

    CONFIG_ENV_OVERWRITE is also added.

    This patch is originally created by Jean-Christophe PLAGNIOL-VILLARD.

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit 4a1f11b45a82908e5b0df602d703082413a6b7ed
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Tue Apr 22 22:47:27 2008 +0900

    doc/README.mips: Add MIPS notes

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit 215b01bba8bc662d35f72b084700b192d367dfb4
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Tue Apr 22 12:27:56 2008 +0200

    Add support for calculating hashes with watchdog triggering

    Implement watchodg-aware variants of hash calculation functions:
    - crc32_wd()
    - md5_wd()
    - sha1_csum_wd()
    The above functions calculate the hash of the input buffer in chunks,
    triggering the watchdog after processing each chunk. The chunk size
    is given as a function call parameter.

    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>

commit 8875e3abab986df930167ce5c1ac4f95dcacc81c
Author: Shinya Kuribayashi <shinya.kuribayashi@necel.com>
Date:	Wed Apr 23 11:02:12 2008 +0900

    qemu-mips: Cleanup whitespace, indentation, etc.

    No functional change.

    This patch was originally submitted by Jean-Christophe PLAGNIOL-VILLARD.
    Then I re-created from scratch, and changed more lines than the original.

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit 386563197e3a50b0e97ad9aae87f57d9aab909ab
Author: Vlad Lungu <vlad@comsys.ro>
Date:	Wed Oct 10 23:02:09 2007 +0300

    Fixed pcnet io_base

    Bus and phys address are not always the same

    Signed-off-by: Vlad Lungu <vlad@comsys.ro>

commit 11ea26fd1cb63c91403fe04a6eea975cd418603f
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Apr 24 23:44:26 2008 +0200

    drivers/net/pcnet.c: Coding Style cleanup.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 899ef7b84578b7cafadfd78488c2fd2aac93f636
Author: Vlad Lungu <vlad@comsys.ro>
Date:	Wed Oct 10 23:04:23 2007 +0300

    Added Am79C970A chip id to pcnet

    Signed-off-by: Vlad Lungu <vlad@comsys.ro>

commit 17c9de6bb33f676eb776dcbfc46fc1b14c3871a5
Author: Magnus Lilja <lilja.magnus@gmail.com>
Date:	Sun Apr 20 10:35:03 2008 +0200

    i.MX31: Fix architecture numbers for ADS and Litekit boards

    Correct the Linux architecture number for i.MX31 Litekit and ADS boards.

    Signed-off-by: Magnus Lilja <lilja.magnus@gmail.com>

commit e7ae84d6c7288790e88639f57cb60daf89c11369
Author: Magnus Lilja <lilja.magnus@gmail.com>
Date:	Sun Apr 20 10:36:36 2008 +0200

    i.MX31: Use symbolic names for Litekit membases.

    Use symbolic names instead of hard coded addresses for Litekit membases.

    Signed-off-by: Magnus Lilja <lilja.magnus@gmail.com>

commit 2ef1d9b6030d02f576b1bcd9fec948e602522012
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Apr 19 17:59:20 2008 +0200

    Fix show_boot_progress prototype

    in commit fad634071 "make show_boot_progress () weak."
    show_boot_progress is supposed to be declared as weak but declared as
    inline instead.

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit edbed247a14d70b94958010f736621212285de91
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Fri Apr 18 12:39:23 2008 +0200

    Memory footprint optimizations

    As suggested by Wolfgang Denk:
    - image printing functions:
      - remove wrappers
      - remove indentation prefix from functions' signatures
    - merge getenv_verify and getenv_autostart into one parametrized function

    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>

commit 0a0b606faaec4afb3f750b09aa4df1e40a39dcb8
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Tue Apr 15 13:33:11 2008 +0200

    MX31ADS environment variable update, spi and rtc support

    Update MX31ADS default environment to better match the flash layout and
    the memory map, support SPI and RTC.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit 022f12163595b9a55380c6d77c3119b93d6a9a4b
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Apr 21 09:28:36 2008 -0500

    85xx: Round up frequency calculations to get reasonable output

    eg. because of rounding error we can get 799Mhz instead of 800Mhz.

    Introduced DIV_ROUND_UP and roundup taken from linux kernel.

    Signed-off-by: Dejan Minic <minic@freescale.com>
    Signed-off-by: Srikanth Srinivasan <srikanth.srinivasan@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit 876b8f978982216ab4a22dcd9efddfcd9b0e04e6
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Apr 23 16:58:04 2008 -0500

    fsl_pci: Only modify registers if we have them

    pme_msg_det exists only on PCIe controllers only set it if we are a "bridge".

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 83fe32334337def160b302aa9d152d808bfcc68e
Author: Markus Klotzbcher <mk@denx.de>
Date:	Wed Apr 23 10:57:33 2008 +0200

    USB: remove a cpu bug workaround for an unsupported architecture.

    Signed-off-by: Markus Klotzbuecher <mk@denx.de>

commit f957576cb53e6cfab412709cfc8db1afd39d21c3
Author: Markus Klotzbcher <mk@denx.de>
Date:	Wed Apr 23 10:53:23 2008 +0200

    USB: fix those pesky aliasing warnings issued by gcc-4.2

    Signed-off-by: Markus Klotzbuecher <mk@denx.de>
    Signed-off-by: Detlev Zundel <dzu@denx.de>

commit 89cdab788f3716b335fefb60b836ebcf975aceab
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Mar 31 11:02:01 2008 -0400

    crc32: use uint32_t rather than unsigned long

    The envcrc.c does sizeof(unsigned long) when calculating the crc, but
    this is done with the build toolchain instead of the target tool
    chain, so if the build is a 64bit system but the target is 32bits,
    the size will obviously be wrong. This converts all unsigned long
    stuff related to crc32 to uint32_t types. Compile tested only: output
    of ./tools/envcrc when run on a 32bit build system matches that of a
    64bit build system.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Acked-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 80c40b765b3642ddb9f3392b7898715aab44a29c
Author: Dirk Behme <dirk.behme@googlemail.com>
Date:	Wed Mar 26 09:53:29 2008 +0100

    ARM: Davinci: Fix DM644x timer overflow handling and cleanup

    Fix ARM based DaVinci DM644x timer overflow handling and cleanup timer code.

    Changes:

    - Remove *_masked() functions as noted by Wolfgang

    - Adapt register naming to recent TI spec (sprue26, March 2007)

    - Fix reset_timer() handling

    - As reported by Pieter [1] the overflow fix introduced a delay of factor 16 (e.g 2 seconds became 32). While the overflow fix is basically okay, it missed to divide udelay by 16, too. Fix this.

    [1] http://article.gmane.org/gmane.comp.boot-loaders.u-boot/38179

    - Remove software division of timer count value (DIV(x) macro) and do it in hardware (TIM_CLK_DIV).

    Many thanks to Troy Kisky <troy.kisky@boundarydevices.com> and Pieter Voorthuijsen <pieter.voorthuijsen@Prodrive.nl> for the hints & testing!

    Patch is compile tested with davinci_dvevm & sonata & schmoogie configuration and tested by Pieter on DaVinci EVM hardware.

    Signed-off-by: Dirk Behme <dirk.behme@gmail.com>
    Acked-by: Pieter Voorthuijsen <pieter.voorthuijsen@Prodrive.nl>

commit a6e6fc610e39dec41b79680413d4ed38145bd3c8
Author: Sergei Poselenov <sposelenov@emcraft.com>
Date:	Wed Apr 9 16:09:41 2008 +0200

    Added watchdog triggering calls in the "mtest" test function.

    Signed-off-by: Sergei Poselenov <sposelenov@emcraft.com>

commit d32a874b9b4c1e949ee38be7790f6bf6d6143451
Author: Yuri Tikhonov <yur@emcraft.com>
Date:	Sun Apr 6 19:19:14 2008 +0200

    lwmon5 watchdog: limit trigger rate

    Limit the rate of h/w watch-dog triggering on the LWMON5 board by
    the CONFIG_WD_MAX_RATE value.

    Note that an earlier version of this patch which used microseconds
    instead of ticks dis not work. The problem was that we used
    usec2ticks() to convert microseconds into ticks. usec2ticks() uses
    get_tbclk(), which in turn calls get_sys_info(). It turns out that
    this function does a lot of prolonged operations (like divisions)
    which take too much time so we do not trigger the watchdog in time,
    and it resets the system.

    Signed-off-by: Yuri Tikhonov <yur@emcraft.com>

commit 2d2b994a30bb100774dc747ae9865b7f95285a88
Author: Yuri Tikhonov <yur@emcraft.com>
Date:	Mon Mar 31 10:51:37 2008 +0200

    POST: move CONFIG_POST to Makefiles

    Introduce the new logical option CONFIG_HAS_POST which is set when the
    platform has CONFIG_POST set. Use CONFIG_HAS_POST in the post/ Makefiles
    to determine should the POST libs be compiled for the selected target
    platform, or not.

    To avoid breaking u-boot linking process, the empty post/libpost.a file is
    created for platforms which do not have POSTs.

    Signed-off-by: Yuri Tikhonov <yur@emcraft.com>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 0a51e9248e2d27e0a02ef1e740c576ce90a39ee1
Author: Yuri Tikhonov <yur@emcraft.com>
Date:	Mon Mar 31 10:49:34 2008 +0200

    POST: preparations for moving CONFIG_POST to Makefiles

    Remove CONFIG_POST ifdefs from the post/ source files.

    Signed-off-by: Yuri Tikhonov <yur@emcraft.com>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 5d40d4430d9ebc8434c6f0798594836e1efa7a1e
Author: Stefan Roese <sr@denx.de>
Date:	Tue Apr 22 14:14:20 2008 +0200

    ppc4xx: Fix Canyonlands and Glacier default environment for fdt usage

    This patch fixes the Canyonlands and Glacier default environment to better
    fit to the arch/powerpc device-tree kernels. The variables dealing with
    arch/ppc booting are removed, since these boards are supported only in
    arch/powerpc. Glacier uses the same config file as Canyonlands.

    Also, the Glacier now uses non-FPU rootpath, since 460GT has no FPU.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit b789cb4a4c0c1deff82053539cfe29a9c6e23f8b
Author: Stefan Roese <sr@denx.de>
Date:	Tue Apr 22 14:06:42 2008 +0200

    ppc4xx: Small coding style cleanup for the latest esd patches

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 79941d63bc03aed8c48d7602f18217cc200ee931
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Mon Apr 21 18:01:07 2008 +0200

    ppc4xx: Update CPU strapping for PMC440 boards

    This patch removes the temporary 'test' strapping option
    of the sbe command. The '667' strapping option now uses
    a PLB/PCI divider of 3.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit f00cf3193a6635355b121e90debb2f54e777e7da
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Mon Apr 21 14:42:21 2008 +0200

    ppc4xx: Remove unused APC405 strataflash driver

    The APC405 board support has been migrated to use the common
    CFI flash driver.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit 1c686676a86473bbd92151f0544e109413f6ed06
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Mon Apr 21 14:42:17 2008 +0200

    ppc4xx: Update APC405 configuration

    - enable esd's auto_update mechanism
    - support alternative flash layout on rev. 1.8 boards
    - update default environment
    - use common CFI flash driver
    - coding style cleanup

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit 0b9872515a521bf7866dc24b85ddce708e60d702
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Mon Apr 21 14:42:11 2008 +0200

    ppc4xx: Update APC405 board support

    - enable esd's auto_update mechanism
    - fix LCD support on latest hardware revision (uses other LCD controller)
    - support alternative flash layout on rev. 1.8 boards
    - coding style cleanup

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit 83975d02e225e231960784972e7820a8b303756b
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Mon Apr 21 14:42:06 2008 +0200

    ppc4xx: update esd's common auto_update code for 405 boards

    - Coding style cleanup (long lines)
    - improve handling of protected flash regions
    - remove dead code

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit b9233fe5d59cb25d975071616bd1035d6f4c2285
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Mon Apr 21 14:41:59 2008 +0200

    ppc4xx: Update esd's common LCD code for 405 boards

    - Coding style cleanup (long lines)
    - Add s1d13505 support
    - Make some functions return a result code instead of void

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit dea68189424c3f1242427a8146a3861bf093173c
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Mon Apr 21 11:36:55 2008 +0200

    ppc4xx: Update FPGA image for APC405 boards

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit 2a05b152924acfcec3b037693329e517e6d3578f
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Mon Apr 21 11:36:08 2008 +0200

    ppc4xx: Update bootlogo for APC405 boards

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit 8deafdc6ad368368cf03b58cab4bd39f45d64b5c
Author: Stefan Roese <sr@denx.de>
Date:	Fri Apr 18 16:41:31 2008 +0200

    ppc4xx: Add dcache_enable() for 440

    dcache_enable() was missing for 440 and the patch
    017e9b7925f74878d0e9475388cca9bda5ef9482 ["allow ports to override bootelf
    "] behavior uses this function.

    Note: Currently the cache handling functions like
    d/icache_disable/enable() are NOP's on 440. This may be changed in the
    future.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit a49e0d177a0749614b316ec847fb623f09c82c07
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Mon Apr 21 11:19:04 2008 +0200

    video: Add missing free for logo memory

    This patch adds two missing free()s.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit 84c01d3a05ae3aca5f7c0c13a31ca72ba1199a42
Author: Troy Kisky <troy.kisky@boundarydevices.com>
Date:	Mon Sep 24 16:41:43 2007 -0700

    PATCH - Fix oob data copied into supplied buffer

    This patch correctly sets the oobavail variable
    and fixes a bug where the oob data was not valid when
    there where multiple groups in oobfree.

    First segment fixes a typo
    Second segment fixes a bug where oob data may be copied incorrectly.
    Third segment adds an error message when exiting due to write protect.
    Forth segment fixes a bug where oobavail may be set incorrectly.

    Signed-off-by: Troy Kisky <troy.kisky@boundarydevices.com>

commit e1d09680f64b452adde89ed9fe28a77c56bedc9a
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Fri Apr 18 17:24:32 2008 +0200

    ppc4xx: Fix sys_get_info() for 405GP(r)

    This patch assigns the correct EBC clock for 405GP(r) CPUs
    to PPC4xx_SYS_INFO structure. Without this patch U-Boot
    uses an uninitialized EBC clock in its startup message.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit dc7746d86d2a3dfe01ab9a70cb427f92adc303c7
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Apr 20 15:39:38 2008 -0700

    Makefile: remove nand_spl/System.map when cleaning up.

commit d9a42c0ace4d4f9cb061d62a7265d1780f90447b
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Apr 20 15:35:52 2008 -0700

    MAKEALL: sort entries / lists.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 0878af169b181868a105b5c33f3a6423e2c9fd60
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Apr 18 11:29:01 2008 -0500

    85xx: Fix size of cpu-release-addr property

    The cpu-release-addr is defined as always being a 64-bit quanity regardless
    if we are running on a 32-bit or 64-bit machine.

commit 88353a985109562a639b2f8a0c90d77011bfe374
Author: Timur Tabi <timur@freescale.com>
Date:	Fri Apr 4 11:15:58 2008 -0500

    Fix calculation of I2C clock for some 85xx chips

    Some 85xx chips use CCB as the base clock for the I2C.  Some use CCB/2, and
    some use CCB/3.  There is no pattern that can be used to determine which
    chips use which frequency, so the only way to determine is to look up the
    actual SOC designation and use the right value for that SOC.

    Update immap_85xx.h to include the GUTS PORDEVSR2 register.

    Signed-off-by: Timur Tabi <timur@freescale.com>

commit 1e01477aeaf409ddb97e2633aab9cf8c9c60612e
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Apr 18 11:44:27 2008 -0700

    Fix build breakage casued by commit c0559be371b2

	Change env_get_char from a global function ptr to a function.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 268a804d7e2fa07b64211fd2f9a9615db4539f23
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Apr 18 10:53:41 2008 -0700

    Coding Style cleanup, update CHANGELOG.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 92bad20ad74b70adf3839df9a0a47cce000ac3d7
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Tue Apr 8 14:00:57 2008 -0400

    Add support for u-boot in svn and localversion-* files

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit d23ff6827decf121461fbc5622612fd7effe207e
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Thu Apr 3 17:04:22 2008 +0200

    MX31ADS network and flash updates

    This patch allows U-Boot to use buffered writes to the Spansion NOR
    flash installed on this board, and eliminates long delays in network
    transfers after the board startup.

    Also modify flash layout to embed main and redundant environment
    blocks in the U-Boot image.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit b5dc9b304d289831f291843ff88a45cbdf1a6290
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Mon Apr 14 10:53:12 2008 +0200

    Support for the MX31ADS evaluation board from Freescale

    This patch adds support for the MX31ADS evaluation board from Freescale,
    initialization code is copied from RedBoot sources, also provided by
    Freescale.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit 499e7831e1baaac6bfb959213f1950c216fbc5ba
Author: Stefan Roese <sr@denx.de>
Date:	Tue Apr 8 10:33:29 2008 +0200

    ppc4xx: Change Canyonlands to support booting from 2k page NAND devices

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 5e182dce04d68cc94407a1b1fa09307f2bb96719
Author: Stefan Roese <sr@denx.de>
Date:	Tue Apr 8 10:33:28 2008 +0200

    ppc4xx: Adjust Canyonlands fixed DDR2 setup (NAND booting) to 512MB SODIMM

    Signed-off-by: Stefan Roese <sr@denx.de>

commit fe7c0db6b2a9004f96c2a2d4fff2849e19c2d825
Author: Stefan Roese <sr@denx.de>
Date:	Tue Apr 8 10:33:27 2008 +0200

    ppc4xx: Add Glacier NAND booting target

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 46f373838e384a4c23d13581b1dfa5acb66b5810
Author: Stefan Roese <sr@denx.de>
Date:	Tue Apr 8 10:31:00 2008 +0200

    nand_spl: Update nand_spl to support 2k page size NAND devices

    This patch adds support for booting from 2k page sized NAND device
    (e.g. Micron 29F2G08AAC).

    Tested on AMCC Canyonlands.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 5e3dca577b7c1bf58bd2b48449b18b7e7dcd8e04
Author: Anatolij Gustschin <agust@denx.de>
Date:	Thu Apr 17 18:18:00 2008 +0200

    Fix crash on sequoia in ppc_4xx_eth_init

    Currently U-Boot crashes in ppc_4xx_eth_init on sequoia
    with cache enabled (TLB Parity exeption). This patch
    fixes the problem.

    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit accf7355767dc7f6b85d88bb1c75c9d95e84ba5b
Author: Anatolij Gustschin <agust@denx.de>
Date:	Thu Apr 17 18:15:27 2008 +0200

    ppc4xx: Fix crash on sequoia with cache enabled

    Currently U-Boot crashes on sequoia board in CPU POST if
    cache is enabled (CONFIG_4xx_DCACHE defined). The cache
    won't be disabled by change_tlb before CPU POST because
    there is an insufficient adress range check since
    CFG_MEM_TOP_HIDE was introduced. This patch tries to fix
    this problem.

    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit 43c509254fab375c49936498da944658117ed07c
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Thu Apr 17 23:35:13 2008 +0900

    Use jr as register jump instruction

    Current assembler codes are inconsistent in the way of register jump
    instruction usage; some use jr, some use j. Of course GNU as allows both
    usages, but as can be expected from `Jump Register' the mnemonic `jr' is
    more intuitive than `j'. For example, Linux doesn't have `j <reg>' usage
    at all.

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit 7ce63709828d37b08866e537339a169bd0db2bd3
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Tue Apr 15 14:15:30 2008 +0200

    RTC driver for MC13783

    MC13783 is a multifunction IS with an SPI interface to the host. This
    driver handles the RTC controller in this chip.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit 38254f45b0b412332726c90d3184ad47479fcffb
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Tue Apr 15 14:14:25 2008 +0200

    New i.MX31 SPI driver

    This is an SPI driver for i.MX and MXC based SoCs from Freescale. So far
    only implemented and tested on i.MX31, can with a modified register layout
    and definitions be used for i.MX27, I think, MXC CPUs have similar SPI
    controllers too.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit 7064122c2eef92f02a03ef37a1a1c07e70cd4e38
Author: Magnus Lilja <lilja.magnus@gmail.com>
Date:	Tue Apr 15 19:09:10 2008 +0200

    Fix name of i.MX31 boards in config file header

    Correct the name of the i.MX31 Litekit and phyCORE boards in config files.

    Signed-off-by: Magnus Lilja <lilja.magnus@gmail.com>

commit a49864593e083a5d0779fb9ca98e5a0f2053183d
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Apr 13 19:42:19 2008 -0400

    allow ports to override go behavior

    Split the arch-specific logic out of the common go code and into a dedicated
    weak function called do_go_exec() that lives in cpu directories.  This will
    need review from i386/nios people to make sure I didn't break them.

commit 017e9b7925f74878d0e9475388cca9bda5ef9482
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Apr 13 19:42:18 2008 -0400

    allow ports to override bootelf behavior

    Change the bootelf setup function into a dedicated weak function called
    do_bootelf_exec.  This way ports can control the behavior however they
    like before/after calling the ELF entry point.

commit a4b46ed6b3502335c3f3a5d672abe0bcb44f20b7
Author: Ulf Samuelsson <ulf@atmel.com>
Date:	Sat Apr 12 20:56:03 2008 +0200

    Reorder ARM boards in Makefile

    Rearrange ARM boards in Makefile so that ARM926EJ-S boards
    are no longer under ARM92xT header.

    Signed-off-by: Ulf Samuelsson <ulf@atmel.com>
    Ack-By Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit c3a60cb3bd67e120fc99b6ba88d9295c3c07f688
Author: Ulf Samuelsson <ulf@atmel.com>
Date:	Sat Apr 12 20:29:44 2008 +0200

    Clean up dataflash partitioning

    This patch removes the board dependent parts from
    "drivers/mtd/dataflash.c".
    Each board relying on this, will have the appropriate
    code in a new file, "partition.c" in the board directory.
    board Makefiles updated to use the file.

    The dataflash partitions are aligned on sector/page boundaries.

    The CONFIG_NEW_DF_PARTITION was used to create named partitions
    This is now the default operation, and the CONFIG variable is removed.

    Signed-off-by: Ulf Samuelsson <ulf@atmel.com>

commit 51ecde946fec511a16346e498204ca10ad71080d
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Apr 12 14:08:45 2008 +0200

    gitignore: udpate stgit generated and .patch file

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 66e39818e95f51ee1c1dd2094407a8929543fa6d
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Apr 18 00:15:36 2008 -0700

    Get rid of redundant copy of renamed header file.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit c3aafd8cf814e33a77de81c2f22b8c772216a3cc
Author: Vlad Lungu <vlad@comsys.ro>
Date:	Fri Apr 11 21:20:14 2008 +0300

    Fix dependency generation for older gcc versions

     With gcc 3.3.3 at least, compilation fails with

    Generating include/autoconf.mk
    gcc: compilation of header file requested
    make: *** [include/autoconf.mk] Error 1

    since commit 16fe77752eee099b9fb61ed73460e51cc94b37ba.

    Signed-off-by: Vlad Lungu <vlad@comsys.ro>

commit cb1c4896905ab22fcd982e6a8a539f0031942e71
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Fri Apr 11 11:07:49 2008 +0200

    Restore the ability to continue booting after legacy image overwrite

    Before new uImage code was merged, bootm code allowed for the kernel image to
    get overwritten during decompresion. new uImage introduced a check for image
    overwrites and refused to boot the image that got overwritten. This patch
    restores the old behavior. It also adds a warning when the image overwriten is
    a multi-image file, because in such case accessing componentes other than the
    first one will fail.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit de2b3216e6b4f3b2fe93759c05b17504f9dfe036
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Fri Apr 11 11:07:43 2008 +0200

    ppc: Fix ftd_blob variable init when processing raw blob

    Set fdt_blob variable before its value is printed out.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 3d36be030043cd841a2551d00a395135e363a64b
Author: Jason Wessel <jason.wessel@windriver.com>
Date:	Thu Apr 10 14:30:16 2008 -0500

    Remove all the search paths from the .lds files.

    The cross compiler is responsible for providing the correct libraries
    and the logic to find the linking libraries.

    Signed-off-by: Jason Wessel <jason.wessel@windriver.com>

commit 7d721e34ae6be7d7db63e8d060a246278bb7ae58
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Mon Apr 14 15:44:16 2008 +0200

    Boot-related documentation update

    - document 'bootm_low' and 'bootm_size' environment variables
    - update inaccurate CFG_BOOTMAPSZ entry

    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>

commit a6f0bd9f2b1971e2a61ac0fd1fc2c96cb7a4b67a
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Wed Apr 9 17:34:08 2008 +0200

    Fix regression introduced by a typo in "Tidied other cpu/arm920t/start.S code"

    Restore logic reverted by commit

    commit 80767a6cead9990d9e77e62be947843c2c72f469
    Author: Peter Pearse <peter.pearse@arm.com>
    Date:   Wed Sep 5 16:04:41 2007 +0100

	Changed API name to coloured_led.h
	Removed code using deprecated ifdef CONFIG_BOOTBINFUNC
	Tidied other cpu/arm920t/start.S code

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit e25cb8d3f4fcc265a9cdf8e9d577b59bdb64bbaf
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Tue Apr 8 10:24:24 2008 -0400

    Remove conflicting NAND ID

    There are two NAND entries with ID 0xDC and this obviously causes problems.
    In the kernel, they punted the first entry, so we should do the same.

    See this upstream e-mail for more info:
    http://lists.infradead.org/pipermail/linux-mtd/2007-July/018795.html

    Signed-off-by: Michael Hennerich <michael.hennerich@analog.com>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 188e94c370621708d13547d58dbc6ed3c5602aa8
Author: Shinya Kuribayashi <shinya.kuribayashi@necel.com>
Date:	Tue Apr 8 16:20:35 2008 +0900

    cpu/mips/cpu.c: Fix flush_cache bug

    Cache operations have to take line address (addr), not start_addr.
    I noticed this bug when debugging ping failure.

    Signed-off-by: Shinya Kuribayashi <shinya.kuribayashi@necel.com>

commit 8f2a68a07c058fca1d413e54f71c2e7e78a74ed4
Author: Martin Krause <martin.krause@tqs.de>
Date:	Thu Apr 3 14:29:01 2008 +0200

    TQM5200: fix default IDE reset level

    Before the first call of ide_reset(), the level of the IDE reset
    signal on the TQM5200 is low (reset asserted). This patch sets the
    default value to high (reset not asserted).

    Currently this patch fixes no real problem, but it is cleaner to
    assert the reset signal only on demand, and not permanently.

    Signed-off-by: Martin Krause <martin.krause@tqs.de>

commit c61e033d6e8abb7b4060ee36060961e1399f6079
Author: Detlev Zundel <dzu@denx.de>
Date:	Thu Apr 3 14:18:48 2008 +0200

    mgcoge, mgsuv: realign CONFIG_EXTRA_ENV_SETTING

    Signed-off-by: Detlev Zundel <dzu@denx.de>

commit f308572e19eb7fe63aa3d41f214cde4c23c9800f
Author: Detlev Zundel <dzu@denx.de>
Date:	Thu Apr 3 14:18:47 2008 +0200

    mgcoge, mgsuv: rename 'addcon' to 'addcons'

    The latter name with 13 users is already established, so we will use
    that.

    Signed-off-by: Detlev Zundel <dzu@denx.de>

commit e175eacc87c3a9e4dad0799fee0e95732520afc7
Author: Martin Krause <martin.krause@tqs.de>
Date:	Thu Apr 3 13:37:56 2008 +0200

    IDE: fix bug in reset sequence

    According to the ata (ata5) specification the RESET- signal
    shall be asserted for at least 25 us. Without this patch,
    the RESET- signal is asserted on some boards for only < 1 us
    (e. g. on the TQM5200). This patch adds a general delay of
    25 us to the RESET- signal.

    Without this patch a Platinum 4 GiB CF card is not recognised
    properly on boards with a TQM5200 (STK52xx, TB5200).

    Signed-off-by: Martin Krause <martin.krause@tqs.de>

commit 813bea96a960916c72b4a3a7df840151529c26ce
Author: Sascha Laue <Sascha.Laue@gmx.biz>
Date:	Thu Apr 3 14:43:11 2008 +0200

    lwmon5: disable CONFIG_ZERO_BOOTDELAY

    Signed-off-by: Sascha Laue <sascha.laue@liebherr.com>

commit 53eec6f1d25932e76d63ccb14082792b0b96bf41
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Apr 2 08:03:58 2008 +0200

    ds174x: Fix warning on return in rtc_get and rtc_set functions

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit a253b38bf50c85227c33ca0febc870ee49d1588e
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Apr 2 08:03:57 2008 +0200

    cmd_log.c: Fix assignment differ in signedness

    In function 'logbuff_init_ptrs':
    cmd_log.c:79: warning: pointer targets in assignment differ in signedness

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 6c0e9a8f1cc090fbfbc6f86b6b4fd17a1628f3df
Author: Gururaja Hebbar K R <gururajakr@sanyo.co.in>
Date:	Wed Apr 2 11:04:43 2008 +0530

    Remove duplicate #undef SHOW_INFO in drivers/usb/usb_ohci.c

    Signed-off-by: gururaja hebbar <gururajakr@sanyo.co.in>

commit 478d5ec9ae3cbcc6040241d2d73dbbc61fe9b49d
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Tue Apr 1 14:07:10 2008 +0200

    s3c4510b_eth: fix 'packed' attribute ignored for fields of MACFrame

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit c08fb3ea36d19b1640b7906264581e9105534399
Author: Guennadi Liakhovetski <g.liakhovetski@gmx.de>
Date:	Tue Apr 15 10:24:14 2008 +0200

    Additional PCI IDs for IDE and network controllers

    These PCI IDs are required by the Linkstation platforms.

    Signed-off-by: Guennadi Liakhovetski <g.liakhovetski@gmx.de>

commit c0559be371b2a64b1a817088c3308688e2182f93
Author: Joakim Tjernlund <joakim.tjernlund@transmode.se>
Date:	Mon Apr 14 23:01:50 2008 +0200

    Change env_get_char from a global function ptr to a function.

    This avoids an early global data reference.

    Signed-off-by: Joakim Tjernlund <Joakim.Tjernlund@transmode.se>

commit 3e0f331c05d72f140715c1e9fca991927e44d422
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Tue Apr 29 12:35:08 2008 +0000

    Clean up smsc911x driver

    Replace direct register address derefencing with accessor functions.
    Restrict explicitly 32-bit bus-width, extend affected configurations
    respectively.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit de1b686b763aa8b87a86f6748ce9169e7fc0e4cd
Author: Sascha Hauer <s.hauer@pengutronix.de>
Date:	Tue Apr 15 00:08:20 2008 -0400

    This patch adds a driver for the following smsc network controllers:
    LAN9115
    LAN9116
    LAN9117
    LAN9215
    LAN9216
    LAN9217

    Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
    Signed-off-by: Guennadi Liakhovetski<lg@denx.de>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 3dfd4aab929cccddb63d9ea509967861e1333b52
Author: Sascha Laue <Sascha.Laue@gmx.biz>
Date:	Tue Apr 1 15:13:03 2008 +0200

    Fix watchdog POST for lwmon5

    If the hardware watchdog detects a voltage error, the watchdog sets
    GPIO62 to low. The watchdog POST has to detect this low level.

    Signed-off-by: Sascha Laue <leglas0@legpc180.leg.liebherr.i>

commit 24b448448a917e52806f82660a5c9d47608894fb
Author: Dave Liu <r63238@freescale.com>
Date:	Tue Apr 1 15:22:11 2008 +0800

    ata: update the libata.h from ata.h of linux kernel

    Current libata.h of u-boot is out of sync from linux kernel,
    this patch make it be consistent with linux kernel.

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Signed-off-by: Tor Krill <tor@excito.com>

commit f8f9dc98883f66f59eb0601da65808e6b139c87c
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Mar 31 11:59:27 2008 -0500

    Allow use of ARCH=powerpc when building

    The linux kernel is now mostly ARCH=powerpc, so to make life easier
    allow use to use ARCH=powerpc and convert it to ARCH=ppc.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 8af657d2c6d1ca4f2f76973531394d4578ba2ef0
Author: Kyungmin Park <kmpark@infradead.org>
Date:	Mon Mar 31 10:40:54 2008 +0900

    Add apollon board MAINTAINERS entry

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>

commit 77e475cc0ed1832160017d364be32a0be9ff02a9
Author: Kyungmin Park <kmpark@infradead.org>
Date:	Mon Mar 31 10:40:36 2008 +0900

    Fix OneNAND read

    It should access with 16-bit instead of 8-bit

    Now it uses the generic memcpy with 8-bit access. It means it reads wrong data from OneNAND.

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>

commit a9da2b41079d230db3a5641625311983f85ce1fb
Author: Kyungmin Park <kmpark@infradead.org>
Date:	Mon Mar 31 10:40:19 2008 +0900

    Fix OneNAND erase command

    It mis-calculates the block address.
    Also fix DECLARE_GLOBAL_DATA_PTR in env_onenand.

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>

commit 61525f2ffa156665a66908fda47dbf29d65ea579
Author: Guennadi Liakhovetski <g.liakhovetski@gmx.de>
Date:	Mon Mar 31 01:32:15 2008 +0200

    Support for LinkStation / KuroBox HD and HG PPC models

    This patch is based on the port by Mihai Georgian (see linkstation.c for
    Copyright information) and implements support for LinkStation / KuroBox HD
    and HG PPC models from Buffalo Technology, whereby HD is deactivated at
    the moment, pending network driver fixing.

    Notice to users: this is pretty much a barebone port. Support for network
    on HG models is already in the U-Boot mainline, but you might also want
    patches to switch fan / phy modes depending on the negotiated ethernet
    parameters. This patch also doesn't support console switching, booting EM
    mode, Buffalo specific ext2 magic number. So, if you want to use any of
    those, you need additional patches. Otherwise this patche provides a fully
    functional u-boot with a network console on your system.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit 0f3ba7e9783f352318f197a3148f6d5cc3d75bea
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Sun Mar 30 01:22:13 2008 -0500

    Add CONFIG_MII_INIT support to related boards

    Replace CONFIG_8xx and CONFIG_MCF532x to CONFIG_MII_INIT in
    cmd_init.c. Add CONFIG_MII_INIT to board configuration files
    that use mii_init() in cmd_init.c.

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
    Acked-by: Ben Warren <biggerbadderben@gmail.com>

commit f33fca22e76f20e4e4793810ca7a06a4805a6cf4
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Sun Mar 30 01:19:06 2008 -0500

    Update CONFIG_PCIAUTO_SKIP_HOST_BRIDGE to related boards

    Remove test for CONFIG_MPC5200 in drivers/pci/pci_auto.c and define
    CONFIG_PCIAUTO_SKIP_HOST_BRIDGE in related board configuration files.

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit e99ccb488181d012248c6be30b2093e950319fc5
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Mar 27 11:46:38 2008 -0500

    Introduce phys_size_t and move phys_addr_t into asm/types.h

    Also add CONFIG_PHYS_64BIT on powerpc to deal with 32-bit ppc's
    that have larger physical addresses like 44x, 85xx, and 86xx.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 20a14a42a25f72e379f38460b8a8484667536795
Author: Andy Fleming <afleming@freescale.com>
Date:	Wed Apr 2 16:19:07 2008 -0500

    Rename include/md5.h to include/u-boot/md5.h

    Some systems have md5.h installed in /usr/include/. This isn't the
    desired file (we want the one in include/md5.h). This will avoid the
    conflict. This fixes the host tools building problem by creating a new
    directory for U-Boot specific header files.

    [Patch by Andy Fleming, modified to use separate directory by Wolfgang
    Denk]

    Signed-off-by: Wolfgang Denk <wd@denx.de>
    Signed-off-by: Andy Fleming <afleming@freescale.com>
    Acked-by: Timur Tabi <timur@freescale.com>

commit f297b7a1ec87433f66320d89d993e1bc738c66b8
Author: Dave Liu <r63238@freescale.com>
Date:	Thu Mar 27 18:51:17 2008 +0800

    drivers: code clean up

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit 0ff7cba4a2e51c90827f6d21a0b28b4d67109597
Author: Dave Liu <r63238@freescale.com>
Date:	Thu Mar 27 18:50:41 2008 +0800

    drivers: clean up the ata_piix.h

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit e8f7ba404f1409606962815ecc955a06984b08b3
Author: Dave Liu <r63238@freescale.com>
Date:	Thu Mar 27 18:49:56 2008 +0800

    doc: english polishing for README.sata

    according to gvb's suggestion, polishing for the doc.

    Signed-off-by: Jerry Van Baren <gerald.vanbaren@ge.com>
    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit 3e3f766a5274d204780460e1879723b565296d34
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Mar 26 18:53:28 2008 -0500

    Fix warnings introduced by I2C bus speed setting patch

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 3c735e7437150e8615f26930c7819db85634276d
Author: eran liberty <eran.liberty@gmail.com>
Date:	Thu Mar 27 00:50:49 2008 +0100

    Altera Stratix II support

    Adds Support for Altera's Stratix II.

    Within your board specific init file you will have to call

    1. fpga_init (/* relocated code offset. usually => */ gd->reloc_off);
    2. fpga_add (fpga_altera, (Altera_desc*)&altera_desc);

    Altera_desc* contines (for example):
	{
	 Altera_StratixII,	/* part type */
	 passive_serial,	/* interface type */
	 1,			/* bytes of data part can accept */
	 (void *)(&funcs),	/* interface function table */
	 0L,			/* base interface address */
	 0			/* implementation specific cookie */
	 }

    funcs is the interface. It is of type altera_board_specific_func.
    It looks like this:
    altera_board_specific_func func = {
	pre_fn,
	config_fn,
	status_fn,
	done_fn,
	clk_fn,
	data_fn,
	abort_fn,
	post_fn,
    };

    you will have to implement these functions, which is usually bit
    banging some gpio.

    Signed-off-by: Eran Liberty <liberty@extricom.com>

commit 5ece9ec9f6cd52950ab848e2fe422dacf1d3a335
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Apr 13 14:32:54 2008 -0700

    Update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 5ad862166aa24d62a69aa9c708f6b2f5c0d28fb7
Author: Sascha Hauer <s.hauer@pengutronix.de>
Date:	Wed Mar 26 20:41:17 2008 +0100

    Phytec Phycore-i.MX31 support

    This patch adds support for the Phytec Phycore-i.MX31 board

    Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit caebc95be3b42e5147b5fac7672ac4b2693ef7e1
Author: Sascha Hauer <s.hauer@pengutronix.de>
Date:	Wed Mar 26 20:41:09 2008 +0100

    mx31 litekit support

    This patch adds support for the mx31 litekit board

    Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit cdace0661208754a53019ea0dc7b803a040e0939
Author: Sascha Hauer <s.hauer@pengutronix.de>
Date:	Wed Mar 26 20:40:49 2008 +0100

    add an i2c driver for mx31

    This patch adds an i2c driver for Freescale i.MX processors

    Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit 9b56f4f0306f3940b0aafd823ed6ecfc2d75d6c6
Author: Sascha Hauer <s.hauer@pengutronix.de>
Date:	Wed Mar 26 20:40:42 2008 +0100

    core support for Freescale mx31

    This patch adds the core support for Freescale mx31

    Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit 7ec68862a27c8f6f6d566228de8f6724d964a939
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Apr 13 14:19:23 2008 -0700

    Fix compile error

    ...as suggested by Peter Pearse

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 5252ed95204bdf55bec5a90ea69860bf2f78c643
Author: Sascha Hauer <s.hauer@pengutronix.de>
Date:	Wed Mar 26 20:40:36 2008 +0100

    Separate omap24xx specific code from arm1136

    Move omap24xx code to cpu/arm1136/omap24xx, rename include/asm-arm/arch-arm1136
    to cpu/arm1136/omap24xx.

    Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit 1f1d88dd40815332df32982e739f2ddd2da6fe1a
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Tue Jan 29 18:21:05 2008 -0500

    disable caches before booting an app for Blackfin apps

    It isn't generally save to execute applications outside of U-Boot with caches
    enabled due to the way the Blackfin processor handles caches (requires
    software assistance).  This patch disables caches before booting an ELF or
    just booting raw code.  The previous discussion on the patch was that we
    wanted to use weaks instead, but that proved to not be feasible when multiple
    symbols are involved, which puts us back at the ifdef solution.  I've
    minimized the ugliness by moving the setup step outside of the main function.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit e6dfed705efa44ebf00d21bb1588c6ccc8f3ad32
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Apr 13 10:03:54 2008 -0700

    ppc: Get rid of unused machine type definitions

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 1aeed8d71acb3290cf2446f316d6ba437e7881c4
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Apr 13 09:59:26 2008 -0700

    Coding Style cleanup; update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 7754f33c6fb7a2c050388d20bf3847038558bdcf
Author: Larry Johnson <lrj@acm.org>
Date:	Thu Feb 21 13:58:11 2008 -0500

    LM73 bug fix for negative temperatures and cleanup

    When the LM73 temperature sensor measures a temperature below 0 C, the
    current driver does not perform sign extension, so the result returned is
    512 C too high.  This patch fixes the problem, and does general cleanup
    of the code.

    Signed-off-by: Larry Johnson <lrj@acm.org>

commit 96ef831f713289afba19da0c8f905e99da2b23e0
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Thu Apr 3 13:36:02 2008 +0200

    cfi_flash: Support buffered writes on non-standard Spansion NOR flash

    Some NOR flash chip from Spansion, for example, the s29ws-n MirrorBit
    series require different addresses for buffered write commands. Define a
    configuration option to support buffered writes on those chips. A more
    elegant solution would be to automatically detect those chips by parsing
    their CFI records, but that would require introduction of a fixup table
    into the cfi_flash driver.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit 3f9c542d3d69b1a10a5e193e779133a0454d1f44
Author: Lee Nipper <lee.nipper@freescale.com>
Date:	Thu Apr 10 09:35:06 2008 -0500

    mpc83xx: Update DIMM data bus width test to support 40-bit width

    32-bit wide ECC memory modules report 40-bit width.
    Changed the DIMM data bus width test to 'less than 64' instead of 'equal 32'.

    Signed-off-by: Lee Nipper <lee.nipper@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 5fb5a689d822ca61e814bd523fc930af335242fa
Author: Dave Liu <r63238@freescale.com>
Date:	Mon Mar 31 17:05:12 2008 +0800

    mpc83xx: Fix the bug of serdes initialization

    Currently the serdes will not be initializated due to the
    partid's error.

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 2000784818f043db7ca60e2846a72d097766b894
Author: Dave Liu <r63238@freescale.com>
Date:	Thu Apr 3 16:28:29 2008 +0800

    mpc83xx: Fix the SATA clock setting of 837x targets

    Currently the SATA controller clock is configured as CSB clock,
    usually the CSB clock is 400/333/266MHz.

    However, The SATA IP block is only guaranteed to operate up to
    200 MHz as stated in the HW spec.

    The bug is reported by Joe D'Abbraccio <ljd015@freescale.com>

    This patch makes the SATA clock as half of CSB clock.

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 1ac4f320bf0b593aa0a741f2d649a8ece8838672
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Apr 2 13:41:21 2008 +0200

    mpc837xerdb: Fix warning: implicit declaration of function 'fdt_fixup_dr_usb'

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 97b3ecb575a92fa34c1765229dbc06f2b662f139
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Apr 9 04:20:57 2008 -0500

    85xx: Fix detection of MP cpu spin up

    We were looking at the wrong memory offset to determine of a secondary
    cpu had been spun up or not.  Also added a warning message if the
    all the secondary cpus we expect don't spin up.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit f3e04bdc3f360c66801a9048956e61e41a16edba
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Apr 8 10:45:50 2008 -0500

    85xx: Use SVR_SOC_VER instead of SVR_VER

    The recent change introduced by 'Update SVR numbers to expand support'
    now requires that we use SVR_SOC_VER instead of SVR_VER if we want
    to compare against a particular processor id.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 5b2052e5f5fcce5dbd4d2750a29c0e45bce806e7
Author: Eugene O'Brien <eugene.obrien@advantechamt.com>
Date:	Fri Apr 11 10:00:35 2008 -0400

    ppc4xx: Fix power mgt definitions for PPC440

    Corrected DCR addresses of PPC440EP power management registers.

    Signed-off-by: Eugene O'Brien <eugene.obrien@advantechamt.com>

commit 950a392464e616b4590bc4501be46e2d7d162dea
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Apr 11 15:11:26 2008 +0200

    Revert merge of git://www.denx.de/git/u-boot-arm, commit 62479b18:

    Reverting became necessary after it turned out that the patches in
    the u-boot-arm repo were modified, and in some cases corrupted.

    This reverts the following commits:

	066bebd6353e33af3adefc3404560871699e9961
	7a837b7310166ae8fc8b8d66d7ef01b60a80f9d6
	c88ae20580b2b01487b4cdcc8b2a113f551aee36
	a147e56f03871bba4f05058d5e04ce7deb010b04
	d6674e0e2a6a1f033945f78838566210d3f28c95
	8c8463cce44d849e37744749b32d38e1dfb12e50
	c98b47ad24b2d91f41c09a3d62d7f70ad84f4b7d
	8bf69d81782619187933a605f1a95ee1d069478d
	8c16cb0d3b971f46fbe77c072664c0f2dcd4471d
	a574a73852a527779234e73e17e7597fd8128882
	1377b5583a48021d983e1fd565f7d40c89e84d63
	1704dc20917b4f71e373e2c888497ee666d40380

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 64e541f4c1b413dd84c7e409f5c2bf328db2ac13
Author: Stefan Roese <sr@denx.de>
Date:	Fri Apr 11 07:02:29 2008 +0200

    ppc4xx: Update Kilauea defconfig to use device-tree booting as default

    This patch reworks the default environment on Kilauea/Haleakala. Now
    "net_nfs" for exmaple uses the device-tree style booting formerly know
    as "net_nfs_fdt". Also the addresses in RAM were changed because of the
    new image booting support, which check for image overwriting. So the
    addresses needed togeet adjusted.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 756f5dacda3810b094b94bcceffd3ce6c7ff9a28
Author: Stefan Roese <sr@denx.de>
Date:	Wed Apr 9 11:58:02 2008 +0200

    ppc4xx: Fix Canyonlands default environment to work with new image support

    Since the new image support checks for image overwriting, the default
    environment needs to get adjusted to use correct addresses.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit dfc6c7b647dba7ab86749616f0e9e5740deed422
Author: Stefan Roese <sr@denx.de>
Date:	Wed Apr 9 11:54:11 2008 +0200

    ppc: Revert patch 70431e8a that used _start instead of CFG_MONITOR_BASE

    The patch 70431e8a7393b6b793f77957f95b999fc9a269b8 (Make MPC83xx one step
    closer to full relocation.) doesn't use CFG_MONITOR_BASE anymore. But
    on 4xx systems _start currently cannot be used for this calculation.
    So revert back to the original version for now.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit f91374f65eae8b42cac329e06ba1c54728278efb
Author: Michal Simek <monstr@monstr.eu>
Date:	Fri Mar 28 12:49:52 2008 +0100

    microblaze: Sort microblaze boards in MAKEALL script

commit 62032deb7214c6d9b4396297e2aaa559bc2f8495
Author: Michal Simek <monstr@monstr.eu>
Date:	Fri Mar 28 11:58:45 2008 +0100

    microblaze: clean microblaze_config.mk

    FLAGS are generated by U-BOOT generator.
    Board specific FLAGS are in board directory

    Signed-off-by: Michal Simek <monstr@monstr.eu>

commit cf5c679ca04a6b54bf53a55b8b9c29335b387287
Author: Michal Simek <monstr@monstr.eu>
Date:	Fri Mar 28 12:47:19 2008 +0100

    microblaze: xupv2p fix config file for supporting FDT

commit 188dc16b189143573b1ed90e584bf866d75cdd12
Author: Michal Simek <monstr@monstr.eu>
Date:	Fri Mar 28 11:53:02 2008 +0100

    microblaze: ml401 fix config file for supporting FDT

    Signed-off-by: Michal Simek <monstr@monstr.eu>

commit 4c6a6f02e239236261333759997eeaf86b30b54c
Author: Michal Simek <monstr@monstr.eu>
Date:	Fri Mar 28 11:22:48 2008 +0100

    microblaze: ml401 - add ifdef for GPIO

    Signed-off-by: Michal Simek <monstr@monstr.eu>

commit af7ae1a411c67ee9d17a66d17ce50b374f3dd4e7
Author: Michal Simek <monstr@monstr.eu>
Date:	Fri Mar 28 12:13:03 2008 +0100

    microblaze: clean uart16550 and uartlite handling

    Signed-off-by: Michal Simek <monstr@monstr.eu>

commit 0b20f250877441460fb79d72192954abe8498834
Author: Michal Simek <monstr@monstr.eu>
Date:	Fri Mar 28 11:08:31 2008 +0100

    microblaze: Add Emaclite driver to Makefile

    Signed-off-by: Michal Simek <monstr@monstr.eu>

commit 868cde5310f88234b774878e4f06e79df10a88b3
Author: Michal Simek <monstr@monstr.eu>
Date:	Fri Mar 28 11:08:01 2008 +0100

    microblaze: Add Emac driver to Makefile

    Signed-off-by: Michal Simek <monstr@monstr.eu>

commit 6f961b4f461f6cbb83a467d468a02e6078c2b327
Author: Michal Simek <monstr@monstr.eu>
Date:	Fri Mar 28 12:42:29 2008 +0100

    microblaze: add Emac ethernet driver

commit 89c53891b18cbafd29ab8931b40e27ad231b6085
Author: Michal Simek <monstr@monstr.eu>
Date:	Fri Mar 28 12:41:56 2008 +0100

    microblaze: add Emaclite ethernet driver

commit e5845e21224dbe2fe47b11f1cdf95de7f84be7cb
Author: Michal Simek <monstr@monstr.eu>
Date:	Fri Mar 28 11:04:01 2008 +0100

    microblaze: ML401 and XUPV2P remove emac and emaclite reference

    Signed-off-by: Michal Simek <monstr@monstr.eu>

commit 6bf3e982aefdb1daf9f5462d482c8f9d1cc90a57
Author: Michal Simek <monstr@monstr.eu>
Date:	Fri Mar 28 10:59:32 2008 +0100

    microblaze: remove old setting for emac driver

    Signed-off-by: Michal Simek <monstr@monstr.eu>

commit cd2b75efb9cc037c74ecee9b3586f9bf9e1d4e57
Author: Michal Simek <monstr@monstr.eu>
Date:	Fri Mar 28 10:58:15 2008 +0100

    microblaze: Clean Makefile from ancient emac driver

    Signed-off-by: Michal Simek <monstr@monstr.eu>

commit ab68f921d9c741830f721c3d879c13a0c5597183
Author: Daniel Hellstrom <daniel@gaisler.com>
Date:	Fri Mar 28 10:20:43 2008 +0100

    SPARC/LEON2: added support for Gaisler simulator GRSIM/TSIM for SPARC/LEON2 targets. See www.gaisler.com for information.

    Signed-off-by: Daniel Hellstrom <daniel@gaisler.com>

commit 6ed8a43a19bb0275501bc286007daafa923552cf
Author: Daniel Hellstrom <daniel@gaisler.com>
Date:	Wed Mar 26 23:38:48 2008 +0100

    SPARC/LEON3: added support for GR-CPCI-AX2000 FPGA AX board. The FPGA is exchangeable but a standard LEON3 design is assumed. See www.gaisler.com for information.

    Signed-off-by: Daniel Hellstrom <daniel@gaisler.com>

commit 6940383d9ec1bfe2f13e339e6f723e8d34af2b12
Author: Daniel Hellstrom <daniel@gaisler.com>
Date:	Wed Mar 26 23:34:47 2008 +0100

    SPARC/LEON3: added support for Altera NIOS Development kit (STRATIX II Edition) with GRLIB template design. See www.gaisler.com for information.

    Signed-off-by: Daniel Hellstrom <daniel@gaisler.com>

commit 823edd8a66ed50af5aaba0c79567f67061e4d79a
Author: Daniel Hellstrom <daniel@gaisler.com>
Date:	Fri Mar 28 10:06:52 2008 +0100

    SPARC/LEON3: added support for Gaisler GRSIM/TSIM2 SPARC/LEON3 simulatorn. See www.gaisler.com for information.

    Signed-off-by: Daniel Hellstrom <daniel@gaisler.com>

commit 71d7e4c0489e5ed8fc69382236aaa2a1e510c135
Author: Daniel Hellstrom <daniel@gaisler.com>
Date:	Wed Mar 26 23:26:48 2008 +0100

    SPARC/LEON3: added support for GR-XC3S-1500 board with GRLIB template design. See www.gaisler.com for board information.

    Signed-off-by: Daniel Hellstrom <daniel@gaisler.com>

commit b330990c2f36ee4a8bb318360e1c8ba965269ab6
Author: Daniel Hellstrom <daniel@gaisler.com>
Date:	Fri Mar 28 10:00:33 2008 +0100

    SPARC: Added support for SPARC LEON2 SOC Processor.

    Signed-off-by: Daniel Hellstrom <daniel@gaisler.com>

commit 2a2fa797e63b1e3cd4d570318ca5fbf8723ef53a
Author: Daniel Hellstrom <daniel@gaisler.com>
Date:	Wed Mar 26 23:00:38 2008 +0100

    SPARC/LEON3: Added AMBA Bus Plug&Play information print command (ambapp). It can print available cores (type: AHB Master, AHB Slave, APB Slave), their address ranges, IRQ number and version.

    Signed-off-by: Daniel Hellstrom <daniel@gaisler.com>

commit 1e9a164e22976933002c5e4b0b79b09fcede9cd4
Author: Daniel Hellstrom <daniel@gaisler.com>
Date:	Wed Mar 26 22:51:29 2008 +0100

    SPARC: Added support for SPARC LEON3 SOC processor.

    Signed-off-by: Daniel Hellstrom <daniel@gaisler.com>

commit bf3d8b31169546fcddb4737391e1893fb12d033a
Author: Daniel Hellstrom <daniel@gaisler.com>
Date:	Fri Mar 28 08:29:26 2008 +0100

    SPARC: added SPARC support for new uimage in common code.

    Signed-off-by: Daniel Hellstrom <daniel@gaisler.com>

commit 00ab32c85405a4fe65fd4128243086210fc90a21
Author: Daniel Hellstrom <daniel@gaisler.com>
Date:	Wed Mar 26 22:36:03 2008 +0100

    SPARC: added SPARC board information to the command bdinfo.

    Signed-off-by: Daniel Hellstrom <daniel@gaisler.com>

commit c2f02da21a3f37f0878554eebc785e04fdc4e128
Author: Daniel Hellstrom <daniel@gaisler.com>
Date:	Fri Mar 28 09:47:00 2008 +0100

    SPARC: Added generic support for SPARC architecture.

    Signed-off-by: Daniel Hellstrom <daniel@gaisler.com>

commit e54ec0f016803e4d9524ff71f7971bda0c51b287
Author: Stefan Roese <sr@denx.de>
Date:	Thu Apr 3 14:50:34 2008 +0200

    ppc4xx: Fix 4xx enet driver to support 460GT EMAC2+3

    This patch fixes a problem with the RGMII setup of the 460GT. The 460GT
    has 2 RGMII instances and we need to configure the 2nd RGMII instance
    for the EMAC2+3 channels.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit c2a545ce33b26d80337f80b533828839249fb1c9
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Apr 2 08:03:56 2008 +0200

    MPC8xx: Fix libfdt support introduced in commit 77ff7b74

    fdt.c: In function 'ft_cpu_setup':
    fdt.c:33: warning: implicit declaration of function 'do_fixup_by_prop_u32'
    fdt.c:39: warning: implicit declaration of function 'do_fixup_by_compat_u32'
    fdt.c:43: warning: implicit declaration of function 'fdt_fixup_ethernet'
    fdt.c:45: warning: implicit declaration of function 'fdt_fixup_memory'

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 4abd844d8eb108736e1cf8fbf3dbf61f2d5fc11b
Author: Andy Fleming <afleming@freescale.com>
Date:	Mon Mar 31 20:45:56 2008 -0500

    Fix fdt set command to conform to dts spec

    The fdt set command was treating properties specified as <00> and <0011>
    as byte streams, rather than as an array of cells.	As we already have
    syntax for expressing the desire for a stream of bytes ([ xx xx ...]),
    we should use the <> syntax to describe arrays of cells, which are always
    32-bits per element.  If we imagine this likely (IMHO) scenario:

    > fdt set /ethernet-phy@1 reg <1>

    With the old code, this would create a bad fdt, since the reg cell would be
    made to be one byte in length.  But the cell must be 4 bytes, so this would
    break mysteriously.

    Also, the dts spec calls for constants inside the angle brackets (<>)
    to conform to C constant standards as they pertain to base.
    Take this scenario:

    > fdt set /ethernet@f00 reg <0xe250000\ 0x1000>

    The old fdt command would complain that it couldn't parse that.  Or, if you
    wanted to specify that a certain clock ran at 33 MHz, you'd be required to
    do this:

    > fdt set /mydev clock <1f78a40>

    Whereas the new code will accept decimal numbers.

    While I was in there, I extended the fdt command parser to handle property
    strings which are split across multiple arguments:

    > fdt set /ethernet@f00 interrupts < 33 2 34 2 36 2 >
    > fdt p /ethernet@f00
    ethernet@f00 {
	interrupts = <0x21 0x2 0x22 0x2 0x24 0x2>;
    };

    Lastly, the fdt print code was rearranged slightly to print arrays of cells
    if the length of the property is a multiple of 4 bytes, and to not print
    leading zeros.

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 1c2926abdd7db89296a8cc7f224dd9d5d4e37a56
Author: Stefan Roese <sr@denx.de>
Date:	Wed Apr 2 08:39:33 2008 +0200

    ppc4xx: Canyonlands: Init SATA/PCIe port correctly

    Canyonlands (460EX) shares the first PCIe interface with the SoC SATA
    interface. This usage can be configured with the jumper J6. This patch
    correctly configures the SATA/PCIe PHY for SATA usage when this jumper
    is installed.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 6fe2946f198481254a6ee9600d7456b8316a4083
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Fri Mar 28 17:37:49 2008 -0500

    remove remaining CONFIG_OF_HAS_{UBOOT_ENV,BD_T} code

    finish off what commit 43ddd9c820fec44816188f53346b464e20b3142d,
    "Remove deprecated CONFIG_OF_HAS_UBOOT_ENV and CONFIG_OF_HAS_BD_T"
    started.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit b5873f1732b92a25690e1513b90dfb0d644f6697
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Tue Apr 1 07:30:51 2008 +0200

    dataflash: Move CONFIG_HAS_DATAFLASH to Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 2d934ea51f276522b532f870a820e844ff480b5b
Author: Tor Krill <tor@excito.com>
Date:	Fri Mar 28 15:29:45 2008 +0100

    Add Vitesse 8601 support to TSEC driver

    Add phy_info for Vitesse VSC8601.
    Add config option, CFG_VSC8601_SKEWFIX, to enable RGMII skew timing compensation.

    Signed-off-by: Tor Krill <tor@excito.com>
    Reviewed-by: Kim Phillips <kim.phillips@freescale.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 3eac6402a508b0f68a21cc9cbc2cc49347de0c31
Author: Daniel Hellstrom <daniel@gaisler.com>
Date:	Mon Mar 31 14:25:00 2008 +0000

    SPARC: added SMC91111 driver in and out macros for LEON processors.

    This patch makes SPARC/LEON processors able to read and write
    to the SMC91111 chip using the chip external I/O bus of the memory
    controller. This patchs defines the standard in and out macros
    expected by the SMC9111 driver.

    To access that I/O bus one must set up the memory controller
    (MCTRL or FTMCTRL) correctly. It is assumed that the user sets
    up this correctly when the other MCTRL parameters are set up. It
    can be set up from the board configuration header file.

    Signed-off-by: Daniel Hellstrom <daniel@gaisler.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 3ca7c558eba36332556bc470d45e2f5d42bd0ca6
Author: Stelian Pop <stelian@popies.net>
Date:	Wed Mar 26 18:52:34 2008 +0100

    Add maintainership information for AT91CAP9ADK and AT91SAM9260EK boards

    Signed-off-by: Stelian Pop <stelian@popies.net>

commit 4e03dde84dd2c91e327cdc23ae119d432559a7a3
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Mon Mar 31 21:31:04 2008 +0200

    AT91SAM9260EK: Move CONFIG_CMD_NAND to Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 0176d43e759a6e00cacc85eff26fd60f74b4f6b7
Author: Stelian Pop <stelian@popies.net>
Date:	Wed Mar 26 18:52:33 2008 +0100

    Add support for AT91SAM9260EK

    Support for booting from internal DataFlash, external DataFlash card
    or NAND flash is available.

    Signed-off-by: Stelian Pop <stelian@popies.net>

commit 1762f13b4aab88b685b1722f17dada247945624b
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Mon Mar 31 21:20:49 2008 +0200

    AT91SAM9: Move CONFIG_HAS_DATAFLASH to Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 761712188b353494defb2b644491ff73d0daaa6f
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Mon Mar 31 21:12:17 2008 +0200

    AT91CAP9ADK: Move CONFIG_CMD_NAND to Makefile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 983c1db04c1dd0f92e02f06d29f0c65a3d9a2687
Author: Stelian Pop <stelian@popies.net>
Date:	Wed Mar 26 20:52:32 2008 +0100

    Port AT91CAP9 to the new headers

    Adapt the existing AT91CAP9 code to the new headers and APIs.

    Signed-off-by: Stelian Pop <stelian@popies.net>

commit 177e8a5ac81bbc531a1d54abdb47f2860266c3aa
Author: Stelian Pop <stelian@popies.net>
Date:	Wed Mar 26 19:52:31 2008 +0100

    Finish header files reworking

    Replace AT91CAP9.h file with several splitted header files coming
    from the Linux kernel.

    This is part 2 of the replacement: more header imports and edits.

    Signed-off-by: Stelian Pop <stelian@popies.net>

commit 6d1dbbbf9fdf727384002e553e615c15d8b967f4
Author: Stelian Pop <stelian@popies.net>
Date:	Wed Mar 26 19:52:30 2008 +0100

    Import several header files from Linux

    Replace AT91CAP9.h file with several splitted header files coming
    from the Linux kernel.

    This is part 1 of the replacement: pristine header files import.

    Signed-off-by: Stelian Pop <stelian@popies.net>

commit a8a78f2d99dc1bd30dc3595da118539b506c6118
Author: Stelian Pop <stelian@popies.net>
Date:	Wed Mar 26 20:52:28 2008 +0100

    Move at91cap9 specific files to at91sam9 directory

    AT91CAP9 and AT91SAM9 SoCs are very close hardware wise, so a
    common infrastructure can be used. Let this infrastructure be
    named after the AT91SAM9 family, and move the existing AT91CAP9
    files to the new place.

    Signed-off-by: Stelian Pop <stelian@popies.net>

commit 61106a565870ff503f92b251b94bd7afef889a04
Author: Stelian Pop <stelian@popies.net>
Date:	Wed Mar 26 21:52:27 2008 +0100

    Use timer_init() instead of board supplied interrupt_init()

    The timer on AT91CAP9/AT91SAM9 is supplied by the SoC, and not by
    the board, so use timer_init() instead of interrupt_init().

    Signed-off-by: Stelian Pop <stelian@popies.net>

commit 5604e2178c5218fbfdba2e4293ca7652e829ac25
Author: Stelian Pop <stelian@popies.net>
Date:	Wed Mar 26 21:52:36 2008 +0100

    Cleanup DataFlash partition handling

    DataFlash partition information has become a mess. This patch
    defines a single partition scheme for Atmel DataFlashes. This partition
    scheme will be used by all AT91CAP9 and AT91SAM9 boards.

    Signed-off-by: Stelian Pop <stelian@popies.net>

commit 9b46432fc65ce0f0826b32e4f15c15b33ccb8d42
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Fri Mar 28 08:47:45 2008 -0500

    ColdFire: Fix alignment issue after CONFIG_IDENT_STRING in start.S

    When the version_string function in start.S is not 4-byte align,
    it will cause the compiler generates "unaligned opcodes detected
    in executable segment". This issue affects all ColdFire CPUs.
    By adding .align 4 after CONFIG_IDENT_STRING, it will pad 0's if
    it is not aligned.

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
    Acked-by: John Rigby <jrigby@freescale.com>

commit bae61eefe15b4d454060a7140e49ae58322be803
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Tue Mar 25 15:41:15 2008 -0500

    ColdFire: Add dspi and serial flash support for MCF5445x

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
    Acked-by: John Rigby <jrigby@freescale.com>

commit 48ead7a7a922fceaf494e352abfab8216a41b417
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Tue Mar 18 17:37:01 2008 -0500

    ColdFire: Remove R5200 board

    This board never went into production

    Signed-off-by: Zachary P. Landau <zachary.landau@labxtechnologies.com>
    Acked-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
    Acked-by: John Rigby <jrigby@freescale.com>

commit 545c8e0a7cd3ca9d3846668f69b0d201250abea8
Author: Matthew Fettke <[matthew.fettke@gmail.com]>
Date:	Thu Jan 24 14:02:32 2008 -0600

    ColdFire: Added M5275EVB support.

    Signed-off-by: Matthew Fettke <mfettke@videon-central.com>
    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
    Acked-by: John Rigby <jrigby@freescale.com>

commit f71d9d91a2cd9c30b2b6369f15c1a46c11537c2b
Author: Matthew Fettke <[matthew.fettke@gmail.com]>
Date:	Mon Feb 4 15:38:20 2008 -0600

    ColdFire: Added MCF5275 cpu support.

    Signed-off-by: Matthew Fettke <mfettke@videon-central.com>
    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
    Acked-by: John Rigby <jrigby@freescale.com>

commit 44e5b9edab077aba6e9b849afa4b7fbd8fd7b02b
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Mon Mar 17 12:14:11 2008 -0500

    ColdFire: Define bootdelay in configuration file for M52277EVB

    Signed-off-by: Matt Wadel <Matt.Waddel@freescale.com>
    Acked-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
    Acked-by: John Rigby <jrigby@freescale.com>

commit 77878f16cedee17161ff2336990970fffc6cea35
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Mon Mar 17 12:09:07 2008 -0500

    ColdFire: Fix second memory Chipselect for M5475EVB

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
    Acked-by: John Rigby <jrigby@freescale.com>

commit 43d60642395a550956cb21d287c8cfa563913d28
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Mar 13 14:26:32 2008 -0500

    ColdFire: Update correct FLASHBAR and RAMBAR1 for MCF5282

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
    Acked-by: John Rigby <jrigby@freescale.com>

commit eb14ebe813a0cb5d47905228da446a5ad692473b
Author: Larry Johnson <lrj@acm.org>
Date:	Sun Mar 30 20:33:04 2008 -0500

    ppc4xx: Add CFG_MEM_TOP_HIDE to Denali SPD-based SDRAM setup

    Signed-off-by: Larry Johnson <lrj@acm.org>

commit 02e3892021112f21067d9ed1d04ae4182725ba52
Author: Stefan Roese <sr@denx.de>
Date:	Mon Mar 31 12:20:48 2008 +0200

    ppc4xx: Small whitespace fix of esd patches

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 034394abb524785047c815f00dde8cdbdc1593c5
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Sun Mar 30 18:52:44 2008 +0200

    ppc4xx: Cleanup PMC440 board support

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit a6cc6c37188d85c25d167a4515da86f48d9a583e
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Sun Mar 30 18:52:06 2008 +0200

    ppc4xx: Add ptm configuration variables for PMC440

    Add support for the ptm1la, ptm1ms, ptm2la and ptm2ms
    environment variables.

    Cleanup pci_target_init.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit 7c91f51a2fe296909147f1646a1412729dd10b1d
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Sun Mar 30 18:01:15 2008 +0200

    ppc4xx: Minor updates for DU440 boards

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit d5bffeb868d6b4d462f558dac43011027b6644b7
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Tue Feb 19 00:54:20 2008 -0500

    Blackfin: cleanup and overhaul common board init functions

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit b86b3416f874358acaf07519e7620cdb2145f75b
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Tue Feb 19 00:50:58 2008 -0500

    Blackfin: cleanup lib_blackfin/cache.c

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 9171fc81722c20fdb5a829a58b17c9eaadd5fb44
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Mar 30 15:46:13 2008 -0400

    Blackfin: unify cpu and boot modes

    All of the duplicated code for Blackfin processors and boot modes have been
    unified.  After all, the core is the same for all processors, just the
    peripheral set differs (which gets handled in the drivers).

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 880cc4381ea8360248cddcdf87a64566745a5724
Author: Stelian Pop <stelian@popies.net>
Date:	Wed Mar 26 22:52:35 2008 +0100

    Fix CFG_NO_FLASH compilation.

    Many Atmel boards have no "real" (NOR) flash on board, and rely only
    on DataFlash and NAND memories. This patch enables CFG_NO_FLASH to
    be present in a board configuration file, while still enabling flash
    commands like 'flinfo', 'protect', etc.

    Signed-off-by: Stelian Pop <stelian@popies.net>

commit 9ce7e53abd039decea1af67aec81bbd5df7a2593
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Tue Feb 19 00:58:13 2008 -0500

    Blackfin: BF537-stamp: cleanup spi flash driver

    This punts the old spi flash driver for a new/generalized one until the
    common one can be integrated.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit bb8e3cf25bc0b04936c0c1a075985dd8700a244b
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Sun Mar 30 11:34:34 2008 -0400

    Fix macro typo in common/cmd_mii.c

    This typo was introduced in commit 233a8bcd94997f3f345833a3b82e836222f2a206.  I
    actually applied the wrong patch.

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit f1b985f2d724ccaa4d3def07917f0caaf18fa77d
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Mar 30 16:39:53 2008 +0200

    use correct at91rm9200 register name in m501sk board

    This fixes a naming bug for at91rm9200 lowlevel init code:
    NOR boot flash is on chipselect 0, not chipselect 2.  This
    makes code use the register name from chip datasheets.

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 480ed1dea103a1c8f4591afc77d2de3c7868d983
Author: David Brownell <david-b@pacbell.net>
Date:	Fri Jan 18 12:55:00 2008 -0800

    use correct at91rm9200 register name

    This fixes a naming bug for at91rm9200 lowlevel init code:
    NOR boot flash is on chipselect 0, not chipselect 2.  This
    makes code use the register name from chip datasheets.

    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

commit a3543d6dc52b0ba9c64016687cf32d600b31a476
Author: David Brownell <david-b@pacbell.net>
Date:	Fri Jan 18 12:45:45 2008 -0800

    add missing ARM boards to MAKEALL

    Add some missing ARM boards to MAKEALL.  These build correctly,
    unlike several of the boards already listed.

    Signed-off-by: David Brownell <dbrownell@users.sourceforge.net>

commit 066bebd6353e33af3adefc3404560871699e9961
Author: Peter Pearse <peter.pearse@arm.com>
Date:	Sun Mar 30 11:34:09 2008 +0100

    Bracket READ_TIMER macro in cpu/arm1136/omap24xx/interrupts.c
    to prevent compilation error.

    Signed-off-by: Peter Pearse <peter.pearse@arm.com>

commit 7a837b7310166ae8fc8b8d66d7ef01b60a80f9d6
Author: Guennadi Liakhovetski <[lg@denx.de]>
Date:	Sun Mar 30 11:32:30 2008 +0100

    Support for the MX31ADS evaluation board from Freescale

    This patch adds support for the MX31ADS evaluation board from Freescale,
    initialization code is copied from RedBoot sources, also provided by Freescale.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit c88ae20580b2b01487b4cdcc8b2a113f551aee36
Author: Sascha Hauer <s.hauer@pengutronix.de>
Date:	Sun Mar 30 11:32:27 2008 +0100

    Phytec Phycore-i.MX31 support

    This patch adds support for the Phytec Phycore-i.MX31 board

    Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit a147e56f03871bba4f05058d5e04ce7deb010b04
Author: Sascha Hauer <s.hauer@pengutronix.de>
Date:	Sun Mar 30 11:32:24 2008 +0100

    mx31 litekit support

    This patch adds support for the mx31 litekit board

    Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit d6674e0e2a6a1f033945f78838566210d3f28c95
Author: Sascha Hauer <s.hauer@pengutronix.de>
Date:	Sun Mar 30 11:32:21 2008 +0100

    add SMSC LAN9x1x Network driver

    This patch adds a driver for the following smsc network controllers:
    LAN9115
    LAN9116
    LAN9117
    LAN9215
    LAN9216
    LAN9217

    Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit 8c8463cce44d849e37744749b32d38e1dfb12e50
Author: Sascha Hauer <s.hauer@pengutronix.de>
Date:	Sun Mar 30 11:32:16 2008 +0100

    add an i2c driver for mx31

    This patch adds an i2c driver for Freescale i.MX processors

    Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit c98b47ad24b2d91f41c09a3d62d7f70ad84f4b7d
Author: Sascha Hauer <s.hauer@pengutronix.de>
Date:	Sun Mar 30 11:30:43 2008 +0100

    core support for Freescale mx31

    This patch adds the core support for Freescale mx31

    Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit 8bf69d81782619187933a605f1a95ee1d069478d
Author: Sascha Hauer <s.hauer@pengutronix.de>
Date:	Sun Mar 30 11:28:46 2008 +0100

    Separate omap24xx specific code from arm1136

    Move omap24xx code to cpu/arm1136/omap24xx, rename include/asm-arm/arch-arm1136 to cpu/arm1136/omap24xx.

    Signed-off-by: Sascha Hauer <s.hauer@pengutronix.de>
    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit 8c16cb0d3b971f46fbe77c072664c0f2dcd4471d
Author: Peter Pearse <peter.pearse@arm.com>
Date:	Sun Mar 30 11:23:05 2008 +0100

    Add pmdra into MAKEALL

    Signed-off-by: Peter Pearse <peter.pearse@arm.com>

commit a574a73852a527779234e73e17e7597fd8128882
Author: Pieter Voorthuijsen <[pieter.voorthuijsen@Prodrive.nl]>
Date:	Sun Mar 30 11:21:58 2008 +0100

    Adds support for the Prodrive PMDRA board, based on a DM6441

    Signed-off-by: Pieter Voorthuijsen <pv@prodrive.nl>

commit 1377b5583a48021d983e1fd565f7d40c89e84d63
Author: Pieter Voorthuijsen <[pieter.voorthuijsen@Prodrive.nl]>
Date:	Sun Mar 30 11:11:34 2008 +0100

    Removes all board specific code from the arch. part for DM644x (DaVinci) boards

    Signed-off-by: Pieter Voorthuijsen <pv@prodrive.nl>

commit 1704dc20917b4f71e373e2c888497ee666d40380
Author: Dirk Behme <dirk.behme@gmail.com>
Date:	Sun Mar 30 11:09:01 2008 +0100

    - Remove *_masked() functions as noted by Wolfgang
    - Adapt register naming to recent TI spec (sprue26, March 2007)
    - Fix reset_timer() handling
    - As reported by Pieter [1] the overflow fix introduced a
    delay of factor 16 (e.g 2 seconds became 32). While the
    overflow fix is basically okay, it missed to divide udelay by
    16, too. Fix this.
    [1] http://article.gmane.org/gmane.comp.boot-loaders.u-boot/38179
    - Remove software division of timer count value (DIV(x)
    macro) and do it in hardware (TIM_CLK_DIV).
    Many thanks to Troy Kisky <troy.kisky@boundarydevices.com>
    and Pieter Voorthuijsen <pieter.voorthuijsen@Prodrive.nl> for
    the hints & testing!

    Signed-off-by: Dirk Behme <dirk.behme@gmail.com>

    Acked-by: Pieter Voorthuijsen <pieter.voorthuijsen@Prodrive.nl>

commit ac3315c26e143c31680750c9c13f027efbcc887e
Author: Andre Schwarz <andre.schwarz@matrix-vision.de>
Date:	Thu Mar 6 16:45:44 2008 +0100

    new PHY @ e1000 - 2nd try

    Add 82541ER device with latest integrated IGP2 PHY.
    Introduced CONFIG_E1000_FALLBACK_MAC for NIC bring-up with empty eeprom.

    Signed-off-by: Andre Schwarz <andre.schwarz@matrix-vision.de>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit c2b7da552293b50c9c9e46ed71267b02c2de9ea8
Author: Daniel Hellstrom <daniel@gaisler.com>
Date:	Fri Mar 28 20:22:53 2008 +0100

    SPARC/LEON3: Added GRETH Ethernet 10/100/1000 driver.

    GRETH is an Ethernet 10/100 or 10/100/1000 MAC with out without
    a debug link (EDCL). The GRETH core is documented in GRIP.pdf
    available at www.gaisler.com.

    If the GRETH has GigaBit support (GBIT, Scatter gather, checksum
    offloading etc.) can be determined by a bit in the control register.
    The GBIT MAC is supported by operating in GRTEH 10/100 legacy mode.

    Signed-off-by: Daniel Hellstrom <daniel@gaisler.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 233a8bcd94997f3f345833a3b82e836222f2a206
Author: Tsi-Chung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Mon Mar 17 17:08:22 2008 -0500

    Add CONFIG_MII_INIT in cmd_mii.c

    Provide common configuration in do_mii() to execute mii_init()
    for all cpu architectures

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit f605479de2deb11e834f31dfdb0af107c86aced6
Author: Tsi-Chung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Mon Mar 17 17:08:16 2008 -0500

    ColdFire: Fix FEC transmit issue for MCF5275

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit d9a2f416d6ac6058cd7845033ae4dc32ef1c0746
Author: Aras Vaichas <arasv@magtech.com.au>
Date:	Wed Mar 26 09:43:57 2008 +1100

    DHCP request fix for Windows Server 2003

    Added option CONFIG_BOOTP_DHCP_REQUEST_DELAY. This provides an optional
    delay before sending "DHCP Request" in net/bootp.c. Required to overcome
    interoperability problems with Windows Server 200x DHCP server when U-Boot
    client responds too fast for server to handle.

    Signed-off-by: Aras Vaichas <arasv@magtech.com.au>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 97bf85d784fbed485e652eb907589ad0d5cb7262
Author: Daniel Hellstrom <daniel@gaisler.com>
Date:	Fri Mar 28 20:40:19 2008 +0100

    MTD/CFI: flash_read64 is defined a weak function (for SPARC)

    SPARC has implemented __raw_readq, it reads 64-bit from any 32-bit address.
    SPARC CPUs implement flash_read64 which calls __raw_readq.

    For current SPARC architectures (LEON2 and LEON3) each read from the
    FLASH must lead to a cache miss. This is because FLASH can not be set
    non-cacheable since program code resides there, and alternatively disabling
    cache is poor from performance view, or doing a cache flush between each
    read is even poorer.

    Forcing a cache miss on a SPARC is done by a special instruction "lda" -
    load alternative space, the alternative space number (ASI) is processor
    implementation spcific and can be found by including <asm/processor.h>.

    Signed-off-by: Daniel Hellstrom <daniel@gaisler.com>

commit 70431e8a7393b6b793f77957f95b999fc9a269b8
Author: Joakim Tjernlund <Joakim.Tjernlund@transmode.se>
Date:	Fri Mar 28 15:41:25 2008 +0100

    Make MPC83xx one step closer to full relocation.

    Remove a few absolute references to CFG_MONITOR_BASE for ppc/mpc83xx
    and use GOT relative reference.

    Signed-off-by: Joakim Tjernlund <Joakim.Tjernlund@transmode.se>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 5b2793a3f3de34d439232b05acc8af67a028fd35
Author: Michael Barkowski <michael.barkowski@freescale.com>
Date:	Thu Mar 27 14:34:43 2008 -0400

    mpc8323erdb: fix EEPROM page size and get MAC from EEPROM

    This patch fixes eeprom page size so that you can now write more than
    64 bytes at a time.

    It also makes the board take MAC addresses, if found, from EEPROM.

    User should place up to 4 addresses at offset 0x7f00, for
    eth{,1,2,3}addr.  Any unused addresses should be zero.  This group of
    four six-byte values should have it's CRC at the end.  crc32 and
    eeprom commands can be used to accomplish this.

    If CRC fails, MAC addresses come from the environment.  If CRC
    succeeds, the environment is overwritten at startup.

    Signed-off-by: Michael Barkowski <michael.barkowski@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 8f325cff31f6e745e6540014b131b9a97f61944c
Author: Michael Barkowski <michael.barkowski@freescale.com>
Date:	Fri Mar 28 15:15:38 2008 -0400

    mpc8323erdb: define CONFIG_PCI_SKIP_HOST_BRIDGE

    Commit 55774b512fdf63c0516d441cc5da7c54bbffb7f2 broke the onboard USB
    controller on the PCI bus in Linux on the MPC8323ERDB.

    This fixes it by defining CONFIG_PCI_SKIP_HOST_BRIDGE in the board's
    config file.

    Signed-off-by: Michael Barkowski <michael.barkowski@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit e5c4ade4db1e16d3e5d4a7887f34e10e516ed3a9
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Fri Mar 28 10:19:07 2008 -0500

    mpc83xx: cleanup System Part and Revision ID Register (SPRIDR) code

    in the spirit of commit 1ced121600b2060ab2ff9f0fddd9421fd70a0dc6,
    85xx's "Update SVR numbers to expand support", simplify SPRIDR processing
    and processor ID display.  Add REVID_{MAJ,MIN}OR macros to make
    REVID dependent code simpler.  Also added PARTID_NO_E and IS_E_PROCESSOR
    convenience macros.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 81fd52c6c8fd19f0b7856b98217ce37c46c521af
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Fri Mar 28 10:18:53 2008 -0500

    mpc83xx: display ddr frequency in board_add_ram_info banner

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 35cf155c5ec1ceab2849fa5b6aa3d9a3e9e6f482
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Fri Mar 28 10:18:40 2008 -0500

    mpc83xx: unreinvent mem_clk

    delete ddr_clk and use mem_clk instead.  Rename other ddr_*_clk to
    mem_*_clk for consistency's sake.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 730e792926ca3fe4dd1b734a3bf44e55afa6f536
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Fri Mar 28 14:31:23 2008 -0500

    mpc83xx: enable the SATA interface on mpc8315 rdb and mpc837x rdb boards

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 2eeb3e4fc54ef2f5d574dafd42c6ce93afa30393
Author: Dave Liu <r63238@freescale.com>
Date:	Wed Mar 26 22:57:19 2008 +0800

    mpc83xx: enable the SATA interface on mpc837xemds board

    Enable the first two SATA interfaces on MPC837xEMDS board,
    The two SATA ports are on LYNX1. (SATA0/1 on J4/5)

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 6f8c85e8d1865730c158d9ef5a06c70c3a10600a
Author: Dave Liu <r63238@freescale.com>
Date:	Wed Mar 26 22:56:36 2008 +0800

    mpc83xx: initialize serdes for MPC837xEMDS boards

    This patch is stolen from Anton Vorontsov's patch
    for mpc837xerdb boards.

    The reference clk and xcorevdd voltage of serdes1/2
    is same between mpc837xemds and mpc837xerdb.

    8377E: LYNX1- 2 SATA	LYNX2- 2 PCIE
    8378E: LYNX1- 2 SGMII	LYNX2- 2 PCIE
    8379E: LYNX1- 2 SATA	LYNX2- 2 SATA

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit cc8e839abc80887ae832767b5930d40edd6d7eb7
Author: Stefan Roese <sr@denx.de>
Date:	Fri Mar 28 14:09:04 2008 +0100

    ppc4xx: Canyonlands: Print SATA/PCIe configuration and board revision

    Canyonlands (460EX) shares the first PCIe interface with the SoC SATA
    interface. This usage can be configured with the jumper J6. This patch
    displays the current configuration upon bootup and changes the PCIe
    init loop, to only initialize the availabel PCIe slots.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 90447ecbbac8572457b6d8903073ac3f120995ba
Author: Tor Krill <tor@excito.com>
Date:	Fri Mar 28 11:29:10 2008 +0100

    MTD/CFI: Add support for 16bit legacy AMD flash

    Add entry for 512Kx16 AMD flash to jedec_table.
    Read out 16bit device id if chipwidth is 16bit.
    Fixed coding style after Stefans feedback

    Signed-off-by: Tor Krill <tor@excito.com>

commit 5e12e75d17c4b15a310a45cd78fe71b7698a8a8e
Author: Stefan Roese <sr@denx.de>
Date:	Fri Mar 28 11:02:53 2008 +0100

    ppc: Small change to CFG_MEM_TOP_HIDE description

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 280df59a8d62c6e74c281b1cb7e2052df4d6cb00
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Thu Mar 27 15:44:12 2008 +0900

    sh: Add support stat structure and stat.h

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 4be9eb789e72b845d6693cc36b70a0b3529b3f09
Author: Mark Jonas <toertel@gmail.com>
Date:	Sat Mar 22 19:27:52 2008 +0100

    sh: Removed warning when compiling drivers/serial/serial_sh.c.

    Signed-off-by: Mark Jonas <mark.jonas@de.bosch.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit f309fa38929ffba71230c02330ffa42f4bba6333
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Wed Mar 12 18:02:57 2008 +0900

    sh: Remove disable_ctrlc function from R7780MP

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 6f4b266ff2a4fcc2bff985d6a217852469afddb3
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Wed Mar 12 17:55:15 2008 +0900

    sh: Add maintainer of R7780MP to MAINTAINER file

    Update MAINTAINER entry for R7780MP. And fix maintainer's name.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit f5e2466f7baa887a7df0c536333eea8231333497
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Tue Mar 25 17:11:24 2008 +0900

    sh: Add support Renesas Solutions R2D plus board

    R2D plus is SH reference board used with SH7751R.
    This board has 266Mhz CPU, 64MB SDRAM, Cardbus, CF interface,
    one PCI bus, VGA, and two Ethernet controller.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit e92c95180bb5bc5fd4051598a9d60beaba48988d
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Wed Mar 12 12:15:29 2008 +0900

    sh: Add support SH4 cache control

    Add support SH4 cache control and flash_cache function

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 28e5efde4d925fcb34901d0030d0648de2da7e89
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Mon Mar 24 01:53:01 2008 +0900

    sh: Add support PCI host driver for SH7751/SH7751R

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit ab8f4d40d069cd3cbe7563ddfe3e5f03b0c7c721
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Mon Mar 24 02:11:26 2008 +0900

    sh: Move SuperH PCI driver from cpu/sh4 to drivers/pci

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 566933278101c144d75361ea682678a326c1290d
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Wed Mar 12 12:10:28 2008 +0900

    sh: Add support SuperH SH7751/SH7751R

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 3313e0e26224fc9a0c445124f3455058c696df84
Author: Mark Jonas <toertel@gmail.com>
Date:	Mon Mar 10 11:37:10 2008 +0100

    sh: Added support for SH7720 based board MPR2.

    Signed-off-by: Mark Jonas <mark.jonas@de.bosch.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 3ecff1d70ae93e628fe65b3fe1fc7c9c76cdf99f
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Thu Mar 6 14:05:53 2008 +0900

    sh: Fix receive FIFO level register of SH4A

    Receive FIFO level register is different in SH4A.
    Because register is different, cannot occasionally receive data.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit c133c1fb0b590662206b0eba70f4478ee0300a9a
Author: Yusuke Goda <goda.yusuke@renesas.com>
Date:	Tue Mar 11 12:55:12 2008 +0900

    sh: Add support Renesas Solutions R7780MP

    Renesas Solutions R7780MP is a reference board on SH7780.
    This board has serial, 10/100 base Ethernet deivice, CF slot
    and VGA devices. This board can set extension board.
    Extension board has 10/100/1000 base Ethernet device, PCI slot,
    S-ATA, iDVR slot.

    Signed-off-by: Yusuke Goda <goda.yusuke@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 1a2334a4eb6386d7cd35d9de5fa39af2c764ad28
Author: Yusuke Goda <goda.yusuke@renesas.com>
Date:	Wed Mar 5 14:30:02 2008 +0900

    sh: Add support PCI of SuperH and SH7780

    This patch add support PCI of SuperH base code and SH7780 specific code.

    Signed-off-by: Yusuke Goda <goda.yusuke@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit b55523efff2ae11f0b9ae3cc405893c32eb78156
Author: Yusuke Goda <goda.yusuke@renesas.com>
Date:	Wed Mar 5 14:23:26 2008 +0900

    sh: Add support SH7780

    SH7780 is CPU of Renesas Technology.
    This CPU has
     - CPU clock 400MHz
     - PCI support
     - DDR-SDRAM controller
     - etc ...

    Signed-off-by: Yusuke Goda <goda.yusuke@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit c2042f5952a686c414031309b8f244513bf578f0
Author: goda.yusuke <goda.yusuke@renesas.com>
Date:	Fri Jan 25 20:46:36 2008 +0900

    sh: Add support Renesas Solutions Migo-R board

    Migo-R is a board based on SH7722 and has may devices.
    In this patch, supported SCIF, NOR flash and Ethernet.

    Signed-off-by: Yusuke Goda <goda.yusuke@renesas.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 74d1e66d22dac91388bc538b2fe19f735edc5b82
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Thu Mar 27 15:06:40 2008 +0100

    Fix host tool build breakage, take two

    Revert commit 87c8431f and fix build breakage so that the build continues
    to work on FC systems.

    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>

commit 7e4a0d25ed18f6437bdf59ebfa49bb0edc2f24e6
Author: Stefan Roese <sr@denx.de>
Date:	Wed Mar 19 09:36:47 2008 +0100

    ppc4xx: Enable ECC on LWMON5

    Since all ECC related problems seem to be resolved on LWMON5, this patch
    now enables ECC support.

    We have to write the ECC bytes by zeroing and flushing in smaller
    steps, since the whole 256MByte takes too long for the external
    watchdog.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 6433fa202a91a6594dd48f06807ac38ba27fa0bb
Author: Larry Johnson <lrj@acm.org>
Date:	Mon Mar 17 11:10:35 2008 -0500

    ppc4xx: Updates to Korat-specific code

    This patch contains updates for changes for the Korat PPC440EPx board.
    These changes include:

    (1) Support for "permanent" and "upgradable" copies of U-Boot, as
    described in the new "doc/README.korat" file;

    (2) a new memory map for the registers in the board's CPLD;

    (3) a revised format for manufacturer's data in serial EEPROM; and

    (4) changes to track updates to U-Boot for the Sequoia board.

    Signed-off-by: Larry Johnson <lrj@acm.org>

commit f766cdf89b3a2a7634b8c5869f606150e332036c
Author: Markus Brunner <super.firetwister@gmail.com>
Date:	Thu Mar 27 10:46:25 2008 +0100

    ppc4xx: PPC405EP Set EMAC noise filter bits

    This bug was introduced with commit aee747f19b460a0e9da20ff21e90fdaac1cec359
    which enabled CFG_4xx_GPIO_TABLE for PPC405 and unintentionally
    disabled the setting of the emac noise filter bits for PPC405EP when CFG_4xx_GPIO_TABLE is set.

    Signed-off-by: Markus Brunner <super.firetwister@gmail.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit f66e2c8b25c04b79e5fb385bc8989c2de7f63991
Author: Mike Nuss <mike@terascala.com>
Date:	Wed Feb 20 11:54:20 2008 -0500

    ppc4xx: Reconfigure PLL for 667MHz processor for PPC440EPx

    On PPC440EPx without a bootstrap I2C EEPROM, the PLL can be reconfigured
    after startup to change the speed of the clocks. This patch adds the
    option CFG_PLL_RECONFIG. If this option is set to 667, the CPU
    initialization code will reconfigure the PLL to run the system with a CPU
    frequency of 667MHz and PLB frequency of 166MHz, without the need for an
    external EEPROM.

    Signed-off-by: Mike Nuss <mike@terascala.com>
    Acked-by: Stefan Roese <sr@denx.de>

commit 87c8431fe24d48121f053fe67cff4ccfe097d4d1
Author: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>
Date:	Thu Mar 27 09:12:40 2008 +0100

    new-image: Fix host tool build breakage

    Signed-off-by: Haavard Skinnemoen <haavard.skinnemoen@atmel.com>

commit 6fb4b640562a10daff0dbe537638d511b5b48650
Author: Stefan Roese <sr@denx.de>
Date:	Thu Mar 27 10:24:03 2008 +0100

    ppc: Set CFG_MEM_TOP_HIDE to 0 if not already defined

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 9462732a3ec551c11862450902cd8ee1bedea6d9
Author: Stefan Roese <sr@denx.de>
Date:	Wed Mar 19 10:23:43 2008 +0100

    ppc4xx: Add fdt support to Prodrive alpr

    Since this board will probably be ported to arch/powerpc in the
    near future, we add device tree support now. This way we are
    "ready" for arch/powerpc from now on.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 511e4f9e7f7b6719e4d91d7f0fc89412b13b5150
Author: Pieter Voorthuijsen <pieter.voorthuijsen@prodrive.nl>
Date:	Mon Mar 17 09:27:56 2008 +0100

    ppc4xx: Enable cache support on the ALPR board

    Signed-off-by: Pieter Voorthuijsen <pv@prodrive.nl>

commit 14f73ca679f6fdb44cff0b7304d419db41a0ab69
Author: Stefan Roese <sr@denx.de>
Date:	Wed Mar 26 10:14:11 2008 +0100

    ppc: Add CFG_MEM_TOP_HIDE option to hide memory area that doesn't get "touched"

    If CFG_MEM_TOP_HIDE is defined in the board config header, this specified
    memory area will get subtracted from the top (end) of ram and won't get
    "touched" at all by U-Boot. By fixing up gd->ram_size the Linux kernel
    should gets passed the now "corrected" memory size and won't touch it
    either. This should work for arch/ppc and arch/powerpc. Only Linux board
    ports in arch/powerpc with bootwrapper support, which recalculate the
    memory size from the SDRAM controller setup, will have to get fixed
    in Linux additionally.

    This patch enables this config option on some PPC440EPx boards as a workaround
    for the CHIP 11 errata. Here the description from the AMCC documentation:

    CHIP_11: End of memory range area restricted access.
    Category: 3

    Overview:
    The 440EPx DDR controller does not acknowledge any
    transaction which is determined to be crossing over the
    end-of-memory-range boundary, even if the starting address is
    within valid memory space. Any such transaction from any PLB4
    master will result in a PLB time-out on PLB4 bus.

    Impact:
    In case of such misaligned bursts, PLB4 masters will not
    retrieve any data at all, just the available data up to the
    end of memory, especially the 440 CPU. For example, if a CPU
    instruction required an operand located in memory within the
    last 7 words of memory, the DCU master would burst read 8
    words to update the data cache and cross over the
    end-of-memory-range boundary. Such a DCU read would not be
    answered by the DDR controller, resulting in a PLB4 time-out
    and ultimately in a Machine Check interrupt. The data would
    be inaccessible to the CPU.

    Workaround:
    Forbid any application to access the last 256 bytes of DDR
    memory. For example, make your operating system believe that
    the last 256 bytes of DDR memory are absent. AMCC has a patch
    that does this, available for Linux.

    This patch sets CFG_MEM_TOP_HIDE for the following 440EPx boards:
    lwmon5, korat, sequoia

    The other remaining 440EPx board were intentionally not included
    since it is not clear to me, if they use the end of ram for some
    other purpose. This is unclear, since these boards have CONFIG_PRAM
    defined and even comments like this:

    PMC440.h:
    /* esd expects pram at end of physical memory.
     * So no logbuffer at the moment.
     */

    It is strongly recommended to not use the last 256 bytes on those
    boards too. Patches from the board maintainers are welcome.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit c664bf8c3c9bb9e236891f0d8dfda883e86d159b
Author: Stefan Roese <sr@denx.de>
Date:	Thu Mar 27 10:09:05 2008 +0100

    ppc4xx: Fix Canyonlands linker script (remove bogus ASSERT)

    Signed-off-by: Stefan Roese <sr@denx.de>

commit d56a3ce179688cde61073a3690e21703d68fafd7
Author: Stefan Roese <sr@denx.de>
Date:	Tue Mar 25 17:51:13 2008 +0100

    ppc4xx: Correctly pass phyiscal FLASH base address into dtb

    The routine ft_board_setup() configures the EBC NOR mappings for the
    Linux physmap_of driver. Since on 460EX/GT we remap the FLASH from
    0x4.fc00.0000 to 0x4.cc00.0000 because of the max. 16MByte boot-CS
    problem, we need to pass the corrected address here too.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 9ad31989de12ce5c67b07c4867ead47465655c4b
Author: Stefan Roese <sr@denx.de>
Date:	Wed Mar 19 16:35:12 2008 +0100

    ppc4xx: Fix compilation warning in 4xx_enet.c

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 4c9e855734c523900322a7c3cdd9099b4f51b51d
Author: Stefan Roese <sr@denx.de>
Date:	Wed Mar 19 16:20:49 2008 +0100

    ppc4xx: Add AMCC Glacier 406GT eval board support

    This patch adds support for the AMCC Glacier 460GT eval board.
    The main difference to the Canyonlands board are listed here:

    - 4 ethernet ports instead of 2
    - no SATA port
    - no USB port

    Currently EMAC2+3 are not working. This will be fixed in a later
    release.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit d8bd643141af4710d7f1b69bbab6b760de0af0a1
Author: Stefan Roese <sr@denx.de>
Date:	Thu Mar 27 08:47:26 2008 +0100

    ppc4xx: Mask 'vec' with 0x1f in uic_interrupt() for bit set/clear

    Signed-off-by: Stefan Roese <sr@denx.de>

commit b9670dd85be6e0496ef2e231043c23cad9b1d903
Author: Anatolij Gustschin <agust@denx.de>
Date:	Wed Mar 26 21:05:43 2008 +0100

    Fix out of tree building issue

    Currently U-Boot building in some external directory
    doesn't work. This patch tries to fix the problem.

    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit d4ee711d8a5c366ee3f857c26b927d12e66614ff
Author: Anatolij Gustschin <agust@denx.de>
Date:	Wed Mar 26 18:13:33 2008 +0100

    README: update documentation (availability, links, etc.)

    Fix typo in README

    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit e813eae3bfeba9c0bda9d1bf9fc3d081f790972f
Author: Anatolij Gustschin <agust@denx.de>
Date:	Wed Mar 26 17:47:44 2008 +0100

    Fix compilation error in cmd_usb.c

    This patch fixes compilation error
    cmd_usb.c: In function 'do_usb':
    cmd_usb.c:552: error: void value not ignored as it ought to be

    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit d8c82db482d6b535d12b419d6440b88bf7091c9b
Author: Timur Tabi <timur@freescale.com>
Date:	Fri Mar 14 17:45:29 2008 -0500

    Add support for setting the I2C bus speed in fsl_i2c.c

    Add support to the Freescale I2C driver (fsl_i2c.c) for setting and querying
    the I2C bus speed.	Current 8[356]xx boards define the CFG_I2C_SPEED macro,
    but fsl_i2c.c ignores it and uses conservative value when programming the
    I2C bus speed.

    Signed-off-by: Timur Tabi <timur@freescale.com>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit d049cc7f71c0d875e8f5099d1ed23666a82b8f8e
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Mar 27 00:03:57 2008 +0100

    Coding style cleanup, update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit fd0b1fe3c388a77e8fe00cdd930ca317a91198d4
Author: Dave Liu <r63238@freescale.com>
Date:	Wed Mar 26 22:55:32 2008 +0800

    drivers: add the support for Freescale SATA controller

    Add the Freescale on-chip SATA controller driver to u-boot,
    The SATA controller is used on the 837x and 8315 targets,
    The driver can be used to load kernel, fs and dtb.

    The features list:
    - 1.5/3 Gbps link speed
    - LBA48, LBA28 support
    - DMA and FPDMA support
    - Two ports support

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit bede87f4c87c3ccd868cc60ebf792e0560c6d024
Author: Dave Liu <r63238@freescale.com>
Date:	Wed Mar 26 22:54:44 2008 +0800

    ata: add the readme for SATA command line

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit cd54081cd479e542fc399b8a40651ff11a1ad849
Author: Dave Liu <r63238@freescale.com>
Date:	Wed Mar 26 22:53:24 2008 +0800

    ata: enable the sata initialize on boot up

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit 69386383c5c2b323c66495b0b0cef6a9714d83bf
Author: Dave Liu <r63238@freescale.com>
Date:	Wed Mar 26 22:52:36 2008 +0800

    ata: add the fis struct for SATA

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit ffc664e80dfb2e17de0df5ad39e91a02e9c361bc
Author: Dave Liu <r63238@freescale.com>
Date:	Wed Mar 26 22:51:44 2008 +0800

    ata: add the libata support

    add simple libata support in u-boot

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit 8e9bb43429e50df55fa41932cbe65841ff579220
Author: Dave Liu <r63238@freescale.com>
Date:	Wed Mar 26 22:50:45 2008 +0800

    ata: make the ata_piix driver using new SATA framework

    original ata_piix driver is using IDE framework, not real
    SATA framework. For now, the ata_piix driver is only used
    by x86 sc520_cdp board. This patch makes the ata_piix driver
    use the new SATA framework, so

    - remove the duplicated command stuff
    - remove the CONFIG_CMD_IDE define in the sc520_cdp.h
    - add the CONFIG_CMD_SATA define to sc520_cdp.h

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit c7057b529c3c3cb9c0ac9060686a4068f1491bbe
Author: Dave Liu <r63238@freescale.com>
Date:	Wed Mar 26 22:49:44 2008 +0800

    ata: add the support for SATA framework

    - add the SATA framework
    - add the SATA command line

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit 83c7f470a4ce94f33600f11ae85ce4dcf00aa90c
Author: Dave Liu <r63238@freescale.com>
Date:	Wed Mar 26 22:48:18 2008 +0800

    ata: merge the header of ata_piix driver

    move the sata.h from include/ to drivers/block/ata_piix.h

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit 9eef62804d9695425b24c87b46a61a7fa74afee0
Author: Dave Liu <r63238@freescale.com>
Date:	Wed Mar 26 22:47:06 2008 +0800

    ata: merge the ata_piix driver

    move the cmd_sata.c from common/ to drivers/ata_piix.c,
    the cmd_sata.c have some part of ata_piix controller drivers.
    consolidate the driver to have better framework.

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit b9e749e95354f33eb5dc6653c6db7d502adb95fe
Author: Markus Klotzbuecher <mk@denx.de>
Date:	Wed Mar 26 18:26:43 2008 +0100

    USB, Storage: fix a bug introduced in commit
    f6b44e0e4d18fe507833a0f76d24a9aa72c123f1 that will cause usb_stor_info
    to only print only information on one storage device, but not for
    multiple.

    Signed-off-by: Markus Klotzbuecher <mk@denx.de>

commit 841e5edd1623f3fecb6bffc5c2f938ed7a947360
Author: Anatolij Gustschin <agust@denx.de>
Date:	Wed Mar 26 17:47:44 2008 +0100

    Fix compilation error in cmd_usb.c

    This patch fixes compilation error
    cmd_usb.c: In function 'do_usb':
    cmd_usb.c:552: error: void value not ignored as it ought to be

    Signed-off-by: Anatolij Gustschin <agust@denx.de>
    Signed-off-by: Markus Klotzbuecher <mk@denx.de>

commit dd6c910aadf27c822f17b87eae1a9bd0b2e3aa15
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Mar 26 08:53:53 2008 -0500

    85xx: Add cpu_mp_lmb_reserve helper to reserve boot page

    Provide a board_lmb_reserve helper function to ensure we reserve
    the page of memory we are using for the boot page translation code.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 79679d80021ab095e639e250ca472fe526da02e2
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Mar 26 08:34:25 2008 -0500

    85xx: Update multicore boot mechanism to ePAPR v0.81 spec

    The following changes are needed to be inline with ePAPR v0.81:

    * r4, r5 and now always set to 0 on boot release
    * r7 is used to pass the size of the initial map area (IMA)
    * EPAPR_MAGIC value changed for book-e processors
    * changes in the spin table layout
    * spin table supports a 64-bit physical release address

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 25eedb2c1958a13110c7de1fc809b624053cc69c
Author: Jon Loeliger <jdl@freescale.com>
Date:	Wed Mar 19 15:02:07 2008 -0500

    FSL: Clean up board/freescale/common/Makefile

    Each file that can be built here now follows some
    CONFIG_ option so that they are appropriately built
    or not, as needed.	And CONFIG_ defines were added
    to various board config files to make sure that happens.

    The other board/freescale/*/Makefiles no longer need
    to reach up and over into ../common to build their
    individually needed files any more.

    Boards that are CDS specific were renamed with cds_ prefix.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit a5af4b358a7caa9c0aa374d4d894bf762ec37669
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Feb 27 22:00:27 2008 -0600

    85xx: Fix merge duplication

    ft_fixup_cpu() got duplicated in some merge snafu.	Remove the duplicate.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 5893b3d0a4084f87a06a5d3dc03db91206818941
Author: James Yang <James.Yang@freescale.com>
Date:	Tue Feb 12 16:35:07 2008 -0600

    85xx: Expand CCSR space with more DDR controller registers.

    Signed-off-by: James Yang <James.Yang@freescale.com>
    Signed-off-by: Jon Loeliger <jdl@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit a3e77fa5359b3f9f59e4e946b46d57a53057cc85
Author: James Yang <James.Yang@freescale.com>
Date:	Fri Feb 8 18:05:08 2008 -0600

    85xx: Speed up get_ddr_freq() and get_bus_freq()

    get_ddr_freq() and get_bus_freq() used get_sys_info() each time they were
    called.  However, get_sys_info() recalculates extraneous information when
    called each time.  Have get_ddr_freq() and get_bus_freq() return memoized
    values from global_data instead.

    Signed-off-by: James Yang <James.Yang@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit e9ea679918fbc9a53fa2f2a904aac874ea736036
Author: James Yang <James.Yang@freescale.com>
Date:	Fri Feb 8 16:46:27 2008 -0600

    85xx: Show DDR memory data rate in addition to the memory clock frequency.

    Show the DDR memory data rate in addition to the memory clock
    frequency.	For DDR/DDR2 memories the memory data rate is 2x the
    memory clock.

    Signed-off-by: James Yang <James.Yang@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 591933ca6eabc440e6ed6967233aaf56fce464a3
Author: James Yang <James.Yang@freescale.com>
Date:	Fri Feb 8 16:44:53 2008 -0600

    85xx: get_tbclk() speed up and rounding fix

    Speed up get_tbclk() by referencing pre-computed bus clock
    frequency value from global data instead of sys_info_t.  Fix
    rounding of result to nearest; previously it was rounding
    upwards.

    Signed-off-by: James Yang <James.Yang@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 1ced121600b2060ab2ff9f0fddd9421fd70a0dc6
Author: Andy Fleming <afleming@freescale.com>
Date:	Wed Feb 6 01:19:40 2008 -0600

    Update SVR numbers to expand support

    FSL has taken to using SVR[16:23] as an SOC sub-version field.  This
    is used to distinguish certain variants within an SOC family.  To
    account for this, we add the SVR_SOC_VER() macro, and update the SVR_*
    constants to reflect the larger value.  We also add SVR numbers for all
    of the current variants.  Finally, to make things neater, rather than
    use an enormous switch statement to print out the CPU type, we create
    and array of SVR/name pairs (using a macro), and print out the CPU name
    that matches the SVR SOC version.

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit b83eef440cf3cef816172ccbb5897ccd8e403cf3
Author: Andy Fleming <afleming@freescale.com>
Date:	Wed Feb 6 01:12:57 2008 -0600

    Add the Freescale PCI device IDs

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 7aff0c051ad0613171cf2b9941ee48675c62e7cd
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Feb 14 11:04:23 2008 -0600

    85xx: Added support for multicore boot mechanism

    Added the cpu command that provides a generic mechanism to get status,
    reset, and release secondary cores in multicore processors.

    Added support for using the ePAPR defined spin-table mechanism on 85xx.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit ec2b74ffd36f02c6123725e7c2533dd2deaf4b64
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Jan 17 16:48:33 2008 -0600

    85xx: Added support for multicore boot mechanism

    Added the cpu command that provides a generic mechanism to get status,
    reset, and release secondary cores in multicore processors.

    Added support for using the ePAPR defined spin-table mechanism on 85xx.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit f69766e4b5d47ecd3aa58677a8da875694f364f2
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Jan 30 14:55:14 2008 -0600

    85xx: Add the concept of CFG_CCSRBAR_PHYS

    When we go to 36-bit physical addresses we need to keep the concept of
    the physical CCSRBAR address seperate from the virtual one.

    For the majority of boards CFG_CCSBAR_PHYS == CFG_CCSRBAR

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 5b5eb9ca5b778f763bcf332697b35cc1e747626e
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Mar 26 15:38:47 2008 +0100

    Coding style cleanup.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit da8808df7a9cef5a3d2ee286ef9ebf9de1780660
Author: Joakim Tjernlund <Joakim.Tjernlund@transmode.se>
Date:	Wed Mar 26 13:02:13 2008 +0100

    Add CFG_RTC_DS1337_NOOSC to turn off OSC output

    The default settings for RTC DS1337 keeps the OSC
    output, 32,768 Hz, on. This add CFG_RTC_DS1337_NOOSC to
    turn it off.

    Signed-off-by: Joakim Tjernlund <Joakim.Tjernlund@transmode.se>

commit 438a4c11260b4ea9805039b0b4f92f9df5306b02
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Mar 26 11:48:46 2008 +0100

    Cleanup coding style, update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 218ca724c08ca8a649f0917cf201cf23d4b33f39
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Mar 26 10:40:12 2008 +0100

    README: update documentation (availability, links, etc.)

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit f6b44e0e4d18fe507833a0f76d24a9aa72c123f1
Author: Aras Vaichas <arasv@magtech.com.au>
Date:	Tue Mar 25 12:09:07 2008 +1100

    USB Storage, add meaningful return value

    This patch changes the "usb storage" command to return success if it
    finds a USB storage device, otherwise it returns error.

    Signed-off-by: Markus Klotzbuecher <mk@denx.de>

commit 18e69a35efbb078403db0c0063986470dad7d082
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Fri Mar 14 23:20:18 2008 +0300

    83xx/fdt_support: let user specifiy FSL USB Dual-Role controller role

    Linux understands "host" (default), "peripheral" and "otg" (broken).
    Though, U-Boot doesn't restrict dr_mode variable to these values (think
    of renames in future).

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit c7604783b236e368f225efb7b3efb418fe20b404
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Fri Mar 14 23:20:30 2008 +0300

    tsec: fix link detection for the RTL8211B PHY

    RTL8211B sets link state register after autonegotiation complete,
    so with bootdelay=0 RTL8211B will report lack of the link.

    To fix this, we should wait for aneg to complete, even if the
    link is currently down.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 7fa9cbb00dc83fcf175042b6f20c2c9bce9a15f4
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Mon Mar 24 20:47:09 2008 +0300

    mpc83xx: add "fsl,soc" and "fsl,immr" compatible fixups

    device_type = "soc" is being deprecated, newer device trees will use
    "fsl,soc" and/or "fsl,immr" for the soc nodes.

    This patch also adds clock-frequency property for soc nodes (the same
    value as bus-frequency).

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>

commit 507e2d79c91441a0bb2cd3d0c31c8bfe3f8cec07
Author: Joe D'Abbraccio <ljd015@freescale.com>
Date:	Mon Mar 24 13:00:59 2008 -0400

    Modified the DDR SDRAM clock control register to delay MCK/MCK_B 3/4 clock

    With the original value of 1/2 clock cycle delay, the system ran relatively
    stable except when we run benchmarks that are intensive users of memory.
    When I run samba connected disk with a HDBENCH test, the system locks-up
    or reboots sporadically.

    Signed-off by: Joe D'Abbraccio <Joe.D'abbraccio@freescale.com>

commit a7ba32d480a86db5db8dcd8ca66b21b4cadda923
Author: Scott Wood <scottwood@freescale.com>
Date:	Mon Mar 24 12:44:13 2008 -0500

    mpc83xx: Set PCI I/O bus-address base to zero.

    The device trees for these boards describe PCI I/O as starting from
    address zero from the device's perspective.

    Placing I/O elsewhere may cause problems with certain PCI boards, and may
    cause problems with Linux.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit f700e7df7fecf2d3765ae568ce77ce788cde4f3e
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Mon Mar 24 20:47:05 2008 +0300

    mpc83xx: MPC8360E-RDK: use 33.3(3)MHz CLKIN/SYS_CLK

    At least on the "33MHz Pilot" board crystal is actually 33.3MHz.
    This patch fixes "system time drifting" problem.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>

commit 3a0cfdd576dc9b16d1468d37339182607c697fb7
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Mon Mar 24 20:47:02 2008 +0300

    mpc83xx: MPC8360E-RDK: define CONFIG_OF_STDOUT_VIA_ALIAS

    This is needed to update /choosen/linux,stdout-path properly.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>

commit 3419eb62f088d7a22f1d2a3cebf76b77e408b5b9
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Mon Mar 24 20:47:00 2008 +0300

    mpc83xx: MPC8360E-RDK: add dhcp command

    Plus modify environment to use it and remove bootfile env variable,
    it is internal and CONFIG_BOOTFILE is used for these purposes.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>

commit d892b2dbb4087a26778bfd42470c3ea7d0e2b6aa
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Mon Mar 24 20:46:57 2008 +0300

    mpc83xx: MPC8360E-RDK: rework ddr setup, enable ecc

    Current DDR setup easily causes memory corruption, this patch fixes it.

    Also fix TIMING_CFG0_MRS_CYC definition.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>

commit d47d49cc37a38f2719a3e1b9bbe08ac810cf2d9a
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Mon Mar 24 20:46:53 2008 +0300

    mpc83xx: MPC8360E-RDK: configure pario pins for AD7843 and FHCI

    This patch adds qe pario pins configuration for AD7843 ADC/Touchscreen
    controller and FHCI (QE USB).

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>

commit 7ad959490962e6842648d87d4bd795ea6cdcce67
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Mon Mar 24 20:46:51 2008 +0300

    mpc83xx: MPC8360E-RDK: add support for NAND

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>

commit 9a3e832aeb491861d029991241572ebdf4b5b61b
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Mon Mar 24 20:46:46 2008 +0300

    mpc83xx: MPC8360E-RDK: use RGMII_RXID interface mode

    This is needed for BCM PHYs to work on this board.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>

commit 300615dc5d9b0a2022fbc6af0c13159e33fd752e
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Mon Mar 24 20:46:34 2008 +0300

    uec: add support for Broadcom BCM5481 Gigabit PHY

    This patch adds basic support for Broadcom BCM5481 PHY.

    RXD-RXC delay quirk comes from MPC8360E-RDK BSP source, author is
    Peter Barada <peterb@logicpd.com>.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>

commit 6a600c3a1876bc203445df4f0fd6b12648259666
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Mon Mar 24 20:46:28 2008 +0300

    uec: add support for RGMII_RXID interface mode

    PHY drivers will use it to setup software delay between RXD and RXC
    signals.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>

commit 91cdaa3a9d7562b869d96774e9c9ddf142c0848d
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Mon Mar 24 20:46:24 2008 +0300

    uec: add support for gbit mii status readings

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>

commit aabce7fb505ffe55ebf3bf4dcafdae97a581558d
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Mon Mar 24 17:40:47 2008 +0300

    83xx: define CONFIG_OF_STDOUT_VIA_ALIAS for the MPC837XERDB boards

    This is primarily for the early console support.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>

commit 2bd7460e9283ec98565189b3cdbcfb2bcdcdd635
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Mon Mar 24 17:40:43 2008 +0300

    83xx: initialize serdes for MPC837XRDB boards

    On the MPC8377ERDB: 2 SATA and 2 PCI-E.
    On the MPC8378ERDB: 2 PCI-E
    On the MPC8379ERDB: 4 SATA

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>

commit 453316a2a19642d8afcbca7452e40a6b44a197b1
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Mon Mar 24 17:40:32 2008 +0300

    83xx: serdes setup routines

    This patch adds few routines to configure serdes on 837x targets.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>

commit a796cdf9c377cb4e5d61d1079a296608f8fbd903
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Mon Mar 24 17:40:27 2008 +0300

    83xx: split COBJS onto separate lines

    ..plus get rid of some #ifdefs in the .c files.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>

commit 46a3aeea73c13ab04ebf7a8739afb87ac5da94a3
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Mon Mar 24 17:40:23 2008 +0300

    83xx: nand support for MPC837XRDB boards

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>

commit 82e45a204190593e8613145a928f998fb8c909c4
Author: Jerry Van Baren <gvb.uboot@gmail.com>
Date:	Tue Mar 18 21:44:41 2008 -0400

    Enable CONFIG_FLASH_SHOW_PROGRESS on the MPC8360EMDS.

    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 0fa7a1b4719e325fce332689fb8754ec166191ff
Author: Michael Barkowski <michael.barkowski@freescale.com>
Date:	Thu Mar 20 13:15:39 2008 -0400

    mpc8323erdb: remove RTC and add EEPROM

    There's no on-board RTC on the MPC8323ERDB, but there is an EEPROM.

    Signed-off-by: Michael Barkowski <michael.barkowski@freescale.com>
    Acked-by: Kim Phillips <kim.phillips@freescale.com>

commit 5bbeea86eb6afb872374cd23217cb3c1018443ed
Author: Michael Barkowski <michael.barkowski@freescale.com>
Date:	Thu Mar 20 13:15:34 2008 -0400

    mpc8323erdb: Improve the system performance

    The following changes are based on kernel UCC ethernet performance:

    1.	Make the CSB bus pipeline depth as 4, and enable the repeat mode
    2.	Optimize transactions between QE and CSB.  Added CFG_SPCR_OPT
	switch to enable this setting.

    The following changes are based on the App Note AN3369 and
    verified to improve memory latency using LMbench:

    3.	CS0_CONFIG[AP_n_EN] is changed from 1 to 0
    4.	CS0_CONFIG[ODT_WR_CONFIG] set to 1.  Was a reserved setting
	previously.
    5.	TIMING_CFG_1[WRREC] is changed from 3clks to 2clks  (based on
	Twr=15ns, and this was already the setting in DDR_MODE)
    6.	TIMING_CFG_1[PRETOACT] is changed from 3clks to 2clks. (based on
	Trp=15ns)
    7.	TIMING_CFG_1[ACTTOPRE] is changed from 9clks to 6clks. (based on
	Tras=40ns)
    8.	TIMING_CFG_1[ACTTORW] is changed from 3clks to 2clks. (based on
	Trcd=15ns)
    9.	TIMING_CFG_1[REFREC] changed from 21 clks to 11clks.  (based on
	Trfc=75ns)
    10. TIMING_CFG_2[FOUR_ACT] is changed from 10 clks to 7clks.  (based
	on Tfaw=50ns)
    11. TIMING_CFG_2[ADD_LAT] and DDR_MODE[AL] changed from 0 to 1 (based
	on CL=3 and WL=2).

    Signed-off-by: Michael Barkowski <michael.barkowski@freescale.com>
    Acked-by: Kim Phillips <kim.phillips@freescale.com>

commit fc549c871f43933396a5b3e21d897023d4b31b8d
Author: Michael Barkowski <michael.barkowski@freescale.com>
Date:	Thu Mar 20 13:15:28 2008 -0400

    mpc8323erdb: use readable DDR config macros

    Use available shift/mask macros to define DDR configuration.

    Signed-off-by: Michael Barkowski <michael.barkowski@freescale.com>
    Acked-by: Kim Phillips <kim.phillips@freescale.com>

commit 89c7784ed90ba50301eec521144f95111e472906
Author: Timur Tabi <timur@freescale.com>
Date:	Fri Feb 8 13:15:55 2008 -0600

    83xx: Add Vitesse VSC7385 firmware uploading

    Update the MPC8349E-mITX, MPC8313E-RDB, and MPC837XE-RDB board files to upload
    the Vitesse VSC7385 firmware.  Changed CONFIG_VSC7385 to CONFIG_VSC7385_ENET.
    Cleaned up the board header files to make selecting the VSC7385 easier to
    control.

    Signed-off-by: Timur Tabi <timur@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit b55d98c6d5b8694e560a0e727b14cb6921d7cfcc
Author: Timur Tabi <timur@freescale.com>
Date:	Fri Feb 8 13:15:54 2008 -0600

    NET: Add Vitesse VSC7385 firmware uploading

    The Vitesse VSC7385 is a 5-port switch found on the Freescale MPC8349E-mITX
    and other boards.  A small firwmare must be uploaded to its on-board memory
    before it can be enabled.  This patch adds the code which uploads firmware
    (but not the firmware itself).

    Previously, this feature was provided by a U-Boot application that was
    made available only on Freescale BSPs.  The VSC7385 firmware must still
    be obtained separately, but at least there is no longer a need for a separate
    application.

    Signed-off-by: Timur Tabi <timur@freescale.com>
    Acked-by: Ben Warren <biggerbadderben@gmail.com>

commit aa6f6d171a1f9f46ee4f03ad6acb97a6bfb71855
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Mar 26 00:52:10 2008 +0100

    Coding Style cleanyp; update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 43ddd9c820fec44816188f53346b464e20b3142d
Author: Jerry Van Baren <gvb.uboot@gmail.com>
Date:	Sat Mar 22 14:23:49 2008 -0400

    Remove deprecated CONFIG_OF_HAS_UBOOT_ENV and CONFIG_OF_HAS_BD_T

    These defines embedded the u-boot env variables and/or the bd_t structure
    in the fdt blob.  The conclusion of discussion on the u-boot email list
    was that embedding these in the fdt blob is not useful: there are better
    ways of passing the data (in fact, the fdt blob itself replaces the
    bd_t struct).

    The only board that enables these is the stxxtc and they don't appear
    to be used by linux.

    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>
    Acked-by: Kim Phillips <kim.phillips@freescale.com>

commit 22ed2285743359fd1fe73e411dff914b2256e68f
Author: Stefan Roese <sr@denx.de>
Date:	Mon Mar 17 10:49:25 2008 +0100

    rtc: Remove 2nd reference to max6900.o in drivers/rtc/Makefile

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 1bb707c39a0833e91d9f797dd862aaaaf4af264d
Author: Kyungmin Park <kmpark@infradead.org>
Date:	Mon Mar 17 08:54:06 2008 +0900

    Add Flex-OneNAND booting support

    Flex-OneNAND is a monolithic integrated circuit with a NAND Flash array
    using a NOR Flash interface. This on-chip integration enables system designers
    to reduce external system logic and use high-density NAND Flash
    in applications that would otherwise have to use more NOR components.

    Flex-OneNAND enables users to configure to partition it into SLC and MLC areas
    in more flexible way. While MLC area of Flex-OneNAND can be used to store data
    that require low reliability and high density, SLC area of Flex-OneNAND
    to store data that need high reliability and high performance. Flex-OneNAND
    can let users take advantage of storing these two different types of data
    into one chip, which is making Flex-OneNAND more cost- and space-effective.

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>

commit c512389cc4a10253249271ff6c887c6dab1f0db2
Author: Andr Schwarz <andre.schwarz@matrix-vision.de>
Date:	Thu Mar 13 13:50:52 2008 +0100

    MPC5200: support setup without FEC

    Include FEC specific nodes in ft_cpu_setup only if CONFIG_MPC5xxx_FEC is
    defined. Systems without FEC, i.e. no FEC node in DTB, should be possible.

    Signed-off-by: Andre Schwarz <andre.schwarz@matrix-vision.de>
    Acked-by: Grant Likely <grant.likely@secretlab.ca>

commit aa3511e422946041ef626f80a05ae5e8bfc700e6
Author: Jon Loeliger <jdl@freescale.com>
Date:	Wed Mar 5 18:05:46 2008 -0600

    FSL: Move board/mpc8266ads under board/freescale

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 7f1d846e5c5754449c286587d099d85246062772
Author: Jon Loeliger <jdl@freescale.com>
Date:	Wed Mar 5 18:05:47 2008 -0600

    FSL: Move board/mpc7448hpc2 under board/freescale

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit b7e24d283e34727c2a6cdfdac2e09a426c579b73
Author: Jon Loeliger <jdl@freescale.com>
Date:	Wed Mar 5 18:05:45 2008 -0600

    FSL: Move board/mpc8260ads under board/freescale

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 6a8a5dc4759867c45aa95580deb8bf26669a5d97
Author: goda.yusuke <goda.yusuke@renesas.com>
Date:	Wed Mar 5 17:08:33 2008 +0900

    net: Add support AX88796L ethernet device

    AX88796L is device of NE2000 compatible.
    This patch support AX88796L ethernet device.

    Signed-off-by: Yusuke Goda <goda.yusuke@renesas.com>
    Acked-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit e0a6140dd381e1eed1ada2291166ef2616d8822b
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Mar 25 22:50:41 2008 +0100

    ne2000 driver: change #ifdef to Makefile conditional compilation

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit e710185aae90c64d39c2d453e40e58ceefe4f250
Author: goda.yusuke <goda.yusuke@renesas.com>
Date:	Wed Mar 5 17:08:20 2008 +0900

    net: Divided code of NE2000 ethernet driver

    There are more devices of the NE2000 base.
    A present code is difficult for us to support more devices.
    To support more NE2000 clone devices, separated the function.

    Signed-off-by: Yusuke Goda <goda.yusuke@renesas.com>
    Acked-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 395bce4f59a507a60a475f7ee46bed47de9482df
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Feb 24 23:58:13 2008 -0500

    net/Blackfin: move on-chip MAC driver into drivers/net/

    The Blackfin on-chip MAC driver was being managed in the BF537-STAMP board
    directory, but it is not board specific, so relocate it to the drivers dir
    so that other Blackfin ports can utilize it.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 8a30b4700942f37495d2e67f5998cdffb6e3ba8a
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sun Feb 24 23:52:35 2008 -0500

    smc91111: use SSYNC() rather than asm(ssync) for Blackfin

    Since the "ssync" instruction may have hardware anomalies associated with
    it, have the smc91111 driver use the SSYNC macro rather than invoking it
    directly.  We workaround all the anomalies via this macro.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 77ff7b7444ceb8022b46114f3d0b6d18e2fd1138
Author: Bryan O'Donoghue <bodonoghue@codehermit.ie>
Date:	Sun Feb 17 22:57:47 2008 +0000

    8xx: Update OF support on 8xx

    This patch does some shifting around of OF support on 8xx.

    Signed-off-by: Bryan O'Donoghue <bodonoghue@codehermit.ie>

commit 9c666a7db0b2285a270c68810889ce7d5dba304b
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Feb 15 15:16:18 2008 -0600

    ppc: Allow boards to specify how much memory they can map

    For historical reasons we limited the stack to 256M because some boards
    could only map that much via BATS.	However newer boards are capable of
    mapping more memory (for example 85xx is capble of doing up to 2G).

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit a6f5f317cd074bbbfa2aab4fca05904c811c19fb
Author: Bryan O'Donoghue <bodonoghue@codehermit.ie>
Date:	Fri Feb 15 01:05:58 2008 +0000

    8xx : Add OF support to Adder875 board port - resubmit

    Signed-off-by: Bryan O'Donoghue <bodonoghue@codehermit.ie>

commit d058698fd2d9f769ff38ac53c8708b3fdd314f2d
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Feb 14 20:44:42 2008 -0600

    Add setexpr command

    Add a simple expr style command that will set an env variable as the result
    of the command.  This allows us to do simple math in shell.  The following
    operations are supported: &, |, ^, +, -, *, /.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 3f105faa64b9826e088711fdfcaa70cb1230397a
Author: Jon Loeliger <jdl@freescale.com>
Date:	Wed Mar 5 17:27:48 2008 -0600

    FSL: Move board/mpc7448hpc2 under board/freescale

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 449c703374a8868453425e15da7e2f76221b72e4
Author: Jon Loeliger <jdl@freescale.com>
Date:	Wed Mar 5 17:21:43 2008 -0600

    FSL: Move board/mpc8266ads under board/freescale

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 5863577989ad689427bb750107e9a75f1c1645d2
Author: Jon Loeliger <jdl@freescale.com>
Date:	Wed Mar 5 16:41:41 2008 -0600

    FSL: Move board/mpc8260ads under board/freescale

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 8a773983957ee6c4aa344469b742f29c7d26afbd
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Tue Mar 25 21:30:08 2008 +0900

    [MIPS] Move gth2_config from ARM section to MIPS

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit 373b16fc0c5ae34d28b9027f809ae3cbf45cdd15
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Tue Mar 25 21:30:07 2008 +0900

    [MIPS] Extend MIPS_MAX_CACHE_SIZE upto 64kB

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit d98e348e2ed5aab8f7a6471ff628ab0688b8a459
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Tue Mar 25 21:30:07 2008 +0900

    [MIPS] Fix dcache_status()

    You can't judge UNCACHED by Config.K0 LSB.

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit b0c66af53ec9385ac2d1cc2e5d7d1ecdc81caf34
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Tue Mar 25 21:30:07 2008 +0900

    [MIPS] Introduce _machine_restart

    Handles machine specific functions by using weak functions.

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit decaba6f5cf386d569ac3997bebb871b966c6b18
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Tue Mar 25 21:30:07 2008 +0900

    [MIPS] Cleanup CP0 Status initialization

    Add setup_c0_status from Linux. For the moment we disable interrupts, set
    CU0, mark the kernel mode, and clear ERL and EXL. This is good enough for
    reset-time configuration and will work well across most processors.

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit d43d43ef2845af309c25a64bb9c2c5fb3261bc23
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Tue Mar 25 21:30:07 2008 +0900

    [MIPS] Initialize CP0 Cause before setting up CP0 Status register

    Without this change, we'll be suffering from deffered WATCH exception
    once Status.EXL is cleared. Make sure Cause.WP is cleared.

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit 26138623230ca2bad3c78e05a65527ea70c8b688
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Tue Mar 25 21:30:07 2008 +0900

    [MIPS] INCA-IP: Move watchdog init code from start.S to lowlevel_init()

    Move things to appropriate place.

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit ccf8f824ef67df028dedb29f8ea5d71a5a88d895
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Tue Mar 25 21:30:06 2008 +0900

    [MIPS] Implement flush_cache()

    We do Hit_Writeback_Inv_D and Hit_Invalidate_I. You might think that you
    don't need to do Hit_Invalidate_I, but flush_cache() needs it since this
    function is used not only in U-Boot specfic programs but also at loading
    target binaries.

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit 2e0e5271aac917812a76c72030a2b2c6f1d3387d
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Tue Mar 25 21:30:06 2008 +0900

    [MIPS] Fix I-/D-cache initialization loops

    Currently we do 1) Index_Store_Tag_I, 2) Fill and 3) Index_Store_Tag_I
    again per a loop for I-cache initialization. But according to 'See MIPS
    Run', we're encouraged to use three separate loops rather than combining
    them *for both I- and D-cache*. This patch tries to fix this.

    In accordance with fixing above, mips_init_[id]cache are separated from
    mips_cache_reset(), and rewrite cache loops are completely rewritten with
    useful macros.

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit 1898840797c7f50799377bd5b285a8a93a82c419
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Tue Mar 25 21:30:06 2008 +0900

    [MIPS] Replace memory clearance code with f_fill64

    This routine fills memory with zero by 64 bytes, and is 64-bit capable.

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit 2f5d414ccb4024dd0992ff6b22561732dbc73590
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Tue Mar 25 21:30:06 2008 +0900

    [MIPS] cpu/mips/cache.S: Introduce NESTED/LEAF/END macros

    This patch replaces the current function definitions with NESTED, LEAF
    and END macro. They specify some more additional information about the
    function; an alignment of symbol, type of symbol, stack frame usage, etc.
    These information explicitly tells the assembler and the debugger about
    the types of code we want to generate.

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit 282223a607c611425fa33f5428f8eae6636972bb
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Tue Mar 25 11:43:17 2008 +0900

    [MIPS] asm headers' updates

    Make some asm headers adjusted to the latest Linux kernel.

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit e1390801a3c1a2b6d12fa90be368efc19f5b9bfd
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Tue Mar 25 11:39:29 2008 +0900

    [MIPS] Request for the 'mips_cache_lock()' removal

    The initial intension of having mips_cache_lock() was to use the cache
    as memory for temporary stack use so that a C environment can be set up
    as early as possible.

    But now mips_cache_lock() follow lowlevel_init(). We've already have the
    real memory initilaized at this point, therefore we could/should use it.
    No reason to lock at all.

    Other problems:

    Cache locking is not consistent across MIPS implementaions. Some imple-
    mentations don't support locking at all. The style of locking varies -
    some support per line locking, others per way, etc. Some parts use bits
    in status registers instead of cache ops. Current mips_cache_lock() is
    not necessarily general-purpose.

    And this is worthy of special mention; once U-Boot/MIPS locks the lines,
    they are never get unlocked, so the code relies on whatever gets loaded
    after U-Boot to re-initialize the cache and clear the locks. We're sup-
    posed to have CFG_INIT_RAM_LOCK and unlock_ram_in_cache() implemented,
    but leave the situation as it is for a long time.

    For these reasons, I proposed the removal of mips_cache_lock() from the
    global start-up code.

    This patch adds CFG_INIT_RAM_LOCK_MIPS to make existing users aware that
    *things have changed*. If he wants the same behavior as before, he needs
    to have CFG_INIT_RAM_LOCK_MIPS in his config file.

    If we don't have any regression report through several releases, then
    we'll remove codes entirely.

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
    Acked-by: Andrew Dyer <amdyer@gmail.com>

commit 0d48926c87ec96f974a6ac4034f4a2f2eab3255f
Author: Yuri Tikhonov <yur@emcraft.com>
Date:	Mon Mar 24 11:30:54 2008 +0100

    lwmon5 SYSMON POST: fix backlight control

    If the LWMON5 config has SYSMON POST among CONFIG_POSTs which may be
    run on the board, then the SYSMON POST controls the display backlight
    (doesn't switch backlight ON if POST FAILED, and does switch the
    backlight ON if PASSED).

    If not, then the video driver controls the display backlight (just
    switch ON the backlight upon initialization).

    Signed-off-by: Yuri Tikhonov <yur@emcraft.com>

commit ff2bdfb2c1e073f65c065011f1e18d0a130bd3d8
Author: Yuri Tikhonov <yur@emcraft.com>
Date:	Mon Mar 24 11:29:14 2008 +0100

    lwmon5 SYSMON POST: fix handling of negative temperatures

    Fix errors in the LWMON5 Sysmon POST for negative temperatures.

    Signed-off-by: Yuri Tikhonov <yur@emcraft.com>

commit 55774b512fdf63c0516d441cc5da7c54bbffb7f2
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Fri Mar 7 16:04:25 2008 +0900

    pci: Add CONFIG_PCI_SKIP_HOST_BRIDGE config option

    In current source code, when the device number of PCI is 0, process PCI
    bridge without fail. However, when the device number is 0, it is not PCI
    always bridge. There are times when device of PCI allocates.

    When CONFIG_PCI_SKIP_HOST_BRIDGE is enable, this problem is solved when
    use this patch.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
    Acked-by: Stefan Roese <sr@denx.de>

commit 86aea3eaefa248ffb9328e2b50c64720489cdbeb
Author: Yuri Tikhonov <yur@emcraft.com>
Date:	Fri Mar 21 09:18:40 2008 +0100

    LWMON5: fix dsPIC POST

    Add test for DPIC_SYS_ERROR_REG to be zero in the LWMON5 dsPIC POST.

    Signed-off-by: Yuri Tikhonov <yur@emcraft.com> ---

commit 388b82fddc7c05596f3f615f190da0448227dc82
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Thu Mar 20 23:23:13 2008 +0100

    [new uImage] Enable new uImage support for the pcs440ep board.

    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>

commit 95f4ec2b9c910c7261e6f060ea530d58b039692d
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Thu Mar 20 23:23:13 2008 +0100

    [new uImage] Do not compile new uImage format support by default

    Disable default building of new uImage format support in preparation
    for merge with the master. Support for new format can be enabled on
    a per-board basis, by defining the following in the board's config file:

    #define CONFIG_FIT		   1
    #define CONFIG_OF_LIBFDT	   1

    This can be optionally defined to give more verbose output:

    #define CONFIG_FIT_VERBOSE	   1 /* enable fit_format_{error,warning}() */

    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>

commit dafaede8a46c7159310239e036c93e31c6374487
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Thu Mar 20 23:20:31 2008 +0100

    [new uImage] Disable debuging output in preparation for merge with master

    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>

commit fbe7a155027beacebaee9b32e1ada781fe924bca
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Thu Mar 20 19:38:45 2008 +0100

    [new uImage] Compilation and new uImage handling fixes for imxtract

    Fix imxtract command not being compiled-in despite CONFIG_CMD_XIMG being in
    include/config_cmd_default.h. Fix few warnings and handling of new format
    images.

    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>

commit 36cc8cbb3379d5166f882641123521735c469f92
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Thu Mar 20 23:10:19 2008 +0100

    [new uImage] Fix autoscr command used with new uImage format

    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>

commit 43142e817f0597be412e7cbe19413f5532eafa5d
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Thu Mar 20 23:10:19 2008 +0100

    [new uImage] Fix *.its files location in documentation

    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>

commit 81a0ac62ea29f8252d0a714709d0ecfdbba2a15e
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Mar 20 22:01:38 2008 +0100

    lwmon5 POST: remove unreachable code

    plus some coding style cleanup

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit b73a19e1609d0f705cbab8014ca17aefe89e4c76
Author: Yuri Tikhonov <yur@emcraft.com>
Date:	Thu Mar 20 17:56:04 2008 +0300

    LWMON5: POST RTC fix

    Modify the RTC API to provide one a status for the time reported by
    the rtc_get() function:
      0 - a reliable time is guaranteed,
    < 0 - a reliable time isn't guaranteed (power fault, clock issues,
	  and so on).

    The RTC chip drivers are responsible for providing this info if the
    corresponding chip supports such functionality. If not - always
    report that the time is reliable.

    The POST RTC test was modified to detect the RTC faults utilizing
    this new rtc_get() feature.

    Signed-off-by: Yuri Tikhonov <yur@emcraft.com>

commit a5cc5555ccee596908a7d8cf22a104f6b993bfd5
Author: Martin Krause <martin.krause@tqs.de>
Date:	Wed Mar 19 14:25:14 2008 +0100

    TQM5200B: update MTD partition layout

    - insert partition for dtb blob to TQM5200B MTD layout
    - set env variables dependent on the configured board
      (TQM5200 or TQM5200B)

    Signed-off-by: Martin Krause <martin.krause@tqs.de>

commit f0105727d132f56a21fa3ed8b162309cca6cac44
Author: Stefan Roese <sr@denx.de>
Date:	Wed Mar 19 07:09:26 2008 +0100

    CFI: Small cleanup for FLASH_SHOW_PROGRESS

    With this patch we don't need that many #ifdef's in the code. It moves
    the subtraction into the macro and defines a NOP-macro when
    CONFIG_FLASH_SHOW_PROGRESS is not defined.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Acked-by: Gerald Van Baren <vanbaren@cideas.com>

commit 9a042e9ca512beaaa2cb450274313fc477141241
Author: Jerry Van Baren <gvb.uboot@gmail.com>
Date:	Sat Mar 8 13:48:01 2008 -0500

    Flash programming progress countdown.

    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>

commit 5e339fd9ed539a7d7fec59cfc88f0857ab26a53f
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Wed Mar 19 10:00:06 2008 +0100

    [new uImage] Fix style issue spotted by Wolfgang Denk <wd@denx.org>

    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>

commit 11abe45c48ec3485a6c1a5168ce8d79c3288adc1
Author: David Gibson <david@gibson.dropbear.id.au>
Date:	Mon Feb 18 18:09:04 2008 +1100

    libfdt: Remove no longer used code from fdt_node_offset_by_compatible()

    Since fdt_node_offset_by_compatible() was converted to the new
    fdt_next_node() iterator, a chunk of initialization code became
    redundant, but was not removed by oversight.  This patch cleans it up.

    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>

commit d0ccb9b140b472039732de102fc14597eedb14df
Author: David Gibson <david@gibson.dropbear.id.au>
Date:	Mon Feb 18 18:06:31 2008 +1100

    libfdt: Trivial cleanup for CHECK_HEADER)

    Currently the CHECK_HEADER() macro is defined local to fdt_ro.c.
    However, there are a handful of functions (fdt_move, rw_check_header,
    fdt_open_into) from other files which could also use it (currently
    they open-code something more-or-less identical).  Therefore, this
    patch moves CHECK_HEADER() to libfdt_internal.h and uses it in those
    places.

    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>

commit fe30a354cdbb808b5f15366a935b151a4ccee74f
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Feb 20 14:32:36 2008 -0600

    Fix fdt boardsetup command parsing

    The introduciton of the 'fdt bootcpu' broke parsing for 'fdt boardsetup'.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 804887e6001e2f00bea11431bf34d6d472512cda
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Feb 15 03:34:36 2008 -0600

    Add sub-commands to fdt

    fdt header				- Display header info
    fdt bootcpu <id>			- Set boot cpuid
    fdt memory <addr> <size>		- Add/Update memory node
    fdt rsvmem print			- Show current mem reserves
    fdt rsvmem add <addr> <size>	- Add a mem reserve
    fdt rsvmem delete <index>		- Delete a mem reserves

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit f84d65f9b085ffbed464d1d58e8aaa8f5a2efc07
Author: David Gibson <david@gibson.dropbear.id.au>
Date:	Thu Feb 14 16:50:34 2008 +1100

    libfdt: Fix NOP handling bug in fdt_add_subnode_namelen()

    fdt_add_subnode_namelen() has a bug if asked to add a subnode to a
    node which has NOP tags interspersed with its properties.  In this
    case fdt_add_subnode_namelen() will put the new subnode before the
    first NOP tag, even if there are properties after it, which will
    result in an invalid blob.

    This patch fixes the bug, and adds a testcase for it.

    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>

commit ae0b5908de3b9855f8931bc9b32c9fc4962df5a9
Author: David Gibson <david@gibson.dropbear.id.au>
Date:	Tue Feb 12 11:58:31 2008 +1100

    libfdt: Add and use a node iteration helper function.

    This patch adds an fdt_next_node() function which can be used to
    iterate through nodes of the tree while keeping track of depth.  This
    function is used to simplify the iteration code in a lot of other
    functions, and is also exported for use by library users.

    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>

commit 9eaeb07a7185d852c7aa10735ecd4e9edf24fb5d
Author: David Gibson <david@gibson.dropbear.id.au>
Date:	Fri Jan 11 14:55:05 2008 +1100

    libfdt: Add fdt_set_name() function

    This patch adds an fdt_set_name() function to libfdt, mirroring
    fdt_get_name().  This is a r/w function which alters the name of a
    given device tree node.

    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>

commit 23e20aa6488e6c0622496549861bfdc74108debe
Author: Yuri Tikhonov <yur@pollux.denx.de>
Date:	Tue Mar 18 13:33:30 2008 +0100

    lwmon5: Fix register test logic to match the specific GDC h/w.

    Signed-off-by: Dmitry Rakhchev <rda@emcraft.com>
    Signed-off-by: Yuri Tikhonov <yur@emcraft.com>

commit 46bc0a938779aa1d664b847d36b08aa00f22e539
Author: Yuri Tikhonov <yur@pollux.denx.de>
Date:	Tue Mar 18 13:27:57 2008 +0100

    Fix backlight in the lwmon5 POST.

    Backlight was switched on even when temperature was too low.

    Signed-off-by: Dmitry Rakhchev <rda@emcraft.com>
    Signed-off-by: Yuri Tikhonov <yur@emcraft.com>

commit 3d61018643a2cd38c145aa6dde53f3f5f1a0e9cf
Author: Yuri Tikhonov <yur@pollux.denx.de>
Date:	Wed Feb 6 18:48:36 2008 +0100

    The patch introduces the alternative configuration of the log buffer for the lwmon5 board: the storage for the log-buffer itself is OCM(on-chip memory), the log-buffer header is moved to six GPT registers (PPC440EPX_GPT0_COMP1, ..., PPC440EPX_GPT0_COMP5).

     To enable this, alternative, configuration the U-Boot board configuration
    file for lwmon5 includes the definitions of alternative addresses for header
    (CONFIG_ALT_LH_ADDR) and buffer (CONFIG_ALT_LB_ADDR).

     The Linux shall be configured with the CONFIG_ALT_LB_LOCATION option set,
    and has the BOARD_ALT_LH_ADDR and BOARD_ALT_LB_ADDR constants defined in the
    lwmon5 board-specific header (arch/ppc/platforms/4xx/lwmon5.h).

    Signed-off-by: Yuri Tikhonov <yur@emcraft.com>

commit 0f009f781b5b88f25769e154ea4d42db13baf0c6
Author: Yuri Tikhonov <yur@pollux.denx.de>
Date:	Mon Feb 4 17:11:53 2008 +0100

    Add support for the lwmon5 board reset via GPIO58.

    Signed-off-by: Dmitry Rakhchev <rda@emcraft.com>
    Signed-off-by: Yuri Tikhonov <yur@emcraft.com>

commit f694e32f93565ec1fa8d0226c584d6b89e931ed9
Author: Yuri Tikhonov <yur@pollux.denx.de>
Date:	Mon Feb 4 17:09:55 2008 +0100

    Some fixes to dspic, fpga, and gdc post tests for lwmon5. Disable external watch-dog for now.

    Signed-off-by: Dmitry Rakhchev <rda@emcraft.com>
    Signed-off-by: Yuri Tikhonov <yur@emcraft.com>

commit b428f6a8c65c5303e5f96db8d24f2f699d94a98c
Author: Yuri Tikhonov <yur@pollux.denx.de>
Date:	Mon Feb 4 14:11:03 2008 +0100

    The patch introduces the CRITICAL feature of POST tests. If the test marked as POST_CRITICAL fails then the alternative, post_critical, boot-command is used. If this command is not defined then U-Boot enters into interactive mode.

    Signed-off-by: Dmitry Rakhchev <rda@emcraft.com>
    Signed-off-by: Yuri Tikhonov <yur@emcraft.com>

commit 8f15d4addd49c956412e1e3bfc764a0c8b1f3184
Author: Yuri Tikhonov <yur@pollux.denx.de>
Date:	Mon Feb 4 14:10:42 2008 +0100

    The patch adds new POST tests for the Lwmon5 board. These are:

    * External Watchdog test;
    * dsPIC tests;
    * FPGA test;
    * GDC test;
    * Sysmon tests.

    Signed-off-by: Dmitry Rakhchev <rda@emcraft.com>
    Signed-off-by: Yuri Tikhonov <yur@emcraft.com>

commit c2ed33efbfff5767bca236828e021c55fd547b6c
Author: Yuri Tikhonov <yur@pollux.denx.de>
Date:	Mon Feb 4 14:10:01 2008 +0100

    Enable CODEC POST with CFG_POST_CODEC rather than with CFG_POST_DSP.

    Signed-off-by: Dmitry Rakhchev <rda@emcraft.com>

commit 3a5d1e7f1309998791702b2a559e3126781746b9
Author: Yuri Tikhonov <yur@pollux.denx.de>
Date:	Tue Mar 18 13:33:30 2008 +0100

    lwmon5: Fix register test logic to match the specific GDC h/w.

    Signed-off-by: Dmitry Rakhchev <rda@emcraft.com>
    Signed-off-by: Yuri Tikhonov <yur@emcraft.com>

commit 0f855a1f056a8c22116a2103a3900cbfb669df0b
Author: Yuri Tikhonov <yur@pollux.denx.de>
Date:	Tue Mar 18 13:27:57 2008 +0100

    Fix backlight in the lwmon5 POST.

    Backlight was switcehd on even when temperature was too low.

    Signed-off-by: Dmitry Rakhchev <rda@emcraft.com>
    Signed-off-by: Yuri Tikhonov <yur@emcraft.com>

commit 2d991958b1e420fbfe17b128bd26ade74be5efcc
Author: Yuri Tikhonov <yur@pollux.denx.de>
Date:	Wed Feb 6 18:48:36 2008 +0100

     The patch introduces the alternative configuration of the log buffer for
    the lwmon5 board: the storage for the log-buffer itself is OCM(on-chip memory),
    the log-buffer header is moved to six GPT registers (PPC440EPX_GPT0_COMP1, ...,
    PPC440EPX_GPT0_COMP5).

     To enable this, alternative, configuration the U-Boot board configuration
    file for lwmon5 includes the definitions of alternative addresses for header
    (CONFIG_ALT_LH_ADDR) and buffer (CONFIG_ALT_LB_ADDR).

     The Linux shall be configured with the CONFIG_ALT_LB_LOCATION option set,
    and has the BOARD_ALT_LH_ADDR and BOARD_ALT_LB_ADDR constants defined in the
    lwmon5 board-specific header (arch/ppc/platforms/4xx/lwmon5.h).

    Signed-off-by: Yuri Tikhonov <yur@emcraft.com>

commit ff818b21b069f4bc9cb73373cc5a16014be101b7
Author: Yuri Tikhonov <yur@pollux.denx.de>
Date:	Mon Feb 4 17:11:53 2008 +0100

    Add support for the lwmon5 board reset via GPIO58.

    Signed-off-by: Dmitry Rakhchev <rda@emcraft.com>
    Signed-off-by: Yuri Tikhonov <yur@emcraft.com>

commit 603f194e5ad81bb2ef42d6d8aaa74de175bcb411
Author: Yuri Tikhonov <yur@pollux.denx.de>
Date:	Mon Feb 4 17:09:55 2008 +0100

    Some fixes to dspic, fpga, and gdc post tests for lwmon5.
    Disable external watch-dog for now.

    Signed-off-by: Dmitry Rakhchev <rda@emcraft.com>
    Signed-off-by: Yuri Tikhonov <yur@emcraft.com>

commit e262efe35742c1ad4b0966ff501efc26f34a0aec
Author: Yuri Tikhonov <yur@pollux.denx.de>
Date:	Mon Feb 4 14:11:03 2008 +0100

    The patch introduces the CRITICAL feature of POST tests. If the test
    marked as POST_CRITICAL fails then the alternative, post_critical,
    boot-command is used. If this command is not defined then U-Boot
    enters into interactive mode.

    Signed-off-by: Dmitry Rakhchev <rda@emcraft.com>
    Signed-off-by: Yuri Tikhonov <yur@emcraft.com>

commit 65b20dcefc89618193fa51947968dada91e4c778
Author: Yuri Tikhonov <yur@pollux.denx.de>
Date:	Mon Feb 4 14:10:42 2008 +0100

    The patch adds new POST tests for the Lwmon5 board.
    These are:

    * External Watchdog test;
    * dsPIC tests;
    * FPGA test;
    * GDC test;
    * Sysmon tests.

    Signed-off-by: Dmitry Rakhchev <rda@emcraft.com>
    Signed-off-by: Yuri Tikhonov <yur@emcraft.com>

commit 8dc3b2303d2b57c774b609ca0e7043ed8f9b88c1
Author: Yuri Tikhonov <yur@pollux.denx.de>
Date:	Mon Feb 4 14:10:01 2008 +0100

    Enable CODEC POST with CFG_POST_CODEC rather than with CFG_POST_DSP.

    Signed-off-by: Dmitry Rakhchev <rda@emcraft.com>

commit 3515fd18d4e8e44f863ac7142b55e22b109e9af2
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Mar 18 17:35:51 2008 +0100

    HMI1001: fix compile problem.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 1f2a9970109cebf7446e0503b10b71f8673045ee
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Feb 18 05:32:30 2008 -0500

    Blackfin: BF537-stamp: drop board-specific flash driver for CFI

    The parallel flash on the BF537-STAMP is CFI compliant, so there is no need
    for the board specific driver at all.  Just use the common CFI driver.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 5b22163fef865af2b6bfb6b75f1b7bf443ce170c
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Tue Feb 19 00:36:14 2008 -0500

    Blackfin: add proper ELF markings to some assembly functions

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit cf675d3b2b9c3511c1d99bc8f8f38fd2f08bfcaf
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Tue Feb 19 00:35:17 2008 -0500

    Blackfin: new cplbinfo command for viewing cplb tables

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit aadb72503cd1602349a5fe53356d5f55ecc1b900
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Feb 18 05:37:51 2008 -0500

    Blackfin: update MAINTAINERS list

    Add maintainer information for the Blackfin boards.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit f7ce12cb65a30c6e152eecf26f0304b7d78cf39d
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Feb 18 05:26:48 2008 -0500

    Blackfin: convert BFIN_CPU to CONFIG_BFIN_CPU

    Stop tying things to the processor that should be tied to other defines and
    change BFIN_CPU to CONFIG_BFIN_CPU so that it can be used in the build
    system to select the -mcpu option.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 86a20fb920bd198105acf7b1191117f566d637ed
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Feb 16 07:40:36 2008 -0500

    Blackfin: move bootldr command to common code

    This moves the Blackfin-common bootldr command out of the BF537-STAMP
    specific board directory and into the common directory so that all Blackfin
    boards may utilize it.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit decbe029b2a9d3333d02c433389b1c821eea96d7
Author: Heiko Schocher <hs@denx.de>
Date:	Fri Mar 14 11:05:20 2008 +0100

    mgcoge: update configuration

    Fix configuration for mgcoge board

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit c136724cda0219c49f1d4b346f00da29b14fdf14
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Mar 16 01:22:59 2008 +0100

    drivers/rtc/Makefile: keep list sorted

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 9536dfcce03e7be4ccbceb47a08d9ba07ada362f
Author: Tor Krill <tor@excito.com>
Date:	Sat Mar 15 15:40:26 2008 +0100

    Add support for Intersil isl1208 RTC

    Signed-off-by: Tor Krill <tor@excito.com>

commit 0210cff3d079d97b2156b13685ee8de368e68a1a
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Mar 15 17:36:41 2008 +0100

    cramfs: Fix ifdef

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 0b8f2a27861a9fd06eb55a34f855ec9c5102aab4
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Mar 16 01:12:58 2008 +0100

    Conding style cleanup

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 41712b4e8c95dff23354bcd620e1f9477160c190
Author: Stefan Roese <sr@denx.de>
Date:	Wed Mar 5 12:31:53 2008 +0100

    ppc4xx: Add USB OHCI support to AMCC Canyonlands 460EX eval board

    This patch adds USB OHCI support to the Canyonlands board port. It also
    enables EXT2 support.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 2596f5b9d353ff3e4387a3325d05740f16958038
Author: Stefan Roese <sr@denx.de>
Date:	Wed Mar 5 12:29:32 2008 +0100

    usb: Add CFG_OHCI_USE_NPS to common USB-OHCI driver

    This patch adds CFG_OHCI_USE_NPS to the common USB-OHCI driver. This
    way a board just needs to define this new option to enable the "force
    NoPowerSwitching mode" instead of adding new CPU/architecture defines
    to the USB source itself.

    This new option will be used first with the new AMCC 460EX Canyonlands
    board port, which will be posted in a few days.

    This patch also fixes a small compilation problem when DEBUG is enabled.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 71665ebf88408ff2acb762af47989fd4365b321a
Author: Stefan Roese <sr@denx.de>
Date:	Mon Mar 3 17:27:02 2008 +0100

    ppc4xx: Add Canyonlands NAND booting support

    460EX doesn't support a fixed bootstrap option to boot from 512 byte page
    NAND devices. The only bootstrap option for NAND booting is option F for
    2k page devices. So to boot from a 512 bype page device, the I2C bootstrap
    EEPROM needs to be programmed accordingly.

    This patch adds basic NAND booting support for the AMCC Canyonlands aval
    board and also adds support to the "bootstrap" command, to enable NAND
    booting I2C setting.

    Tested with 512 byte page NAND device (32MByte) on Canyonlands.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit c813f1f835a7edfdb929f2843b09db72cd5cd2f2
Author: Stefan Roese <sr@denx.de>
Date:	Tue Mar 11 16:53:00 2008 +0100

    ppc4xx: Add AMCC Canyonlands support (460EX) (3/3)

    This patch adds support for the AMCC Canyonlands 460EX evaluation
    board.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 6983fe21f774a924d3adb263a270bc2f301f2aa2
Author: Stefan Roese <sr@denx.de>
Date:	Tue Mar 11 16:52:24 2008 +0100

    ppc4xx: Add AMCC Canyonlands support (460EX) (2/3)

    This patch adds support for the AMCC Canyonlands 460EX evaluation
    board.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 8e1a3fe545bbcfceafe183344ebc9f1ad03819c1
Author: Stefan Roese <sr@denx.de>
Date:	Tue Mar 11 16:51:17 2008 +0100

    ppc4xx: Add AMCC Canyonlands support (460EX) (1/3)

    This patch adds support for the AMCC Canyonlands 460EX evaluation
    board.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 43c60992cdf72496e7eaaa3fbd37ebbe75835f69
Author: Stefan Roese <sr@denx.de>
Date:	Tue Mar 11 15:11:43 2008 +0100

    ppc4xx: Add basic support for AMCC 460EX/460GT (5/5)

    This patch adds basic support for the AMCC 460EX/460GT PPC's.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 6f2eb3f3d8ea2dbb224d0da5a12038693bab9945
Author: Stefan Roese <sr@denx.de>
Date:	Tue Mar 11 15:11:18 2008 +0100

    ppc4xx: Add basic support for AMCC 460EX/460GT (4/5)

    This patch adds basic support for the AMCC 460EX/460GT PPC's.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 999ecd5aca381984d8ebbeb207ece82a1c275577
Author: Stefan Roese <sr@denx.de>
Date:	Tue Mar 11 15:07:10 2008 +0100

    ppc4xx: Add basic support for AMCC 460EX/460GT (3/5)

    This patch adds basic support for the AMCC 460EX/460GT PPC's.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 2801b2d2a9906f206ab9ee8d0b6e746d2b7fe05a
Author: Stefan Roese <sr@denx.de>
Date:	Tue Mar 11 15:05:50 2008 +0100

    ppc4xx: Add basic support for AMCC 460EX/460GT (2/5)

    This patch adds basic support for the AMCC 460EX/460GT PPC's.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 8ac41e3e37c3080c6b1d9461d654161cfe2aa492
Author: Stefan Roese <sr@denx.de>
Date:	Tue Mar 11 15:05:26 2008 +0100

    ppc4xx: Add basic support for AMCC 460EX/460GT (1/5)

    This patch adds basic support for the AMCC 460EX/460GT PPC's.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 56e410178375d9f20be25fb24e180974f0ae120b
Author: Stefan Roese <sr@denx.de>
Date:	Tue Feb 19 22:07:57 2008 +0100

    ppc4xx: interrupt.c reworked

    This patch is a rework of the 4xx interrupt handling done while
    adding the 460EX/GT support. Interrupts are needed on 4xx for the
    EMAC driver.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 84a999b6cdd0b02dc7de2cacc306eaa84afe2b46
Author: Stefan Roese <sr@denx.de>
Date:	Tue Feb 19 22:01:57 2008 +0100

    ppc4xx: program_tlb now uses 64bit physical addess

    This patch changes the physical addess parameter from 32bit to 64bit.
    This is needed for 36bit 4xx platforms to access areas located
    beyond the 4GB border, like SoC peripherals (EBC etc.).

    Signed-off-by: Stefan Roese <sr@denx.de>

commit c3307fa186af85771924c434997089b8104c0a46
Author: Stefan Roese <sr@denx.de>
Date:	Tue Feb 19 21:58:25 2008 +0100

    ppc4xx: miiphy.c reworked

    While adding the 460EX/GT support I reworked the 4xx miiphy code. It
    badly neede some cleanup.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 88aff62df39c0756241ea9f9b5a7b3ade26cb82b
Author: Stefan Roese <sr@denx.de>
Date:	Tue Feb 19 16:21:49 2008 +0100

    rtc: Add M41T62 support

    This patch add support for the STM M41T62 RTC. It is used and tested
    on the AMCC Canyonlands 406EX platform.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 217d383e201adc7f2271145ae345ea5eae2b7170
Author: Niklaus Giger <niklaus.giger@netstal.com>
Date:	Mon Feb 25 18:46:43 2008 +0100

    ppc4xx: Add 405GPr based MCU25 board specific files

    Signed-off-by: Niklaus Giger <niklaus.giger@netstal.com>

commit 75a66dcdb383863ad33f0534cfc27b7a86947dad
Author: Niklaus Giger <niklaus.giger@netstal.com>
Date:	Mon Feb 25 18:46:42 2008 +0100

    ppc4xx: Add 405GPr based MCU25 board config file

    Signed-off-by: Niklaus Giger <niklaus.giger@netstal.com>

commit b05f35436b733a240559e77e46bed8439665ecc5
Author: Niklaus Giger <niklaus.giger@netstal.com>
Date:	Mon Feb 25 18:46:41 2008 +0100

    ppc4xx: Add 405GPr based MCU25 board. Global files

    Signed-off-by: Niklaus Giger <niklaus.giger@netstal.com>

commit 14c27b35ac812a71abce6e3e2f4129d5e9313660
Author: Niklaus Giger <niklaus.giger@netstal.com>
Date:	Mon Feb 25 18:37:02 2008 +0100

    ppc4xx: HCU4/5. remove obsolete hcu_flash.c

    Signed-off-by: Niklaus Giger <niklaus.giger@netstal.com>

commit a079494853cc2bfeddb26673219db0b4b2b31566
Author: Niklaus Giger <niklaus.giger@netstal.com>
Date:	Mon Feb 25 18:37:01 2008 +0100

    ppc4xx: HCU4/5. Use FLASH_CFI_LEGACY

    Cleanup: Remove custom flash driver for 8 bit boot-eprom and replace it with
    the FLASH_CFI_LEGACY et al. config options.

    Signed-off-by: Niklaus Giger <niklaus.giger@netstal.com>

commit e4170e5a50c8110f792bc37472833ae669d69951
Author: Stefan Roese <sr@denx.de>
Date:	Tue Mar 11 13:52:25 2008 +0100

    ppc4xx: Fix comment in 405EX DDR2 init code

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 766529fccc860ecb9e955b4239dff69cd9e4ea09
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Fri Mar 14 16:22:34 2008 +0100

    Add MD5 support to the new uImage format

    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>

commit 0ede0c383530a418cf98be9122371a86573cd0db
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Fri Mar 14 16:22:34 2008 +0100

    Add the MD5 algorithm

    MD5 supoprt is turned on by defining CONFIG_MD5, the digest can be then
    calculated using the md5() function -- see include/md5.h for details.

    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>

commit b8aa57b5d4d69e8f0810a5e632c0ce41c0f46ee0
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Mar 14 16:04:54 2008 +0100

    tools/setlocalversion: use a git-describe-ish format

    Change the automatic local version to have the form -nnnnn-gSHA1SUMID,
    where 'nnnnn' is the number of commits since the last tag (i.e.,
    1.3.2-rc3).  This makes it much easier to recognize "newer" versions
    and to see how much has been changed since the referenced tag.

    Stolen from Linux kernel's scripts/setlocalversio, see commit d882421f.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit c6dc21c84de0f159a1752c5ebd33cff843f63609
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Mar 13 14:32:03 2008 +0100

    HMI1001: add support for MPC5200 Rev. B processors.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 90f13dce7a7a9a84d5730576c9a24d0dbb07cb3a
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Mar 13 14:29:49 2008 +0100

    TQM5200: remove dead code

    This board never used a MGT5100 processor.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit afe45c87e3c5d77bad76b1a57dccd20764d45b5d
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Wed Mar 12 12:14:15 2008 +0100

    [new uImage] Fix build issue on ARM

    ARM platforms don't have a bd->bi_memsize so use bd->bi_dram[0].size instead.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 3310c549a73a949430bfda90876df7552a1dab0c
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Wed Mar 12 12:13:13 2008 +0100

    [new uImage] Add new uImage format documentation and examples

    Create doc/uImage.FIT documentation directory with the following files:
    - command_syntax_extensions.txt : extended command syntax description
    - howto.txt			    : short usage howto
    - source_file_format.txt	    : internal new uImage format description

    Add example image source files:
    - kernel.its
    - kernel_fdt.its
    - multi.its

    Update README appropriately.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>
    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>

commit 1ec73761d2e247078f4520a265d463e8b73391a2
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Wed Mar 12 10:35:52 2008 +0100

    [new uImage] Fix definition of common bootm_headers_t fields

    verify, autostart and lmb fields are used regardless of CONFIG_FIT
    setting, move their definitions to common section.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 1d1cb4270edc6a99276834064069717f9782c491
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Wed Mar 12 10:35:51 2008 +0100

    [new uImage] Fix build problems on trab board

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit f773bea8e11f4a11c388dcee956b2444203e6b65
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Wed Mar 12 10:35:46 2008 +0100

    [new uImage] Add proper ramdisk/FDT handling when FIT configuration is used

    Save FIT configuration provied in the first bootm argument and use it
    when to get ramdisk/FDT subimages when second and third (ramdisk/FDT)
    arguments are not specified.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 2682ce8a4225f23d72bb7fed069e928dd39d34ae
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Wed Mar 12 10:33:01 2008 +0100

    [new uImage] More verbose kernel image uncompress error message

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 1372cce2b9040fb640e5032b84e3a033a22d6ff0
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Wed Mar 12 10:33:01 2008 +0100

    [new uImage] Use show_boot_progress() for new uImage format

    This patch allocates a set of show_boot_progress() IDs for new uImage format
    and adds show_boot_progress() calls in new uImage format handling code.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit c28c4d193dbfb20b2dd3a5447640fd6de7fd0720
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Wed Mar 12 10:33:01 2008 +0100

    [new uImage] Add new uImage fromat support to fpga command

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 09475f7527460e426c0e0628fc5b8f3754fbaa23
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Wed Mar 12 10:33:01 2008 +0100

    [new uImage] Add new uImage format handling to other bootm related commands

    Updated commands:

    docboot  - cmd_doc.c
    fdcboot  - cmd_fdc.c
    diskboot - cmd_ide.c
    nboot    - cmd_nand.c
    scsiboot - cmd_scsi.c
    usbboot  - cmd_usb.c

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 1b7897f28d49a80d78d760ec6f6f11dc0f914338
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Wed Mar 12 10:33:00 2008 +0100

    [new uImage] Add new uImage format support to imgextract command

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 424c4abdd175d2c470510df8ce0e32d3f463ec16
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Wed Mar 12 10:33:00 2008 +0100

    [new uImage] Add new uImage format support to autoscript routine

    autoscript() routine is updated to accept second argument, which
    is only used for FIT images and provides a FIT subimage unit name.

    autoscript() routine callers must now pass two arguments. For
    non-interactive use (like in cmd_load.c, cmd_net.c), new environment
    variable 'autoscript_uname' is introduced and used as a FIT
    subimage unit name source.

    autoscript command accepts extended syntax of the addr argument:
    addr:<subimg_uname>

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit cd7c596e9f561dbbc17b717277438aee78cde14f
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Wed Mar 12 10:33:00 2008 +0100

    [new uImage] Add new uImage format support to arch specific do_bootm_linux() routines

    This patch updates architecture specific implementations of
    do_bootm_linux() adding new uImage format handling for
    operations like get kernel entry point address, get kernel
    image data start address.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 3dfe110149311425919e6d6a14b561b4207498f1
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Wed Mar 12 10:32:59 2008 +0100

    [new uImage] Add node offsets for FIT images listed in struct bootm_headers

    This patch adds new node offset fields to struct bootm_headers
    and updates bootm_headers processing code to make use of them.
    Saved node offsets allow to avoid repeating fit_image_get_node() calls.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit bc8ed486b125452ba3bd8344f052f437329150c5
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Wed Mar 12 10:32:53 2008 +0100

    [new uImage] ppc: Add new uImage format support to FDT handling routines

    Support for new (FIT) format uImages is added to powerpc specific
    boot_get_fdt() routine which now recognizes, sanity checks FIT image
    and is able to access data sections of the requested component image.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit a44a269a905f924b420020506a4d7d7eedcc0eaf
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Wed Mar 12 10:14:57 2008 +0100

    [new uImage] Re-enable interrupts for non automatic booting

    Re-enable interrupts if we return from do_bootm_<os> and 'autostart'
    environment variable is not set to 'yes'.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit d985c8498c4e47095820da97aa722381d39172c5
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Wed Mar 12 10:14:38 2008 +0100

    [new uImage] Remove unnecessary arguments passed to ramdisk routines

    boot_get_ramdisk() and image_get_ramdisk() do not need all
    cmdtp, flag, argc and argv arguments. Simplify routines definition.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit c87796483bc7c2900470dc747c367f602577608d
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Wed Mar 12 10:12:37 2008 +0100

    [new uImage] Add new uImage format support for ramdisk handling

    This patch updates boot_get_ramdisk() routine adding format
    verification and handling for new (FIT) uImages.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 6986a385671749ecb3f60cf99e9cbae8e47bb50e
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Wed Mar 12 10:01:05 2008 +0100

    [new uImage] Add new uImage format support for kernel booting

    New format uImages are recognized by the bootm command,
    validity of specified kernel component image is checked and
    its data section located and used for further processing
    (uncompress, load, etc.)

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit e32fea6adb620ecf2bd70acf2dd37e53df9d1547
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Tue Mar 11 12:35:20 2008 +0100

    [new uImage] Add new uImage format support for imls and iminfo commands

    imls and iminfo can now recognize nad print out contents of the new (FIT)
    format uImages.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 9d25438fe7d70cf35a8a293ea5e392fefc672613
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Tue Mar 11 12:34:47 2008 +0100

    [new uImage] Add support for new uImage format to mkimage tool

    Support for the new uImage format (FIT) is added to mkimage tool.
    Commandline syntax is appropriately extended:

    mkimage [-D dtc_options] -f fit-image.its fit-image

    mkimage (together with dtc) takes fit-image.its and referenced therein
    binaries (like vmlinux.bin.gz) as inputs, and produces fit-image file -- the
    final image that can be transferred to the target (e.g., via tftp) and then
    booted using the bootm command in U-Boot.

    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>

commit eb6175edd6c120d8b89678243e5a2be362ee8e40
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Mon Mar 10 17:53:49 2008 +0100

    [new uImage] Make node unit names const in struct bootm_headers

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 5dfb52138688ccbf0146f62683fe6217b3ce1b05
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Fri Feb 29 21:24:06 2008 +0100

    [new uImage] New uImage low-level API

    Add FDT-based functions for handling new format component images,
    configurations, node operations, property get/set, etc.

    fit_	- routines handling global new format uImage operations
		  like get/set top level property, process all nodes, etc.
    fit_image_	- routines handling component images subnodes
    fit_conf_	- routines handling configurations node

    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>
    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 30f1806f60978d707b0cff2d7bf89d141fc24290
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Mar 9 16:20:02 2008 +0100

    Release v1.3.2

    Update CHANGELOG for release.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 5b464c289ba715d0979b6e1f94947bb8f1068d16
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Mar 9 14:52:11 2008 +0100

    SCM: fix 'packed' attribute ignored for field of type 'can_msg_t' warnings

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit db695b78515ddb88a2d4f3357c120345efbf59ec
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Mar 9 10:44:01 2008 +0100

    scb9328: Fix flash warning: type qualifiers ignored on function return type

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 2b3e7e61d6a72f16aee93f870bc6af67f30758c4
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Mar 9 10:50:41 2008 +0100

    esd/common/fpga.c: fix indentation.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit cc3843e36453e2b8db65d7e56de938ba045016a0
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Mar 9 10:33:31 2008 +0100

    common/kgdb.c: fix 'dereferencing type-punned pointer' warning

    and get rid of a couple of unneeded casts.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 8d4f4a838d7dc7cf4de17e3e9a67e2f222b6a1c8
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Mar 9 10:09:53 2008 +0100

    esd/common/fpga.c: fix 'assignment of read-only location' error

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit c6fe4dabac066e8758345d249032768496983a3e
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Mar 9 02:13:19 2008 +0100

    Makefile: make build silently again.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 76babc86576f092573599334c85ec543fdbc6015
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Mar 9 02:07:49 2008 +0100

    m501sk: Fix out of tree building

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 210ed2004e062fdd03f25ab4925998aa1bd08a07
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Mar 9 00:06:09 2008 +0100

    ADS5121: fix out of tree build

    and simplify Makefile a bit.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 46cb5074a3f74de64ebd97dd0c4ec7eb3d768b93
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Mar 8 22:35:31 2008 +0100

    Release v1.3.2

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 78a90f827df74520e939c794fc7413dace21c4db
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Mar 8 22:35:04 2008 +0100

    Update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 58f3c57c6008b42e01f551d3be6efd88c14ac87f
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Mar 8 21:30:04 2008 +0100

    esd: Fix warning: passing argument 1 of 'fpga_boot' discards qualifiers from pointer target type

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit d75469d48c05795144f4b8ba76addbb4920a7bba
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Sat Mar 8 09:25:49 2008 +0900

    net: rtl8169: Add processing when OWNbit did't enable in rtl_recv()

    When rtl_recv() of rtl8169 is called, OWNbit of status register
    is not enable occasionally.
    rtl_recv() doesn't work normally when the driver doesn't do
    appropriate processing.
    This patch fix this problem.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 82afabfeb8ae6a27c7b396011ea99f4712aa73fa
Author: Heiko Schocher <hs@denx.de>
Date:	Fri Mar 7 08:15:28 2008 +0100

    mgsuvd: update board configuration

    initialize the UPIOx controller.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit e492c90c26215e459aec0fdf0f8ef1fd204988f5
Author: Heiko Schocher <hs@denx.de>
Date:	Fri Mar 7 08:13:41 2008 +0100

    mgcoge: update board configuration

    add support for the config Flash.
    initialize the UPIOx controller.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 270fe261b7f9292800b2b3d1bf19ae7cbc880258
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Fri Mar 7 12:27:31 2008 -0600

    mpc83xx: make dtb basename file references equal those of linux

    the dts file basenames were updated in linux - this helps avoid
    inadvertently loading any old dtbs laying around.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit f30b6154f16f5ffa4a9f5bfca5e114d72b6ef675
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Wed Feb 27 16:08:22 2008 -0600

    net: uec_phy: actually increment the timeout counter

    allow u-boot to recover (and, e.g., switch to another interface) in the
    case where a PHY does not report autonegotiation is complete within its
    two second timeout value.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 772003e43957ee0c895abed7cd82cbe72820cbb8
Author: Markus Brunner <super.firetwister@googlemail.com>
Date:	Wed Mar 5 21:38:12 2008 +0100

    fix taihu soft spi_read

    The taihu board used gpio_read_out_bit which reads the output register and not
    the pin state.

    Signed-off-by: Markus Brunner <super.firetwister@gmail.com>

commit fc84a8495ac750f6b4adae81f8c4f100f65b6340
Author: Stefan Roese <sr@denx.de>
Date:	Fri Mar 7 08:01:43 2008 +0100

    ppc4xx: Sequoia: Add device tree (fdt) Linux booting default env variables

    Signed-off-by: Stefan Roese <sr@denx.de>

commit bd4458cb47abecabd406b1210457be96c69fc49d
Author: Dave Liu <r63238@freescale.com>
Date:	Tue Mar 4 16:59:22 2008 +0800

    837xEMDS: Improve the system performance

    1. Make the CSB bus pipeline depth as 4, and enable
       the repeat mode;
    2. Raise the eTSEC emergency priority;
    3. Use the highest IP blocks clock.

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit d8ab58b212481b1c57947ea21aa96c4ce800d0b4
Author: Detlev Zundel <dzu@denx.de>
Date:	Thu Mar 6 16:45:53 2008 +0100

    Replace "run load; run update" with conditionalized "run load update".

    The latter version stops when "run load" fails for whatever reasons
    rendering the combination *a lot* more secure.

    Signed-off-by: Detlev Zundel <dzu@denx.de>

commit 6bc113886d7d316df1a4e459bec8baf027518551
Author: Stefan Roese <sr@denx.de>
Date:	Tue Mar 4 17:40:41 2008 +0100

    net: Print error message upon net usage when no ethernet-interface is found

    This patch fixes a problem seen on PPC4xx boards, when no MAC address is
    defined. Then no ethernet interface is available but a simple "tftp"
    command will return without any error message which is quite confusing.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit a30a549a3553032d809e0356306b62de0b125901
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Mar 4 10:03:03 2008 -0600

    Remove erroneous or extra spd.h #includers.

    Many of the spd.h #includers don't need it,
    and wanted to have spd_sdram() declared instead.
    Since they didn't get that, some also had open
    coded extern declarations of it instead or as well.
    Fix it all up by using spd_sdram.h where needed.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit a4475386cef14af3fd88f0518b688e755669486d
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Mar 4 17:41:28 2008 +0100

    PCS440EP: fix build problems (redundant #define)

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit e85e2fa85ec09a6fac2846d1d881d8737e2bbda9
Author: Stefan Roese <sr@denx.de>
Date:	Tue Mar 4 17:39:25 2008 +0100

    net: Print error message upon net usage when no ethernet-interface is found

    This patch fixes a problem seen on PPC4xx boards, when no MAC address is
    defined. Then no ethernet interface is available but a simple "tftp"
    command will return without any error message which is quite confusing.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 384faaafb999cae3ce447c93e28a0b7e2e5fef53
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Mar 4 17:38:50 2008 +0100

    W7OLMC/W7OLMG: fix build problems (redundant #define)

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit f9301e1cda296245ba052d7b08321199c3d0af9d
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Mar 4 14:58:31 2008 +0100

    Makefile: fix problem with out-of-tree builds introduced by 5013c09f

    Commit 5013c09f (Makefile: cleanup "clean" target) introduced a
    problem for out-of-tree builds which caused "make clean" to fail.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit dfece9500556bed5d8244b1c15d973cec7c25bfe
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Mar 4 11:58:26 2008 +0100

    examples/Makefile: build "hello_world" on 8xx, too.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 74eb0222594fd23aafdf168e60e872814eea8b62
Author: Mike Nuss <mike@terascala.com>
Date:	Mon Mar 3 15:27:05 2008 -0500

    PPC4xx (Sequoia): Fix Ethernet "remote fault" problems

    Every now and then a Sequoia board (or equivalent hardware) had
    problems connecting to a Gigabit capable network interface.

    There were differences in the PHY setup between Linux and U-Boot.

    This patch fixes the problem. Apparently "remote fault" is being set,
    which signals to some devices (on the other end of the cable) that a
    fault has occurred, while other devices ignore it. I believe the RF bit
    was causing the issue, but I removed T4 also, to match up with Linux.

    Signed-off-by: Mike Nuss <mike@terascala.com>

commit 491fb6dea9f52fdb9cb5996e8e978b9e9685179f
Author: Timur Tabi <timur@freescale.com>
Date:	Mon Mar 3 09:58:52 2008 -0600

    fix QE firmware uploading limit

    Fix a typo in qe_upload_firmware() that prevented uploading firmware on
    systems with more than one RISC core.

    Signed-off-by: Timur Tabi <timur@freescale.com>

commit 42ba58e0c302b339a3c2faa6006a013c6f186b7a
Author: Bernhard Nemec <bnemec@ganssloser.com>
Date:	Mon Mar 3 11:57:23 2008 +0000

    Fix endianess problem in cramfs code (cramfs is always host-endian in Linux)

    Originally pointed out by Laurent Pinchart <laurent.pinchart@tbox.biz>,
    see http://thread.gmane.org/gmane.comp.boot-loaders.u-boot/22846

    Signed-off-by: Bernhard Nemec <bnemec <at> ganssloser.com>

commit 84d0c2f1e39caff58bf765a7ab7c72da23c25ec8
Author: Kim B. Heino <Kim.Heino@bluegiga.com>
Date:	Mon Mar 3 10:39:13 2008 +0200

    fix copy from ram to dataflash

    If I try to "cp.b <ram> <dataflash>", u-boot selects normal flash
    routines instead of dataflash. This is because it checks "if source
    address is not dataflash" instead of target address.

    Signed-off-by: Kim B. Heino <Kim.Heino@bluegiga.com>

commit 32bf3d143a888f8deacfdcc97e898f6c06d0aea4
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Mar 3 12:16:44 2008 +0100

    Fix quoting problem (preboot setting) in many board config files.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 5b0b2b6fc9fe22e3864c2a57316d91a2507ec215
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Mar 3 12:36:49 2008 +0100

    ADS5121: Fix default environment.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 91c82076ae492bb1f9d9c47a481314631d32dc8e
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Mar 2 16:12:31 2008 +0100

    Makefile: Fix missing unconfig and mkconfig use

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 8ce4e5c2c02cb7e8adddf7b651d3050d81ce4c1d
Author: michael <trimarchi@gandalf.sssup.it>
Date:	Sun Mar 2 23:33:46 2008 +0100

    Fix checking fat32 cluster size.

    This fixes the cluster size tests in the FAT32 file system.
    The current implementation of VFAT support doesn't work if the
    referred cluster has an offset > 16bit representation, causing
    "fatload" and "fatls" commands etc. to fail.

    Signed-off-by: michael trimarchi <trimarchi@gandalf.sssup.it>

commit 661bad63a076a96c39c64f136915f146725af92b
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Mar 2 22:57:23 2008 +0100

    Prepare v1.3.2-rc2 release candidate

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 76957cb3d621bf664311908e5962e151c633c285
Author: Stefan Roese <sr@denx.de>
Date:	Sat Mar 1 12:11:40 2008 +0100

    ppc4xx: EMAC: Fix 405EZ fifo size setup in EMAC_MR1

    The 405EZ only supports 512 bytes of rx-/tx-fifo EMAC sizes. But
    currently 4k/2k is configured. This patch fixes this issue.

    Thanks to Thomas Kindler <tkindler@lenord.de> for pointing this out.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 118978c8eb43803e2794233922df4249fa278b83
Author: Woodruff, Richard <r-woodruff2@ti.com>
Date:	Fri Feb 29 17:34:35 2008 -0600

    Fix alignment error on ARM for modules

    Fix alignment fault on ARM when running modules.  With out an explicit
    linker file gcc4.2.1 will half word align __bss_start's value.  The word
    dereference will crash hello_world.

    signed-off-by Richard Woodruff <r-woodruff2@ti.com>

commit ce1120dd703e6f12c59e4eba9962356a0300b832
Author: Dave Liu <r63238@freescale.com>
Date:	Fri Feb 29 17:45:31 2008 +0800

    fs: Fix ext2 read issue

    The ext2 aligned process will corrupt the key
    data struct, the patch fix this.

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit 5013c09f7a5675952a3ca88b6bc6c924e63af33e
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Mar 2 22:45:33 2008 +0100

    Makefile: cleanup "clean" target

    Make sure CDPATH settings cannot interfere.
    Update CHANGELOG.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit ffda586fc1373243c9794babde69500f6293a8d8
Author: Li Yang <leoli@freescale.com>
Date:	Fri Feb 29 11:46:05 2008 +0800

    add cscope build target

    Add cscope build target to generate cscope database for code browsing.

    Signed-off-by: Li Yang <leoli@freescale.com>

commit f655adef65e4cf6b929054b049ee19ae9b5ccbe2
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Wed Feb 27 15:06:39 2008 -0600

    net: uec_phy: handle 88e1111 rev.B2 erratum 5.6

    erratum 5.6 states the autoneg completion bit is functional only if the
    autoneg bit is asserted.

    This fixes any secondarily-issued networking commands on non-gigabit
    links on the mpc8360 mds board.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 5f91db7f582ca17b1f19f10189c025696f333d2e
Author: John Rigby <jrigby@freescale.com>
Date:	Tue Feb 26 09:38:14 2008 -0700

    MPC5121e ADS PCI support take 3

    Adds PCI support for MPC5121

    Tested with drivers/net/rtl8139.c

    Support is conditional since PCI on old silicon does not work.

    ads5121_PCI_config turns on PCI

    In this version, condition compilation of PCI code has been moved
    from ifdef in board/ads5121/pci.c to board/ads5121/Makefile as
    suggested by Jean-Christophe PLAGNIOL-VILLARD

    Signed-off-by: John Rigby <jrigby@freescale.com>

commit 44b4dbed4133f657705b7c5193209da9978243a7
Author: Anatolij Gustschin <agust@denx.de>
Date:	Mon Feb 25 23:53:07 2008 +0100

    Fix warnings while compilation of post/drivers/memory.c

    Fix warnings while compilation with new gcc in eldk-4.2

    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit 4fae35a53b3e958254d6574a1cc7e10811fc6726
Author: Anatolij Gustschin <agust@denx.de>
Date:	Mon Feb 25 20:54:04 2008 +0100

    ppc4xx: Fix problem in 4xx_enet.c driver

    U-Boot crashes in the net loop if CONFIG_4xx_DCACHE is
    enabled. To reproduce the problem ensure that 'ethrotate'
    environment variable isn't set to "no" and then run
    "tftp 200000 not_existent_file".
    This patch tries to fix the issue.

    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit 60ec654c5eb80d0fe0c38a3bd42140215bc06484
Author: Anatolij Gustschin <agust@denx.de>
Date:	Mon Feb 25 20:04:20 2008 +0100

    POST: Disable cache while SPR POST

    Currently (since commit b2e2142c) u-boot crashes on
    sequoia board while SPR test if CONFIG_4xx_DCACHE is
    enabled. This patch disables the cache while SPR test.

    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit c313b2c6c555e7d89ec59bd51c59ab164ad0105d
Author: Martin Krause <martin.krause@tqs.de>
Date:	Mon Feb 25 17:52:40 2008 +0100

    TQM5200: use automatic fdt memory fixup (part 2)

    Call fdt_fixup_memory() on the boards TQM5200, TQM5200_B, TQM5200S,
    TB5200 and TB5200_B to fixup the /memory node with the memory values
    detected by U-Boot.

    Signed-off-by: Martin Krause <martin.krause@tqs.de>

commit 44ceec253ea941b301abf4b079d52324def69d92
Author: Martin Krause <martin.krause@tqs.de>
Date:	Mon Feb 25 15:17:05 2008 +0100

    TQM5200: use automatic fdt memory fixup

    Call fdt_fixup_memory() on the boards TQM5200, TQM5200_B, TQM5200S,
    TB5200 and TB5200_B to fixup the /memory node with the memory values
    detected by U-Boot.

    Signed-off-by: Martin Krause <martin.krause@tqs.de>

commit f3a329acb26017d8e10e9c93e1e726c2a5ac634a
Author: Martin Krause <martin.krause@tqs.de>
Date:	Mon Feb 25 13:27:52 2008 +0100

    TQM5200: fix bug in SDRAM initialization code

    This patch fixes a bug in the SDRAM initialization code for the
    TQM5200. The hi_addr bit is now set correctly. Without this patch
    the hi_addr bit is always set to 1, if the second SDRAM bank is
    not populated.

    For other MPC5200 boards a correspondig patch has already been applied
    some time ago, see commit a63109281ad41b0fb489fdcb901171f76bcdbc2c.

    Signed-off-by: Martin Krause <martin.krause@tqs.de>
    --
    Forget the first patch please. I confused flash with SDRAM in
    the comment ...

commit 217bf6b6a313d9ccb619a4dbc09f73f77cd48df1
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Mon Feb 25 00:03:12 2008 +0100

    mx1fs2/flash: Fix multiple compiler warnings

    "pointer targets in assignment differ in signedness"

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 5599c28cef55be42a8ca6fa8086b1a44e56a85d2
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Mon Feb 25 00:03:11 2008 +0100

    arm-imx: Fix register definitions

    Sync register definitions with linux

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit c9bcf75fecc58886af77d2a571cff2eab39eab6f
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Mon Feb 25 00:03:10 2008 +0100

    actua1/actua2/actua3: Fix multiple unused variable warnings

    - actua1:
	actux1.c: In function 'checkboard':
	actux1.c:92: warning: unused variable 'revision'

    - actua2:
	actux2.c: In function 'checkboard':
	actux2.c:100: warning: unused variable 's'
	actux2.c:99: warning: unused variable 'revision'
	actux2.c: In function 'reset_phy':
	actux2.c:130: warning: unused variable 'i'

    - actua3:
	actux3.c: In function 'checkboard':
	actux3.c:114: warning: unused variable 'revision'

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit f8fa6368a6a0c02164da8e2f52f18d457c6977bd
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Sun Feb 24 11:44:29 2008 +0900

    Remove the __STRICT_ANSI__ check from the __u64/__s64 declaration on 32bit targets.

    The previous patch was lacking of i386, microblaze, nios and nios2. This
    patch tries to fix them.

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit 05e07b1ea22844e946cfcf7d5e8a0199d18d2a95
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Fri Feb 29 22:22:46 2008 +0100

    [new uImage] Fix FDT blob totalsize calculation in boot_relocate_fdt()

    Do not use global fdt blob pointer, calculate blob size from routine
    argument blob pointer.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit d1cc52879c8966507dad9fb575481e6d3985e64e
Author: David Gibson <david@gibson.dropbear.id.au>
Date:	Tue Feb 12 00:58:31 2008 +1100

    libfdt: Add and use a node iteration helper function.

    This patch adds an fdt_next_node() function which can be used to
    iterate through nodes of the tree while keeping track of depth.  This
    function is used to simplify the iteration code in a lot of other
    functions, and is also exported for use by library users.

    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>

commit 8cf30809a82902a471866d2f07725ce3b8a22291
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Fri Feb 29 16:00:24 2008 +0100

    [new uImage] Add libfdt support to mkimage

    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>

commit a6e530f00d31a8494a0422799b2b9a692a9c0eb9
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Fri Feb 29 16:00:23 2008 +0100

    [new uImage] Add sha1.o object to mkimage binary build

    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>

commit df6f1b895c997978f03afe04502ee76b7ba34ab9
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Fri Feb 29 16:00:06 2008 +0100

    [new uImage] Fix component handling for legacy multi component images

    Use uint32_t when accessing size table in image_multi_count() and
    image_multi_getimg() for multi component images.

    Add missing uimage_to_cpu() endianness conversion.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 570abb0ad120f6002bcaa3cf6f32bd4ca2e1b248
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Fri Feb 29 15:59:59 2008 +0100

    [new uImage] Share common uImage code between mkimage and U-boot

    This patch adds the following common routines:

    1) Dedicated mkimage print_header() is replaced with common
    image_print_contents()
    image_print_contents_noindent()

    2) Common os/arch/type/comp fields name <--> id translation routines
    genimg_get_os_name()
    genimg_get_arch_name()
    genimg_get_type_name()
    genimg_get_comp_name()
    genimg_get_os_id()
    genimg_get_arch_id()
    genimg_get_type_id()
    genimg_get_comp_id()

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 9a4daad0a35eb5143037eea9f786a3e9d672bdd6
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Fri Feb 29 14:58:34 2008 +0100

    [new uImage] Update naming convention for bootm/uImage related code

    This patch introduces the following prefix convention for the
    image format handling and bootm related code:

    genimg_		- dual format shared code
    image_		- legacy uImage format specific code
    fit_		- new uImage format specific code
    boot_		- booting process related code

    Related routines are renamed and a few pieces of code are moved around and
    re-grouped.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 75fa002c47171b73fb4c1f2c2fe4d6391c136276
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Feb 27 21:51:51 2008 -0600

    [new uImage] Respect autostart setting in linux bootm

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: Marian Balakowicz <m8@semihalf.com>

commit d3f2fa0d278467b2232e4eb2372f905c3febfbeb
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Feb 27 21:51:50 2008 -0600

    [new uImage] Provide ability to restrict region used for boot images

    Allow the user to set 'bootm_low' and 'bootm_size' env vars as a way
    to restrict what memory range is used for bootm.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: Marian Balakowicz <m8@semihalf.com>

commit e822d7fc4dd4755d4d0a22f05e33f33d1a0481da
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Feb 27 21:51:49 2008 -0600

    [new uImage] Use lmb for bootm allocations

    Convert generic ramdisk_high(), get_boot_cmdline(), get_boot_kbd()
    functions over to using lmb for allocation of the ramdisk, command line
    and kernel bd info.

    Convert PPC specific fdt_relocate() to use lmb for allocation of the device
    tree.

    Provided a weak function that board code can call to do additional
    lmb reserves if needed.

    Also introduce the concept of bootmap_base to specify the offset in
    physical memory that the bootmap is located at.  This is used for
    allocations of the cmdline, kernel bd, and device tree as they should
    be contained within bootmap_base and bootmap_base + CFG_BOOTMAPSZ.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit f5614e7926863bf0225ec860d9b319741a9c4004
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Feb 27 21:51:48 2008 -0600

    [new uImage] Add autostart flag to bootm_headers structure

    The autostart env variable was dropped as part of the initial new uImage
    cleanup.  Add it back here so the arch specific code can decide if it
    wants to really boot or not.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: Marian Balakowicz <m8@semihalf.com>

commit 4ed6552f715983bfc7d212c1199a1f796f1144ad
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Feb 27 21:51:47 2008 -0600

    [new uImage] Introduce lmb from linux kernel for memory mgmt of boot images

    Introduce the LMB lib used on PPC in the kernel as a clean way to manage
    the memory spaces used by various boot images and structures.  This code
    will allow us to simplify the code in bootm and its support functions.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 4648c2e7a173b0d7f17bef4adaa0623090c9e904
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Feb 19 22:03:47 2008 -0600

    [new uImage] ppc: Allow boards to specify effective amount of memory

    For historical reasons we limited the stack to 256M because some boards
    could only map that much via BATS.	However newer boards are capable of
    mapping more memory (for example 85xx is capable of doing up to 2G).

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: Marian Balakowicz <m8@semihalf.com>

commit 274cea2bddbca10cdad7daa518951b75c44ef6bc
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Feb 27 21:51:46 2008 -0600

    [new uImage] rework error handling so common functions don't reset

    Changed image_get_ramdisk() to just return NULL on error and have
    get_ramdisk() propogate that error to the caller.  It's left to the
    caller to call do_reset() if it wants to.

    Also moved calling do_reset() in get_fdt() and fdt_relocate() on ppc
    to a common location.  In the future we will change get_fdt() and
    fdt_relocate() to return success/failure and not call do_reset() at all.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: Marian Balakowicz <m8@semihalf.com>

commit d2bc095a639672def11d5d043b5688d0dbd692ec
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Feb 27 21:51:45 2008 -0600

    [new uImage] ppc: Re-order ramdisk/fdt handling sequence

    Doing the fdt before the ramdisk allows us to grow the fdt w/o concern
    however it does mean we have to go in and fixup the initrd info since
    we don't know where it will be.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 27953493ef025fb698d68c5dee39b36f01f4d530
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Feb 27 21:51:44 2008 -0600

    [new uImage] ppc: Determine if we are booting an OF style

    If we are bootin OF style than we can skip setting up some things
    that are used for the old boot method.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: Marian Balakowicz <m8@semihalf.com>

commit a6612bdfe7ef37b9787b66800cf02aaded05fbeb
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Feb 27 21:51:43 2008 -0600

    [new uImage] Don't pass kdb to ramdisk_high since we may not have one

    We don't actually need the kdb param as we are just using it to get
    bd->bi_memsize which we can get from gd->bd->bi_memsize.  Also, if we
    boot via OF we might not actually fill out a kdb.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Acked-by: Marian Balakowicz <m8@semihalf.com>

commit 2b22fa4baee51e6b467c44ea1be0d1ecd86e8775
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Feb 27 16:30:47 2008 -0600

    85xx: Don't icbi when unlocking the cache

    There is no reason to icbi when invalidating the temporary stack in
    the d-cache.  Its impossible on e500 to have the i-cache contain
    any addresses in the temp stack and it can be problematic in generating
    transactions on the bus to non-valid addresses.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 534ea6b6f86f8b75ef2ac061ef110a98f103d7d6
Author: Andy Fleming <afleming@freescale.com>
Date:	Wed Feb 27 15:50:50 2008 -0600

    Fix source for ECM error IVPR

    The source vector for the ECM was being set to 2,
    but that's what the source vector for DDR was being
    set to.  Change it to 1.

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 21fae8b2b4e4e6e648796e07e20ab13e9cb18923
Author: Andy Fleming <afleming@freescale.com>
Date:	Wed Feb 27 14:29:58 2008 -0600

    Invalidate INIT_RAM TLB mappings

    Commit 0db37dc...  (and some others) changed the INIT_RAM TLB
    mappings to be unguarded.  This collided with an existing "bug"
    where the mappings for the INIT_RAM were being kept around.
    This meant that speculative loads to those addresses were
    succeeding in the TLB, and going out to the bus, where they
    were causing an exception (there's nothing at that address). The
    Flash code was coincidentally causing such a speculative load.
    Rather than go back to mapping the INIT RAM as guarded, we fix
    it so that the entries for the INIT_RAM are invalidated.  Thus
    the speculative loads will fail in the TLB, and have no effect.

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 347b7938d3e561eb215aa386c37fb5acb5a383c6
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Feb 17 22:56:17 2008 +0100

    sbc8548: Fix Revision reading and unused variable 'path'

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 495d162374c472f46454453553382ad0735dc725
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Feb 17 22:56:16 2008 +0100

    sbc8548: Fix cfi flash bank declaration

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 4efbe9dbb129f857f27856936112c8c02f016be6
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Wed Feb 27 11:02:26 2008 +0100

    [new uImage] Correct raw FDT blob handlig when CONFIG_FIT is disabled

    Dual format image code must properly handle all three FDT passing methods:
    - raw FDT blob passed
    - FDT blob embedded in the legacy uImage
    - FDT blob embedded in the new uImage

    This patch enables proper raw FDT handling when no FIT imaeg support
    is compiled in. This is a bit tricky as we must dected FIT format even
    when FIT uImage handling is not enabled as both FIT uImages and raw FDT
    blobs use tha same low level format (libfdt).

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit ff0734cff0fb5397ce2f4602f4f3e5ec9c8a36e8
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Wed Feb 27 11:02:26 2008 +0100

    [new uImage] POWERPC: Add image_get_fdt() routine

    FDT blob may be passed either: (1) raw (2) or embedded in the legacy uImage
    (3) or embedded in the new uImage. For the (2) case embedding image must be
    verified before we get FDT from it. This patch factors out legacy image
    specific verification routine to the separate helper routine.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>
    Acked-by: Kumar Gala <galak@kernel.crashing.org>

commit 1efd43601f90de21ec6c0ebb9880823e822927b1
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Wed Feb 27 11:02:07 2008 +0100

    [new uImage] Add image_get_kernel() routine

    Legacy image specific verification is factored out to a separate helper
    routine to keep get_kernel() generic and simple.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>
    Acked-by: Kumar Gala <galak@kernel.crashing.org>

commit 8a5ea3e6168fe6a2780eeaf257a3b19f30dec658
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Wed Feb 27 11:01:04 2008 +0100

    [new uImage] Move image verify flag to bootm_headers structure

    Do not pass image verification flag directly to related routines.
    Simplify argument passing and move it to the bootm_header structure which
    contains curently processed image specific data and is already being passed
    on the argument list.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>
    Acked-by: Kumar Gala <galak@kernel.crashing.org>

commit 823afe7cefe00dafefc6696c1cc7aa828c394234
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Wed Feb 27 11:00:47 2008 +0100

    [Makefile] Sort COBJS in lib_<arch> Makefiles

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 6f0f9dfc4ee880fbf400a2ebe14238181a6c3f91
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Wed Feb 27 11:00:47 2008 +0100

    [new uImage] Optimize gen_get_image() flow control

    When CONFIG_HAS_DATAFLASH is not defined gen_get_image() routine has nothing
    to do, update its control flow to better reflect that simple case.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>
    Acked-by: Kumar Gala <galak@kernel.crashing.org>

commit d2ced9eb19ec74f4a359949dbe353427fa6d55ca
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Mon Feb 4 08:28:17 2008 +0100

    [new uImage] POWERPC: Split get_fdt() into get and relocate routines

    PPC specific FDT blob handling code is divided into two separate routines:

    get_fdt()	- find and verify a FDT blob (either raw or image embedded)
    fdt_relocate()	- move FDT blob to within BOOTMAP if needed

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>
    Acked-by: Kumar Gala <galak@kernel.crashing.org>

commit 33fa5c0bfaf465de8ceb23fcd6b397f68b35a817
Author: Jon Loeliger <jdl@freescale.com>
Date:	Mon Feb 25 13:13:37 2008 -0600

    86xx: Fix renamed GUR symbols in sbc8641d board.

    Back in commit a551cee99ad1d1da20fd23ad265de47448852f56
    (86xx: Fix GUR PCI config registers properly), we should have
    changed the MPC86xx_PORBMSR_HA and MPC86xx_PORDEVSR_IO_SEL
    symbols in the sbc8641d board as well.  Fix this oversight.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 64cd594e623c39f73964d18787763e4533f791f7
Author: Stefan Roese <sr@denx.de>
Date:	Mon Feb 25 16:50:48 2008 +0100

    ppc4xx: Fix acadia_nand build problem

    Don't include testdram() on NAND-booting target acadia_nand. This saves
    a few bytes and makes the target build clean again.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 14e099e698d41e8179d05c2b2dbcf704a236f748
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Feb 24 23:03:12 2008 +0000

    mx1fs2/flash: Fix multiple pointertargets in assignment differ in signedness

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 724902c8464e610642b3a170278b99710325888e
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Feb 24 23:03:11 2008 +0000

    arm-imx: Fix registers definition

    Sync registers definition with linux

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 4cd288b589ea1178947c6e364453c32b3dede6b7
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Feb 24 23:03:10 2008 +0000

    actua1/actua2/actua3: Fix multipleunused variable

    - actua1:
	actux1.c: In function 'checkboard':
	actux1.c:92: warning: unused variable 'revision'

    - actua2:
	actux2.c: In function 'checkboard':
	actux2.c:100: warning: unused variable 's'
	actux2.c:99: warning: unused variable 'revision'
	actux2.c: In function 'reset_phy':
	actux2.c:130: warning: unused variable 'i'

    - actua3:
	actux3.c: In function 'checkboard':
	actux3.c:114: warning: unused variable 'revision'

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit d5934ad7756f038a393a9cfab76a4fe306d9d930
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Mon Feb 4 08:28:09 2008 +0100

    [new uImage] Add dual format uImage support framework

    This patch adds framework for dual format images. Format detection is added
    and the bootm controll flow is updated to include cases for new FIT format
    uImages.

    When the legacy (image_header based) format is detected appropriate
    legacy specific handling is invoked. For the new (FIT based) format uImages
    dual boot framework has a minial support, that will only print out a
    corresponding debug messages. Implementation of the FIT specific handling will
    be added in following patches.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit b29661fc1151077776454288051bc9a488351ce8
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Feb 24 15:21:36 2008 +0100

    Coding style cleanup. Prepare v1.3.2-rc2 release candidate

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 00b48a48424894daa589d166d73277830b1c6ac4
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Feb 23 12:15:56 2008 +0100

    ENV: remove saveenv when CFG_ENV_IS_NOWHERE is selected

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit b075d74efb70ff68c49a2532f26b56d6703b69c1
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Sat Feb 23 17:24:16 2008 +0900

    Remove the __STRICT_ANSI__ check from the __u64/__s64 declaration on 32bit targets.

    ----------------------------------------------------------------
    Olaf Hering [Wed, 17 Oct 2007 06:27:13 +0000 (23:27 -0700)]

    Remove the __STRICT_ANSI__ check from the __u64/__s64 declaration on
    32bit targets.

    GCC can be made to warn about usage of long long types with ISO C90
    (-ansi), but only with -pedantic.  You can write this in a way that even
    then it doesn't cause warnings, namely by:

    #ifdef __GNUC__
    __extension__ typedef __signed__ long long __s64;
    __extension__ typedef unsigned long long __u64;
    #endif

    The __extension__ keyword in front of this switches off any pedantic
    warnings for this expression.

    Signed-off-by: Olaf Hering <olh@suse.de>
    Cc: <linux-arch@vger.kernel.org>
    Signed-off-by: Andrew Morton <akpm@linux-foundation.org>
    Signed-off-by: Linus Torvalds <torvalds@linux-foundation.org>
    ----------------------------------------------------------------

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit 208acd112e6517b21fc30c420396902b103563ac
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Sat Feb 23 17:07:57 2008 +0900

    cpu/mcf52x2/config.mk: Make needlessly deffered expansions immediate.

    This will reduce the build time.

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit 495a0dde7fa1b14cdc15607d86503ec2bdcd02c4
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Sat Feb 23 17:05:00 2008 +0900

    cpu/ppc4xx/config.mk: Make a needlessly deffered expansion immediate.

    This will reduce the build time.

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit e682ba399a1d76f09d8cc7af1e57066f1d360d91
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Sat Feb 23 16:58:41 2008 +0900

    cpu/mips/cofigl.mk: Make a needlessly deffered expansion immediate.

    This reduces the build time by ~10%. Here's the gth2_config example.

	    BEFORE	 AFTER
    real    0m31.441s	 0m27.833s
    user    0m24.766s	 0m23.045s
    sys     0m10.425s	 0m7.468s

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit 02409f8cf54c7cd91981f0dfec135dbf3858090c
Author: Marcel Moolenaar <marcelm@juniper.net>
Date:	Fri Feb 22 10:48:07 2008 -0800

    make define2mk.sed work on FreeBSD

    In the thread "[1.3.2-rc1] MPC8548CDS/MPC8555CDS configs fails to link",
    the define2mk.sed script was identified as the source of the link
    failure on FreeBSD. The problem is that sed(1) does not always support
    the '+' operator. It isn't on FreeBSD. The attach patch implements the
    equivalent, using the '*' operator instead and should work everywhere.

    Signed-off-by: Marcel Moolenaar <marcelm@juniper.net>

commit e5084af8ded58453cd07ec1af8b0f29f34122bbc
Author: Detlev Zundel <dzu@denx.de>
Date:	Fri Feb 22 17:21:32 2008 +0100

    Replace deprecated "ramdisk" with "ramdisk_size" kernel parameter.

    The Linux commit fac8b209b1084bc85748bd54e13d00c1262b220f ("Remove
    final traces of long-deprecated "ramdisk" kernel parm") makes these
    changes neccessary.

    Signed-off-by: Detlev Zundel <dzu@denx.de>

commit d01b847c5cd070895c4ba178c85cd068a95cf7cd
Author: Larry Johnson <lrj@acm.org>
Date:	Thu Feb 21 13:58:16 2008 -0500

    LM75 bug fix for negative temperatures

    When the LM75 temperature sensor measures a temperature below 0 C, the
    current driver does not perform sign extension, so the result returned is
    256 C too high.  This patch fixes the problem.

    Signed-off-by: Larry Johnson <lrj@acm.org>

commit 5a910c224b13e413bda41922379add6d75c32da3
Author: Heiko Schocher <hs@denx.de>
Date:	Thu Feb 21 18:33:45 2008 +0100

    IDS8247: update MAINTAINER entry.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 79eac2bfb591f2b028ec1735049dc91e4320de4a
Author: Heiko Schocher <hs@denx.de>
Date:	Thu Feb 21 18:31:15 2008 +0100

    Fix device tree for mgsuvd board.

    Rename the "scc" node in "ethernet" for the mgsuvd board.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 2e721094a70a52206af2e1bf1208d9a7131f6dad
Author: Yuri Tikhonov <yur@emcraft.com>
Date:	Thu Feb 21 14:23:42 2008 +0100

    lwmon5: enable hardware watchdog

    Some boards (e.g. lwmon5) may use rather small watchdog intervals, so
    causing it to reboot the board if U-Boot does a long busy-wait with
    udelay(). Thus, for these boards we have to restart WD more
    frequently.

    This patch splits the busy-wait udelay() into smaller, predefined,
    intervals, so that the watchdog timer may be resetted with the
    configurable (CONFIG_WD_PERIOD) interval.

    Signed-off-by: Yuri Tikhonov <yur@emcraft.com>

commit bc77881247ee6f95d7a9ebc499d26b96bae38c9d
Author: Anatolij Gustschin <agust@denx.de>
Date:	Thu Feb 21 12:52:29 2008 +0100

    ppc4xx: Support for ATI Radeon 9200 card on sequoia

    Adds configuration option for ATI Radeon 9200 card
    support to sequoia config file. If CONFIG_VIDEO
    is enabled, TEXT_BASE should be changed to 0xFFF80000.

    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit 5a9abcc317cf3c8a69559ff83081f4e5d719edb7
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Feb 18 08:18:07 2008 -0600

    Remove duplicate defines for ARRAY_SIZE

    A few duplicate of the ARRAY_SIZE macro sneaked in since we put
    the define in common.h.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 81d93e5c4b83d8b6dcee69de6f4a14ccf6f7114a
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Feb 18 08:09:37 2008 -0600

    ppc: Allow boards to specify effective amount of memory

    For historical reasons we limited the stack to 256M because some boards
    could only map that much via BATS.	However newer boards are capable of
    mapping more memory (for example 85xx is capable of doing up to 2G).

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 755c35f54ba7eb7687aa7935e04a02a01ef1b27b
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Feb 18 05:24:13 2008 -0500

    include autoconf.mk before any other .mk files

    This bumps the autoconf.mk include step above board/cpu/arch/etc... so that
    those .mk files can have make if statements based on the current config.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 16fe77752eee099b9fb61ed73460e51cc94b37ba
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Feb 18 05:10:07 2008 -0500

    error check autoconf.mk generation

    If any of the steps for generating autoconf.mk fail currently, they go
    unnoticed.	To fix, we can simply add 'set -e' to the long list of commands.
    This is simpler and more robust than placing '|| exit $$?' after every line.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 019895a8dee71a9f00da05c03e379f45d581b0fe
Author: Stefano Babic <sbabic@denx.de>
Date:	Mon Feb 18 08:03:51 2008 +0100

    Fix bug in dependency checking

    By adding VERSION_FILE to the PHONY targets the script
    /tools/setlocalversion is always called and version_autogenerated.h
    is replaced only if the script find a modified source file.

    Signed-off-by: Stefano Babic <sbabic@denx.de>

commit 98ba144ccc912eee90dd42699f023c497ce774c6
Author: Kyungmin Park <kmpark@infradead.org>
Date:	Mon Feb 18 14:35:43 2008 +0900

    Fix GPMC CS2 memory setup at apollon

    It disables the current map first

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>

commit e845e07e1e6e64f40e35688439d3cdcf01cfff4f
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Feb 17 23:52:46 2008 +0100

    uli526x: Fix multiple differ in signedness and parentheses around comparison

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit beeccf7a5dc5415c202e0132a33c58fc316c2a62
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Feb 17 16:58:04 2008 +0100

    MIPS: Fix CFG_NO_FLASH support

    - Fix flash_init call when CFG_NO_FLASH is used
    - Remove no more needed flash.c for qemu-mips

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit edfed1d91df2b2670a812ca9d1a1f9faae7dba47
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Feb 16 02:40:18 2008 -0500

    easylogo: clean up some more and add -r (rgb) support

    Michael Hennerich added support for outputting an image in RGB format rather
    than forcing YUYV all the time.  This makes obvious sense if the display you
    have takes RGB input rather than YUYV.

    Rather than hack in support for options, I've converted it to use getopt and
    cleaned up the argument parsing in the process.

    Signed-off-by: Michael Hennerich <michael.hennerich@analog.com>
    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit f65c98129ccada3f7caf97d80395a95b84e911de
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Sat Feb 16 02:12:37 2008 -0500

    Makefile: add target for $(LDSCRIPT)

    If the $(LDSCRIPT) does not exist (normally it's board/$(BOARD)/u-boot.lds),
    then change into the board directory and try and create it.  This allows you
    to generate the linker script on the fly based upon board defines (like the
    Blackfin boards do).

    There should be no regressions due to this change as the normal case is to
    already have a u-boot.lds file.  If that's the case, then there's nothing to
    generate, and so make will always exit.  The fix here is that if the linker
    script does not exist, the implicit rules take over and attempt to guess how
    to generate the file.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 5583cbf736474ef754e128a54fb78632f57b48fd
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Thu Feb 21 17:27:49 2008 +0100

    [new uImage] Fix erroneous use of image_get_magic() in fdc/usb cmds

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 2242f5369822bc7780db95c47985bb408ea9157b
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Thu Feb 21 17:27:41 2008 +0100

    [new uImage] Rename and move print_image_hdr() routine

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit f50433d670ec2ee9e96abac67cdc6e5e061a810d
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Thu Feb 21 17:20:20 2008 +0100

    [new uImage] Add fit_parse_conf() and fit_parse_subimage() routines

    Introducing routines for parsing new uImage format bootm arguments:
    [<addr>]#<conf>		- configuration specification
    [<addr>]:<subimg>	- subimage specification

    New format images can contain multiple subimages of the same type. For example
    a single new format image file can contain three kernels, two ramdisks and a
    couple of FDT blobs. Subimage and configuration specifications are extensions
    to bootm (and other image-related commands) arguments' syntax that allow to
    specify which particular subimage should be operated on.

    Subimage specification is used to denote a particular subimage. Configurations
    are a bit more complex -- they are used to define a particualr booting setup,
    for example a (kernel, fdt blob) pair, or a (kernel, ramdisk, fdt blob) tuple,
    etc.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit fff888a1997ff7de9b29e24050fc4a0fd403ba16
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Thu Feb 21 17:20:19 2008 +0100

    [new uImage] Add gen_get_image() routine

    This routine assures that image (whether legacy or FIT) is not
    in a special dataflash storage.

    If image address is a dataflash address image is moved to system RAM.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 75d3e8fbd93c14d9929d024c75af2d742c76db70
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Thu Feb 21 17:20:18 2008 +0100

    [new uImage] Pull in libfdt if CONFIG_FIT is enabled

    New uImage format (Flattened Image Tree) requires libfdt
    functionality, print out error message if CONFIG_OF_LIBFDT
    is not defined.

    New uImage support is enabled by defining CONFIG_FIT (and CONFIG_OF_LIBFDT).
    This commit turns it on by default.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 1ba639da5604a64b3ed884a2cbb1c5414a9fa728
Author: Michael Schwingen <michael@schwingen.org>
Date:	Mon Feb 18 23:16:35 2008 +0100

    CFI: Do not use uninitialized cmd_reset

    Do not use uninitialized cmd_reset; issue both AMD and Intel reset
    commands instead

    From a short test, it looks like AMD-style flash roms treat *any* unknown
    command write as a reset, at least when in CFI Query mode, so issuing the
    Intel reset command to AMD-style flashs seems safe (from the small sample I
    have), plus the 3-cycle magic sequence should kick the state machine into
    the right state even without a reset command. Since the AMD-style flashs
    require the unlock sequence for real operation, I chose to try the AMD reset
    command first, so that Intel flashs do no see an invalid command prior to
    the CFI query.

    I have tested the patch on AM29LV320-style flashs from Fujitsu and Macronix,
    plus Intel StrataFlash.

    Signed-off-by: Michael Schwingen <michael@schwingen.org>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit e7a85f26830c9f2e78506421c2d519a2965bc7a1
Author: Rafal Jaworowski <raj@semihalf.com>
Date:	Thu Feb 21 11:56:44 2008 +0100

    API: Add (c) and licensing notice to the public API header.

    Signed-off-by: Rafal Jaworowski <raj@semihalf.com>

commit 928d1d77f8623c120d8763e20e1ca58df9c5c4c6
Author: Yuri Tikhonov <yur@emcraft.com>
Date:	Thu Feb 21 11:06:07 2008 +0100

    Fix CPU POST test failure

    The CPU POST test code (run from cpu_post_exec_31()) doesn't follow the
    ABI carefully, at least the CR3, CR4, and CR5 fields of CR are clobbered
    by it. The gcc-4.2 with its more aggressive optimization exposes this fact.
    This patch just saves the CR value before running the test code, so allowing
    it to do anything it wants with CR.

    Signed-off-by: Dmitry Rakhchev <rda@emcraft.com>
    Acked-by: Yuri Tikhonov <yur@emcraft.com>
    --

commit d5908b093955415f3d340706378b991f911af671
Author: Jon Loeliger <jdl@freescale.com>
Date:	Wed Feb 20 15:26:51 2008 -0600

    8610HPCD: Document the flashbank selection switches.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit a551cee99ad1d1da20fd23ad265de47448852f56
Author: Jon Loeliger <jdl@freescale.com>
Date:	Wed Feb 20 14:22:26 2008 -0600

    86xx: Fix GUR PCI config registers properly.

    Back in commit 975a083a5ef785c414b35f9c5b8ae25b26b41524 where
    I tried to "8610HPCD: Fix typos in two PCI setup registers", I
    botched it due to not realizing that 8610 and 8641 had different
    Global Utility Register defintions, one of which was like 85xx,
    and the other wasn't.  Correct this problem by introducing two
    symbols, one for each 86xx SoC, but neither of which is named
    anything like 85xx.

    My bad.  Lovely Wednesday with git bisect.	You know.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit cb06eb961bdffc8728b38c242473d802e83ab2b4
Author: Jon Loeliger <jdl@freescale.com>
Date:	Wed Feb 20 12:24:11 2008 -0600

    8610HPCD: Don't use VIDEO/CFB_CONSOLE by default.

    Without an actual supported video card hooked up, enabling
    the CONFIG_VIDEO by default just makes it look broken by
    routing all console output to the video card.   Don't.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 4d264eff4312f230776b913edade7ceb75f1b1e0
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Jan 30 15:08:15 2008 -0600

    ColdFire: Fix missing code flash size for M5485EVB

    Signed-off-by: James Mahan <kmahan@freescale.com>
    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit c54f9263e4e11e34b1e70c160bc467ef1d8ec59d
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Jan 30 15:04:42 2008 -0600

    ColdFire: Fix 5282 and 5271 interrupt mask bit

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit 975a083a5ef785c414b35f9c5b8ae25b26b41524
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Feb 19 12:31:08 2008 -0600

    8610HPCD: Fix typos in two PCI setup registers.

    The two symbols MPC86xx_PORDEVSR_IO_SEL and MPC86xx_PORBMSR_HA
    were erroneously present as 85xx names and values, leftover from
    the clone wars.  Fix this by removing the 85xx cruft from the
    86xx codebase.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 13f5433f700d4da9f6fdf2a4bb80310133a7c170
Author: Jon Loeliger <jdl@freescale.com>
Date:	Mon Feb 18 14:01:56 2008 -0600

    86xx: Convert sbc8641d to use libfdt.

    This is the proper fix for a missing closing brace in the function
    ft_cpu_setup() noticed by joe.hamman <at> embeddedspecialties.com.
    The ft_cpu_setup() function in mpc8641hpcn.c should have been
    removed earlier as it was under the obsolete CONFIG_OF_FLAT_TREE,
    but was missed.  Only, the sbc8641d was nominally still using it.
    It all got ripped out, and the funcality that was in ft_board_setup()
    was refactored to remove the CPU portions into the new file
    cpu/mpc86xx/fdt.c instead.	Make sbc8641d use this now.

    Based loosely on an original patch from joe.hamman@embeddedspecialties.com

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 04efddc87c50c84f85dad5c331c634a6ce830a83
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Feb 17 23:35:31 2008 +0100

    mpc86xx: Fix unused variable 'config' and 'immap'

    and remove useless CONFIG_DDR_INTERLEAVE

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 83d1b3876695c4f21faff2b731d9ef83f38ed208
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Feb 17 23:03:36 2008 +0100

    mpc86xx: Fix implicit declaration of functions 'init_laws' and 'disable_law'

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit b6f29c84c208a091f95a10cbc9852d729659ba20
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Feb 17 14:15:31 2008 +0100

    s3c24x0: Fix unused variable 'i' in function 'serial_init_dev'

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 0937b8d869fdb42d6ad4fe312958639bd62c973f
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Feb 17 14:15:32 2008 +0100

    pxa: fix assignment from incompatible pointer type

    fix mmc_bread function prototype

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 64d792063fff90b8118179b092feee09fe5cae13
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Feb 17 14:15:30 2008 +0100

    at91cap9adk: fix implicit declaration of function 'eth_init'

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 375c4353db8f900f7ec772e26fab116ec00f7d3a
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Feb 17 15:43:44 2008 +0100

    Remove files added by mistake, update CHANGELOG.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit b738654d3c84a30f2bfd9a8d7652ff20807c890c
Author: Mike Nuss <mike@terascala.com>
Date:	Wed Feb 6 11:10:11 2008 -0500

    PPC440EPx: Optionally enable second I2C bus

    The option CONFIG_I2C_MULTI_BUS does not have any effect on Sequoia, the
    PPC440EPx reference platform, because IIC1 is never enabled. Add Sequoia board
    code to turn on IIC1 if CONFIG_I2C_MULTI_BUS is selected.

    Signed-off-by: Mike Nuss <mike@terascala.com>
    Cc: Stefan Roese <sr@denx.de>

commit ef5b4f221c22d05770878513951745f236b5b43f
Author: Niklaus Giger <niklaus.giger@netstal.com>
Date:	Tue Feb 5 10:26:44 2008 +0100

    ppc4xx: HCU4/5. Cleanup configs

    - hcu4.h: Removed define of CONFIG_PPC405GPr
    - Corrected phy addresses
    - Fix boot variables
    - Respect line length of 80 chars

    Signed-off-by: Niklaus Giger <niklaus.giger@netstal.com>

commit 74973126d1be63ac75bdc192f46234dca3a7c421
Author: Niklaus Giger <niklaus.giger@netstal.com>
Date:	Tue Feb 5 11:31:28 2008 +0100

    ppc4xx: HCU4/5. Cleanups

    - Fix some coding style violations.
    - Use in/out_u16/32 where appropriate.
    - Use register names from ppc405.h.
    - Fix trace useage for Lauterbach.
    - Remove obsolete generation HCU2.
    - Renamed fixed_hcu4_sdram to init_ppc405_sdram.

    Signed-off-by: Niklaus Giger <niklaus.giger@netstal.com>

commit 8cc10d06b833ed917a19ad358c8ebbed8bc19555
Author: Niklaus Giger <niklaus.giger@netstal.com>
Date:	Tue Feb 5 10:26:41 2008 +0100

    ppc4xx: PPC405GPr fix missing register definitions

    Signed-off-by: Niklaus Giger <niklaus.giger@netstal.com>

commit 214398d9cb22268d9d4f7563359edca0f78297a2
Author: Larry Johnson <lrj@acm.org>
Date:	Fri Jan 18 21:49:05 2008 -0500

    ppc4xx: Beautify configuration files for Sequoia and Korat boards

    Signed-off-by: Larry Johnson <lrj@acm.org>

commit 30c6a241e88499f536e86d325759e29ba00ff67f
Author: Anatolij Gustschin <agust@denx.de>
Date:	Fri Feb 15 20:09:01 2008 +0100

    Wipe out assembler warnings while compiling x86 biosemu

    This patch tries to get rid of some assembler warnings about
    changed .got2 section type while compiling x86 bios emulator
    code.

    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit 67a4389e39ad853d65b72e2b7cad15c7e8291147
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Feb 15 00:57:09 2008 +0100

    Prepare v1.3.2-rc1 release candidate

commit f33e9653c9c09868995d788511d573771c209fe5
Author: Anatolij Gustschin <agust@denx.de>
Date:	Fri Feb 15 00:13:20 2008 +0100

    Fix compile warning on lib_ppc/board.c

    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit e5c6f9f8bec4dff9603419161e3a15cc8ad5d5f4
Author: Anatolij Gustschin <agust@denx.de>
Date:	Thu Feb 14 18:22:04 2008 +0100

    Add Radeon Mobility 9200 pci device id to the radeon driver

    This patch extends PCI device id table of the
    radeon driver so that the driver will also support
    Radeon Mobility 9200 (M9+) based boards.

    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit 1b8607e1f7143548c6062c28371449ec69588c00
Author: Anatolij Gustschin <agust@denx.de>
Date:	Thu Feb 14 18:19:50 2008 +0100

    Extend ATI Radeon driver to support more video modes

    Adds ATI Radeon 9200 support for 1280x1024, 1024x768,
    800x600, 640x480 at 24, 16 and 8 bpp.

    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit 4124382de029d361162a4b8cecc773eb8f26e2a8
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Feb 10 17:05:20 2008 +0100

    xsengine: fix typo and few coding style

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 6f4abee789b6d9be3ec4b97ad48f509355559e9e
Author: Guennadi Liakhovetski <g.liakhovetski@gmx.de>
Date:	Fri Feb 8 21:25:58 2008 +0100

    Fix wrong memory limit calculation in memory-test

    If the length of the memory address range passed to the "mtest" command is
    not of the form 2^x - 1, not all address lines are tested. This bug is
    inherited from the original software at
    http://www.netrino.com/Embedded-Systems/How-To/Memory-Test-Suite-C. Fix
    this.

    Signed-off-by: Guennadi Liakhovetski <g.liakhovetski@gmx.de>

commit 7e30f5eac7f07082a7ca77b7d91b944a8d0af6db
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Feb 15 00:11:39 2008 +0100

    Coding STyle cleanup.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit f6921e3dc331293c873ec4d109fd5517a42a90b3
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Tue Feb 5 13:30:43 2008 +0900

    sh: Fix register address of SH7722

    The address of SH7722 is wrong by old document.
    This patch fixes this problem.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 0ec7a061fb1c277f6afd73d61dd71bd21e7ef7b2
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Feb 4 17:44:23 2008 -0500

    only update version header as needed

    Constantly rebuilding the version header will force useless relinking, so we
    simply need to compare the new header with the existing one before updating
    it.

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 208447f8e953f347425eb92c8e28d59e6d911363
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Jan 28 05:56:19 2008 -0500

    Do not specify a CROSS_COMPILE default when executing size

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 1f780aa6f17a5d79791d69ec1d2f66d76ac45d8e
Author: Guennadi Liakhovetski <g.liakhovetski@gmx.de>
Date:	Wed Feb 13 11:19:19 2008 +0100

    Fix return value of mtest when CFG_ALT_MEMTEST set

    Fix a missing return statement from a non-void function.

    Signed-off-by: Guennadi Liakhovetski <g.liakhovetski@gmx.de>

commit 943afa229cf5bf70ef917c7eb6bd0db59a1ba602
Author: Timur Tabi <timur@freescale.com>
Date:	Wed Jan 9 14:35:26 2008 -0600

    85xx, 86xx: Determine I2C clock frequencies and store in global_data

    Update global_data to define i2c1_clk and i2c2_clk to 85xx and 86xx.

    Update the get_clocks() function in 85xx and 86xx to determine the I2C
    clock frequency and store it in gd->i2c1_clk and gd->i2c2_clk.

    Signed-off-by: Timur Tabi <timur@freescale.com>

commit b931b3a9c3bdfaaeaa71e57a6026eec726005b08
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Feb 14 23:18:01 2008 +0100

    TQM834x: clean up configuration

    Get board name consistent with Linux and elsewhere;
    get rid of local network definitions etc.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 38cc09c55b1d7f233789052c6fc462e5377669a9
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Thu Feb 14 08:02:12 2008 +0100

    TFTP: fix search of ':' in BootFile

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 0bc9efada170096c6b273f19165e32936d330d80
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Feb 14 22:46:55 2008 +0100

    Coding style cleanup; update CHANGELOG.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit e7670f6c1e52ae6d2a43ff75a8bcfa7a5c86e47b
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Feb 14 22:43:22 2008 +0100

    PPC: Use r2 instead of r29 as global data pointer

    R29 was an unlucky choice as with recent toolchains (gcc-4.2.x) gcc
    will refuse to use load/store multiple insns; instead, it issues a
    list of simple load/store instructions upon function entry and exit,
    resulting in bigger code size, which in turn makes the build for a
    few boards fail.

    Use r2 instead.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 3c234efa693bc59906c2be55c7918ecbb55392ea
Author: Uwe Kleine-Knig <Uwe.Kleine-Koenig@digi.com>
Date:	Wed Jan 30 09:08:49 2008 +0100

    ARM: make the machid configurable via the environment

    If the variable "machid" exists, let do_bootm_linux use that instead
    of bd->bi_arch_number.

    Signed-off-by: Uwe Kleine-Knig <Uwe.Kleine-Koenig@digi.com>

commit dd24058407c5add45cc60aec6c757ddc1a17e1b0
Author: Vlad Lungu <vlad@comsys.ro>
Date:	Wed Jan 23 16:34:46 2008 +0200

    Use #ifdef CONFIG_FSLDMAFEC

    MCD_tasks.c lacks [subject] so compilation of mips targets (and more, probably)
    fails

    Signed-off-by: Vlad Lungu <vlad@comsys.ro>

commit 26c7bab81e08dc7bd696c48f753428a829629bd8
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Sat Jan 19 10:25:59 2008 +0900

    common/miiphyutil.c: Cleanup MII_DEBUG and debug()

    Current MII_DEBUG is confusing in two ways. One is useless define-then-
    undef at the top of the file. The other is there is only one debug() in
    this file, and that doesn't seem worthwhile to bother having MII_DEBUG.
    While there are many useful printf()/puts() debug codes, but they are for
    DEBUG, not for MII_DEBUG.

    This patch tries to put them all together into MII_DEBUG and debug().

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit 751b9b5189f3274b03c809172631316d6b002c82
Author: Kyungmin Park <kmpark@infradead.org>
Date:	Thu Jan 17 16:43:25 2008 +0900

    OneNAND Initial Program Loader (IPL) support

    This patch enables the OneNAND boot within U-Boot.
    Before this work, we used another OneNAND IPL called X-Loader based
    on open source. With this work, we can build the oneboot.bin image
    without other program.

    The build sequence is simple.
    First, it compiles the u-boot.bin
    Second, it compiles OneNAND IPL
    Finally, it becomes the oneboot.bin from OneNAND IPL and u-boot.bin
    The mechanism is similar with NAND boot except it boots from itself.

    Another thing is that you can only use the OneNAND IPL only to work
    other bootloader such as RedBoot and so on.

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>

commit 21f6f9636f0e978397548751347425fbf8d42bb3
Author: Andy Fleming <afleming@freescale.com>
Date:	Wed Jan 16 13:06:59 2008 -0600

    Fix CONFIG_MMC usage in fat code

    A #if statement in fat.c depended on CONFIG_MMC, instead of
    defined(CONFIG_MMC).  This meant CONFIG_MMC needed to be defined
    as "1" rather than just defined.  Now it's better.

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit f57d7d364ce189e39b0a64338d2f8012c074a2bd
Author: Rafal Jaworowski <raj@semihalf.com>
Date:	Tue Jan 15 12:52:31 2008 +0100

    ppc: Refactor cache routines, so there is only one common set.

    Signed-off-by: Rafal Jaworowski <raj@semihalf.com>

commit 3f2ac8f928c76cbd2374437b2d079f8b4324aaba
Author: Jon Loeliger <jdl@jdl.com>
Date:	Wed Jan 23 15:55:02 2008 -0600

    86xx: Fix compilation warning in sys_eprom.c

    sys_eeprom.c:82:9: warning: unknown escape sequence '\/'

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 65230107025733e89e28fd5e5cfd916d4953c28a
Author: Haavard Skinnemoen <hskinnemoen at>
Date:	Fri Feb 22 11:40:50 2008 +0000

    Move AT91RM9200DK board support under board/atmel

    We already have a vendor subdir for Atmel, so we should use it.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen <at> atmel.com>

commit 6d0943a6be99977d6d853d51749e9963d68eb192
Author: Andreas Engel <andreas.engel@ericsson.com>
Date:	Mon Jan 14 09:06:52 2008 +0000

    ARM: cleanup duplicated exception handlingcode

    Move duplicated exception handling code into lib_arm.

    Signed-off-by: Andreas Engel <andreas.engel@ericsson.com>

commit ea8d989f4ef8203e1c0291e62435a8c62e3cfb29
Author: Timo Tuunainen <timo.tuunainen@sysart.fi>
Date:	Fri Feb 1 10:09:03 2008 +0000

    Support for Artila M-501 starter kit

    Kimmo Leppala / Sysart and
    Timo Tuunainen / Sysart

commit 9604b6e53ddae4fe00a488cbcd6b0e6cb344bccc
Author: Stelian Pop <stelian@popies.net>
Date:	Mon Feb 11 10:50:19 2008 +0000

    AT91CAP9 support

    ---------------------------------

    read_dataflash() takes a signed char pointer as a parameter. Silence a
    few warnings dues to incorrect parameter types in env_dataflash.c.

    Signed-off-by: Stelian Pop <stelian@popies.net>

commit 64e8a06af68cda174a8a06d0a61fce5e5bb189d7
Author: Stelian Pop <stelian@popies.net>
Date:	Thu Feb 7 09:42:57 2008 +0000

    AT91CAP9 support : move board files to Atmel vendor directory.

    AT91CAP9 support : move at91cap9adk board files to Atmel vendor directory.

    Signed-off-by: Stelian Pop <stelian@popies.net>

commit 7263ef191b87da94768f762c7093bedeb70db98f
Author: Stelian Pop <stelian at>
Date:	Thu Jan 3 21:15:56 2008 +0000

    AT91CAP9 support : MACB changes

    Signed-off-by: Stelian Pop <stelian <at> popies.net>
    Acked-by: Haavard Skinnemoen <hskinnemoen <at> atmel.com>

commit 6afcabf11d7321850f4feaadfee841488ace54c5
Author: Stelian Pop <stelian@popies.net>
Date:	Thu Feb 7 16:37:54 2008 +0000

    AT91CAP9 support : board/ files

    Signed-off-by: Stelian Pop <stelian@popies.net>

commit fefb6c10928caa9e71335cad64dcb65c83fce8ab
Author: Stelian Pop <stelian at>
Date:	Wed Jan 30 21:15:54 2008 +0000

    AT91CAP9 support : cpu/ files

    Signed-off-by: Stelian Pop <stelian <at> popies.net>

commit fa506a926cec348805143576c941f8e61b333cc0
Author: Stelian Pop <stelian@popies.net>
Date:	Thu Jan 31 21:15:53 2008 +0000

    AT91CAP9 support : include/ files

    Signed-off-by: Stelian Pop <stelian@popies.net>

commit 20b197c6f2799af399a68f96a1aff543a75621b8
Author: Stelian Pop <stelian@popies.net>
Date:	Sun Jan 20 19:49:21 2008 +0000

    AT91CAP9 support : build integration

    Signed-off-by: Stelian Pop <stelian@popies.net>

commit d49fe4bed5b69ec910909d1bd62da23ecd8801fd
Author: Stelian Pop <stelian@popies.net>
Date:	Sun Jan 20 21:07:00 2008 +0000

    Improve DataFlash CS definition.

    Use a structure instead of the error prone unnamed array to
    define the possible dataflash banks.

    Signed-off-by: Stelian Pop <stelian@popies.net>

commit a6cdd21b56014208706238712a853a9e9a0a2290
Author: Stelian Pop <stelian@popies.net>
Date:	Sat Jan 19 21:09:35 2008 +0000

    Fix arm926ejs compile when SKIP_LOWLEVEL_INIT is on

    Fix arm926ejs compile when SKIP_LOWLEVEL_INIT is on.

    cpu/arm926ejs/start.o: In function `cpu_init_crit':
    .../cpu/arm926ejs/start.S:227: undefined reference to `lowlevel_init'

    Signed-off-by: Stelian Pop <stelian@popies.net>

commit ea686f52e45b3df2938866d3f5a98bb2556dfe2b
Author: Peter Pearse <peter.pearse@arm.com>
Date:	Fri Feb 1 16:50:24 2008 +0000

    Fix timer overflow in DaVinci
    Signed-off-by: Dirk Behme <dirk.behme@gmail.com>

commit f4e7cbfcb0fcbc325a2bcfea7e00e3dd37f93846
Author: Peter Pearse <peter.pearse@arm.com>
Date:	Fri Feb 1 16:49:08 2008 +0000

    Update board NetStar
    Signed-off-by: Ladislav Michl <ladis@linux-mips.org>

commit b7f6193e76651e1fd606e46eb11915b53cb6618b
Author: Niklaus Giger <niklaus.giger@netstal.com>
Date:	Tue Feb 5 10:26:42 2008 +0100

    ppc4xx: HCU4/5. Fix make O=../xx

    Signed-off-by: Niklaus Giger <niklaus.giger@netstal.com>

commit 29e3500cbc43c89eff6e720ca83e375deeecd9b3
Author: Larry Johnson <lrj@acm.org>
Date:	Tue Jan 22 08:51:59 2008 -0500

    ppc4xx: Add CONFIG_4xx_DCACHE compile switch to Denali-core SPD code

    Signed-off-by: Larry Johnson <lrj@acm.org>

commit fe891ecf4d187e9d11dde869ed4623af52b54451
Author: Hiroshi Ito <ito@mlb.co.jp>
Date:	Thu Jan 31 18:35:04 2008 +0900

    NFS Timeout with large files.

    Retry to send NFS packet before reaching timeout.

    Signed-off-by: Hiroshi Ito <ito@mlb.co.jp>

commit 88f72527f5b89c0905ad5c36cc2ef8d29dd6bbf0
Author: Johannes Stezenbach <js@sig21.net>
Date:	Tue Jan 29 00:11:25 2008 +0100

    Add dependencies to avoid race conditions with parallel make.

    Signed-off-by: Johannes Stezenbach <js@sig21.net>

commit 6d1b6f9f89c815eaca44acff8e73ece7181f61b6
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Jan 28 05:46:01 2008 -0500

    Mark board_init_[fr] as noreturn

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 161b2af4d7b48fd602ce333c355a4df0337892bb
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Jan 28 05:28:50 2008 -0500

    Only use TEXT_BASE if defined by the board

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 1b769881750030f10743808b9d6013e11f559350
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Jan 25 07:54:47 2008 +0100

    Fix remaining CONFIG_COMMANDS

    update comments
    Fix coding style

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 0c9d42e6b0b83d507335a291e3ea99240038f4b9
Author: Niklaus Giger <niklaus.giger@netstal.com>
Date:	Mon Jan 21 16:46:00 2008 +0100

    Add *~ to .gitignore

    One should never add a backup file ending in with ~ to the git repository.

    Signed-off-by: Niklaus Giger <niklaus.giger@netstal.com>

commit 3cfb0c51b2bb5ede54eca85ace5b1ba12be314b0
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Jan 17 00:02:10 2008 -0600

    Remove duplicate defines for ARRAY_SIZE

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit c77ce474b1c57b13e9d36d9830f147966c143694
Author: Stelian Pop <stelian@popies.net>
Date:	Mon Jan 14 22:08:14 2008 +0100

    Fix incorrect address test in AT91F_DataflashSelect().

    Signed-off-by: Stelian Pop <stelian@popies.net>

commit d9ad115bbf7bb0842de7dbd2502b7e430f83cc3d
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Feb 13 15:09:58 2008 -0600

    Fix building of fdt_support.c if DEBUG set

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit ccd6e1464e5396bc1a9aebf7077ddf4342eafe03
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Feb 12 14:53:28 2008 -0600

    Add CFG_MPC86xx_DDR_ADDR and CFG_MPC86xx_DDR2_ADDR symbols

    These replace direct structure references for IMMR sections.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit c62776be8dca4097ca03d4f9415f08d4887b45d0
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Feb 12 00:45:06 2008 +0100

    Get rid of "#undef DEBUG" from board config files.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 73bf1e2de7862bcdbd5a9f993b3e84b67c8ea9c8
Author: Timur Tabi <timur@freescale.com>
Date:	Tue Jan 15 17:09:41 2008 -0600

    Remove #undef DEBUG from MPC83xx board header files

    Remove the "#undef DEBUG" line from all Freescale 83xx board header files.
    The inclusion of this line makes it impossible to enable debug code in
    other source files, because "#define DEBUG" typically needs to be defined
    before any header files are included.

    Signed-off-by: Timur Tabi <timur@freescale.com>

commit 69018ce2e086e9caf35b914d675b82bc4888f077
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Jan 17 08:25:45 2008 -0600

    QE: Move FDT support into a common file

    Move the flat device tree setup for QE related devices into
    a common file shared between 83xx & 85xx platforms that have QE's.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 5cf746c303710329f8040d9c62ee354313e3e91f
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Thu Jan 31 13:59:09 2008 +0100

    [new uImage] Move kernel data find code to get_kernel() routine

    Verification of the kernel image (in old format) and finding kernel
    data is moved to a dedicated routine. The routine will also hold
    support for, to be added, new image format.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 7b325454fd231d4273de3fe373850f777fb086bf
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Thu Jan 31 13:58:20 2008 +0100

    [new uImage] Cleanup FDT handling in PPC do_boot_linux()

    Move FDT blob finding and relocation to a dedicated
    get_fdt() routine. It increases code readability and
    will make adding support for new uImage format easier.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit b6b0fe6460b7063ac60b9a3531ef210aedb31451
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Thu Jan 31 13:58:13 2008 +0100

    [new uImage] Cleanup do_botm_linux() boot allocations

    This patch moves common pre-boot allocation steps shared between PPC
    and M68K to a helper routines:

    common:
    - get_boot_sp_limit()
    - get_boot_cmline()
    - get_boot_kbd()

    platform:
    - set_clocks_in_mhz()

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit ceaed2b1e54ebf14d600e02fef016c8df5cc4d40
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Thu Jan 31 13:57:17 2008 +0100

    [new uImage] Move ramdisk loading to a common routine

    Ramdisk loading code, including initrd_high variable handling,
    was duplicated for PPC and M68K platforms. This patch creates
    common helper routine that is being called from both platform
    do_bootm_linux() routines.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 68d4f05e6b2383a442fb71f80f2a9fbb3d8def68
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Thu Jan 31 13:55:53 2008 +0100

    [new uImage] Removed dead ramdisk code on microblaze architectures

    Microblaze do_bootm_linux() includes ramdisk processing code but
    the ramdisk does not get used anywhere later on.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 5ad03eb3854c162684222a718b44c0716ea0db03
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Thu Jan 31 13:55:39 2008 +0100

    [new uImage] Factor out common image_get_ramdisk() routine

    Architecture specific do_bootm_linux() routines share common
    ramdisk image processing code. Move this code to a common
    helper routine.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit d3c5eb6dd1f4ed3c3388386cf1d1bf82aa51d56b
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Thu Jan 31 13:20:08 2008 +0100

    [new uImage] Move FDT error printing to common fdt_error() routine

    FDT error handling in PPC do_bootm_linux() shares the same message format.
    This patch moves error message printing to a helper fdt_error() routine.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>
    Acked-by: Gerald Van Baren <vanbaren@cideas.com>

commit 42b73e8ee00d48004791dea64b8093fb974c57e1
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Thu Jan 31 13:20:07 2008 +0100

    [new uImage] Factor out common routines for getting os/arch/type/comp names

    Move numeric-id to name translation for image os/arch/type/comp header
    fields to a helper routines: image_get_os_name(), image_get_arch_name(),
    image_get_type_name(), image_get_comp_name().

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit e99c26694a384221d336f6448c06a57479c0baa4
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Thu Jan 31 13:20:07 2008 +0100

    [new uImage] Remove standalone applications handling from boootm

    Standalone applications are supposed to be run using the "go" command.
    This patch removes standalone images handling from the do_bootm().

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 4a2ad5ff6400698433dd7203d34939c3c9cc9bff
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Thu Jan 31 13:20:07 2008 +0100

    [new uImage] Remove OF_FLAT_TREE support from PPC bootm code

    Support for OF_FLAT_TREE is to be obsoleted in the near future,
    remove related code from the bootm routines.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 82850f3d32a2661868ec6876bed7a22c55cef718
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Thu Jan 31 13:20:06 2008 +0100

    [new uImage] Use image API in SH do_bootm_linux() routine

    Introduce image handling API for lately added Hitachi SH architecture.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 4a995edec1ac163d9326d143ffe2b47e7543407f
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Thu Jan 31 13:20:06 2008 +0100

    [new uImage] Rename architecture specific bootm code files

    Implementation of the do_bootm_linux() and other bootm helper routines is
    architecture specific code. As such it resides in lib_<arch> directories
    in files named <arch>_linux.c

    This patch renames those files to a more clear and accurate
    lib_<arch>/bootm.c form.

    List of the renamed files:
       lib_arm/armlinux.c -> lib_arm/bootm.c
       lib_avr32/avr32_linux.c -> lib_avr32/bootm.c
       lib_blackfin/bf533_linux.c -> lib_blackfin/bootm.c
       lib_i386/i386_linux.c -> lib_i386/bootm.c
       lib_m68k/m68k_linux.c -> lib_m68k/bootm.c
       lib_microblaze/microblaze_linux.c -> lib_microblaze/bootm.c
       lib_mips/mips_linux.c -> lib_mips/bootm.c
       lib_nios/nios_linux.c -> lib_nios/bootm.c
       lib_nios2/nios_linux.c -> lib_nios2/bootm.c
       lib_ppc/ppc_linux.c -> lib_ppc/bootm.c
       lib_sh/sh_linux.c -> lib_sh/bootm.c

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 7582438c285bf0cef82909d0f232de64ec567a8a
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Thu Jan 31 13:20:06 2008 +0100

    [new uImage] Return error on image move/uncompress overwrites

    Check for overwrites during image move/uncompress, return with error
    when the original image gets corrupted. Report clear message to the user
    and prevent further troubles when pointer to the corrupted images is passed
    to do_bootm_linux routine.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit f13e7b2e993c61fed1f607962501e051940d6e80
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Tue Jan 8 18:12:17 2008 +0100

    [new uImage] Cleanup image header pointer use in bootm code

    - use single image header pointer instead of a set of auxilliary variables.
    - add multi component image helper routines: get component size/data address

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 1ee1180b6e93e56d0282ac8d943e448e9d0eab20
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Tue Jan 8 18:17:10 2008 +0100

    [new uImage] Cleanup cmd_bootm.c

    - sort and cleanup headers, declarations, etc.
    - group related routines
    - cleanup indentation, white spaces

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit af13cdbc01eaf88880978bfb4f603e012818ba24
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Tue Jan 8 18:11:45 2008 +0100

    [new uImage] Add memmove_wd() common routine

    Move common, watchdog sensible memmove code to a helper memmmove_wd() routine.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 958fc48abddeab513ea4847e34f22a2e9fe67fe1
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Tue Jan 8 18:11:44 2008 +0100

    [new uImage] Fix FDT header verification in PPC do_boot_linux() routine

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 15158971f49255ccef54f0979a942cfd3de2ae52
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Tue Jan 8 18:11:44 2008 +0100

    [new uImage] Fix uImage header pointer use in i386 do_bootm_linux()

    Use image header copy instead of a (possibly corrupted) pointer to
    a initial image location.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 261dcf4624b25f3c551efcf8634e9194fabba9c3
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Tue Jan 8 18:11:44 2008 +0100

    [new uImage] Remove I386 uImage fake_header() routine

    I386 targets are not using a uImage format, instead fake header
    is added to ram image before it is further processed by bootm.

    Remove this fixup and force proper uImage use for I386.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 559316faf7eae0614c91d77f509b57d6c4c091ba
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Tue Jan 8 18:11:44 2008 +0100

    [new uImage] Move CHUNKSZ definition to image.h

    CHUNKSZ defined for PPC and M68K is set to the same value of 64K,
    move this definition to a common header.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 321359f20823e0b8c5ad38b64d007a6c48cda16e
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Tue Jan 8 18:11:43 2008 +0100

    [new uImage] Move gunzip() common code to common/gunzip.c

    Move gunzip(), zalloc() and zfree() to a separate file.
    Share zalloc() and zfree() with cramfs uncompress routine.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit d45d5a18b6b36688f2365623f9d550566c664b5b
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Tue Jan 8 18:11:43 2008 +0100

    [new uImage] Cleanup OF/FDT #if/#elif/#endif use in do_bootm_linux()

    Make CONFIG_OF_LIBFDT and CONFIG_OF_FLAT_TREE use more
    readable in PPC variant of do_bootm_linux() routine.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 5d3cc55ecbae277e08f5ff771da20b1d6a36ec36
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Tue Jan 8 18:11:43 2008 +0100

    [new uImage] Move PPC do_bootm_linux() to lib_ppc/ppc_linux.c

    PPC implementation of do_bootm_linux() routine is moved to
    a dedicated file lib_ppc/ppc_linux.c

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit b97a2a0a21f279d66de8a9bdbfe21920968bcb1c
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Tue Jan 8 18:14:09 2008 +0100

    [new uImage] Define a API for image handling operations

    - Add inline helper macros for basic header processing
    - Move common non inline code common/image.c
    - Replace direct header access with the API routines
    - Rename IH_CPU_* to IH_ARCH_*

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit ed29bc4e8142b46b626f67524207b36e43d9aad6
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Thu Jan 31 13:19:58 2008 +0100

    Add missing cmd_ximg.o to common/Makefile

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 37e3c62fa07a823e7569c872e3a9395d227ed8e3
Author: Grzegorz Bernacki <gjb@semihalf.com>
Date:	Mon Jan 28 10:15:02 2008 +0100

    ADS5121e: DDR2 init/timing update.

    Signed-off-by: John Rigby <jrigby@freescale.com>
    Signed-off-by: Grzegorz Bernacki <gjb@semihalf.com>

commit ac9152830d7fdebace8a260b7737ef2870c21ca0
Author: John Rigby <jrigby@freescale.com>
Date:	Wed Jan 30 13:36:57 2008 -0700

    Device tree updates

    Changes to match 5121 device tree going mainline in 2.6.25.

    Change OF_SOC from "soc5121" to plain "soc".
    Remove unneeded "ref-frequency" fixups.
    Remove "address" enetaddr fixup.

    Add bus-frequency fixup for old OF_SOC so old
    kernels with old device trees will work with new
    u-boot with 66MHz IPS clock

    Signed-off-by: John Rigby <jrigby@freescale.com>

commit de55d18df3ff2ea614624e74793de7c43520e0e7
Author: John Rigby <jrigby@freescale.com>
Date:	Wed Jan 30 13:36:56 2008 -0700

    Change IPS freq to 66MHz

    Recommended frequency is 66MHz
    Change divider from 4 to 3.

    Signed-off-by: John Rigby <jrigby@freescale.com>

commit cd9cb62f9d8b78d6c3af5d1e9b5a3d68a3d73974
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Mon Jan 14 22:38:55 2008 +0100

    xsengine: rename board_post_init to board_late_init

    missing migration from "Cleanup of some init functions"
    in c837dcb1a316745092567bfe4fb266d0941884ff

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 8dafa87476b0d7170e219c2f5e3842c833a91807
Author: Larry Johnson <lrj@acm.org>
Date:	Sat Jan 12 23:35:33 2008 -0500

    Add attribute POST_PREREL to ECC memory POST

    Signed-off-by: Larry Johnson <lrj@acm.org>

commit ed2cf548cac80cd3cf8154dcfe7b2685bef45938
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Jan 17 08:25:45 2008 -0600

    QE: Move FDT support into a common file

    Move the flat device tree setup for QE related devices into
    a common file shared between 83xx & 85xx platforms that have QE's.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit d38da537943cd36356b9d3d9d9b60533554b81d8
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Wed Jan 23 17:20:14 2008 +0100

    AVR32: Make SDRAM refresh rate configurable

    The existing code assumes the SDRAM row refresh period should always
    be 15.6 us. This is not always true, and indeed on the ATNGW100, the
    refresh rate should really be 7.81 us.

    Add a refresh_period member to struct sdram_info and initialize it
    properly for both ATSTK1000 and ATNGW100. Out-of-tree boards will
    panic() until the refresh_period member is updated properly.

    Big thanks to Gerhard Berghofer for pointing out this issue.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 61151cccb660cdb06a07fb283de6089913d7bde0
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Thu Apr 19 10:10:11 2007 +0200

    ATSTK1000: Fix potential flash programming bug

    The (now obsolete) atngw100 flash programming code was having problems
    programming the onboard at49bv642 chip. The atstk1000 flash
    programming code may have the same bug, so import fix for this problem
    from the AVR32 Linux BSP.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit b2e1d5b64469f10dfcce27f7b0afd935684a8e11
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Thu Nov 22 17:04:13 2007 +0100

    ATSTK1004: Fix comment about default load address

    The default load address is SDRAM + 2MB, not SDRAM + 4MB. The latter
    wouldn't have worked anyway since the board can only access 4MB of
    SDRAM.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 8269ab53608d8db2aa06969c337ab0b0518211e5
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Thu Nov 22 17:01:24 2007 +0100

    ATSTK1002: Use SDRAM + 4MB as default load address

    Many people run into problems when they compile a big kernel and load
    the uImage at the default SDRAM + 2MB address as the kernel will
    overwrite the uImage as it is being unpacked. Increase the default
    load address so that we can load a 4MB kernel image without any
    problems.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 2bcacc2d841b77f3d2d3910db722003742727e9f
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Thu Nov 22 16:51:39 2007 +0100

    ATNGW100: Fix default mtest range

    Let mtest cover the whole SDRAM except the last megabyte, which is
    where u-boot lives.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 9856a6b3104e0bc210b0868dfe691c52bf03c227
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Tue Jan 22 15:31:56 2008 +0900

    sh: Fix register address of SH7722.

    The address of SH7722 is wrong by old document.
    This patch fixes this problem.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 30942b18b66f35f2ceedab39af10e9eccaa943cc
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Feb 4 19:26:57 2008 -0500

    new command for displaying strings at specified memory locations

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit b58d8b48e25b0c866d167cc577f118f528cd9e0a
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Feb 4 19:26:57 2008 -0500

    rewrite/cleanup Blackfin RTC driver

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 94a91e248b71c3ff951fc27cff6909e82ca37d15
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Feb 4 19:26:57 2008 -0500

    generate u-boot.ldr for Blackfin targets

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit b779f7a59530436040f157f7841db7ab796542df
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Feb 4 19:26:57 2008 -0500

    scrub unused symbols

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit cc2977acc3bbbb7850f16645dd1081f95335868d
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Feb 4 19:26:57 2008 -0500

    move Blackfin cpu object list to respective cpu directories

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit d0b01a246d0a351bc7dce1d0c9cf6aebdf6d7505
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Feb 4 19:26:57 2008 -0500

    interface to Blackfin on-chip One-Time-Programmable memory

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 4c727c77e43872d3a1d1f76a949fcb3f26a38788
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Feb 4 19:26:56 2008 -0500

    add support for memory commands with Blackfin L1 instruction memory

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 6b9097e5e7490aa7b828c6f1a1c7a0e875df8464
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Feb 4 19:26:56 2008 -0500

    use C code rather than inline assembly

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 97c26e006d2fa6d4e1560933ee6f385d8b8908b9
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Feb 4 19:26:56 2008 -0500

    add Blackfin-specific reginfo command

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 0858b835e7ea501ea084d34cef75932f098342bb
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Feb 4 19:26:55 2008 -0500

    add support for Blackfin symbol prefixes to examples

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 8dc48d71a4be753ea9f84956cd33600de35fad04
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Feb 4 19:26:55 2008 -0500

    add Blackfin-specific bdinfo command

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 0003613e3c7df3b84b2cb92e797d77f46f15a43a
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Feb 4 19:26:55 2008 -0500

    move -ffixed-P5 to blackfin_config.mk and drop unused -D__BLACKFIN__

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 60fa72d65610c7ef33e1d6db858979d05ff0df58
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Feb 4 19:26:55 2008 -0500

    unify the Blackfin board targets

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit d4d7730853e5d675f76ec666807da3028c91d592
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Feb 4 19:26:55 2008 -0500

    punt Blackfin VDSP headers and import sanitized/auto-generated ones

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 6cfcce67671a3425229d66203386fa3cbd0cc3bd
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Feb 4 19:26:54 2008 -0500

    always pull in asm/blackfin.h for Blackfin ports

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit bf53974c2ddae678d7660f2b5ccfeb0732b6f5dc
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Feb 4 19:26:54 2008 -0500

    add missing __raw versions of Blackfin read/write io functions

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 24e02d0fd3acc50e73e1a3cdd567f0a77946f15d
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Feb 4 19:26:54 2008 -0500

    add the default Blackfin logo used by Blackfin boards with splash screens

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 4c58eb5552220e425c8af6ac8d2839244a2f57b1
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Feb 4 19:26:54 2008 -0500

    add some more Blackfin docs

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 32a9f5f2160a034ea87ea651b233ef7c635e55cf
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Feb 4 19:26:54 2008 -0500

    make smc91111_eeprom managment simpler by depending on the board configuration file rather than a hardcoded list of boards

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit 4087bc88cebec75c432a7fe9f6afb545b0919831
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Feb 4 19:26:54 2008 -0500

    fix building on Blackfin as the assembler supports the .set syntax, not the = syntax, for assigning symbols

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit b45264ee85cbd92020640a32e02fb434fd557108
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Feb 4 19:26:53 2008 -0500

    add gitignores for Blackfin pieces

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit a93907c43f847f076dd0e34ee3b69b5e8e6d0d29
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Jan 18 01:14:03 2008 +0100

    TFTP: add host ip addr support

    allow to use a different server as set in serverip
    add CONFIG_TFTP_FILE_NAME_MAX_LEN to configure the file name length
    if not defined the max length will be at 128

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit e56b4b494cd92def577969f9678395aa22d34c9f
Author: Timur Tabi <timur@freescale.com>
Date:	Wed Jan 9 14:35:26 2008 -0600

    85xx,86xx: Determine I2C clock frequencies and store in global_data

    Update global_data to define i2c1_clk and i2c2_clk to 85xx and 86xx.

    Update the get_clocks() function in 85xx and 86xx to determine the I2C
    clock frequency and store it in gd->i2c1_clk and gd->i2c2_clk.

    Signed-off-by: Timur Tabi <timur@freescale.com>

commit 7ec8bb15ee368ea54d48d64867767a704d9ab4c2
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Dec 27 10:56:54 2007 +0100

    OMAP5912: fix FIFO handling in UART driver

    According to the OMAP5912 Serial Interfaces Reference Guide (see
    http://focus.ti.com/lit/ug/spru760c/spru760c.pdf, page 150), the
    FIFO_EN enable bit in the FIFO Control Register (FCR) can only be
    changed when the baud clock is not running, i. e. when both DLL and
    DLH are set to 0.

    Thus make sure that DLL and DLH are 0 when writing the FCR.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 16158778b5f52f201e95ded2d2d9084b0ed5670d
Author: Harald Welte <laforge@openmoko.org>
Date:	Wed Dec 19 15:10:52 2007 +0100

    ARM: S3C24x0 SoC NAND controller support

    This patch adds NAND support to the S3C24x0 SoC code in u-boot

    Signed-off-by: Harald Welte <laforge@openmoko.org>

commit a7c185ed3d9f8ebd85cfc286e1ffee72e4803163
Author: Harald Welte <laforge@openmoko.org>
Date:	Wed Dec 19 14:24:40 2007 +0100

    ARM: s3c24xx: Multiple serial port support

    This patch adds support for CONFIG_SERIAL_MULTI on s3c24x0 CPU's

    Signed-off-by: Harald Welte <laforge@openmoko.org>

commit a25f72f1f73a11de68251fb88c89991e202e68fa
Author: Harald Welte <laforge@openmoko.org>
Date:	Wed Dec 19 14:16:57 2007 +0100

    ARM: arm920t: Allow use of 'gd' pointer from IRQ

    This patch allows us to use the 'gd' pointer (and thus environment
    and everything else associated with it) from interrupt context on
    arm920t.

    Signed-off-by: Harald Welte <laforge@openmoko.org>

commit be19bd5cd0f454b63298844a0b5377e029b2caad
Author: Harald Welte <laforge@openmoko.org>
Date:	Wed Dec 19 14:19:38 2007 +0100

    ARM: arm920/s3c24xx: IRQ demulitplexer callback

    This patch adds a IRQ demultiplexer callback to the arm920 cpu core code,
    plus a stub implementation of it for the S3C2410.

    The purpose is to allow arm920t implementations such as the s3c24x0 to
    implement interrupt handlers in u-boot without having to touch core
    arm920t code.

    Signed-off-by: Harald Welte <laforge@openmoko.org>

commit a41dbbd98d201d8aea31b5d21df4742c20cd7eda
Author: Hebbar <gururajakr@sanyo.co.in>
Date:	Tue Dec 18 16:03:07 2007 -0800

    ARM: Display Ethernet info in do_bdinfo only if CONFIG_CMD_NET is defined

    Add ifdef to bdinfo command to display ethernet information
    only if CONFIG_CMD_NET is defined for arm modules.

    Signed-off-by: K R Gururaja Hebbar <gururajakr@sanyo.co.in>

commit f7ad79b6f9f0f45437b62e19b45356cc2aaf4884
Author: Hebbar <gururajakr@sanyo.co.in>
Date:	Tue Dec 18 16:00:54 2007 -0800

    ARM: add I2C init function call in lib_arm/board.c

    Adds I2C init func call to init sequence for ARM boards. This is
    present in ppc,blackfin and other processor init sequence.

    Signed-off-by: K R Gururaja Hebbar <gururajakr@sanyo.co.in>

commit ff02f139804f3cb61414f7bbcbfdaa0279e3efae
Author: Stefan Roese <sr@denx.de>
Date:	Fri Feb 1 09:38:29 2008 +0100

    ppc4xx: Fix ndfc HW ECC byte order

    The current ndfc HW ECC implementation swaps the first two ECC bytes.
    But the 4xx NDFC already uses the SMC (Smart Media Card) ECC ordering,
    so this swapping in the HW ECC driver is bogus. This patch fixes this
    problem and now really uses the SMC ECC byte order.

    Thanks to Sean MacLennan for pointing this out.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit e1d1429b49b0ee58c80f8c7b29c1ebaf8be7f5f1
Author: Stefan Roese <sr@denx.de>
Date:	Wed Jan 30 15:35:50 2008 +0100

    ppc4xx: Fix GPIO configuration for pcs440ep

    The SRD0_PFC0 register was not configured correctly to enable the GPIO's
    49-63 for GPIO. They have been configured as trace signals. This patch
    fixes this by clearing the corresponding bit.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 28d77d968bfe0316deb5bf15c17f57d5ff2c8821
Author: Stefan Roese <sr@denx.de>
Date:	Wed Jan 30 14:48:28 2008 +0100

    ppc4xx: Fix problem with init-ram bigger than 4k on 440 platforms

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 4fedfddf97461b88668b9aec774dfb7a0c6dc368
Author: Ladislav Michl <ladis@linux-mips.org>
Date:	Fri Dec 7 00:42:32 2007 +0100

    ARM: Board voiceblue update

    Signed-off-by: Ladislav Michl <ladis@linux-mips.org>

commit 2c5260f711168d5ee91c70ddbb7d897013eefc46
Author: Ladislav Michl <ladis@linux-mips.org>
Date:	Thu Dec 6 23:24:57 2007 +0100

    ARM: AT91RM9200 based boards config cleanup

    Signed-off-by: Ladislav Michl <ladis@linux-mips.org>

    Remove nowhere used struct bd_info_ext, remove trailing whitespaces, fix
    indentation.

commit 481f28b1db5cd21deb55f69399ba240e107af4c7
Author: Ladislav Michl <ladis@linux-mips.org>
Date:	Thu Dec 6 22:59:16 2007 +0100

    ARM: Fix at91rm9200dk base address

    Somewhere during development of U-Boot-1.1.3 CONFIG_BOOTBINFUNC was
    renamed into CONFIG_INIT_CRITICAL which was 04 Apr 2005 replaced
    with CONFIG_SKIP_LOWLEVEL_INIT and CONFIG_SKIP_RELOCATE_UBOOT.
    However CONFIG_SKIP_LOWLEVEL_INIT has oposite meaning to
    CONFIG_BOOTBINFUNC, so fix configuration to reflect this fact.
    I'm sending this patch 4th (!) time in hope it produces at least some
    reaction.

    Signed-off-by: Ladislav Michl <ladis@linux-mips.org>

    Fix at91rm9200dk base and environment address.

commit c95219fae2a7add7daa2f91aedca65b1698465c7
Author: stefano babic <sbabic@denx.de>
Date:	Tue Nov 20 10:40:24 2007 +0100

    MMC for PXA 27X (resubmit)

    MMC support for X_Scale PXA is broken and does not work.
    Mainly, the mmc_init() function cannot recognize current SD/MMC cards.
    There were already some patches around the world but none of them was
    merged into the official u-boot tree.

    This patch makes order fixing this issue. Resubmit after code cleanup.

    Applied and tested on PXA 270 (TrizepsIV module).

    Signed-off-by: Stefano Babic <sbabic@denx.de>

commit 96bbfa1e6625ce23a150936863b3ecf4c853eb33
Author: stefano babic <sbabic@denx.de>
Date:	Tue Nov 20 10:37:04 2007 +0100

    Fix gcc issues in pxa-regs.h

    Fix gcc4 issue. With some toolchain, a previous patch that fixes gcc4
    issues generates wrong code.
    (Problem was reported with gcc-4.0.2-glibc-2.3.6/arm-softfloat-linux-gnu).
    This patch fixes the problem and solves the gcc-4 issues as the linux
    kernel does.

    Signed-off-by: Stefano Babic <sbabic@denx.de>
    Signed-off-by: Dmitry Ivanov <ivadmitry@gmail.com>

commit 7047b388876e7b905b2ec4edb8010543e3641b85
Author: Jens Gehrlein <sew_s@tqs.de>
Date:	Tue Jan 29 08:45:03 2008 +0100

    TQM834x: enable DHCP

    Signed-off-by: Jens Gehrlein <sew_s@tqs.de>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit a877004d44ca7dbc1e618add3eeb1da7c84e4bec
Author: Jens Gehrlein <sew_s@tqs.de>
Date:	Tue Jan 29 08:45:02 2008 +0100

    TQM834x: support for Spansion N-type Flashes (sector size = 256 KiB at 2x16 Bit).

    Signed-off-by: Jens Gehrlein <sew_s@tqs.de>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 8931ab176025b03cfc320b3fd1eca432a88ed560
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Sat Jan 26 23:41:19 2008 -0500

    Fix conditional compilation of mpx8xxx_spi driver

    This driver should only compile if CONFIG_MPC8XXX_SPI is set

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 63f732d3d3880feb531f48af247c025bf01462b0
Author: Rafal Jaworowski <raj@semihalf.com>
Date:	Tue Jan 29 17:00:34 2008 +0100

    API: Provide dummy halt() in the glue layer.

    This fixes a demo app link failure on platforms configured with CONFIG_PANIC_HANG.

    Signed-off-by: Rafal Jaworowski <raj@semihalf.com>

commit 0dc1fc22af86d16993388d9ed9630dbaa2d51826
Author: Rafal Jaworowski <raj@semihalf.com>
Date:	Tue Jan 29 16:57:38 2008 +0100

    API: Convert conditional building to the new scheme.

    This fixes a build breakage with CONFIG_API enabled, which appeared after
    the recent changes in the U-Boot build system.

    Signed-off-by: Rafal Jaworowski <raj@semihalf.com>

commit 98b742489c09780be6a832eeaa4e5eff824792bb
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Jan 25 09:56:17 2008 +0100

    inka4x0: remove dead code

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 4f93f8b1a4d35b6d302842132edba920ef8f62aa
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Wed Jan 23 16:31:06 2008 -0600

    86xx: Add reginfo command

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit ddcebcb638715a6278da93b553d5016f99823816
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Wed Jan 23 16:31:05 2008 -0600

    86xx: Add print_laws function to fsl_law.c

    This can be used for debug, and will be used by board code
    to help implement reginfo.

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit 9cd32426f26a0567bb61f339edd83c6a2ce9bfc3
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Wed Jan 23 16:31:04 2008 -0600

    86xx: Remove old-style law setup code

    This includes mpc8610hpcd, mpc8641hpcn, and sbc8641d.

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit 713d8186649dae874613d495b0cecaa039a98b30
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Wed Jan 23 16:31:03 2008 -0600

    86xx: Convert sbc8641d to use new law setup code.

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit 031976f6364b93833e989f57e9f1e023e0be8c4c
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Wed Jan 23 16:31:02 2008 -0600

    86xx: Convert mpc8610hpcd to new law setup method.

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit 4933b91f8a49e436681f163df3173beb91cac44a
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Wed Jan 23 16:31:01 2008 -0600

    86xx: Support new law setup method and convert mpc8641

    Adds the support code in cpu/mpc86xx for the new law setup code
    recently created fsl_law.c, and changes the MPC8641HPCN config
    to use this code.

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit 1a41f7ce9c086e208c0eabf52565a237af2a2bd1
Author: Becky Bruce <becky.bruce@freescale.com>
Date:	Wed Jan 23 16:31:00 2008 -0600

    86xx: Rearrange the sequence in start.S

    * split the BAT initialization so that only 2 BATs (for the boot page
    and stack) are programmed very early on.  The rest are initialized later.
    * Move other BAT setup,  ccsrbar setup, and law setup later in the code
    after translation has been enabled.

    These changes will facilitate the moving of law and BAT initialization
    to C code, and will aid with 36-bit physical addressing support.

    Signed-off-by: Becky Bruce <becky.bruce@freescale.com>

commit 33dac03b1b5d61e4fed7bad445ba40b4c97feba0
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Jan 23 14:41:37 2008 +0100

    Coding Style Cleanup; update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 865f0f9754b95183cad395de7e8cb85df0c6ea1f
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Jan 23 14:31:17 2008 +0100

    Coding Style Cleanup; update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit cfe5ca77976afdbe7ecb86e39fd7505bde636ace
Author: Dave Liu <r63238@freescale.com>
Date:	Fri Jan 18 10:07:04 2008 +0800

    mpc83xx: Correct the struct spi8xxx in mpc8xxx_spi.h

    The commit 04a9e1180ac76a7bacc15a6fcd95ad839d65bddb
    cause the 83xx immap broken, so the DMA and PCI will
    be failed.

    The patch fix the struct spi8xxx and rm struct spi83xx.

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 6b4439444286e0fcd01596df504e6ca897ad3e5a
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Sat Apr 14 17:11:49 2007 +0200

    AVR32: ATNGW100 board support

    Add support for the ATNGW100 Network Gateway reference design,
    including flash, ethernet and MMC support.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit e006927a0b9a54e8ee7685d8ac748aaad6801862
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Sat Nov 24 18:15:31 2007 +0100

    AVR32: Initialize ipaddr, loadaddr and bootfile at startup

    I don't know why the relevant layers can't do this by itself, but this
    is what ppc does.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 799891ef7b1b3432032ec23466df6b665a797fa4
Author: Michael Schwingen <michael@schwingen.org>
Date:	Fri Jan 18 00:04:28 2008 +0100

    Add AcTux board support

    Hi,

    The patch adds 4 boards, called AcTux-1 .. AcTux-4. This patch contains the
    files that
    contain changes for multiple boards, the board-specific files follow as
    separate patches.

    Signed-off-by: Michael Schwingen <michael@schwingen.org>

commit 66a4344a4d910a11125df7768899ad529719855e
Author: Michael Schwingen <michael@schwingen.org>
Date:	Wed Jan 16 19:53:23 2008 +0100

    add AcTux-4 board support

    Signed-off-by: Michael Schwingen <michael@schwingen.org>

commit bc24345e4101a5c996d6b48ce497b09c53025dc6
Author: Michael Schwingen <michael@schwingen.org>
Date:	Wed Jan 16 19:51:55 2008 +0100

    add AcTux-3 board support

    Signed-off-by: Michael Schwingen <michael@schwingen.org>

commit aebf00fc4d1343b24715373893f7b20bf462d1e9
Author: Michael Schwingen <michael@schwingen.org>
Date:	Wed Jan 16 19:51:14 2008 +0100

    add AcTux-2 board support

    Signed-off-by: Michael Schwingen <michael@schwingen.org>

commit ea99e8f05b7240fd657739e286664664ae160abe
Author: Michael Schwingen <michael@schwingen.org>
Date:	Wed Jan 16 19:50:37 2008 +0100

    add AcTux-1 board support

    Signed-off-by: Michael Schwingen <michael@schwingen.org>

commit 3d9f3bfb7a33efe8e41e01b025563cd712c57d64
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Mon Jan 14 19:20:08 2008 +0100

    ARM: remove useless function board_post_init

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 96bd462942022e4569b582c072a0ed26de1cd19b
Author: Michael Schwingen <michael@schwingen.org>
Date:	Thu Jan 10 14:59:46 2008 +0100

    IXP: enable RTS

    enables the RTS signal with CONFIG_SERIAL_RTS_ACTIVE.
    No handshaking is done, but the active RTS signal allows to
    connect to the target using a PC which is using RTS/CTS
    handshake, and does no harm if the PC is set to ignore RTS.

    Signed-off-by: Michael Schwingen <michael@schwingen.org>

commit a1cf027a08f9dc1c0e769499e6f4fbddcf9cab93
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Mon Jan 7 08:41:34 2008 +0100

    IXP: add dynamic microcode addr

    allow to load the microde from flash or ram by download it through
    the serial or other.

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Acked-by: Stefan Roese <sr@denx.de>

commit 63ebcc4615dd39926ccf61f1d5f3510262ef6564
Author: Michael Schwingen <michael@schwingen.org>
Date:	Sat Nov 10 15:44:12 2007 +0100

    load ixp42x NPE firmware from separate flash block, remove dead code

    Hi,

    the following patch adds support to move the IXP42X NPE firmware to a
    separate flash block, whose start address is defined in
    CONFIG_IXP4XX_NPE_EXT_UCODE_BASE. Using that, it is possible to build
    NPE-enabled u-boot without copyright problems due to the NPE firmware.

    I hope the patch applies, I get whitespace-related differences in the NPE
    files due to trailing whitespace in the original versions.

    Signed-off-by: Michael Schwingen <michael@schwingen.org>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 57a127201eb3d8cc19170a008e0bd7af608bd72f
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Tue Jan 15 14:15:46 2008 -0600

    ColdFire: MCF547x_8x - Add M5475EVB and M5485EVB support

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
    Signed-off by: John Rigby <jrigby@freescale.com>

commit 1aee111135d8660a164d4f6bf7d66b032ea535cf
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Tue Jan 15 14:02:49 2008 -0600

    ColdFire: MCF547x_8x - Add M547xEVB and M548xEVB board

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
    Signed-off by: John Rigby <jrigby@freescale.com>

commit 777d1abd9796f1c2e148417cc10657e847d318ce
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Tue Jan 15 14:00:25 2008 -0600

    ColdFire: Add MCF547x_8x FEC driver

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>
    Signed-off by: John Rigby <jrigby@freescale.com>

commit 72f56adc0b25d43875ad067bae6be1bcea86b79f
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Tue Jan 15 13:54:09 2008 -0600

    ColdFire: Add MCF547x_8x dma code and header files

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
    Signed-off by: John Rigby <jrigby@freescale.com>

commit ce09fc49b56ea3c442794b6be9b7db4b99dfdc87
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Tue Jan 15 13:52:03 2008 -0600

    ColdFire: Add MCF547x_8x dma code - 2

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
    Signed-off by: John Rigby <jrigby@freescale.com>

commit 11865ea844e7154fd30c7e2860da4eed4a12ad1f
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Tue Jan 15 13:48:52 2008 -0600

    ColdFire: Add MCF547x_8x dma code - 1

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
    Signed-off by: John Rigby <jrigby@freescale.com>

commit 4621fc3fe7cd65b78b3cbd31f65c9f7f72b22bd3
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Tue Jan 15 13:39:44 2008 -0600

    ColdFire: Add MCF547x_8x related header files

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>
    Signed-off by: John Rigby <jrigby@freescale.com>

commit 570c0186aecab1b747b2d44d0e1d3c1ac4cb27f5
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Tue Jan 15 13:37:34 2008 -0600

    ColdFire: Add MCF547x_8x cpu arch

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
    Signed-off by: John Rigby <jrigby@freescale.com>

commit e2756f4b54aba0e0523b81dd145666829cf7fd59
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Mon Jan 14 17:47:23 2008 -0600

    ColdFire: Add MCF5227x cpu and M52277EVB support-3

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
    Signed-off by: John Rigby <jrigby@freescale.com>

commit c87581027994c148131b2f11aa75501f782ec19a
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Mon Jan 14 17:46:19 2008 -0600

    ColdFire: Add MCF5227x cpu and MCF52277EVB support-2

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
    Signed-off by: John Rigby <jrigby@freescale.com>

commit 1552af70ecab11b9f3dceff7528ed15faf678b9d
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Mon Jan 14 17:43:33 2008 -0600

    ColdFire: Add MCF5227x cpu and M52277EVB support-1

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
    Signed-off by: John Rigby <jrigby@freescale.com>

commit 397b7b81a1f1008798ae1206913508cc89cb3a7d
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Mon Jan 14 17:35:44 2008 -0600

    ColdFire: Fix CFI Flash low level Read/Write macro

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
    Signed-off by: John Rigby <jrigby@freescale.com>

commit aa5f1f9dc815a76f6dffb580798599c028fe7feb
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Mon Jan 14 17:23:08 2008 -0600

    ColdFire: Add M5373EVB platform support - 2

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
    Signed-off by: John Rigby <jrigby@freescale.com>

commit 1ac559d4aa358f63b48c62b564224c06feeb4e36
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Mon Jan 14 17:19:54 2008 -0600

    ColdFire: Add M5373EVB platform support - 1

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
    Signed-off by: John Rigby <jrigby@freescale.com>

commit 320d61991fa3190ee41765601ed017b6b5ff7b2b
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Mon Jan 14 17:17:03 2008 -0600

    ColdFire: Update FlexBus CS for MCF532x

    Definition update and change from 16bit to 32bit

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
    Signed-off by: John Rigby <jrigby@freescale.com>

commit 2e72ad0644b940817a89a3590ce0d7b99c05c396
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Mon Jan 14 17:11:47 2008 -0600

    ColdFire: PCI and misc updates for MCF5445x

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
    Signed-off by: John Rigby <jrigby@freescale.com>

commit d2b16493480ac3d4a60ad7d835b0dc27d2e99cee
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Mon Jan 14 17:06:55 2008 -0600

    ColdFire: MCF5445x header files cleanup

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
    Signed-off by: John Rigby <jrigby@freescale.com>

commit d9aae6260993a93f7fcf13abff85a601f4f50ea7
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Mon Jan 14 16:59:42 2008 -0600

    ColdFire: MCF532x header files cleanup

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
    Signed-off by: John Rigby <jrigby@freescale.com>

commit 7af7751d047e74b2ec58400f97b879c56446b3e8
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Mon Jan 14 15:30:15 2008 -0600

    ColdFire: Add modules header files

    Add CF specific modules header files

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
    Signed-off-by: John Rigby <jrigby@freescale.com>

commit 2956acd5ef93a498337f8ac2ec6ae6a77d491dc5
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Thu Jan 17 12:48:00 2008 -0600

    codingstyle cleanup for spi driver

    ..and rm unused CONFIG_FSL_SPI define

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit d59feffb42c9f174116db7a82a311df98983dfce
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Wed Jan 16 17:12:12 2008 -0500

    FSL: Fix common EEPROM_data structure definition

    - Fix EEPROM_data structure definition according to System EEPROM Data Format.
    - Read MAC addresses from EEPROM to ethXaddr before saving ethXaddr to
      bd->bi_ethaddr.

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>

commit 6bee764bd6da510a4aad614880300c968bc7318d
Author: Timur Tabi <timur@freescale.com>
Date:	Wed Jan 16 15:48:12 2008 -0600

    86xx: enable command-line editing

    Enable command-line editing for all MPC86xx boards.

    Signed-off-by: Timur Tabi <timur@freescale.com>

commit 80ddd22626d321a772ebfba304eb7830cb4f6bac
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Wed Jan 16 22:37:42 2008 -0500

    Implement hard SPI driver on MPC8349EMDS

    This patch implements the fsl_spi driver on the MPC8349EMDS evaluation board.
    This board has an ST M25P40 4Mbit EEPROM on its SPI bus

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 04a9e1180ac76a7bacc15a6fcd95ad839d65bddb
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Wed Jan 16 22:37:35 2008 -0500

    Add support for a Freescale non-CPM SPI controller

    This patch adds support for the SPI controller found on Freescale PowerPC
    processors such as the MCP834x family.  Additionally, a new config option,
    CONFIG_HARD_SPI, is added for general purpose SPI controller use.

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit a8cb43a89be6cfd283257a603dd9841503ccce0f
Author: Dave Liu <r63238@freescale.com>
Date:	Thu Jan 17 18:23:19 2008 +0800

    mpc83xx: Fix the fatal conflict of merge

    The commit 9e89647889cd4b5ada5b5e7cad6cbe55737a08d7
    will cause the mpc8315erdb board can't boot up.

    The patch fix that bug, and remove the duplicated #ifdef
    CFG_SPCR_TSECEP code and clean the SCCR_TSEC2 for
    MPC8313E processor.

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 3259eeaa4148125a81417477f62c05bd67f60587
Author: Larry Johnson <lrj@acm.org>
Date:	Thu Jan 17 08:50:09 2008 -0500

    Merge Sequoia beautification into Korat code

    Signed-off-by: Larry Johnson <lrj@acm.org>

commit e16925773211291b562e77187061e9dd1d757217
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Thu Jan 17 07:45:05 2008 +0100

    net: add 'ethrotate' environment variable

    [PATCH] net: add 'ethrotate' environment variable

    This patch replaces the buildtime configuration option
    CONFIG_NET_DO_NOT_TRY_ANOTHER through the 'ethrotate' runtime
    configuration veriable. See README.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit ba52be3d0e618c26070e93aaf3c1f2d2adf5571f
Author: Stefan Roese <sr@denx.de>
Date:	Thu Jan 17 14:29:04 2008 +0100

    ppc4xx: Fix compilation warnings and coding style issues in HCU4/HCU5

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 55ed1516cbc1dad3ae277c67ee06fc4a46eaac7d
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Thu Jan 17 18:07:32 2008 +0900

    sh: Remove CONFIG_COMMANDS from MS7720SE config file

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 055606bd25e88c0cd04ad348a679a04b1b616bee
Author: Niklaus Giger <niklaus.giger@netstal.com>
Date:	Wed Jan 16 18:39:20 2008 +0100

    ppc4xx: Netstal HCU4 board: added various fixes and POST

    - Moved some common code to netstal/common/nm_bsp.c.
    - sdram initialisation goes go netstal/common/fixed_sdram.c.
    - Added support for POST.
    - Stylistic cleanups (multi-line comments/ enforce 80 colomn width)

    Signed-off-by: Niklaus Giger <niklaus.giger@netstal.com>

commit 69b0634a4ee98c9791815600d43b99f626a952f3
Author: Niklaus Giger <niklaus.giger@netstal.com>
Date:	Thu Jan 17 12:53:56 2008 +0100

    ppc4xx: netstal/common define routines used by all boards

    Added some routines used by all Netstal boards:
    - nm_bsp.c: - nm_show_print and
	    -  common_misc_init_r
	    - set_params_for_sw_install. Very specific code to handle our SW
	      installation procedure
    - fixed_sdram.c: Common routines for HCU4 (and upcoming) MCU25 boards
      to handle sdram initialization.
    - nm.h: Common header

    Signed-off-by: Niklaus Giger <niklaus.giger@netstal.com>

commit efeff5382b7a91b48a1aa68b2b75f92ad1d33ff8
Author: Niklaus Giger <niklaus.giger@netstal.com>
Date:	Wed Jan 16 18:39:18 2008 +0100

    ppc4xx: Netstal HCU5 board: added various fixes and POST

    - Moved some common code to nestal/common/nm_bsp.c.
    - Added support for the vxWorks EDR.
    - Enable trace for Lauterbach, if present.
    - Added support for POST.
    - Stylistic cleanups (multi-line comments/ enforce 80 colomn width)

    Signed-off-by: Niklaus Giger <niklaus.giger@netstal.com>

commit 4371090e5da77edc7bf9f296364db4801639d9c4
Author: Niklaus Giger <niklaus.giger@netstal.com>
Date:	Wed Jan 16 18:39:08 2008 +0100

    ppc4xx: Netstal HCU5 board. Added POST. Various fixes

    - Various fixes
    - Reduced rom_size from 384 to 320 kB
    - Environment is now in flash
    - Added POST
    - Support for OF

    Signed-off-by: Niklaus Giger <niklaus.giger@netstal.com>

commit 4bd5036e60afac37e484c2d35cbbe7f6cc1623e7
Author: Niklaus Giger <niklaus.giger@netstal.com>
Date:	Wed Jan 16 18:37:50 2008 +0100

    ppc4xx: Netstal HCU4 board. Added POST. Various fixes

    - Various fixes
    - Reduced rom_size from 384 to 320 kB
    - Environment is now in flash
    - Added POST
    - Support for OF

    Signed-off-by: Niklaus Giger <niklaus.giger@netstal.com>

commit 1a3ac86b79fcb690275c85861c8efa6a3899060a
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Thu Jan 17 10:53:08 2008 +0100

    ppc4xx: Complete DU440 board support

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit 15a08bc2bef91e5f1ea4b9cf60e46832d86bcc1f
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Thu Jan 17 10:52:30 2008 +0100

    ppc4xx: Add DU440 board support

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit ac331da07db3860f11fa1d0fd3db7c810bce1198
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Thu Jan 17 15:53:52 2008 +0900

    sh: Update SuperH SCIF driver

    This patch fixed wrong SH7720 CPU macro and changed macro that
    calculated value of SCBRR register.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 334e442e6fac59be91244063e9b3f6ca25e8daf8
Author: Grzegorz Bernacki <gjb@semihalf.com>
Date:	Wed Jan 16 15:12:47 2008 +0100

    Set ips dividor to 1/4 of csb clock.

    Previous setting cause ips clock to be out of spec. This bug was found by John
    Rigby from Freescale.

    Signed-off-by: Grzegorz Bernacki <gjb@semihalf.com>

commit 7dc358bb0de9e2fa341f3b4c914466b1f34b2d89
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Jan 17 02:19:18 2008 -0600

    85xx: Get ride of old TLB setup code

    Now that all boards have been converted, remove old config code and the
    config option for the new style.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 3b558e26a5ef31635787d6d6e97d70939d4f892d
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Jan 17 02:02:10 2008 -0600

    85xx: Convert TQM85xx to new TLB setup

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 74121b470c14f7eaf284ee838bffca6f9521069e
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Jan 17 01:56:32 2008 -0600

    85xx: Convert STXGP3 & STXSSA to new TLB setup

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 143b518d9125b54f96f1d7f1afc640b8aae81ff0
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Jan 17 01:44:34 2008 -0600

    85xx: Convert SBC8540/SBC8560/SBC8548 to new TLB setup

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 818218bac6a11591e2542c344d2330e0f4e1968b
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Jan 17 01:31:34 2008 -0600

    85xx: Convert PM854/PM856 to new TLB setup

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit ff4681c9285b2b4d24552a19cacc1769fe2fc7e0
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Jan 17 01:25:33 2008 -0600

    85xx: Convert MPC8540EVAL to new TLB setup

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 73aa9ac2b46f1cfd039106ebd6b9865016005234
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Jan 17 01:12:22 2008 -0600

    85xx: Convert MPC8568 MDS to new TLB setup

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 0db37dc2eed30884db2daa24dbd9a113b5d00610
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Jan 17 01:01:09 2008 -0600

    85xx: Convert MPC8541/MPC8555/MPC8548 CDS to new TLB setup

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 219a81b98d834f9071b6f7c3bdc6b7ec39cc46cc
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Jan 17 00:52:29 2008 -0600

    85xx: Convert MPC8540/MPC8560 ADS to new TLB setup

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 80d0b6a1498761c4355b2db9c8001b04c295e7b8
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Jan 17 00:32:17 2008 -0600

    85xx: Convert ATUM8548 to new TLB setup

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 0f7a3dc95cbff3c21bd6dbc639313796412bbbab
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Jan 16 23:11:57 2008 -0600

    85xx: Convert MPC8544 DS to new TLB setup

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 8716318057a5f60ab1ba081ece2dbe82ae00e1ee
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Jan 16 22:38:34 2008 -0600

    85xx: Reworked initial processor init

    Reworked the initial processor initialzation sequence:
    * introduced cpu_early_init_f that is run in address space 1 (AS=1)
    * Moved TLB/LAW and CCSR init into cpu_early_init_f()
    * Reworked initial asm code to do most of the core init before TLBs

    The main reasons for these changes are to allow handling of 36-bit phys
    addresses in the future and some of the issues that will exist when we
    do that.

    There are a few caveats on what can be initialized via the LAW and TLB
    static tables:
    * TLB entry 14/15 can't be initialized via the TLB table
    * any LAW that covers the implicit boot window (4G-8M to 4G) must map to
      the code that is currently executing.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 44a23cfd6360a68eaa41f945190618a55519eac3
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Jan 16 22:33:22 2008 -0600

    85xx: Introduce new tlb API

    Add a set of functions to manipulate TLB entries:
     * set_tlb() - write a tlb entry
     * invalidate_tlb() - invalidate a tlb array
     * disable_tlb() - disable a variable size tlb entry
     * init_tlbs() - setup initial tlbs based on static table

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit be88b1699863c262818f3af7f60173b4d48df8fc
Author: Stefan Roese <sr@denx.de>
Date:	Thu Jan 17 07:50:17 2008 +0100

    ppc4xx: Fix remaining CONFIG_COMMANDS in 4xx files

    Signed-off-by: Stefan Roese <sr@denx.de>

commit c8c41d4a80b1a8ad5984a287d81ea780496259f8
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Jan 16 10:04:42 2008 -0600

    85xx: Use proper defines for PCI addresses

    We should be using the _MEM_PHYS for LAW and TLB setup and not _MEM_BASE.
    While _MEM_BASE & _MEM_PHYS are normally the same, _MEM_BASE should only
    be used for configuring the PCI ATMU.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 54a5070115eff38e9b324b78abdfa0b4520580b9
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Jan 16 09:22:29 2008 -0600

    85xx: Remove old style of LAW init

    All boards are now using the new fsl_law code so we can drop the old version.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 4d3521cc79cabc61edf12c48c0ce318d4efb712f
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Jan 16 09:15:29 2008 -0600

    85xx: convert remaining 85xx boards over to use new LAW init code

    Converted ATUM8548, MPC8568 MDS, MPC8540 EVAL, and TQM85xx boards over
    to use new LAW init code.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 572b13afc42710f2957c382a710360429c0e099b
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Jan 16 09:11:53 2008 -0600

    85xx: convert STXGP3/STXSSA over to use new LAW init code

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 45f2166ac0233a9263058378f39612bd11f61196
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Jan 16 09:06:48 2008 -0600

    85xx: convert PM854/PM856 over to use new LAW init code

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit e2b159d0070ee06e4ac7e2f9381d3e8e542e614a
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Jan 16 09:05:27 2008 -0600

    85xx: convert SBC8540/SBC8560/SBC8548 over to use new LAW init code

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 2cfaa1aa1aac39a81006b7b27e0e431bf21f6dfa
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Jan 16 01:45:10 2008 -0600

    85xx: convert MPC8541/MPC8555/MPC8548 CDS over to use new LAW init code

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 7232a2724ccc9dcbc3ec4ef84ada02f13ccd1238
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Jan 16 01:32:06 2008 -0600

    85xx: convert MPC8540/MPC8560 ADS over to use new LAW init code

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 4bcae9c92aee0d72a2f19b81cab27ef38107ce75
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Jan 16 01:16:16 2008 -0600

    85xx: convert MPC8544 DS over to use new LAW init code

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 83d40dfd79fe868796275802f60116d84b9e4395
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Jan 16 01:13:58 2008 -0600

    85xx: Move LAW init code into C

    Move the initialization of the LAWs into C code and provide an API
    to allow modification of LAWs after init.

    Board code is responsible to provide a law_table and num_law_entries.

    We should be able to use the same code on 86xx as well.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit bed8ce838a609aaab136d43b25e6df2a520bc854
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Dec 22 15:03:12 2007 +0100

    qemu-mips: active HUSH PARSER, AUTO_COMPLETE and CMDLINE_EDITING

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 0764c164fed6277d359cf132d55187ea34290114
Author: Vlad Lungu <vlad@comsys.ro>
Date:	Wed Jan 16 19:27:51 2008 +0200

    MIPS:Target support for qemu -M mips

    With serial, NE2000, IDE support. Tested in big-endian mode.
    Memory size hard-coded to 128M for now, so don't play with
    the -m option.

    Signed-off-by: Vlad Lungu <vlad@comsys.ro>

commit 7f52fa3c2df59e49dc2badd7c084cf2d007c438f
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Jan 11 00:01:37 2008 +0100

    Fix nfs command help to reflect that the serverip is optional

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit b8f4162a4f7a9bee5e9d0305c17f2d34de466a9b
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Mon Dec 10 22:32:14 2007 +0100

    bf537-stamp: remove already defined is_zero_ether_addr and is_multicast_ether_addr

    and move is_valid_ether_addr board file

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit c2f896b8fc4722e36915903e1942e138e68ce804
Author: Shinya Kuribayashi <shinya.kuribayashi@necel.com>
Date:	Wed Jan 16 16:13:31 2008 +0900

    drivers/net/rtl8139.c: rx_status should be le32_to_cpu(rx_status).

    rx_status on the memory is basically in LE, but needs to be handled in CPU
    endian. le32_to_cpu() takes up this mission. Even if on the sane hardware,
    it'll work fine.

    Signed-off-by: Shinya Kuribayashi <shinya.kuribayashi@necel.com>
    Cc: Masami Komiya <mkomiya@sonare.it>
    Cc: Lucas Jin <lucasjin@gmail.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 96a236746fe6a7b84802afb4ed31536696d34812
Author: Shinya Kuribayashi <shinya.kuribayashi@necel.com>
Date:	Wed Jan 16 16:12:26 2008 +0900

    drivers/net/rtl8139.c: Fix cache coherency issues

    Current driver is meant for cache coherent systems. This patch adds
    flush_cache() routines to support cache non-coherent systems.

    Signed-off-by: Shinya Kuribayashi <shinya.kuribayashi@necel.com>
    Cc: Masami Komiya <mkomiya@sonare.it>
    Cc: Lucas Jin <lucasjin@gmail.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit d1276c76c1e2b5035296689280ba1acb2c425104
Author: Shinya Kuribayashi <shinya.kuribayashi@necel.com>
Date:	Wed Jan 16 16:11:14 2008 +0900

    drivers/net/rtl8139.c: Fix tx timeout

    "to = (currticks() + RTL_TIMEOUT)" has possibilities to wrap around. If it
    does, the condition "(currticks() < to)" becomes invalid and immediately
    leads to tx timeout error. This patch introduces the fine-graded udely(10)
    loops to ease the impact of wrapping around.

    Signed-off-by: Shinya Kuribayashi <shinya.kuribayashi@necel.com>
    Cc: Masami Komiya <mkomiya@sonare.it>
    Cc: Lucas Jin <lucasjin@gmail.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 18ee320ff63edbf7b27bbeb05f0e12a52302c68a
Author: Dave Liu <r63238@freescale.com>
Date:	Fri Jan 11 18:45:28 2008 +0800

    TSEC: Add the support for RealTek RTL8211B PHY

    Add the support of RealTek RTL8211B PHY, the RTL8211B
    PHY only supports RGMII and MII mode.

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 84a3047b72b70e862b0b7a8e2058077457f89a32
Author: Joakim Tjernlund <Joakim.Tjernlund@transmode.se>
Date:	Wed Jan 16 09:40:41 2008 +0100

    Remove annoying debug printout for PHY less boards.

    PHY less board prints out lots of "read wrong ...":
    read wrong value : mii_id 3,mii_reg 2, base e0102320
    read wrong value : mii_id 3,mii_reg 3, base e0102320
    UEC: PHY is Generic MII (ffffffff)
    read wrong value : mii_id 3,mii_reg 4, base e0102320
    read wrong value : mii_id 3,mii_reg 0, base e0102320
    read wrong value : mii_id 3,mii_reg 1, base e0102320
    read wrong value : mii_id 3,mii_reg 1, base e0102320
    read wrong value : mii_id 3,mii_reg 5, base e0102320
    read wrong value : mii_id 3,mii_reg 1, base e0102320
    read wrong value : mii_id 3,mii_reg 1, base e0102320
    read wrong value : mii_id 3,mii_reg 5, base e0102320
    FSL UEC0: Full Duplex
    FSL UEC0: Speed 100BT
    FSL UEC0: Link is up
    Using FSL UEC0 device

    Make this printout depend on UEC_VERBOSE_DEBUG and
    remove its definition in uec_phy.c

    Signed-off-by: Joakim Tjernlund <Joakim.Tjernlund@transmode.se>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit ee62ed3286f83b98b7785e0318dc6379e78f7ff6
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Tue Jan 15 14:11:00 2008 -0600

    net: reduce boot latency on QE UEC based boards

    actually polling for PHY autonegotiation to finish enables us to remove the
    5 second boot prompt latency present on QE based boards.

    call to qe_set_mii_clk_src in init_phy, and mv call to init_phy from
    uec_initialize to uec_init by Joakim Tjernlund; autonegotiation wait
    code shamelessly stolen from tsec driver.

    also rm unused CONFIG_RMII_MODE code.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>
    Signed-off-by: Joakim Tjernlund <Joakim.Tjernlund@transmode.se>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 55fe7c57a8b99a130925052dcdbb77f053dc50e3
Author: michael.firth@bt.com <michael.firth@bt.com>
Date:	Wed Jan 16 11:40:51 2008 +0000

    TSEC driver: Change MDIO support to allow access to any PHYs on the MDIO bus

    The current TSEC driver limits MDIO access to the devices that have been configured as attached
    to a TSEC MAC. This patch allows access to any PHY device on the MDIO bus through the 'mii' commands.

    Signed-off-by: Michael Firth <michael.firth@bt.com>
    Acked-by: Andy Fleming <afleming@freescale.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 5e918a98c26e8ab9b5d2d48d998a2ced2b5b85b3
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Wed Jan 16 00:38:05 2008 -0600

    Add support for the MPC837xERDB

    MPC837xERDB board support includes:
    * DDR2 330MHz hardcoded (soldered on the board)
    * Local Bus NOR Flash
    * I2C, UART and RTC
    * eTSEC RGMII (TSEC0 - RTL8211B with MII;
    *	       TSEC1 - VSC7385 local bus, hardcoded, requires seperate firmware
    *		       load)

    Signed-off-by: Kevin Lam <kevin.lam@freescale.com>
    Signed-off-by: Joe D'Abbraccio <joe.d'abbraccio@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 9e89647889cd4b5ada5b5e7cad6cbe55737a08d7
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Wed Jan 16 12:06:16 2008 -0600

    mpc83xx: add support for more system clock performance controls

    System registers that are modified are the Arbiter Configuration
    Register (ACR), the System Priority Control Register (SPCR), and the
    System Clock Configuration Register (SCCR).

    Signed-off by: Michael F. Reiss <Michael.F.Reiss@freescale.com>
    Signed-off by: Joe D'Abbraccio <ljd015@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 16c3cde050e2d243e62b37486f1558570787beb8
Author: James Yang <james.yang@freescale.com>
Date:	Wed Jan 16 11:58:08 2008 -0600

    FSL: Generalize PIXIS reset command parsing.

    Before, the order of arguments to the pixis_reset
    command needed to be supplied in a hard-coded order.
    Generalize the command parsing to allow any order.

    Signed-off-by: James Yang <james.yang@freescale.com>
    Acked-by: Jon Loeliger <jdl@freescale.com>

commit ad8f8687b78c3e917b173f038926695383c55555
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Jan 15 13:42:41 2008 -0600

    FSL: Convert board/freescale/common/Makefile to use CONFIG_

    Convert the board/freescale/common/Makefile to use
    CONFIG_* options to select which files to conditionally
    compile into the board/freescale/common library rather
    than conditionally compiling entire files.

    Now handles::
	CONFIG_FSL_PIXIS
	CONFIG_FSL_DIU_FB
	CONFIG_PQ_MDS_PIB

    CONFIG_ID_EEPROM is introduced until CFG_ID_EEPROM is gone.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 7c2221eb230372a9e537c4f6636b147b0909325f
Author: Roy Zang <tie-fei.zang@freescale.com>
Date:	Tue Jan 15 16:38:38 2008 +0800

    Use CONFIG_ULI526X as MPC8610HPCD default Ethernet driver

    Use driver/net/uli526x.c as MPC8610HPCD default Ethernet driver.
    Remove unused ethernet CONFIG_ options.

    Signed-off-by: Roy Zang <tie-fei.zang@freescale.com>
    Acked-by: Jon Loeliger <jdl@freescale.com>

commit 711a7946277d2e29af481011e8635e9975c54e45
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Tue Jan 15 14:05:14 2008 -0600

    mpc83xx: fix QE ETHPRIMEs to correct 'FSL UEC0' value

    continuation of commit b96c83d4ae475a70ef2635cd0e748174c44c8601

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 363eea9ff7f19a2cba17f262bd17559f166e134e
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Tue Jan 15 09:51:12 2008 -0600

    mpc83xx: clean up mpc8360emds.c warnings

    mpc8360emds.c: In function 'ft_board_setup':
    mpc8360emds.c:327: warning: assignment makes pointer from integer without a cast
    mpc8360emds.c:329: warning: passing argument 2 of 'fdt_getprop' makes integer from pointer without a cast
    mpc8360emds.c:334: warning: passing argument 2 of 'fdt_setprop' makes integer from pointer without a cast
    mpc8360emds.c:341: warning: assignment makes pointer from integer without a cast
    mpc8360emds.c:343: warning: passing argument 2 of 'fdt_getprop' makes integer from pointer without a cast
    mpc8360emds.c:348: warning: passing argument 2 of 'fdt_setprop' makes integer from pointer without a cast

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit f09880ea72a1c806db223ce594c5fb1b6542ff6a
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Mon Jan 14 16:14:46 2008 -0600

    mpc83xx: fix phy-connection-type fixup code

    use tree passed to us in local blob, not global fdt.

    Also use fdt_path_offset to convert to relative offset, since absolute
    reference is needed to check for rgmii-id mode string value.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 2b4c952be7c4357a13e839d48df80853820c33eb
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Jan 14 09:01:40 2008 -0600

    mpc83xx: fix mpc8313/mpc8315/mpc8349itx Makefiles for silent build (with -s)

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit e1d8ed2c08da14b168658cc5fa78529d461aea70
Author: Poonam Aggrwal <b10812@freescale.com>
Date:	Mon Jan 14 09:41:14 2008 +0530

    Changes in uboot DDR configuration for MPC8313eRDB

    These changes were identified by HighSmith Bill ,Mazzyar and Joseph for
    DDR configuration in u-boot code. Some are related to performance, some
    affect stability and some correct few basic errors in the current
    configuration.

    The changes have been tested and found to give better memory latency
    figures on MPC8313eRDB.LMBench figures prove it.

    The changes are:

    - CS0_CONFIG[ AP_n_EN] is changed from 1 to 0
      (this may improve performance for application with many read
      or write to open pages).
    - CS0_CONFIG[ODT_WR_CFG] is currently changed from 100 to
      001 (activating all the CS when only one is used may cause
      unwanted noise on the system)

    - TIMING_CFG_1[ACTTOPRE] is changed from 9clks to 8clks (based on
      Tras=45ns)
    - TIMING_CFG_1[REFREC] changed from 21 clks to 18clks.

    - TIMING_CFG_2[AL] value changed from 0 setting to 1 clk to
      comply with the 3 ODT clk requirements)
    - TIMING_CFG_2[CPO] was set to a reserved value, changed to RL+3/4.
    - TIMING_CFG_2[FOUR_ACT] is changed from 10 clks to 6clks.

    - DDR_SDRAM_MODE[AL]changed from 0 to 1.
    - DDR_SDRAM_MODE[WRREC] changed from 1 clk to 3 clks.

    - DDR_SDRAM_INTERVAL[REFINT] is changed from 0x0320 to 0x0510.
    - DDR_SDRAM_INTERVAL[BSTOPRE] is changed from 0x64 to 0x0500.

    The patch is based of git://www.denx.de/git/u-boot-mpc83xx.git
    The last commit on this tree was 6775c68683a53c7abc778774641aac6f833a2cbf

    Signed-off-by: Poonam Aggrwal-b10812 <b10812@freescale.com>
    Cc: Bill HighSmith <Bill.Highsmith@freescale.com>
    Cc: Razzaz Mazyar <MRazzaz@freescale.com>
    Cc: Josep P J <PJ.Joseph@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit b5cdd7df4a06edb91539c9a2ea7c178a870c3a95
Author: Jerry Van Baren <gvb.uboot@gmail.com>
Date:	Sat Jan 12 13:24:14 2008 -0500

    Enable the isdram command on the MPC8360EMDS board

    The isdram command prints out decoded information the "serial presence
    detect" (SPD) chip on the SDRAM SIMMs.  This can be very helpful when
    debugging memory configuration problems.

    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 8bd522ce4afda3d4868ee8c913f5394094326be1
Author: Dave Liu <r63238@freescale.com>
Date:	Fri Jan 11 18:48:24 2008 +0800

    mpc83xx: Add the support for MPC8315ERDB board

    The features list:
    - Boot from NOR Flash
    - DDR2 266MHz hardcoded configuration
    - Local bus NOR Flash R/W operation
    - I2C, UART, MII and RTC
    - eTSEC0/1 support
    - PCI host

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit b05884efa614e4d8a9413158fc228e0dc02ab704
Author: Dave Liu <r63238@freescale.com>
Date:	Fri Jan 11 18:46:50 2008 +0800

    mpc83xx: Add config of eTSEC emergency priority in SPCR

    The TSEC emergency priority definition of 831x/837x
    is different than the definition of 834x in SPCR register.

    Add the other config of TSEC emergency priority into
    cpu_init.c

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 9b958234b0783f13d92f007f753fd2c3ae2c8680
Author: Dave Liu <r63238@freescale.com>
Date:	Fri Jan 11 18:42:19 2008 +0800

    mpc83xx: Remove cache config from MPC8360ERDK.h

    The MPC8360ERDK board support patch is added before
    the commit 2c5b48fc205c3e2752910da8f39209ed075929e5
    so, miss clean up it.

    The patch clean up the miss cache config.

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit cd9d23053d435c08fc8695017b5cb9003fcda786
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Mon Jan 14 23:09:32 2008 +0300

    nand: FSL UPM NAND driver

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>

commit 6cb2239ae76faee64434286c4f8fc71374702dd2
Author: Kyungmin Park <kmpark@infradead.org>
Date:	Tue Jan 15 08:59:44 2008 +0900

    OneNAND: Separate U-Boot dependent code from OneNAND

    OneNAND: Separate U-Boot dependent code from OneNAND

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>

commit 83a49c8dd7998be2d1f0d420597a36bbf0bf4164
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Wed Jan 16 10:33:46 2008 +0100

    ppc4xx: Sequoia coding style cleanup and beautification

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit 4b3cc6ece9c455504cf12909fae38d085d848ac0
Author: Larry Johnson <lrj@acm.org>
Date:	Tue Jan 15 14:35:58 2008 -0500

    ppc4xx: Refactor ECC POST for AMCC Denali core

    The ECC POST reported intermittent failures running after power-up on
    the Korat PPC440EPx board.	Even when the test passed, the debugging
    output occasionally reported additional unexpected ECC errors.

    This refactoring has three main objectives: (1) minimize the code
    executed with ECC enabled during the tests, (2) add more checking of the
    results so any unexpected ECC errors would cause the test to fail, and
    (3) use synchronization (only) where required by the processor.

    Signed-off-by: Larry Johnson <lrj@acm.org>

commit 2465665b73ac2f688af945b1ed510752afa816a4
Author: David Saada <David.Saada@ecitele.com>
Date:	Tue Jan 15 10:40:24 2008 +0200

    QE UEC: Extend number of supported UECs to 4

    This patch extends the number of supported UECs to 4. Note that the
    problem of QE thread resources exhaustion is resolved by setting the
    correct number of QE threads according to Ethernet type (GBE or FE).

    Signed-off-by: David Saada <david.saada@ecitele.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 58d204256cb1ce1bd323847d9f644acf70a72e6a
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Jan 16 00:01:01 2008 +0100

    LWMON5: enable hush shell as command line parser

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 66ffb1883feedddc813d8a507d060f2a940eb2b2
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Jan 15 17:22:28 2008 +0100

    ADS5121: disable watchdog; enable image timestamps

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 2b4f778fe9d1de61d7445bae7b325340aba6968d
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Jan 15 17:21:28 2008 +0100

    TK885D: fixes for bigger flash sector sizes on new modules;
    adjust default environment;
    disable SCC ethernet (not used on this board).

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit f91d7ae5ca89acf9fa1ed1015dc078cf29581607
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Tue Jan 15 17:48:13 2008 +0900

    pcmcia: Remove CONFIG_COMMANDS from marubun pcmcia driver

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 76e49aa7fb8e76cc49092c1acd53fff921e26360
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Tue Jan 15 23:25:25 2008 +0900

    sh: Add support SH7710/SH7712

    SH7710/SH7712 of SH3 CPU are supported.
    SH771X is called SH-Ether, and has the Ether controller in CPU.
    The driver of Ether is not included in this patch.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 63a11be68306870e04d3851ed9fa41955cdf4894
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Tue Jan 15 23:06:17 2008 +0900

    sh: Add support of map_physmem() and unmap_physmem() to SuperH

    This patch add the support of map_physmem() and unmap_physmem()
    used with Common Flash Interface(CFI) driver.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit db3995fe5164ac5d630b7ecb96286a9828dfbb54
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Wed Jan 9 14:42:27 2008 +0900

    sh: Add maintainer of MS7720SE to the MAINTAINER file

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit dcd99e88e03d56a0aeecd42b507d2d29d20ab0e3
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Wed Jan 9 14:39:58 2008 +0900

    sh: Fix board name in MS7720SE's config.mk

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit c0a04d93734d768b39dbb72fb501b65614c8615d
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Wed Jan 9 14:37:36 2008 +0900

    sh: Add MS7720SE to MAKEALL

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit b2b5e2bb78a1ef4ae8504f5a26bfdc3293ea74ae
Author: Yoshihiro Shimoda <shimoda.yoshihiro@renesas.com>
Date:	Mon Dec 3 22:58:50 2007 +0900

    sh: Add support for MS7720RP02 board

    Signed-off-by: Yoshihiro Shimoda <shimoda.yoshihiro@renesas.com>
    CC: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
    Acked-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 7c10c57275901939a8ece4a9ef3e7ccb7c12a0ed
Author: Yoshihiro Shimoda <shimoda.yoshihiro@renesas.com>
Date:	Wed Jan 9 14:30:02 2008 +0900

    sh: Add support for SH7720 in serial_sh driver.

    Signed-off-by: Yoshihiro Shimoda <shimoda.yoshihiro@renesas.com>
    CC: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
    Acked-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit f9913a8ee71ff14fcfc1c7fd0e6912f897e69403
Author: Yoshihiro Shimoda <shimoda.yoshihiro@renesas.com>
Date:	Mon Dec 3 22:58:45 2007 +0900

    sh: Add support SH3 and SH7720

    Signed-off-by: Yoshihiro Shimoda <shimoda.yoshihiro@renesas.com>
    CC: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
    Acked-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 9adfc9fb9ade64cdf1ed9ff842e4f900cbda78bd
Author: Stefan Roese <sr@denx.de>
Date:	Tue Jan 15 10:11:02 2008 +0100

    ppc4xx: Remove compiler warning in cpu/ppc4xx/44x_spd_ddr2.c

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 17bef68097ab3692500a36fb31115bff7910aa99
Author: Niklaus Giger <niklausgiger@gmx.ch>
Date:	Mon Jan 14 14:04:42 2008 +0100

    ppc_4xx: Fix post spr.c for PPC405

    post/cpu/ppc4xx/spr.c contained a few checks for registers only present
    for PPC440 and derivates processor.

    Signed-off-by: Niklaus Giger <niklaus.giger@netstal.com>

commit 06c428bcd4413014b43236e77765022071424fa6
Author: Dave Liu <r63238@freescale.com>
Date:	Mon Jan 14 11:12:01 2008 +0800

    QE: fix compile warning

    qe.c: In function 'qe_upload_firmware':
    qe.c:390: warning: pointer targets in passing argument 2
    uec.c: In function 'uec_initialize':
    uec.c:1236: warning: 'uec_info' may be used uninitialized

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit a0dd99d51efa55fe023e19c97ead92683725eb11
Author: Stefan Roese <sr@denx.de>
Date:	Mon Jan 14 10:05:05 2008 +0100

    ppc4xx: Update Kilauea CPLD configuration with USB PHY reset bit

    Now that bit 29 is the USB PHY reset bit, update the Kilauea port
    to remove the USB PHY reset after powerup. The CPLD will keep the
    USB PHY in reset (active low) until the bit is set to 1 in
    board_early_init_f().

    Signed-off-by: Stefan Roese <sr@denx.de>

commit f43ad53908f1ea83a7c26c3505bbe84382e47aad
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Jan 13 23:26:45 2008 +0100

    ARM: update mach-types.h from 2.6.24-rc7 Linux kernel tree

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 8d103071b7b0e3ec888859bfcb9d422565e6d750
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Jan 13 23:37:50 2008 +0100

    ADS5121: Fix typo in ads5121.c, adjust default environment

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 51b67d06faa670c65de6f29ec5b5aace74b2a047
Author: John Rigby <jrigby@freescale.com>
Date:	Fri Aug 24 18:18:43 2007 -0600

    ADS5121: MAX slew rate for PATA pins

    Signed-off-by: John Rigby <jrigby@freescale.com>

commit dd531aac34aaad138f16cacdb51d61908d59c0e2
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Jan 13 21:05:52 2008 +0100

    Fix Makefile dependency problem with parallel builds.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 89967841e3ea02e3d0e5e1295ab687576e5b1089
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Jan 13 19:51:39 2008 +0100

    MPC8544DS: fix board Makefile for silent build (with -s)

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 6d714f82fb4b8bb7e267e9c71b8009bc670bfe88
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Jan 13 16:44:08 2008 +0100

    PMC440 board: fix board Makefile for out-of-tree building

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 6eb3fb15588d319bd3099d5f9b910051dfeab6b2
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Jan 13 16:07:44 2008 +0100

    Makalu: fix compile warning

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 0a1e03bcadc7734688a21e8dd2e46a4f608193c0
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Jan 13 12:36:12 2008 +0100

    cmd_nand : fix compiler warning.

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 8225d1e3ac0ab147cdde4b0042812583380afb8a
Author: Michael Schwingen <rincewind@discworld.dascon.de>
Date:	Sat Jan 12 20:29:47 2008 +0100

    CFI: Fix CONFIG_FLASH_CFI_LEGACY compilation

    Signed-off-by: Michael Schwingen <michael@schwingen.org>
    Acked-by: Stefan Roese <sr@denx.de>

commit 2b2f43ed6a30ece77f76191c845ac95267daa31a
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Jan 13 02:19:44 2008 +0100

    MPC8360ERDK: fix incorrect initialization of CFG_I2C_NOPROBES

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 08e99e1dd01a3e0e3dc3a7138eb827c997e2b74d
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Jan 13 02:19:13 2008 +0100

    MPC8xx FEC driver: fix compiler warning.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit ae6d1056d2c2e4d1266413c0ae8a6d5529ecde4b
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Jan 13 00:59:21 2008 +0100

    Fix Makefile dependencies issues; allow silent build

    - get rid of "version" target whichdidn't really work
    - make autoconf.mk depend on version_autogenerated.h to make sure
      to rebuild files as needed
    - add XECHO macro to allow for silent build using "make -s"

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit e343ab83d5135b558aa58db9be8fc7faa68d77ed
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Jan 13 00:55:47 2008 +0100

    ADS5121e: fix compile warning

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit f2b6f4610627fe3d607620e25082916a01538875
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Jan 13 00:55:18 2008 +0100

    MUNICes: fix board Makefile for remote build directory

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 2ad4d3999fe801aa716221d7d9a4c5bdad74783a
Author: Oliver Weber <almoeli@gmx.de>
Date:	Wed Jan 9 17:04:38 2008 +0100

    MPC5200: don't use hardcoded MBAR address in Bestcomm firmware

    Signed-off-by: Oliver Weber <almoeli@gmx.de>

commit 00ac50e348d1bace27a174b7f528d113bc7cdf7f
Author: Andreas Engel <andreas.engel@ericsson.com>
Date:	Wed Jan 9 17:10:56 2008 +0100

    Make bootretry work when command line editing is enabled

    Currently, when CONFIG_CMDLINE_EDITING is set, bootretry doesn't work.
    This patch fixes the problem.

    Signed-off-by: Andreas Engel <andreas.engel@ericsson.com>

commit 632de0672d3c3ab53ad798c47f5f1eb26008a0e4
Author: Larry Johnson <lrj@acm.org>
Date:	Fri Jan 11 23:26:18 2008 -0500

    Refactor code for "i2c sdram" command

    Signed-off-by: Larry Johnson <lrj@acm.org>

commit 0df6b8446c4721b91ce311548114891130371083
Author: Larry Johnson <lrj@acm.org>
Date:	Thu Jan 10 22:23:39 2008 -0500

    Fix "i2c sdram" command for DDR2 DIMMs

    Many of the SPD bytes for DDR2 SDRAM are not interpreted correctly by the
    "i2c sdram" command.  This patch provides correct alternative
    interpretations when DDR2 memory is detected.

    Signed-off-by: Larry Johnson <lrj@acm.org>

commit 64134f011254123618798ff77c42ba196b2ec485
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Jan 12 20:31:39 2008 +0100

    Fix linker scripts: add NOLOAD atribute to .bss/.sbss sections

    With recent toolchain versions, some boards would not build because
    or errors like this one (here for ocotea board when building with
    ELDK 4.2 beta):
    ppc_4xx-ld: section .bootpg [fffff000 -> fffff23b] overlaps section .bss [fffee900 -> fffff8ab]

    For many boards, the .bss section is big enough that it wraps around
    at the end of the address space (0xFFFFFFFF), so the problem will not
    be visible unless you use a 64 bit tool chain for development. On
    some boards however, changes to the code size (due to different
    optimizations) we bail out with section overlaps like above.

    The fix is to add the NOLOAD attribute to the .bss and .sbss
    sections, telling the linker that .bss does not consume any space in
    the image.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 3afac79ec27b91df185f090b31dad9620779f440
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Fri Jan 11 20:42:58 2008 -0600

    USB: Add Philips 1561 PCI-OHCI ids
    (needed for M5475EVB)

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 5e8def6731cd7bec74bff42a16b139de04010353
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Jan 12 15:51:34 2008 +0100

    Add MAINTAINERS entries for ids8247, jupiter, municse, sc3 and uc101
    boards.

    Signed-off-by: Heiko Schocher <hs@denx.de>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 5d49e0e152a8b81cc0602271e8fd259371f559b7
Author: Grzegorz Bernacki <gjb@semihalf.com>
Date:	Fri Jan 11 12:03:43 2008 +0100

    MPC512X: Cleanup bus clock names.

    Signed-off-by: Grzegorz Bernacki <gjb@semihalf.com>

commit 66a9455b6bf46d69cec5c88d1a600d1d9a10670d
Author: Grzegorz Bernacki <gjb@semihalf.com>
Date:	Tue Jan 8 17:16:59 2008 +0100

    MPC512X: Fixed typo in macro name.

    Signed-off-by: Grzegorz Bernacki <gjb@semihalf.com>

commit 281ff9a45cf9eb17b8a9afc436cb783cf1f62363
Author: Grzegorz Bernacki <gjb@semihalf.com>
Date:	Tue Jan 8 17:16:15 2008 +0100

    ads5121: Added support for FDT.

    Signed-off-by: Grzegorz Bernacki <gjb@semihalf.com>

commit a10ff9196183e7e5f2ae3c4f5f3cbe92ae9cb719
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Jan 12 01:05:50 2008 +0100

    Coding Style cleanup; update CHANGELOG.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit f6db945649e5e9d0c7efe33b507d243cdc86cf03
Author: Heiko Schocher <hs@denx.de>
Date:	Fri Jan 11 15:15:17 2008 +0100

    Fixed syntax error in function init_e300_core() of mpc83xx/start.S if

    Signed-off-by: Timur Tabi <timur@freescale.com>
    Signed-off-by: Heiko Schocher <hs@denx.de>

commit fa05664cd8c7ab1ecf062aa73b992b7b58bba49c
Author: Heiko Schocher <hs@denx.de>
Date:	Fri Jan 11 15:15:16 2008 +0100

    MUNICes: Set the right CFG_DEFAULT_MBAR value.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 5fb2b2342ece8d786c6f7fdba1bc273febd3b3d2
Author: Heiko Schocher <hs@denx.de>
Date:	Fri Jan 11 15:15:15 2008 +0100

    added the config File for the MUNICes board.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 6341d9d723b71b4c0bf86f979e4cb228c02fd09d
Author: Heiko Schocher <hs@denx.de>
Date:	Fri Jan 11 15:15:14 2008 +0100

    added basic support for the MUNICes board.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 3bb77fb09a1caabf5a292cc5b486a78b977fbe19
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Jan 12 00:39:37 2008 +0100

    Update CHANGELOG and MAINTAINERS files.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 5ba7390c3cb579172be66888a371707b47b5be4e
Author: Anatolij Gustschin <agust@denx.de>
Date:	Fri Jan 11 02:15:02 2008 +0100

    Fix compilation problem in common/cmd_bmp.c

    common/cmd_bmp.c fails to compile if CONFIG_VIDEO_BMP_GZIP
    isn't defined. This patch fix this.

    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit 5aa437baae5fe629abeab99bef793a2a1fc71b58
Author: Heiko Schocher <hs@denx.de>
Date:	Fri Jan 11 01:12:09 2008 +0100

    Fix defaultconfig for the mgcoge board.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit ac9db066b26935f31bff15c98168b19faeb603f3
Author: Heiko Schocher <hs@denx.de>
Date:	Fri Jan 11 01:12:08 2008 +0100

    Added support for the mgcoge board from keymile.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit b423d055cc2e13c4ef1f0389c3fa2988d0eed818
Author: Heiko Schocher <hs@denx.de>
Date:	Fri Jan 11 01:12:07 2008 +0100

    Enable SMC microcode relocation patch for SMC1.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 381e4e639720d8d2efb8066c7c48ec9588cb28c7
Author: Heiko Schocher <hs@denx.de>
Date:	Fri Jan 11 01:12:06 2008 +0100

    Added support for the mgsuvd board from keymile.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit bf05293973b348f6946c9df92cd3c65ece42d0be
Author: James Yang <james.yang@freescale.com>
Date:	Thu Jan 10 16:02:07 2008 -0600

    Fix 64-bit vsprintf.

    There were some size and unsigned problems.
    Also add support for "ll" size modifier in format string like glibc

    Signed-off-by: James Yang <James.Yang@freescale.com>
    Acked-by: Jon Loeliger <jdl@freescale.com>

commit 92fa37eac530860643afa26ae347af3d23d67309
Author: Larry Johnson <lrj@acm.org>
Date:	Wed Jan 9 12:42:35 2008 -0500

    Remove superfluous preprocessor conditionals from LM73 driver

    (1) Remove unused symbol "CFG_EEPROM_PAGE_WRITE_ENABLE".

    (2) Use conditional Makefile.o.

    Signed-off-by: Larry Johnson <lrj@acm.org>

commit efc6f447c1b940d1650c4b854c5598a595ddc3da
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Thu Jan 10 17:59:07 2008 +0100

    Add support for the TK885D baseboard from TELE-DATA

    The TK885D board uses a TQM885D module from TQ, this port adds an
    own configuration file and adds a last_stage_init() method to
    configure the two PHYs, depending on the phy_auto_nego environment
    variable.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit 0ec595243dc99edcd248bbcfbfd5a1dc860bde89
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Jan 10 02:22:05 2008 -0600

    Fix compiler warning

    main.c: In function 'readline_into_buffer':
    main.c:927: warning: unused variable 'p_buf'

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit bed53753dd1d7e6bcbea4339be0fb7760214cc35
Author: Anatolij Gustschin <agust@denx.de>
Date:	Fri Jan 11 14:30:01 2008 +0100

    Add Fujitsu CoralP/Lime video driver

    Signed-off-by: Anatolij Gustschin <agust@denx.de>
    Signed-off-by: Rodolfo Giometti <giometti@linux.it>

commit 20c450ef61ef2eb1c96f9b59ba0eb8d849bba058
Author: Anatolij Gustschin <agust@denx.de>
Date:	Fri Jan 11 02:39:47 2008 +0100

    Fix video console newline and carriage return handling

    Lines of the lenght CONSOLE_COLS or greater than CONSOLE_COLS
    are not displayed correctly. This is an attempt to fix
    this issue. Also add carriage return handling.

    Signed-off-by: Anatolij Gustschin <agust@denx.de>
    Signed-off-by: Rodolfo Giometti <giometti@linux.it>

commit d5a163d6baa04f5a8edcc10ebc6fad08657d3093
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jan 11 15:53:58 2008 +0100

    ppc4xx: Fix sdram init on Sequoia boards

    Clear possible errors in MCSR resulting from data-eye-search.
    If not done, then we could get an interrupt later on when
    exceptions are enabled.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit d610a60730b7464f6f659db49d264d89a7c71061
Author: Anatolij Gustschin <agust@denx.de>
Date:	Fri Jan 11 15:31:09 2008 +0100

    ppc4xx: Rework Lime support for lwmon5

    Rework Lime support for lwmon5 using new video driver

    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit ff41ffc93c1592e77a44bdbebd5d781739f3aae0
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Fri Jan 11 14:55:16 2008 +0100

    ppc4xx: Update PMC440 config file

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit e3edcb36f14f0aabb6f50e96014d6877f73d64ea
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Fri Jan 11 14:55:08 2008 +0100

    ppx4xx: Fix sdram init on PMC440 boards

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit 061aad4d320dddce26247699dcf2875ee2ea1366
Author: Dave Liu <r63238@freescale.com>
Date:	Thu Jan 10 23:09:33 2008 +0800

    mpc83xx: Fix the bug of 266MHz data rate DDR

    The DDR doesn't work on the 266MHz data rate,
    the patch fix the bug.

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit ded08317ad9e340b887bf2eb46e9565a0f610a93
Author: Dave Liu <r63238@freescale.com>
Date:	Thu Jan 10 23:08:26 2008 +0800

    mpc83xx: Make the code more readable

    Format the code, make it more readable

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 7e74d63d1a211fbc34ec424e2dc6726601f323d0
Author: Dave Liu <r63238@freescale.com>
Date:	Thu Jan 10 23:07:23 2008 +0800

    mpc83xx: Reduce the latency of DDR

    Reduce the AL from 2 to 1 clock to improve the performance.

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 6f3931a2bed5412c20d5e5536c865fbd657f7d28
Author: Dave Liu <r63238@freescale.com>
Date:	Thu Jan 10 23:06:05 2008 +0800

    mpc83xx: Fix the wrong definition of MPC8315E

    According to the latest user manual of MPC8315E,
    1) The SVCOD of HRCWL is different than 837x
    2) The SCCR has changes

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit ec2638ea08a537a1bd409db873aaaa33a053ebae
Author: Dave Liu <r63238@freescale.com>
Date:	Thu Jan 10 23:05:00 2008 +0800

    mpc83xx: Fix the typo in mpc83xx.h

    The SPCR about TSEC priority is wrong.

    Signed-off-by: Michael Barkowski <Michael.Barkowski@freescale.com>
    Signed-off-by: Joe D'Abbraccio <Joe.D'abbraccio@freescale.com>
    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit c86ef2cd9ef81935049231fa89f36c7b793f2d4b
Author: Dave Liu <r63238@freescale.com>
Date:	Thu Jan 10 23:04:13 2008 +0800

    mpc83xx: Fix the typo in global data struct

    Fix the typo in global_data.h

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 2c5b48fc205c3e2752910da8f39209ed075929e5
Author: Dave Liu <r63238@freescale.com>
Date:	Thu Jan 10 23:03:03 2008 +0800

    mpc83xx: Remove cache config from config.h

    clean up the cache config from configs.h of board

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit fab6f556bbbbd1bb35a5433161f7f173c18df559
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Wed Jan 9 20:57:47 2008 +0300

    mpc83xx: add support for the MPC8360E-RDK

    This is MPC8360E based board with:
    - 256MB fixed SDRAM;
    - 8MB Intel Strata NOR flash;
    - StMICRO 64MiB NAND flash;
    - two 10/100/1000 ethernet ports connected via Broadcom
      BCM5481 PHYs;
    - two 10/100 ethernet ports connected via National
      DP83848 PHYs;
    - one PCI and one miniPCI slots;
    - four serial ports (two NS16550-compatible, two UCCs);
    - four USB ports working through MPC8360E "FHCI" USB controller;
    - Fujitsu MB86277 graphics controller;
    - Analog to Digital Converter/Touchscreen controller, AD7843
      connected to SPI.

    Features not supported in this patch are:
    - StMICRO 64MiB NAND flash (patch sent);
    - MINT framebuffer initialization (patch is pending);
    - Fetching production information from the EEPROM via I2C;
    - FHCI USB;
    - Two slow UCCs used as RS-485 UARTs.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit b3d2cde7a3aa1e83b7968cdff929e52c8cc617bb
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Wed Jan 9 20:57:40 2008 +0300

    mpc83xx: add "fsl, qe" compatible fixups

    New device trees will use "fsl,qe" compatible properties.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 977b57583a7c34010e566a09a679ec3c1836f996
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Wed Jan 9 15:24:06 2008 -0600

    mpc83xx: add missing CONFIG_HAS_ETH0 defines

    the new libfdt code only updates eth0 if CONFIG_HAS_ETH0
    is defined; add the define to the missing board configs.

    Thanks to Emilian Medve for finding this.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit b830b7f1635984ba607219fcbd78597c28eeb529
Author: Becky Bruce <bgill@freescale.com>
Date:	Thu Jan 10 14:00:28 2008 -0600

    86xx: Support 2GB DIMMs

    Configure the number of bits used to address the banks inside the SDRAM
    device.  The default register value of 0 means 2 bits to address 4 banks.
    Higher capacity devices like a 2GB DIMM require 3 bits to address 8 banks.

    Signed-off-by: Becky Bruce <bgill@freescale.com>

commit 4d332dbeb08f5863d1ea69d91a00c5499d3a87ed
Author: Niklaus Giger <niklausgiger@gmx.ch>
Date:	Thu Jan 10 18:50:33 2008 +0100

    ppc4xx: Make Sequoia boot vxWorks

    vxWorks expects in
    TLB 0 a entry for the Machine Check interrupt
    TLB 1 a entry for the RAM
    TLB 2 a entry for the EBC
    TLB 3 a entry for the boot flash

    After changing the baudrate to 9600 I had no problems to boot the
    vxWorks image as distributed by WindRiver (Revision 2.0/1 from
    June 18, 2007)

    Signed-off-by: Niklaus Giger <niklaus.giger@netstal.com>

commit 6d8184b00c0d1d7090e4a2f514e310d98a394f8d
Author: Larry Johnson <lrj@arlinx.com>
Date:	Wed Jan 9 23:10:27 2008 -0500

    ppc4xx: Fix dflush() to restore DVLIM register

    Signed-off-by: Larry Johnson <lrj@acm.org>

commit 252f60b068d1f94190b5bcfda169db582387e15e
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Thu Jan 10 03:52:44 2008 -0500

    Nios2: remove common/cmd_bdinfo.c unused variable.

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Scott McNutt <smcnutt@psyent.com>

commit 422b1a01602b6e2fbf8444a1192c7ba31461fd4c
Author: Ben Warren <biggerbadderben@gmail.com>
Date:	Wed Jan 9 18:15:53 2008 -0500

    Fix Ethernet init() return codes

    Change return values of init() functions in all Ethernet drivers to conform
    to the following:

	>=0: Success
	<0:  Failure

    All drivers going forward should return 0 on success.  Current drivers that
    return 1 on success were left as-is to minimize changes.

    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>
    Acked-by: Stefan Roese <sr@denx.de>
    Acked-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Acked-by: Kim Phillips <kim.phillips@freescale.com>
    Acked-by: Haavard Skinnemoen <hskinnemoen@atmel.com>
    Acked-By: Timur Tabi <timur@freescale.com>

commit d3a6532cbe263d992f49e86ac95bede28e96f9c8
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Jan 10 00:55:14 2008 +0100

    Coding Style cleanup; update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 17a41e4492121ccf9fa2c10c2cb1a6d1c18d74f7
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Wed Jan 9 16:56:54 2008 -0600

    Add QE brg freq and correct qe bus freq fdt update code

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>
    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 890dfef06c2d169a3356359596890754dfb8ee1c
Author: Andy Fleming <afleming@freescale.com>
Date:	Wed Jan 9 16:34:51 2008 -0600

    Remove cache config from ATUM8548 and sbc8548 configs

    These boards weren't updated by Kumar's config patch because they
    weren't in the tree, yet.

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit b8ec2385038c094b07ec5b49336289a46b6e9cc6
Author: Timur Tabi <timur@freescale.com>
Date:	Mon Jan 7 13:31:19 2008 -0600

    85xx: add ability to upload QE firmware

    Define the layout of a binary blob that contains a QE firmware and instructions
    on how to upload it.  Add function qe_upload_firmware() to parse the blob and
    perform the actual upload.	Add command-line command "qe fw" to take a firmware
    blob in memory and upload it.  Update ft_cpu_setup() on 85xx to create the
    'firmware' device tree node if U-Boot has uploaded a firmware.  Fully define
    'struct rsp' in immap_qe.h to include the actual RISC Special Registers.

    Signed-off-by: Timur Tabi <timur@freescale.com>

commit b009f3eca99bb7b9e6ba6639a8909a138dd5e9fe
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Jan 8 01:22:21 2008 -0600

    85xx: Remove cache config from configs.h

    Either use the standard defines in asm/cache.h or grab the information
    at runtime from the L1CFG SPR.

    Also, minor cleanup in cache.h to make the code a bit more readable.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit b964e9368f45372aaf1da0c13fe56f6d81ae8e96
Author: robert lazarski <robertlazarski@gmail.com>
Date:	Fri Dec 21 10:39:27 2007 -0500

    mpc85xx: Add support for ATUM8548 (updated)

    Add support for Instituto Atlantico's ATUM8548 board

    Signed-off-by: robert lazarski <robertlazarski@gmail.com>
    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 7bd6104b71de9bca80ac8e0936003443bb42f2fc
Author: robert lazarski <robertlazarski@gmail.com>
Date:	Fri Dec 21 10:36:37 2007 -0500

    mpc85xx: Add support for ATUM8548 (updated)

    Add support for Instituto Atlantico's ATUM8548 board

    Signed-off-by: robert lazarski <robertlazarski@gmail.com>

commit 9e3ed392d2c8965e24c942b58796c31c644c2f70
Author: Joe Hamman <joe.hamman@embeddedspecialties.com>
Date:	Thu Dec 13 06:45:14 2007 -0600

    mpc85xx: Add support for SBC8548 (updated)

    Add support for Wind River's SBC8548 reference board.

    Signed-off by: Joe Hamman <joe.hamman@embeddedspecialties.com>

commit 11c45ebd46d6517b51b7a92dd52a618b2f4e5586
Author: Joe Hamman <joe.hamman@embeddedspecialties.com>
Date:	Thu Dec 13 06:45:08 2007 -0600

    mpc85xx: Add support for SBC8548 (updated)

    Add support for Wind River's SBC8548 reference board.

    Signed-off by: Joe Hamman <joe.hamman@embeddedspecialties.com>
    Signed-off by: Andy Fleming <afleming@freescale.com>

commit 64d4bcb087c2ece1c4d0de8efe85e0075e5b1594
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Mon Oct 22 19:58:19 2007 +0400

    MPC8568E-MDS: set up QE pario for UART1

    To use UART1 on the MPC8568E-MDS, QE pario pins PC[0:3] should
    be set up appropriately.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>

commit ad162249cb371e9e38971676f09be791e5f3cf4a
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Mon Oct 22 18:12:46 2007 +0400

    MPC8568E-MDS: reset UCCs to use them reliably

    In order to use GETH1 and GETH2 on the MPC8568E-MDS, we should reset
    UCCs.

    p.s Similar code exists in the Linux kernel board file (for capability
    reasons with older U-Boots), but should be removed some day.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>

commit 2146cf56821c3364786ca94a7306008c5824b238
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Dec 19 01:18:15 2007 -0600

    Reworked FSL Book-E TLB macros to be more readable

    The old macros made it difficult to know what WIMGE and perm bits
    were set for a TLB entry.  Actually use the bit masks for these items
    since they are only a single bit.

    Also moved the macros into mmu.h out of e500.h since they aren't specific
    to e500.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 1d47273d46925929f8f2c1913cd96d7257aade88
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Dec 18 23:21:51 2007 -0600

    Use FSL Book-E MMU macros from Linux Kernel

    Grab the FSL Book-E MAS register macros from Linux.  Also added
    defines for page sizes up to 4TB and removed SHAREN since it doesnt
    really exist.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 02df4a270f817ef6ec39047a01b55fecdc5f3b37
Author: Andy Fleming <afleming@freescale.com>
Date:	Wed Jan 9 13:51:32 2008 -0600

    Fix my own merge stupidity

    Way back in August I merged Heiko's patch:
    566a494f592: [PCS440EP] upgrade the PCS440EP board

    with Jon's CONFIG_COMMANDS patches.

    This was done in commit: 6bf6f114dcdd97ec3f80c2761ed40e31229d6b78

    However, in the process, I left out some of Heiko's good changes.

    Now Heiko's and Jon's patches are properly merged in fat_register_device()

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 6636b62a6efc7f14e6e788788631ae7a7fca4537
Author: James Yang <James.Yang@freescale.com>
Date:	Wed Jan 9 11:17:49 2008 -0600

    Expose parse_line() globally.

    Add new function readline_into_buffer() that allows the
    output of readline to be put into a pointer to char buffer.

    This refactoring allows other functions besides the
    main command loop to also use the same input mechanism.

    Signed-off-by: James Yang <James.Yang@freescale.com>
    Acked-by: Jon Loeliger <jdl@freescale.com>

commit 7ca90513486abd4ae50bd1b7403f47cc58c5ad25
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Wed Jan 9 01:15:25 2008 +0100

    trivial: fix consequences of a bad merge

    Fix what looks like a merge artifact.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit 4785a694c0045996ccf0ac5b8edf531efc1b730e
Author: Zhang Wei <wei.zhang@freescale.com>
Date:	Thu Jan 3 10:51:15 2008 +0800

    Add Ctrl combo key support to usb keyboard driver.

    Ctrl combo key support is added, which is very useful to input Ctrl-C
    for interrupt current job.
    Also add usb_event_poll() calling to usb_kbd_testc(), which can get
    key input when tstc() is called.

    Signed-off-by: Zhang Wei <wei.zhang@freescale.com>

commit 10c7382bc5d5e64c47f94ac2ca78cc574442e82d
Author: Marcel Ziswiler <marcel@ziswiler.com>
Date:	Sun Dec 30 03:30:56 2007 +0100

    fix various comments

    Signed-off-by: Marcel Ziswiler <marcel@ziswiler.com>

commit 7817cb2083d982923752fe0f12b67c0e7c09a027
Author: Marcel Ziswiler <marcel@ziswiler.com>
Date:	Sun Dec 30 03:30:46 2007 +0100

    fix comments with new drivers organization

    Signed-off-by: Marcel Ziswiler <marcel@ziswiler.com>

commit a9b410dc7d2a4721c408b13abfc037988150f145
Author: Shinya Kuribayashi <shinya.kuribayashi@necel.com>
Date:	Fri Dec 28 12:50:59 2007 +0900

    Remove the obsolete terse version of do_mii()

    We now have more useful version of do_mii() and everybody use it.
    Gerald Van Baren says:

    > When I originally wrote the mii command 6(!) years ago, I wrote a
    > verbose version that printed human readable decomposition of the flags,
    > etc., and a terse one that didn't print as much stuff and thus had a
    > smaller memory footprint.
    >
    > It sounds like the terse version has withered and died, apparently
    > people are only using the verbose version (which is very understandable,
    > I do myself).

    Signed-off-by: Shinya Kuribayashi <shinya.kuribayashi@necel.com>
    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>

commit 01c687aa6e065bd4faf80f723361e798941dd6b0
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Thu Dec 27 13:42:56 2007 -0500

    Do not reference sha1.c when building mkimage.

    remove sha1.o from mkimage linking since it isn't actually used.

    Signed-Off-By: Mike Frysinger <vapier@gentoo.org>

commit b9173af73e524d37c812f210173cf83385c5171a
Author: Shinya Kuribayashi <shinya.kuribayashi@necel.com>
Date:	Thu Dec 27 15:39:54 2007 +0900

    common/cmd_mii.c: Add sanity argc check

    If type mii command without arguments, we suffer from uninitialized argv[]
    entries; for example we MIPS get stuck by TLB error.

    Signed-off-by: Shinya Kuribayashi <shinya.kuribayashi@necel.com>

commit 500856eb1707ed17d9204baa61dd59948d3b2899
Author: Rafal Jaworowski <raj@semihalf.com>
Date:	Wed Jan 9 19:39:36 2008 +0100

    API for external applications.

    This is an API for external (standalone) applications running on top of
    U-Boot, and is meant to be more extensible and robust than the existing
    jumptable mechanism. It is similar to UNIX syscall approach. See api/README
    for more details.

    Included is the demo application using this new framework (api_examples).

    Please note this is still an experimental feature, and is turned off by
    default.

    Signed-off-by: Rafal Jaworowski <raj@semihalf.com>

commit fe8dd0b2220b7c02b0d4c9c4f9967879970477b1
Author: Jon Loeliger <jdl@freescale.com>
Date:	Wed Jan 9 12:14:55 2008 -0600

    86xx: Remove cache config from configs.h

    Just use the standard defines in asm/cache.h.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 26a41790f8eba19ad450e18ae91351daf485b3e2
Author: Rafal Jaworowski <raj@semihalf.com>
Date:	Wed Jan 9 18:05:27 2008 +0100

    Globalize envmatch()

    The newly introduced API (routines related to env vars) will need to call
    it.

    Signed-off-by: Rafal Zabdyr <armo@semihalf.com>

commit 1df170f8b2a99e1e2f940f9f0b56511e1e4c9e1f
Author: Jon Loeliger <jdl@freescale.com>
Date:	Fri Jan 4 12:07:27 2008 -0600

    Convert MPC8610HPCD to use libfdt.

    Assumes the presence of the aliases node in the DTS to
    locate the pci and serial nodes for fixups.

    Use consistent fdtaddr and fdtfile in environment variables.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit c9974ab0a4d3731cdb76a7599d9fe9445d764d60
Author: Jon Loeliger <jdl@freescale.com>
Date:	Fri Jan 4 11:58:23 2008 -0600

    8610: Fix lingering compile warnings.

    Turn off DEBUG.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 6007f3251c0967adc13f2ed8be1b924ddc30124d
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Jan 9 15:14:46 2008 +0100

    Coding Style cleanup, update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit fc6414eca55f1fc108fb12fc8cdc43bd8b4463f9
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Tue Dec 18 04:29:55 2007 -0500

    fix easylogo on big endian dev systems

    didnt realize how out of shape easylogo actually was until i tried using it.
    this patch does byte swapping as need be on the input tga header since the tga
    is in little endian but the host could just as well be big endian.	i didnt
    bother using bswap macros or such stuff from system headers as nothing in
    POSIX dictates byte swapping functionality.

    Signed-Off-By: Mike Frysinger <vapier@gentoo.org>

commit 38d299c2db81bd889c601b5dfc12c4e83ef83333
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Tue Dec 18 03:23:25 2007 -0500

    cleanup easylogo

    - make the Makefile not suck
    - include proper headers for prototypes
    - fix obvious broken handling of strchr() when handling '.' in filenames

    Signed-Off-By: Mike Frysinger <vapier@gentoo.org>

commit 883e3925d99a8dd69c5b0201cba5b1887f88f95c
Author: raptorbrino@aim.com <raptorbrino@aim.com>
Date:	Thu Dec 13 21:23:28 2007 -0500

    Fix build problems under Cygwin

    This patch allows u-boot to build without error in a cygwin
    environment.  Cygwin does not define __u64 in it's
    include/asm/types.h file.  The -idirafter flag in the u-boot
    build causes the inclusion of the cygwin types.h file as opposed
    to u-bot/include/asm/types.h file which does define __u64.
    Subsequently, sha1.c compile fails due to unknown symbol.

    Signed-off-by: Brian Miller <raptorbrino@netscape.net>

commit 43ef1c381f9195504a2488f5cb909227eb97d475
Author: Hans-Christian Egtvedt <hcegtvedt@atmel.com>
Date:	Fri Nov 30 17:29:59 2007 +0100

    cmd_bmp: Add support for displaying gzip compressed bmps

    The existing code can show information about a gzip compressed BMP
    image, but can't actually display it.

    Therefore, move the decompression code out of bmp_info() and use it in
    bmp_display() as well in order to display a compressed BMP image.

    Also, clean things up a bit and fix a memory leak while we're at it.

    [hskinnemoen@atmel.com: a bit of refactoring]
    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit d197ffd8172c6fdef38733424640a9a47295d6e9
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Thu Nov 29 21:15:56 2007 +0100

    Fix and optimize MII operations on FEC (MPC8xx) controllers

    This patch fixes several issues at least on a MPC885 based system with two
    FEC interfaces used in MII mode.

    1. PHY discovery should first read PHY_PHYIDR2 register and only then
       PHY_PHYIDR1 like cpu/mpc8xx/fec.c::mii_discover_phy() does it,
       otherwise the values read are wrong. Also notice, that PHY discovery
       cannot work on MPC88x / MPC87x in setups with both FECs active at all
       in its present form, because for both interfaces the registers from FEC
       1 are used to communicate over MII.

    2. Remove code duplication for resetting the FEC by isolating it into a
       separate function.

    3. Initialize MII on FEC 1 when communicating over FEC 2 in fec_init().

    4. Optimize mii_init() to only reset the FEC 1 controller once.

    5. Fix a typo in mii_init() using index i instead of j thus potentially
       leading to unpredictable results.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit 6a5e1d75bf106fa157e9ce68bcaf4b13e8a1d214
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Tue Nov 20 13:14:20 2007 +0100

    Fix endianness conversions in rtl8169 driver

    It is unclear on what platforms this driver has been tested, since
    noone up to now defines CONFIG_RTL8169 in the board configuration
    header. Now it has been fixed for a big-endian mpc8241 based
    linkstation platform. This patch presents the necessary endianness
    conversion fixes.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit 58694f9709c0c3e3178e349ae748d98cfb0c639a
Author: Zhang Wei <wei.zhang@freescale.com>
Date:	Thu Jan 3 10:51:15 2008 +0800

    Add Ctrl combo key support to usb keyboard driver.

    Ctrl combo key support is added, which is very useful to input Ctrl-C
    for interrupt current job.
    Also add usb_event_poll() calling to usb_kbd_testc(), which can get
    key input when tstc() is called.

    Signed-off-by: Zhang Wei <wei.zhang@freescale.com>
    Signed-off-by: Markus Klotzbuecher <mk@denx.de>

commit 07eb02687f008721974a2fb54cd7fdc28033ab3c
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Jan 9 13:43:38 2008 +0100

    Coding Style clenaup; update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit c26acc1a43b31ddca5add42fd0360ff0eee90c80
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Thu Dec 27 17:13:11 2007 +0100

    Remove bit swapping in Xilinx Spartan bitfile loading

    This patch removes the unnecessary bit swapping when
    booting .bit files with the 'fpga loadb' command.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit 437fc7327f0611f82937858f2d80e4cd61b40984
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Thu Dec 27 17:13:05 2007 +0100

    Fix MSB check in Xilinx Spartan slave serial mode

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit 3bff4ffa33729a42645e328a21e8d16488872958
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Thu Dec 27 17:12:56 2007 +0100

    Add new Xilinx Spartan FPGA types

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit 21d39d598c4e74d4e7761608c79dba2715d40a4c
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Thu Dec 27 17:12:43 2007 +0100

    Add pre and post configuration callbacks for Spartan FPGAs

    This patch adds a post configuration callback for Spartan2/3 FPGAs.
    pre and post configuration callback are now optional and
    not called when the function pointer is set to NULL.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit 0133502e39ff89b67c26cb4015e0e7e8d9571184
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Thu Dec 27 17:12:34 2007 +0100

    Improve configuration of FPGA subsystem

    This patch removes the FPGA subsystem configuration through
    the CONFIG_FPGA bitmask configuration option.

    See README for the new options:

	CONFIG_FPGA,
	CONFIG_FPGA_<vendor>,
	CONFIG_FPGA_<family>

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit 95c6bc7d4a3588b452baca610f8c795a83630477
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Thu Dec 27 16:55:17 2007 +0100

    Add Epson RX8025 RTC support

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit 1208a2dfde02bedd3c5bda29a606632b8e0be058
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Thu Dec 27 16:57:23 2007 +0100

    serial: Make default_serial_console() a weak function

    With this patch it is possible to reimplement default_serial_console()
    in board specific code. This will be done in the upcomming PMC440
    U-Boot port. This also allows the lwmon board maintainer to
    remove the '#if !defined(CONFIG_LWMON) ...' from common/serial.c.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit d16471ee05ce7ac5392bc0e9fe3ff4b58a768f33
Author: Harald Welte <laforge@openmoko.org>
Date:	Wed Dec 19 14:14:47 2007 +0100

    add 'terminal program' functionality

    This patch adds a 'cu' like serial terminal command to u-boot
    using which you can access other serial ports from the system console.

    OpenMoko uses this in their Neo1973 phones to get access to the GSM
    Modem and GPS chip from the bootloader.

    Signed-off-by: Harald Welte <laforge@openmoko.org>

commit 62d4f4365341576f5a5307b2b205a5aa2e3c6be6
Author: Harald Welte <laforge@openmoko.org>
Date:	Wed Dec 19 14:12:53 2007 +0100

    Re-introduce the 'nand read.oob' and 'nand write.oob' commands
    that used to exist with the legacy NAND code

    Signed-off-by: Harald Welte <laforge@openmoko.org>

commit f540c42d9564854b19ce9bbb70affe172529fe70
Author: Harald Welte <laforge@openmoko.org>
Date:	Wed Dec 19 14:09:58 2007 +0100

    Fix building with CRAMFS but not JFFS2 support

    Signed-off-by: Harald Welte <laforge@openmoko.org>

commit 23d0baf967fecdaf1804f045f6339337c5607eec
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Dec 22 15:52:58 2007 +0100

    Allow CONFIG_AUTO_COMPLETE and command history CONFIG_CMDLINE_EDITING at the sametime

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 23776ff292966a85d811126933830bed48211826
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Tue Dec 11 10:53:12 2007 +0100

    ARM: support board-specific ethernet PHY init

    Add until the new phylib will be arrived

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 7b74ebe723e576baedf5a8b6240589b19b845a1b
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Dec 8 16:34:08 2007 +0100

    IXP: Add full baud-rate support for ixp42x, ixp45x and ixp46x

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit a2df4da31b1a1e41e3e9e1358cfc52b806046ce1
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Dec 9 11:01:10 2007 +0100

    Add missing file in gitignore and comments

    based on Linux source tree's .gitignore files

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 435dc8fcdb3bc61d3d490773a8f369f98a20c868
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Jan 9 11:36:21 2008 +0100

    Coding Style cleanup, update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit b2e2142c500c48a57f18f9dd30e66c13caea0971
Author: Stefan Roese <sr@denx.de>
Date:	Wed Jan 9 10:38:58 2008 +0100

    POST: Execute SPR test after relocation

    On LWMON5 we now use d-cache as init-ram and stack. The SPR POST test uses
    self modifying code and this doesn't work with stack in d-cache, since
    I can't move the code from d-cache to i-cache. We move the SPR test to
    be executed a little later, after relocation. Then stack is located in
    SDRAM and this self-modifying code is no problem anymore.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 8f24e0637ae113500d8bd60d80d57afcc0aa8bde
Author: Stefan Roese <sr@denx.de>
Date:	Wed Jan 9 10:28:20 2008 +0100

    ppc4xx: Change LWMON5 to not use OCM for init-ram and POST anymore

    This patch configures the LWMON5 port to use d-cache as init-ram and
    the unused GPT0_COMP6 as POST WORD storage.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 1754f50b710194f886b6f2831803d8960171a14d
Author: Stefan Roese <sr@denx.de>
Date:	Wed Jan 9 10:25:46 2008 +0100

    ppc4xx: Add CFG_POST_ALT_WORD_ADDR to support non OCM POST WORD storage

    The privious 4xx POST implementation only supported storing the POST
    WORD in OCM. Since we need to reserve the OCM on LWMON5 for the logbuffer
    we need to store the POST WORD in some other non volatile location.
    This patch adds CFG_POST_ALT_WORD_ADDR to specify an address for such
    a location.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit e02c521d94b45d7b05aa522e4ccde6b74bf5fe57
Author: Stefan Roese <sr@denx.de>
Date:	Wed Jan 9 10:23:16 2008 +0100

    ppc4xx: Add 44x cache locking to better support init-ram in d-cache

    This patch adds support for locking the init-ram/stack in d-cache,
    so that other regions may use d-cache as well

    Note, that this current implementation locks exactly 4k of d-cache,
    so please make sure that you don't define a bigger init-ram area. Take
    a look at the lwmon5 440EPx implementation as a reference.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 0ddb89601a8d29e808db450366752ffdc6267c53
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Jan 9 10:16:33 2008 +0100

    Fix memset bug in ext2fs_read_file()

    ext2fs_read_file() had the function arguments swapped.

    Pointed out by Mike Montour, 19 Dec 2007 22:34:25 -0800

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 32d6f1bc09175f3b77469771e839bc7255a9f22e
Author: Markus Klotzbcher <mk@denx.de>
Date:	Tue Jan 5 08:17:15 1988 +0100

    Fix problems with usb storage devices on MPC5200 /TQM5200

    The MPC5200 OHCI controller operates in big endian, so
    CFG_OHCI_BE_CONTROLLER must be defined for it to work properly.

    Signed-off-by: Markus Klotzbuecher <mk@denx.de>

commit 46f6e5019048b103d7693d5310de0f1cfbaf4c19
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Jan 8 22:58:27 2008 +0100

    Fix compile problem with new env code.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 64b3727b9779d86127cd576e392a987de5ebb9fd
Author: Markus Klotzbcher <mk@denx.de>
Date:	Tue Nov 27 10:23:20 2007 +0100

    tools: fix fw_printenv tool to compile again

    This patch updates the fw_printenv/fw_setenv userspace tool to include
    the correct MTD header in order to compile against current kernel
    headers. Backward compatibility is preserved by introducing an option
    MTD_VERSION which can be set to "old" for compilation using the old MTD
    headers. Along with this a number of warnings are fixed.

    Signed-off-by: Markus Klotzbuecher <mk@denx.de>

commit 1f84021a85abeb837d2ce0dc84297b4f1d45d516
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Tue Jan 8 15:40:09 2008 +0100

    ppc4xx: assign PCI interrupts on seuqoia boards

    Some operating systems rely on assigned PCI interrupts.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit 6e9233d30afe57cb6e148fbfa4895e7810196fac
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Tue Jan 8 15:50:49 2008 +0100

    ppc4xx: Move cpu/ppc4xx/vecnum.h into include path

    This patch allows the use of 4xx interrupt vector number defines
    in board specific code outside cpu/ppc4xx.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit 580d1d3186a2bc6dbdb626941b716dae1788e51e
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Tue Jan 8 15:39:01 2008 +0100

    ppc4xx: Fix UIC2 vector number base

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit ff5fb8a6ccba56e3482d0e297d8cfb7faa040811
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Tue Jan 8 12:49:58 2008 +0100

    ppc4xx: Update PLB/PCI divider for PMC440 board

    This patch updates the PLB/PCI divider when running at
    400MHz CPU frequency from 4 to 3 which results in 44MHz PCI sync clock.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit 7d5d75633174867316a0c0f2fca5ceb2cf312cde
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Tue Jan 8 11:13:09 2008 +0100

    ppc4xx: Disable error message when no NAND chip is installed on PMC440

    Add CFG_NAND_QUIET_TEST option to disable error message when
    no NAND chip is installed on PMC440 boards.

    Disable a couple of config defines that are only used for NAND_U_BOOT.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit c83d7ca4dadd44ae430235077f63b64a11f36f6e
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Jan 8 22:58:27 2008 +0100

    Fix compile problem with new env code.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 6de66b35426312a21174a9bf0576a094e2904bea
Author: Markus Klotzbcher <mk@denx.de>
Date:	Tue Nov 27 10:23:20 2007 +0100

    tools: fix fw_printenv tool to compile again

    This patch updates the fw_printenv/fw_setenv userspace tool to include
    the correct MTD header in order to compile against current kernel
    headers. Backward compatibility is preserved by introducing an option
    MTD_VERSION which can be set to "old" for compilation using the old MTD
    headers. Along with this a number of warnings are fixed.

    Signed-off-by: Markus Klotzbuecher <mk@denx.de>

commit ad3006fe7e84667021753b74247b0bafd97ba35f
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Mon Jan 7 23:47:32 2008 -0500

    LIBFDT: use memmove() instead of memcpy()

    This is partial patch from the DTC/libfdt
    commit  67b6b33b9b413a450a72135b5dc59c0a1e33e647
    Author: David Gibson <david@gibson.dropbear.id.au>
    Date:   Wed Nov 21 11:56:14 2007 +1100

	The patch also fixes one genuine bug caught by valgrind -
	_packblocks() in fdt_rw.c was using memcpy() where it should have been
	using memmove().

    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>

commit aec7135bc300e3340d18f203347ee00c5b5f68c0
Author: David Gibson <david@gibson.dropbear.id.au>
Date:	Mon Dec 17 14:42:07 2007 +1100

    libfdt: Add more documentation (patch the seventh)

    This patch adds more documenting comments to libfdt.h.  Specifically,
    these document the read/write functions (not including fdt_open_into()
    and fdt_pack(), for now).

    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>

commit 9d4450b5adc36623e9c1de1f92539db77ad0c57e
Author: David Gibson <david@gibson.dropbear.id.au>
Date:	Mon Dec 17 14:41:52 2007 +1100

    libfdt: Add more documentation (patch the sixth)

    This patch adds some more documenting comments to libfdt.h.
    Specifically this documents all the write-in-place functions.

    Signed-off-by: David Gibson <david@gibson.dropbear.id.au>

commit b60af3d4c1680487ee37e11aa1b3db6dec04d8f0
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Sat Dec 29 22:45:27 2007 -0500

    Fine grained per property /chosen updating.

    Implement a suggestion by Scott Wood to make the /chosen handling fine
    grained.  Don't overwrite pre-existing properties on a per-property basis,
    so if /chosen exists but a necessary /chosen/property doesn't, it gets
    created.  If a /chosen property exists, it is NOT overwritten unless the
    "force" flag is true.

    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>

commit 238cb7a423c6eaa36496efb788cfb9798cea7f95
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Sat Jan 5 15:33:29 2008 -0500

    Improve the FDT help message.

    Add a note that "fdt copy" makes the new address active.
    Remove most of the extra hints at the end of the fdt help.

    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>

commit ea6d8be153ceaf16958f8009cea6d75f3ff58d92
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Sat Jan 5 14:52:04 2008 -0500

    Support setting FDT properties with optional values.

    Fix a bug found and documented by Bartlomiej Sieka where the optional
    value on "fdt set <path> <prop> [<val>]" wasn't optional.

    => fdt mknode / testnode
    => fdt print /testnode
    testnode {
    };
    => fdt set /testnode testprop
    => fdt print /testnode
    testnode {
	    testprop;
    };

    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>

commit 22fb2246df91bfc840d87f0c5910818bad55577a
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Fri Dec 28 11:56:30 2007 +0100

    Add fdt_find_and_setprop() to fdt_support.h

    fdt_find_and_setprop() is used by several 4xx boards and it's
    missing in the appropriate header. This patch eliminates a
    warning when building U-Boot for such boards.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Acked-by: Stefan Roese <sr@denx.de>

commit 802b769bac17b0560d3535a42c502469ee190cd1
Author: Stefan Roese <sr@denx.de>
Date:	Tue Jan 8 18:39:30 2008 +0100

    ppc4xx: Return 0 on success in 4xx ethernet driver

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 6775c68683a53c7abc778774641aac6f833a2cbf
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Tue Jan 8 09:59:49 2008 -0600

    mpc83xx: fix missed pci_hose -> hose conversion for new libfdt code

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 94fab25f5f1a7d1c0cc63c17e813ea8943fe49c7
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Thu Dec 20 16:28:34 2007 -0600

    mpc83xx: rm remaining FLAT_TREE code

    ..in board pci.c files

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit b3458d2cd55d01732e30a76d898afd99e871cd67
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Thu Dec 20 15:57:28 2007 -0600

    mpc83xx: remove FLAT_TREE code

    need to rm it from pci code, too!

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 5b8bc606c61456566af6912f818a153b6b06f242
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Thu Dec 20 14:09:22 2007 -0600

    mpc83xx: convert to using do_fixup_*()

    convert to using simpler mpc85xx style fdt update code; streamline by
    eliminating macros OF_SOC, OF_CPU, etc. which allows us to rm
    the old school FLAT_TREE code from 83xx (since the sbc8349 was just
    converted over to using libfdt).

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit e496865ecc31a2fe2f9abfe798334bb02aaf05ab
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Thu Dec 20 12:58:51 2007 -0500

    sbc8349: enable libfdt by default on WRS SBC8349 board.

    Make libfdt the default for the WRS SBC8349 board.
    Parallel of commit 35cc4e4823668e8745854899cfaedd4489beb0ef
    done for the other 83xx based boards.  Also fix a typo in CONFIG_PCI.

    Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>

commit 2408b3f20bcbdd9c6c397cd03ab0d71d54680a40
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Thu Dec 20 12:58:16 2007 -0500

    sbc8349: migrate board to libfdt

    This adds libfdt support code for the Wind River sbc8349 board.

    Parallel of commit 3fde9e8b22cfbd7af489214758f9839a206576cb for
    the other Freescale 83xx boards.

    Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>

commit 27a256a90cc86392ac9bf0039a3afe638ec2c18d
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Thu Dec 20 12:56:19 2007 -0500

    sbc8349: Remove board specific ECC code

    ECC code is now shared for all 83xx boards, so remove board specific one.
    See commit daab8c67d2defef73dc26ab07f0c3afd1b05d019 for reference.

    Signed-off-by: Paul Gortmaker <paul.gortmaker@windriver.com>

commit a1e1ac849249310e5e2e5c7148e9fb353a8317a7
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Thu Dec 20 01:30:48 2007 -0600

    mpc83xx: Remove CONFIG options related to OF that we dont use (on 837x)

    continuation of commit 37395fa2b0d9d617f28d44ca11592260ef16105a to 837x

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit ccf21c311e68d48399eff1e72936052885f6e3f7
Author: Joakim Tjernlund <Joakim.Tjernlund@transmode.se>
Date:	Thu Dec 6 16:43:40 2007 +0100

    Add support CONFIG_UEC_ETH3 in MPC83xx

    Signed-off-by: Joakim Tjernlund <Joakim.Tjernlund@transmode.se>

commit e6af9932d31171e35db880e7b2f29f903b1b7660
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Nov 26 11:00:54 2007 -0600

    Remove CONFIG options related to OF that we dont use

    The MPC8360E MDS config defined:
	CONFIG_OF_HAS_BD_T
	CONFIG_OF_HAS_UBOOT_ENV

    Which we don't use or ever needed.	This seems like copy-paste feature creep.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit f602082b4b7ed4ee16432067cc67a0a24fedc715
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Mon Dec 10 14:16:22 2007 -0600

    mpc83xx: supress compiler warning

    mpc8360emds.c: In function ft_board_setup:
    mpc8360emds.c:335: warning: assignment discards qualifiers from pointer target type
    mpc8360emds.c:345: warning: assignment discards qualifiers from pointer target type

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit c16e44fa835fb9eec982d919863a04e2f78e5ce7
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Tue Nov 27 14:17:29 2007 -0600

    mpc83xx: fix remaining fdt_find_node_by_path references

    rename to fdt_path_offset

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 921d4b19ad1be704df58725485d9292dc0414adf
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Mon Nov 19 12:30:09 2007 -0600

    mpc83xx: fix CFG_ENV_ADDR and CFG_ENV_SECT_SIZE definitions for 837x

    Fix the definitions of CFG_ENV_ADDR and CFG_ENV_SECT_SIZE for 837x.
    This change guarantees that the environment will be located on the
    first flash sector after the U-Boot image.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 24f868433b50ecbaa88e118aadc7bd254013c6ae
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Fri Nov 9 14:28:08 2007 -0600

    mpc83xx: mpc8360 rev.2.1 erratum 2: replace rgmii-id with rgmii-rxid

    u-boot itself uses GMII mode on the 8360.  Fix up UCC phy-connection-type
    properties in the device tree so the PHY gets configured for internal delay on
    RX only by the OS, as prescribed by mpc8360 rev. 2.1 pb mds erratum #2.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 22b448dbfbe2a98f01ff4adc3c3979f8c541ad7b
Author: Dave Liu <r63238@freescale.com>
Date:	Tue Sep 18 12:41:15 2007 +0800

    mpc83xx: update the CREDITS and MAINTAINERS

    update the CREDITS and MAINTAINERS.

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit b21add4b42af7b767448251b599b91066a160e0d
Author: Dave Liu <r63238@freescale.com>
Date:	Tue Sep 18 12:40:21 2007 +0800

    mpc83xx: add MAINTAINER and MAKEALL entries for the mpc837xemds

    Add the MAINTAINER and MAKEALL entries for mpc837xemds

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit f8900ce9094c462355eb792eea264ff16ac8fd16
Author: Dave Liu <r63238@freescale.com>
Date:	Tue Sep 18 12:38:53 2007 +0800

    mpc83xx: Add the MPC837xEMDS board readme

    Add the README.mpc837xemds to /doc

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit 19580e660cc8da49f16536a8bd78c047c7bc12e5
Author: Dave Liu <r63238@freescale.com>
Date:	Tue Sep 18 12:37:57 2007 +0800

    mpc83xx: Add the support of MPC837xEMDS board

    The MPC837xEMDS board support:
    * DDR2 400MHz hardcoded and SPD init
    * Local bus NOR Flash
    * I2C, UART, MII and RTC
    * eTSEC RGMII
    * PCI host

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit 555da61702771fe0f76f3de23b4e7590f3704161
Author: Dave Liu <r63238@freescale.com>
Date:	Tue Sep 18 12:36:58 2007 +0800

    mpc83xx: Add the support of MPC8315E SoC

    The MPC8315E SoC including e300c3 core and new IP blocks,
    such as TDM, PCI Express and SATA controller.

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit 03051c3d35c9981ceaa059005660e699f3eacf1c
Author: Dave Liu <r63238@freescale.com>
Date:	Tue Sep 18 12:36:11 2007 +0800

    mpc83xx: Add the support of MPC837x SoC

    The MPC837x SoC including e300c4 core and new IP blocks,
    such as SDHC, PCI Express and SATA controller.

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit 651d96f7e4c84adcdb98ef07ec878c20326e3359
Author: Anton Vorontsov <avorontsov@ru.mvista.com>
Date:	Wed Nov 14 18:54:53 2007 +0300

    MPC8360E-MDS: configure and enable second UART

    Despite user manual, BCSR9.7 is negated (high) on HRST, so
    UART2 is disabled. Fix that and configure QE pins properly.

    Signed-off-by: Anton Vorontsov <avorontsov@ru.mvista.com>

commit b2893e1fcb28fad8c8b317104df8cee0142c7631
Author: Timur Tabi <timur@freescale.com>
Date:	Mon Nov 5 09:34:06 2007 -0600

    83xx: fix CFG_ENV_ADDR and CFG_ENV_SECT_SIZE definitions

    Fix the definitions of CFG_ENV_ADDR and CFG_ENV_SECT_SIZE for all of the
    currently-defined 83xx boards.  This change guarantees that the environment
    will be located on the first flash sector after the U-Boot image.

    Signed-off-by: Timur Tabi <timur@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit e05329516a13616b53240cd85b739217c2bf87f1
Author: Larry Johnson <lrj@acm.org>
Date:	Fri Jan 4 13:27:02 2008 -0500

    ppc4xx: Remove weak binding from common Denali data-eye search code

    Now that there are no board-specific versions of
    "denali_core_search_data_eye()", the weak binding on the common version
    can be removed.

    Signed-off-by: Larry Johnson <lrj@acm.org>

commit 5ba576c01602fd328800a427964c36a0a05c5dce
Author: Stefan Roese <sr@denx.de>
Date:	Sat Jan 5 09:13:46 2008 +0100

    ppc4xx: Remove unused CONFIG_ECC_ERROR_RESET from 44x_spd_ddr2.c

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 845c6c95dbfe6c915ce68a0a115852fa17932fb4
Author: Stefan Roese <sr@denx.de>
Date:	Sat Jan 5 09:12:41 2008 +0100

    ppc4xx: Update Katmai/44x_spd_ddr2.c code for optimal DDR2 setup

    On Katmai the complete auto-calibration somehow doesn't seem to
    produce the best results, meaning optimal values for RQFD/RFFD.
    This was discovered by GDA using a high bandwidth scope,
    analyzing the DDR2 signals. GDA provided a fixed value for RQFD,
    so now on Katmai "only" RFFD is auto-calibrated.

    This patch also adds RDCC calibration as mentioned on page 7 of
    the AMCC PowerPC440SP/SPe DDR2 application note:
    "DDR1/DDR2 Initialization Sequence and Dynamic Tuning"

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 49db47b8ae6afff2b898be312948ff501357dc80
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Wed Jan 2 16:48:42 2008 +0100

    ppc4xx: Remove sdram.h from PMC440 board

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit 34065a2ce0d8972f2ec6652076014ab243d2ce8a
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Wed Jan 2 16:48:34 2008 +0100

    ppc4xx: use common denali core defines and data eye search code for PMC440

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit 9ac6b6f3d3f1b072d89268b2efe47e95e6659489
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Wed Jan 2 12:05:14 2008 +0100

    ppc4xx: More cleanup for esd's LCD code

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit fe9c26b330a21ce73e52b5bd347d725cb81e3cfb
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jan 4 12:00:01 2008 +0100

    ppc4xx: Fix Sequoia NAND booting target

    The Sequoia NAND booting target now uses the recently extracted
    cpu/ppc4xx/denali_data_eye.c file too.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 0ddd969aec532bd7eae30fc09590488a3aaa629a
Author: Lawrence R. Johnson <lrj@acm.org>
Date:	Thu Jan 3 15:02:02 2008 -0500

    ppc4xx: Use CFG_4xx_GPIO_TABLE to configure Korat board

    Signed-off-by: Larry Johnson <lrj@acm.org>

commit b05e8bf58be9d8956fdfde3d8c8e87c140414663
Author: Lawrence R. Johnson <lrj@acm.org>
Date:	Fri Jan 4 02:11:56 2008 -0500

    ppc4xx: Use CFG_4xx_GPIO_TABLE to configure Sequoia board

    Note: this patch changes the configuration of some GPIO registers:

       Register      Old Value	 New Value
    ---------------  ----------  ----------
    DCR GPIO0_TCR    0x0000000F  0x0000F0CF
    DCR GPIO0_TSRH   0x55005000  0x00000000
    DCR GPIO1_TCR    0xC2000000  0xE2000000
    DCR GPIO1_TSRL   0x0C000000  0x00200000
    DCR GPIO1_ISR2L  0x00050000  0x00110000

    Signed-off-by: Larry Johnson <lrj@acm.org>

commit 5ab884b254ca2e707ab50545cd705f30108cf491
Author: Lawrence R. Johnson <lrj@acm.org>
Date:	Thu Jan 3 18:54:00 2008 -0500

    ppc4xx: Add functionality to GPIO support

    This patch makes two additions to GPIO support:

    First, it adds function gpio_read_in_bit() to read the a bit from the
    GPIO Input Register (GPIOx_IR) in the same way that function
    gpio_read_out_bit() reads a bit from the GPIO Output Register
    (GPIOx_OR).

    Second, it modifies function gpio_set_chip_configuration() to provide
    an additional option for configuring the GPIO from the
    "CFG_4xx_GPIO_TABLE".

    According to the 440EPx User's Manual, when an alternate output is used,
    the three-state control is configured in one of two ways, depending on
    the particular output.  The first option is to select the corresponding
    alternate three-state control in the GPIOx_TRSH/L registers.  The second
    option is to select the GPIO Three-State Control Register (GPIOx_TCR) in
    the GPIOx_TRSH/L registers, and set the corresponding bit in the
    GPIOx_TCR register to enable the output.  For example, the Manual
    specifies configuring the GPIO00 Alternate 1 Signal (PreAddr07) to use
    the alternate three-state control (first option), and specifies
    configuring the GPIO32 Alternate 1 Signal (USB2OM0) with the output
    enabled in the GPIOx_TCR register (second option).

    Currently, gpio_set_chip_configuration() configures all alternate signal
    outputs to use the first option.  This patch allow the second option to
    be selected by setting the "out_val" element in the table entry to
    "GPIO_OUT_1".  The first option is used when the "out_val" element is
    set to "GPIO_OUT_0".  Because "out_val" is not currently used when an
    alternate signal is selected, and because all current GPIO tables set
    "out_val" to "GPIO_OUT_0" for all alternate signals, this patch should
    not change any existing configurations.

    Signed-off-by: Larry Johnson <lrj@acm.org>

commit 196404cdc1de495d6182e84731c200fc5748df15
Author: Larry Johnson <lrj@arlinx.com>
Date:	Sun Dec 30 01:01:54 2007 -0500

    PPC4xx: Remove sdram.h from board/lwmon5

    These definitions are now in "include/ppc440.h".

    Signed-off-by: Larry Johnson <lrj@acm.org>

commit ef16fccf96e55eab93fe25d03ebe2e9b56e5332b
Author: Larry Johnson <lrj@arlinx.com>
Date:	Sun Dec 30 01:01:32 2007 -0500

    PPC4xx: Use common code for LWMON5 board SDRAM support

    This patch also modifies the functionality of the code so that the data-eye
    search is now done with with the cache disabled.

    Signed-off-by: Larry Johnson <lrj@acm.org>

commit 62cc3951ab72135d9c101f1845b794e63a0fa189
Author: Larry Johnson <lrj@arlinx.com>
Date:	Sun Dec 30 01:01:14 2007 -0500

    PPC4xx: Remove sdram.h from board/amcc/sequoia

    These definitions are now in "include/ppc440.h".

    Signed-off-by: Larry Johnson <lrj@acm.org>

commit ce3902e1765bbfb07cf5bbe98be9a68e3009996a
Author: Larry Johnson <lrj@arlinx.com>
Date:	Sun Dec 30 01:00:50 2007 -0500

    PPC4xx: Use common code for Sequoia board SDRAM support

    Signed-off-by: Larry Johnson <lrj@acm.org>

commit 8b0c5c127690335758100c25eaec2b84db97c101
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Thu Dec 27 16:58:41 2007 +0100

    net: Add CONFIG_NET_DO_NOT_TRY_ANOTHER option

    When CONFIG_NET_DO_NOT_TRY_ANOTHER is defined U-Boot's
    networking stack does not automatically switch to
    another interface. This patch does not touch the default
    behavior.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 505be87a65e4f87ad7d8da1d57ea4dcd487d7e32
Author: Upakul Barkakaty <upakul@gmail.com>
Date:	Thu Nov 29 12:16:13 2007 +0530

    NET: Proper return code handling in eth_init() function in file eth.c

    This patch modifies the return code handling in the eth_init()
    function, to be compatible with the handling of the return codes in
    the other network stack files. It now returns a 0 on Success and -1 on
    error.

    Signed-off-by: Upakul Barkakaty <upakul.barkakaty@conexant.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 5ca2d0953e4579a80810966cca2077e20d912c97
Author: Shinya Kuribayashi <shinya.kuribayashi@necel.com>
Date:	Mon Nov 19 20:27:04 2007 +0900

    net/eth.c: Fix env_enetaddr signed overflow

    Assigning the output of simple_strtoul(CB:A9:87:65:43:21) to `char', we are
    warned as below:

      U-Boot 1.2.0 (Aug 30 2007 - 08:27:37)

      DRAM:  256 MB
      Flash: 32 MB
      In:    serial
      Out:   serial
      Err:   serial
      Net:   NEC-Candy
      Warning: NEC-Candy MAC addresses don't match:
      Address in SROM is	 00:00:4C:80:92:A2
      Address in environment is  FFFFFFCB:FFFFFFA9:FFFFFF87:65:43:21

    This patch changes env_enetaddr type from `char' to `unsigned char'.

    Cc: Masaki Ishikawa <ishikawa-masaki@cnt.mxe.nes.nec.co.jp>
    Signed-off-by: Shinya Kuribayashi <shinya.kuribayashi@necel.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit f85b60710571b37293d2233933b76e2aa3db5635
Author: Rafal Jaworowski <raj@semihalf.com>
Date:	Thu Dec 27 18:19:02 2007 +0100

    Introduce new eth_receive routine

    The purpose of this routine is receiving a single network frame, outside of
    U-Boot's NetLoop(). Exporting it to standalone programs that run on top of
    U-Boot will let them utilise networking facilities. For sending a raw frame
    the already existing eth_send() can be used.

    The direct consumer of this routine is the newly introduced API layer for
    external applications (enabled with CONFIG_API).

    Signed-off-by: Rafal Jaworowski <raj@semihalf.com>
    Signed-off-by: Piotr Kruszynski <ppk@semihalf.com>
    Signed-off-by: Ben Warren <biggerbadderben@gmail.com>

commit 5c740711f0ea5b51414b341b71597c4a0751be74
Author: Jon Loeliger <jdl@freescale.com>
Date:	Thu Jan 3 10:41:04 2008 -0600

    8610: Move include of config.h earlier.

    Include config.h earlier in the set of #includes
    so as to avoid a incidental and duplicate definition
    of CFG_CACHELINE_SIZE.

    Signed-off-by: Jon Loeliger

commit 61d3421bdea090bd0399b14c3e10a3bebcc8d5ff
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Dec 4 10:53:34 2007 -0600

    Don't slam #undef DEBUG in the 8641HPCN config file.

    Doing so prevents it from being individually set
    and useful in other files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit ea9f7395ec362584e5e4f266bd0b0c4422cf6a4c
Author: Jon Loeliger <jdl@freescale.com>
Date:	Wed Nov 28 14:47:18 2007 -0600

    Convert MPC8641HPCN to use libfdt.

    Assumes the presence of the aliases node in the DTS to
    locate the ethernet, pci and serial nodes for fixups.

    Use consistent fdtaddr and fdtfile in environment variables.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit ce37422d0002e10490e268392e0c4e3028e52cec
Author: Stefan Roese <sr@denx.de>
Date:	Wed Jan 2 14:06:26 2008 +0100

    cfi_flash: Fix bug in flash_isset() to use correct 32bit function

    This bug was detected on the LWMON5 target which has 2 Intel 16bit wide
    flash chips connected to a 32bit wide port.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 1182e9f8e3b92fc372d64943293de53daa2e26cf
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Jan 2 15:58:44 2008 +0100

    Fix compile problem introduced by "cleanup" commit 3dfd708c

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 1aaab9bfae0b3b2ee2b418c22c651280ee7b65c7
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Jan 2 15:54:45 2008 +0100

    Make scripts and Makefiles POSIX compliant

    The bash builtin versions of the "test" (resp. "[") command allow
    using "==" for string comparisons, but POSIX compatible implemen-
    tations (like /usr/bin/test) insist on using "=" only. On such systems
    you will see:

	$ /usr/bin/test a == a && echo OK
	/usr/bin/test: ==: binary operator expected

    This patch fixes Makefiles and scripts to use POSIX style.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 47cc23cbe9a669c510183f4f049bf703ef445f3b
Author: Stefan Roese <sr@denx.de>
Date:	Wed Jan 2 14:05:37 2008 +0100

    cfi_flash: Fix bug in flash_isset() to use correct 32bit function

    This bug was detected on the LWMON5 target which has 2 Intel 16bit wide
    flash chips connected to a 32bit wide port.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 3dfd708cc1b2a966ad454ca9ed125dd17dbadbcc
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Jan 2 12:38:43 2008 +0100

    Minor coding style cleanup.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit e174ac34adf5d5653df12bc3cf19c52063a71269
Author: Stefan Roese <sr@denx.de>
Date:	Fri Dec 28 17:29:56 2007 +0100

    ppc4xx: Coding style cleanup

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 8ba132cab18ae438b6dd5b0214c28a8fc0d976e5
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Fri Dec 28 17:07:24 2007 +0100

    ppc4xx: Complete PMC440 board support

    This patch brings the PMC440 board configuration file.
    Finally it enables the PMC440 board support.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit 407843a582560fc5231299561ab3c2b6b6cd3397
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Fri Dec 28 17:07:18 2007 +0100

    ppc4xx: Add FPGA support and BSP commands for PMC440 boards

    This patch adds some BSP commands and FPGA booting support
    for esd's PMC440 boards.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit 72c5d52aedcce35e4b4fa5895605554825b6a76f
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Fri Dec 28 17:07:14 2007 +0100

    ppc4xx: Add initial esd PMC440 board files

    This patch adds the first files for the new esd PMC440 boards.
    The next two patches will complete the PMC440 board support.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit f6e0f1f61896ce7729ba1bcea2ffbd138d3947f5
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Fri Dec 28 17:10:36 2007 +0100

    ppc4xx: Add EEPROM write protection for PLU405 boards + misc. updates

    - add EEPROM write protection for esd PLU405 boards.
    - initialize NAND GPIOs
    - use correct io accessors
    - cleanup

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit 77660c4b59055d621d2a8595bd4c18bb277268fc
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Fri Dec 28 17:10:44 2007 +0100

    ppc4xx: use correct io accessors for esd's LCD code

    This patch fixes esd's LCD dectection code to work correctly with
    newer gcc versions.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit b56bd0fcfc1c73db722e3462c8a9bf607ba7775e
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Fri Dec 28 17:10:42 2007 +0100

    ppc4xx: Maintenance patch for VOH405 boards

    - add EEPROM write protection
    - initialize NAND GPIOs
    - use correct io accessors
    - slow down I2C clock to 100kHz
    - enable ext. I2C bus
    - cleanup

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit c05569066dbcba3fdf36d4d1943df265dc316a86
Author: Stefan Roese <sr@denx.de>
Date:	Fri Dec 28 16:08:08 2007 +0100

    ppc4xx: Enable 405EP PCI arbiter per default on all boards

    In an attmemt to clean up the 4xx start.S file, I removed the enabling
    of the internal 405EP PCI arbiter. This is needed for multiple other
    405EP platforms, like most of the esd 405EP. Now the internal PCI
    arbiter is enabled again per default as it has been before.

    Signed-off-by: Stefan Roese <sr@denx.de>
    Acked-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit bec9264616fb78273a1d93e87ff4b0b67c7bec1b
Author: Stefan Roese <sr@denx.de>
Date:	Fri Dec 28 15:53:46 2007 +0100

    ppc4xx: Fix bug in cpu_init.c (405EP instead of 450EP)

    Signed-off-by: Stefan Roese <sr@denx.de>
    Acked-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit fb83a65c60ab5ca12358b75f1257e5eee6cdbf79
Author: Stefan Roese <sr@denx.de>
Date:	Fri Dec 28 06:06:04 2007 +0100

    ppc4xx: Fix compilation problem of kilauea/haleakala nand booting target

    Use correct link to nand_ecc now located in drivers/mtd/nand/ for the
    platforms mentioned above.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit b568fd25574181a3b12ae3d66b2913903442cb83
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Thu Dec 27 17:03:46 2007 +0100

    Remove CPCI440 board

    This board never left prototyping state and it
    became a millstone round my neck. So remove it.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit c591dffe0cbacd896ccbad06011fe6d6afa080da
Author: Larry Johnson <lrj@arlinx.com>
Date:	Thu Dec 27 11:28:51 2007 -0500

    Add support for Korat PPC440EPx board

    These patches add support for the PPC440EPx-based "Korat" board to
    U-Boot.  They are based primarily on support for the Sequoia board.

    Signed-off-by: Larry Johnson <lrj@acm.org>

commit 87dc096829e6a6363f4fdd73653b0093a85adbe0
Author: Larry Johnson <lrj@arlinx.com>
Date:	Sat Dec 22 15:16:25 2007 -0500

    Add configuration file for Korat board

    This patch supplies the configuration file for the Korat PPC440EPx-
    processor board.

    Signed-off-by: Larry Johnson <lrj@acm.org>

commit 8eb52d5d982b764b39c88d9d1064d56c5397bfa5
Author: Larry Johnson <lrj@arlinx.com>
Date:	Sat Dec 22 15:16:11 2007 -0500

    Add denali_data_eye.o and denali_spd_ddr2.o to PPC4xx Makefile

    Signed-off-by: Larry Johnson <lrj@acm.org>

commit aba19604d848b2838cfb9ebe818909e6a216058e
Author: Larry Johnson <lrj@arlinx.com>
Date:	Thu Dec 27 10:54:48 2007 -0500

    Add 440EPx DDR2 SPD DIMM support

    This patch adds SPD DDR2 support for the 440EPx ("Denali") SDRAM
    controller.  It should also work on the 440GRx.  It is based on the DDR2
    SPD code for the 440EP/440EPx, but makes no provision for DDR1 support.

    This code has been tested on prototype Korat boards with three Kingston
    DIMMS: 512 MiB ECC (one rank), 512 MiB non-ECC (one rank) and 1 GiB ECC
    (two ranks).  The Korat board has a single DIMM socket, but support has
    been provided (though not tested) for boards with two DIMM sockets.

    Signed-off-by: Larry Johnson <lrj@acm.org>

commit 8a24a6963002cb867d5a6b70e3560f0b1467f55f
Author: Larry Johnson <lrj@arlinx.com>
Date:	Sat Dec 22 15:15:30 2007 -0500

    Copy 440EPx/GRx SDRAM data-eye search to common directory

    This patch creates a non-board-specific file for performing the SDRAM
    data-eye search.  It also adds ECC error checking to the test of valid
    data on readback when ECC is enabled.

    Signed-off-by: Larry Johnson <lrj@acm.org>

commit c46f53333b22b1f9098676bea8884fc7db820cf3
Author: Larry Johnson <lrj@arlinx.com>
Date:	Sat Dec 22 15:15:13 2007 -0500

    Add definitions for 440EPx/GRx SDRAM controller to ppc440.h

    This patch adds the Denali SDRAM controller definitions to "ppc440.h".
    It also fixes two typos in the definitions, so the board-specific
    "sdram.h" files containing these definitions are also fixed to avoid
    compiler warnings.

    Signed-off-by: Larry Johnson <lrj@acm.org>

commit c348578bf612d0c56d8d376d23cae16defbd86af
Author: Larry Johnson <lrj@arlinx.com>
Date:	Thu Dec 27 10:50:55 2007 -0500

    Add Ethernet 1000BASE-X support for PPC4xx

    This patch adds a new switch: "CONFIG_PHY_DYNAMIC_ANEG".  When this symbol
    is defined, the PHY will advertise it's capabilities for autonegotiation
    based on the capabilities shown in the PHY's status registers, including
    1000BASE-X.  When "CONFIG_PHY_DYNAMIC_ANEG" is not defined, the PHY will
    advertise hard-coded capabilities, as before.

    Signed-off-by: Larry Johnson <lrj@acm.org>

commit 9e2c347151db5ae8acf5f18b99493cd53e6637e3
Author: Larry Johnson <lrj@arlinx.com>
Date:	Thu Dec 27 09:52:17 2007 -0500

    Add driver for National Semiconductor LM73 temperature sensor

    This driver is based on the driver for the LM75.

    Signed-off-by: Larry Johnson <lrj@acm.org>

commit 12618278688ea9b3d76536960a5ad2e3790fac40
Author: Larry Johnson <lrj@arlinx.com>
Date:	Sat Dec 22 15:14:00 2007 -0500

    Add driver for STMicroelectronics M41T60 RTC

    This driver is based on the driver for the M41T11.	In the intended
    application, the RTC will be powered by a large capacitor, rather than a
    battery.  The driver therefore checks to see whether the RTC has lost
    power.  The chip's OUT bit is normally reset from its power-up state.  If
    the OUT bit is read as set, or if the date and time are not valid, then the
    RTC is assumed to have lost power, and its date and time are reset to
    1900-01-01 00:00:00.

    Support for adjusting the speed of the clock to improve accuracy is
    provided through an environment variable.

    Signed-off-by: Larry Johnson <lrj@acm.org>

commit d3471173e14b7544bb60339eda8d3d3906694b0a
Author: Larry Johnson <lrj@arlinx.com>
Date:	Sat Dec 22 15:34:39 2007 -0500

    Use out_be32() and friends to access memory-mapped registers in sequoia.c

    Signed-off-by: Larry Johnson <lrj@acm.org>

commit c68f59fe3ec16769f82b5fca7421983c336d3aac
Author: Larry Johnson <lrj@arlinx.com>
Date:	Sat Dec 22 15:34:20 2007 -0500

    Use definitions from "asm-ppc/mmu.h" in init.S for Sequoia

    Signed-off-by: Larry Johnson <lrj@acm.org>

commit 0d9cdeac1d3fa8d62ed7d883acc950c364f5bda8
Author: Larry Johnson <lrj@arlinx.com>
Date:	Sat Dec 22 15:23:50 2007 -0500

    Cosmetic changes to ECC POST for AMCC Denali core

    Signed-off-by: Larry Johnson <lrj@acm.org>

commit 2e583d6c81034f80a267b89fa55498ae063ccef1
Author: Stefan Roese <sr@denx.de>
Date:	Wed Dec 26 20:20:19 2007 +0100

    ppc4xx: Fix compilation problem in 405 cache POST test

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 42d55ea0bde06e47d5a3b49b0d91002acd8e5708
Author: Stefan Roese <sr@denx.de>
Date:	Sat Dec 22 12:20:09 2007 +0100

    ppc4xx: Move virtual address of POST cache test to bigger address

    On Sequoia & LWMON5 the virtual address of the POST cache test is now
    moved to a bigger address. This enables usage of more memory on those
    boards.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit d91722102cf63f77a0148ed3f3d54a26d87575e9
Author: Stefan Roese <sr@denx.de>
Date:	Sat Dec 22 12:18:26 2007 +0100

    ppc4xx: Fix problem in 44x cache POST routine

    As repoted by Larry Johnson, running "diag run cache" caused a crash
    in U-Boot. This problem was introduced by a patch that removed the
    TLB entry for the cache test after the test has completed. Since this
    TLB was only setup once, a 2nd attempt to run this cache test
    failed with a crash. Now this TLB entry is created every time the
    routine is called.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit b0265b576bb8fa9465f99e99c323768b562fadc2
Author: Stefan Roese <sr@denx.de>
Date:	Fri Dec 21 07:51:29 2007 +0100

    ppc4xx: Update Makalu fdt support

    Signed-off-by: Stefan Roese <sr@denx.de>

commit bf8324e4a50758daff8cddd04c6a2ff8ed775bea
Author: Stefan Roese <sr@denx.de>
Date:	Wed Dec 19 09:05:40 2007 +0100

    ppc4xx: Add fdt support to AMCC Katmai eval board

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 328a340392a5df9aaf00792be989df73e750859e
Author: Stefan Roese <sr@denx.de>
Date:	Tue Dec 18 08:44:51 2007 +0100

    ppc4xx: fdt: Cleanup setup of cpu node setup

    Now the cpu node setup ("timebase-frequency" and "clock-frequency") is
    without using the absolute path to the cpu node. This makes it possible
    to use this U-Boot version with both versions of cpu-node naming
    "cpu@0" and the former "PowerPC,440EPx@0".

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 7812bc4a2e2436ebbc0ce5b4e99c1dfc2e77eb5b
Author: Stefan Roese <sr@denx.de>
Date:	Mon Dec 17 17:26:21 2007 +0100

    ppc4xx: Fix lwmon5 compilation problem

    Now that the 440EPx ECC test is not board specific anymore
    remove this Makefile.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 42ed33ffe135f618680f9d6e9712eb35a85bcb62
Author: Anatolij Gustschin <agustschin@t-online.de>
Date:	Wed Dec 5 17:43:20 2007 +0100

    Fix ppc4xx clear_bss() code

    ppc4xx clear_bss() fails if BSS segment size is not
    divisible by 4 without remainder. This patch provides
    fix for this problem.

    Signed-off-by: Anatolij Gustschin <agust@denx.de>

commit 85dc2a7f82d11e17f0ca2a448118aed7f7a4b85d
Author: Niklaus Giger <niklausgiger@gmx.ch>
Date:	Fri Nov 30 18:35:11 2007 +0100

    PPC4xx: Minimal changes to add vxWorks support

    Signed-off-by: Niklaus Giger <niklaus.giger@netstal.com>

commit 052440b022ca8981d39b6f8c10d1aa6326f47480
Author: Markus Klotzbcher <mk@denx.de>
Date:	Fri Nov 23 13:09:18 2007 +0100

    ppc4xx: Add CONFIG_BOOTP_SUBNETMASK to Sequoia board config

    When using dhcp/bootp the "netmask" environment variable is not
    set because CONFIG_BOOTP_SUBNETMASK is not defined. But usually this is
    desireable, so the following patch adds this this option to the board
    config.

    Signed-off-by: Markus Klotzbuecher <mk@denx.de>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit a724a9b40c7fbeb6ade193ca52321b441eaecb4e
Author: Larry Johnson <lrj@arlinx.com>
Date:	Sat Oct 27 12:48:15 2007 -0400

    Fix/enhance ECC POST for 440EPx/GRx

    This patch allows the ECC POST to be used for different boards with the
    PPC440 Denali SDRAM controller.  Modifications include skipping the test
    if ECC is not enabled (as for non-ECC DIMMs) and adding synchronization
    to prevent timing errors.

    Signed-off-by: Larry Johnson <lrj@acm.org>

commit 454a6cf8d498f70d2b3e18f07837603eb24b12d4
Author: Larry Johnson <lrj@arlinx.com>
Date:	Sat Oct 27 12:48:05 2007 -0400

    PPC4xx: Move/rename ECC POST for 440EPx/GRx

    Signed-off-by: Larry Johnson <lrj@acm.org>

commit c29d2d3680046d430022c55e50fcb27f5866517e
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Fri Dec 14 11:20:33 2007 +0100

    ppc4xx: use correct io accessors for 4xx ethernet POST

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit ba79fde58a48c0a6ff8e2a96caba951594142203
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Fri Dec 14 11:19:56 2007 +0100

    ppc4xx: fix flush + invalidate_dcache_range arguments

    flush + invalidate_dcache_range() expect the start and stop+1 address.
    So the stop address is the first address behind (!) the range.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit 871e6ce188a7c6bc7321bcf8372857035d20f1cd
Author: Stefan Roese <sr@denx.de>
Date:	Fri Dec 14 08:41:29 2007 +0100

    ppc4xx: fdt: use fdt_fixup_ethernet()

    By using aliases in the dts file, the ethernet node fixup is
    much easier with the recently added functions.

    Please note that the dts file needs the aliases for this to work.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 136288847e3b04f2ff357a067ad45e10afa0a24c
Author: Stefan Roese <sr@denx.de>
Date:	Thu Dec 13 14:52:53 2007 +0100

    ppc4xx: Bring 4xx fdt support up-to-date

    This patch update the 4xx fdt support. It enabled fdt booting
    on the AMCC Kilauea and Sequoia for now. More can follow later
    quite easily.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 0dc80e2759fba859ccc4cdadc633577ca2971f3e
Author: Stefan Roese <sr@denx.de>
Date:	Thu Dec 27 07:50:54 2007 +0100

    cfi_flash: Add missing check for erased dest to flash_write_cfibuffer()

    The check for an sufficiently erased destination was missing in the
    buffered write function of the cfi flash driver (when
    CFG_FLASH_USE_BUFFER_WRITE is defined). This patch adds this check to that
    writing to such a region will fail with the currect error message.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 33ed73bc0e38d0f2b5c183d4629d8f207e5b9994
Author: Martin Krause <martin.krause@tqs.de>
Date:	Mon Nov 12 10:56:17 2007 +0100

    Some configuration updates for the TQM5200 based TB5200 board:

    - enable command line history
    - increase malloc space (because of bigger flash sectors)

    Signed-off-by: Martin Krause <martin.krause@tqs.de>

commit e318d9e9021a0af7508171f84ed09d0e79f0284e
Author: Martin Krause <martin.krause@tqs.de>
Date:	Thu Sep 27 11:10:08 2007 +0200

    TQM8xx: use the CFI flash driver on all TQM8xx boards

    Signed-off-by: Martin Krause <martin.krause@tqs.de>

commit 11d9eec479b470eab9242ab937fca70a876d9376
Author: Martin Krause <martin.krause@tqs.de>
Date:	Wed Sep 26 17:55:56 2007 +0200

    TQM885D: adjust for doubled flash sector size + some minor fixes

    Signed-off-by: Martin Krause <martin.krause@tqs.de>

commit 22d1a56cbfb0bff34f477b4db6a55d076d829b83
Author: Jens Gehrlein <jens.gehrlein@tqs.de>
Date:	Wed Sep 26 17:55:54 2007 +0200

    TQM885D: Exchanged SDRAM timing by a more relaxed timing.

    CAS-Latency=2, Write Recovery Time tWR=2
    The max. supported bus frequency is 66 MHz. Therefore, changed
    threshold to switch from 1:1 mode to 2:1 from 80 MHz to 66 MHz.

    Signed-off-by: Martin Krause <martin.krause@tqs.de>

commit b988b8cd443989be65161888eea0127ad03f846f
Author: Martin Krause <martin.krause@tqs.de>
Date:	Wed Sep 26 17:55:56 2007 +0200

    TQM885D: use calculated cpuclk instead of measuring it

    On the TQM885D the measurement of cpuclk with the PIT reference
    timer ist not necessary. Since all module variants use the same
    external 10 MHz oscillator, the cpuclk only depends on the PLL
    configuration - which is readable by software.

    Signed-off-by: Martin Krause <martin.krause@tqs.de>

commit 492c7049869348d31168de8dad89651315e468e0
Author: Jens Gehrlein <jens.gehrlein@tqs.de>
Date:	Thu Sep 27 14:54:46 2007 +0200

    TQM885D: fix SDRAM refresh

    At 133 MHz the current SDRAM refresh rate is too fast
    (measured 4 * 1.17 us).
    CFG_MAMR_PTA changes from 39 to 128. This result
    in a refresh rate of 4 * 7.8 us at the default clock
    66 MHz. At 133 MHz the value will be then 4 * 3.8 us.
    This is a compromise until a new method is found to
    adjust the refresh rate.

    Signed-off-by: Martin Krause <martin.krause@tqs.de>

commit dabad4b9bc46908e301f73ce76b38b23626a96e9
Author: Jens Gehrlein <jens.gehrlein@tqs.de>
Date:	Thu Sep 27 14:54:46 2007 +0200

    TQM860M: Support for 10col SDRAMs, max. 128 MiB

    Signed-off-by: Martin Krause <martin.krause@tqs.de>

commit 61fb15c516fef5631e305f1976d7b3a679725856
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Dec 27 01:52:50 2007 +0100

    Fix coding style issues; update CHANGELOG.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 467bcee11fe26ad422f2de971aa70866079870f2
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Fri Dec 14 15:36:18 2007 +0100

    cfi_flash: Add manufacturer-specific fixups

    Run fixups based on the JEDEC manufacturer ID independent of the
    command set ID.

    This changes current behaviour: Previously, geometry reversal for AMD
    chips were done based on the command set ID, while they are now done
    based on the JEDEC manufacturer and device ID.

    Also add fixup for top-boot Atmel chips. A fixup is needed for
    AT49BV6416(T) too, but since u-boot currently only reads the low byte
    of the device ID, there's no way to tell it apart from AT49BV642D,
    which should not have this fixup. Since AT49BV642D support is
    necessary to get ATNGW100 board support into mainline, I've commented
    out the fixup for now.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 0ddf06ddf6b4bd057ad4c5f0dffea7870ba06a2a
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Fri Dec 14 15:36:17 2007 +0100

    cfi_flash: Add cmdset-specific init functions

    Move things like reading JEDEC IDs and fixing up geometry reversal
    into separate functions. The geometry reversal fixup is now performed
    by altering the qry structure directly, which makes the sector init
    code slightly cleaner.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit e23741f4a6d8047520ef0d4971762749b3587d32
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Fri Dec 14 15:36:16 2007 +0100

    cfi_flash: Read whole QRY structure in one go

    Read out the whole CFI Standard Query structure after successful cfi
    identification. This allows subsequent code to access this information
    directly without having to go through flash_read_uchar() and friends.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit df9c25ea04b38a0e05d4f8c73c5cc144cdafa7db
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Mon Dec 17 11:02:44 2007 +0100

    AVR32: Fix logic inversion in disable_interrupts()

    disable_interrupts() should return nonzero if interrupts were
    _enabled_ before, not disabled.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit acac475212cbedb17b321a363a1c878e2b47b37f
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Fri Dec 14 16:51:22 2007 +0100

    AVR32: Enable interrupts at bootup

    The timer code depends on the timer interrupt to keep track of the
    upper 32 bits of the cycle counter. This obviously doesn't work when
    interrupts are disabled the whole time.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 9570bcd87f4db255514f43b6701746c412f8fef0
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Thu Nov 15 10:03:45 2007 +0100

    AVR32: Fix wrong pin setup for USART3

    As reported by Gerhard Berghofer:

    in "gpio_enable_usart3" the correct pins for USART 3 are PB17 and PB18
    instead of PB18 and PB19.

    which is obviously correct. There's currently no code that uses
    USART3, but custom boards may run into problems.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 09ea0de03dcc3ee7af045b0b572227bda2c1c918
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Thu Nov 1 12:44:20 2007 +0100

    README: Remove ATSTK1000 daughterboard list

    As noted by Kim Phillips, these lists tend to become out of date.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit c81cbbad21cb0ae983e2e796211202234cdc8be2
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Tue Oct 30 14:56:36 2007 +0100

    Add ATSTK100[234] to MAINTAINERS

    Add all the ATSTK1000 daughterboards to MAINTAINERS along with their
    "mother". Also update the entry for ATSTK1000 to be not only about the
    AP7000 CPU; it's intended to handle all CPUs in the AT32AP family.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 64ff2357b1727213803591813dbc779c924bf772
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Mon Oct 29 13:02:54 2007 +0100

    AVR32: Add support for the ATSTK1004 board

    ATSTK1004 is a daughterboard for ATSTK1000 with the AT32AP7002 CPU,
    which is a derivative of AT32AP7000.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 667568db157f374b85abd7e03596ddd1f0b25681
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Mon Oct 29 13:02:54 2007 +0100

    AVR32: Add support for the ATSTK1003 board

    ATSTK1003 is a daughterboard for ATSTK1000 with the AT32AP7001 CPU,
    which is a derivative of AT32AP7000.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 5fee84a794a51ec830548cda485a770efb018b92
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Mon Oct 29 13:23:33 2007 +0100

    AVR32: Make some AT32AP700x peripherals optional

    Add a chip-features file providing definitions of the form

    AT32AP700x_CHIP_HAS_<peripheral>

    to indicate the availability of the given peripheral on the currently
    selected chip.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 36f28f8a9605ee5dcfa330482cfc62171261af97
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Mon Oct 29 13:09:56 2007 +0100

    AVR32: Rename at32ap7000 -> at32ap700x

    The SoC-specific code for all the AT32AP700x CPUs is practically
    identical; the only difference is that some chips have less features
    than others. By doing this rename, we can add support for the AP7000
    derivatives simply by making some features conditional.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 4d5fa99c73f354e7cf985efcf417ea55ca2f6a5e
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Fri Jun 29 18:22:34 2007 +0200

    atmel_mci: Show SR when block read fails

    Show controller status as well as card status when an error occurs
    during block read.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 8697e6a19b10f514511b6a9c86de88bd108c4f8d
Author: Stefan Roese <sr@denx.de>
Date:	Thu Dec 13 14:52:53 2007 +0100

    ppc4xx: Bring 4xx fdt support up-to-date

    This patch update the 4xx fdt support. It enabled fdt booting
    on the AMCC Kilauea and Sequoia for now. More can follow later
    quite easily.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 12d30aa79779c2aa7a998bbae4c075f822a53004
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Thu Dec 13 12:56:34 2007 +0100

    cfi_flash: Use map_physmem() and unmap_physmem()

    Use map_physmem() and unmap_physmem() to convert from physical to
    virtual addresses. This gives the arch a chance to provide an uncached
    mapping for flash accesses.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 4d7d6936eb29af7cca330937808312aa5f61454d
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Thu Dec 13 12:56:33 2007 +0100

    Introduce map_physmem() and unmap_physmem()

    map_physmem() returns a virtual address which can be used to access a
    given physical address without involving the cache. unmap_physmem()
    should be called when the virtual address returned by map_physmem() is
    no longer needed.

    This patch adds a stub implementation which simply returns the
    physical address cast to a uchar * for all architectures except AVR32,
    which converts the physical address to an uncached virtual mapping.
    unmap_physmem() is a no-op on all architectures, but if any
    architecture needs to do such mappings through the TLB, this is the
    hook where those TLB entries can be invalidated.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit cdbaefb5f5f03e54455d0439dcf6dbd97ead1f9d
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Thu Dec 13 12:56:32 2007 +0100

    cfi_flash: Introduce read and write accessors

    Introduce flash_read{8,16,32,64) and flash_write{8,16,32,64} and use
    them to access the flash memory. This makes it clearer when the flash
    is actually being accessed; merely dereferencing a volatile pointer
    looks just like any other kind of access.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 812711ce6b3a386125dcf0d6a59588e461abbb87
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Thu Dec 13 12:56:31 2007 +0100

    Implement __raw_{read,write}[bwl] on all architectures

    This adds implementations of __raw_read[bwl] and __raw_write[bwl] to
    m68k, ppc, nios and nios2. The m68k and ppc implementations were taken
    from Linux.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit be60a9021c82fc5aecd5b2b1fc96f70a9c81bbcd
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Sat Oct 6 18:55:36 2007 +0200

    cfi_flash: Reorder functions and eliminate extra prototypes

    Reorder the functions in cfi_flash.c so that each function only uses
    functions that have been defined before it. This allows the static
    prototype declarations near the top to be eliminated and might allow
    gcc to do a better job inlining functions.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 3055793bcbdf24b1f8117f606ffb766d32eb766f
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Thu Dec 13 12:56:29 2007 +0100

    cfi_flash: Make some needlessly global functions static

    Make functions not declared in any header file static.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 7e5b9b471518c5652febc68ba62b432193d6abf4
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Thu Dec 13 12:56:28 2007 +0100

    cfi_flash: Break long lines

    This patch tries to keep all lines in the cfi_flash driver below 80
    columns. There are a few lines left which don't fit this requirement
    because I couldn't find any trivial way to break them (i.e. it would
    take some restructuring, which I intend to do in a later patch.)

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 42026c9cb3a76849b41e6e24abfb7b56807a5c1a
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Tue Dec 11 13:59:57 2007 +0100

    CFI: synchronize command offsets with Linux CFI driver

    Fixes non-working CFI Flash on the Inka4x0 board.

    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>

commit 8ff3de61fc5f9b3b21647bce081a3b7f710f0d4d
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Dec 7 12:17:34 2007 -0600

    Handle MPC85xx PCIe reset errata (PCI-Ex 38)

    On the MPC85xx boards that have PCIe enable the PCIe errata fix.
    (MPC8544DS, MPC8548CDS, MPC8568MDS).

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 82ac8c97145a4c3bf8b3dbfad00fa96e920f9b9c
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Dec 7 12:04:30 2007 -0600

    Update Freescale MPC85xx ADS/CDS/MDS board config

    * Enabled CONFIG_CMD_ELF

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit d435793229ce29a42797c1edc39f5b34f987f91a
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Fri Dec 7 04:59:26 2007 -0600

    Handle Asynchronous DDR clock on 85xx

    The MPC8572 introduces the concept of an asynchronous DDR clock with
    regards to the platform clock.

    Introduce get_ddr_freq() to report the DDR freq regardless of sync/async
    mode.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 22abb2d2eaf7b795a6923c6273ec9cb53fda9a10
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Nov 29 10:34:28 2007 -0600

    Update Freescale MPC85xx ADS/CDS/MDS board config

    * Removed some misc environment setup
    * Enabled CONFIG_CMDLINE_EDITING

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 415a613babb84d5e5d5b42e8e553868c71fc3a64
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Nov 29 10:47:44 2007 -0600

    Move the MPC8541/MPC8555/MPC8548 CDS board under board/freescale.

    Minor path corrections needed to ensure buildability.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit c2d943ffbfd3359b3b45d177b437379d2cb86fbf
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Nov 29 10:16:18 2007 -0600

    Move the MPC8540 ADS board under board/freescale.

    Minor path corrections needed to ensure buildability.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 870ceac5b3a3486c109396e005af81ae762b5710
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Nov 29 10:14:50 2007 -0600

    Move the MPC8560 ADS board under board/freescale.

    Minor path corrections needed to ensure buildability.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit acbca876fb3fec25cd9c55b0efc81ff618ff5262
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Nov 29 10:13:47 2007 -0600

    Move the MPC8568 MDS board under board/freescale.

    Minor path corrections needed to ensure buildability.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit a853d56c59b33415304531443633808736acfc6e
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Nov 29 02:18:59 2007 -0600

    Use standard LAWAR_TRGT_IF_* defines for LAW setup on 85xx

    We already had defines for LAWAR_TRGT_IF_* that we should use
    rather than creating new ones.  Also, added some missing defines for
    PCIE targets.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 04db400892da37b76a585e332a0c137954ad2015
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Nov 29 02:10:09 2007 -0600

    Stop using immap_t on 85xx

    In the future the offsets to various blocks may not be in same location.
    Move to using CFG_MPC85xx_*_ADDR as the base of the registers
    instead of getting it via &immap.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 2714223f8e04ab3e4133ff65872eef366d90bfea
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Nov 29 01:23:09 2007 -0600

    Remove CONFIG_OF_FLAT_TREE related code from mpc85xx since we now use libfdt

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit c480861bf000156e6a3e932c258db59ff2212dd3
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Nov 29 01:06:19 2007 -0600

    Update MPC8568 MDS to use libfdt

    Updated the MPC8568 MDS config to use libfdt and assume use of aliases for
    ethernet, pci, and serial for the various fixups that are done.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 1563f56e0c68f6920f956382d6d13bee3f01c0f7
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Wed Nov 14 15:52:06 2007 -0500

    Add PCI Express support on MPC8568MDS

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>
    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit b90d25497625b90ffa3f2911a0895ca237556ff5
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Nov 29 00:11:44 2007 -0600

    Update MPC85xx CDS to use libfdt

    Updated the MPC85xx CDS config to use libfdt and assume use of aliases for
    ethernet, pci, and serial for the various fixups that are done.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 0fd5ec66b10521a057ad73e69ab5f0f9eafba255
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Nov 28 22:54:27 2007 -0600

    Update MPC8540 ADS to use libfdt

    Updated the MPC8540 ADS config to use libfdt and assume use of aliases for
    ethernet, pci, and serial for the various fixups that are done.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 5ce715802f6c50dc78b3405b92f184b1e3710519
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Nov 28 22:40:31 2007 -0600

    Update MPC8560 ADS to use libfdt

    Updated the MPC8560 ADS config to use libfdt and assume use of aliases for
    ethernet, pci, and serial for the various fixups that are done.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit aafeefbdb8b029f5ca2a195598d0a501a606eea9
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Nov 28 00:36:33 2007 -0600

    Stop using immap_t for cpm offset on 85xx

    In the future the offsets to various blocks may not be in same location.
    Move to using CFG_MPC85xx_CPM_ADDR as the base of the CPM registers
    instead of getting it via &immap->im_cpm.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit f59b55a5b8fcadaa99781ba48e7a38e956afa527
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Nov 27 23:25:02 2007 -0600

    Stop using immap_t for guts offset on 85xx

    In the future the offsets to various blocks may not be in same location.
    Move to using CFG_MPC85xx_GUTS_ADDR as the base of the guts registers
    instead of getting it via &immap->im_gur.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 50c03c8cf494d91cdec39670d95337c743e16ec9
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Nov 27 22:42:34 2007 -0600

    Update MPC8544 DS config

    * Removed HAS_ETH2/HAS_ETH3 - MPC8544 only has TSEC1/2
    * Removed some misc environment setup
    * Moved to using fdtfile & fdtaddr as fdt env var names
    * Enabled CONFIG_CMDLINE_EDITING

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit addce57e2e4c49e77ffb2020a84690713bb18b47
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Nov 26 17:12:24 2007 -0600

    Update MPC8544DS to use libfdt

    Updated the MPC8544DS config to use libfdt and assume use of aliases for
    ethernet, pci, and serial for the various fixups that are done.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit f852ce72f100cabd1f11c21c085a0ad8eca9fb65
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Nov 29 00:15:30 2007 -0600

    Add libfdt based ft_cpu_setup for mpc85xx

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 3b9abdc448a1c2c6a4c2aa292724b4d1a05166a9
Author: Stefan Roese <sr@denx.de>
Date:	Tue Dec 11 13:38:19 2007 +0100

    ppc4xx: Correct GPIO offset in gpio_config()

    Thanks to Gary Jennejohn for pointing this out.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 8809a2713b1ceaf3da55d9d785470294f15de06a
Author: Stefan Roese <sr@denx.de>
Date:	Tue Dec 11 11:46:01 2007 +0100

    rtc: Fix merging problem

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 7cfc12a7dcfdb350e2ab76db4dafcc30f7e77c2b
Author: Stefan Roese <sr@denx.de>
Date:	Sat Dec 8 14:47:34 2007 +0100

    ppc4xx: 405EX: Correctly enable USB pins

    This patch selects the USB data pins in the 405EX GPIO and MFC (multi
    function control) registers. This is done for the AMCC Kilauea and
    Makalu eval boards.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 9692c2734a47f23b44a0f68042a3e2ca8d1bfb39
Author: Stefan Roese <sr@denx.de>
Date:	Sat Dec 8 08:25:09 2007 +0100

    CFI: Coding style cleanup

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 81b20ccc2d795ae9a1199db5a50ad9c28d1e4d22
Author: Michael Schwingen <michael@schwingen.org>
Date:	Fri Dec 7 23:35:02 2007 +0100

    CFI: support JEDEC flash roms in CFI-flash framework

    The following patch adds support for non-CFI flash ROMS, by hooking into the
    CFI flash code and using most of its code, as recently discussed here in the
    thread "Mixing CFI and non-CFI flashs".

    Signed-off-by: Michael Schwingen <michael@schwingen.org>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit c01b17dd856fa120b2970f50d9598546a4927ec3
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Wed Nov 28 21:24:50 2007 -0500

    Conditionally compile fdt_fixup_ethernet()

    Fix compiler warnings: On boards that don't have ethernets defined,
    don't compile fdt_fixup_ethernet().

commit 246d4ae6bc282bc1841224e1c5fc49dc925e0bf7
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Nov 27 21:59:46 2007 -0600

    Convert boards that set memory node to use fdt_fixup_memory()

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 151c8b09b35eebe8fd9139cb6c1d91c27b22f058
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Nov 26 17:06:15 2007 -0600

    Added fdt_fixup_stdout that uses aliases to set linux,stdout-path

    We use a combination of the serialN alias and CONFIG_CONS_INDEX to
    determine which serial alias we should set linux,stdout-path to.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 3c9272813fad84c691d0e4989bb18a3ffebdebfc
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Nov 26 14:57:45 2007 -0600

    Add common memory fixup function

    Add the function fdt_fixup_memory() to fixup the /memory node of the fdt

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 9c9109e7fcf7ac2ca19c95b8ac54b8d1c773b157
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Nov 26 11:19:12 2007 -0600

    Conditionally compile fdt_support.c

    Modify common/Makefile to conditionally compile fdt_support.c based
    on CONFIG_OF_LIBFDT.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit d88e7ba0980773479e1a64badb293116071b7ef0
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Nov 26 10:41:40 2007 -0600

    Fix build breakage due to libfdt import

    The IDS8247 got lost in the update and need an API update
    do to rename of functions in libfdt.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 28f384b171bbf1fb2dafb1046e6d259a6b2f8714
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Fri Nov 23 19:43:20 2007 -0500

    Add spaces around the = in the fdt print format.

    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>

commit 29592ecba3b932b9b152bcec6c0c0806412db4a3
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Fri Dec 7 01:25:38 2007 +0900

    sh: Moved driver of the SuperH dependence

    The composition of the directory in the drivers/ changed.
    I moved SuperH serial driver and marubun PCMCIA driver.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 41be969f4957115ed7b1fe8b890bfaee99d7a7a2
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Dec 6 10:21:19 2007 +0100

    Release v1.3.1

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit cf5933ba1e97a1cd8f5f24070e820f21d976eaeb
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Dec 6 10:21:03 2007 +0100

    ADS5121 Board: fix compile problem.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit a27044b14a9e93678a82d7b35f202b93e7687abc
Author: Stefan Roese <sr@denx.de>
Date:	Thu Dec 6 05:58:43 2007 +0100

    ppc4xx: Enable hardware-fix for PCI/DMA errata on AMCC 440SP/SPe boards

    This patch enables the hardware-fix for the PCI/DMA errata's 19+22 by
    setting the FIXD bit in the SDR0_MFR register. Here a description of the
    symptoms:

    Problem Description
    ------------------------------
    If a DMA is performed between memory and PCI with the DMA 1 Controller
    using prefetch, and as a result uses a special purpose buffer selected by
    the PCIXn Bridge Options 1 Register (PCIXn_BRDGOPT1[RBP7] - bits 31-29),
    the first part of the transfer sequence is performed twice. The
    PPC440SPe PCI Controller requests more data than was needed such that in
    the case of enforce memory protection, a host CPU  exception can occur.
    No data is corrupted, because data transfer is stopped in the PCI
    Controller. Prefetch enable is specified by setting DMA Configuration
    Register (I2O0_DMAx_CFG[DXEPD] - bit 31) to 0.

    Behavior that may be observed in a running system
    ---------------------------------------------------------------------------

    1. DMA performance is decreased because of the double access on the PCI bus
    interface.
    2. If an illegal access to some address on the PCI bus is detected at the
    system level, a machine check or similar system error may occur.

    Workarounds Available
    ----------------------------------

    1. Do not program prefetch. Note that a prefetch command cannot be programmed
    without selecting a special purpose buffer.
    2. To avoid crossing a physical boundary of the PCI slave device, add 512
    bytes of address to the PCI address range.

    This patch was originally provided by Pravin M. Bathija <pbathija@amcc.com>
    from AMCC and slighly changed.

    Signed-off-by: Pravin M. Bathija <pbathija@amcc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit a90921f71d225bf9e0f0fc7b8beadeb8001bf78a
Author: Stefan Roese <sr@denx.de>
Date:	Tue Dec 4 16:29:48 2007 +0100

    ppc4xx: Yosemite/Yellowstone: Add DTT AD7414 support

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 8d4f040a3c15036a6ea25a9c39e7d89fefa8440d
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Dec 3 00:15:28 2007 +0100

    Prepare for 1.3.1-rc1

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit e15e33433e7c05111968dc9b434a52fd42cbd221
Author: Stefan Roese <sr@denx.de>
Date:	Fri Nov 30 07:15:41 2007 +0100

    ppc4xx: Kilauea: Add PCIe reset assertion upon power-up

    This manual PCIe reset triggering solves the problem seen with the
    Intel EPRO/1000 card, which was not detected (link not established)
    upon power-up reset.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 260eea5676ca46903a335686cc020b29c4ca46fe
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Thu Nov 29 01:21:54 2007 +0900

    sh: Add SuperH boards maintainer to MAINTAINERS file

    Add MS7750SE and MS7722SE's board maintainer to MAINTAINERS file.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit aa9c4f1d22701a92347c1c81f34d12c8ad3a3747
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Thu Nov 29 00:13:04 2007 +0900

    sh: Add ms7750se support in MAKEALL

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit c7144373427a178332bf9754131c8c34c52c200a
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Tue Nov 27 09:44:53 2007 +0100

    sh: Add sh3 and sh4 support in MAKEALL

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 130080874a3d28450098481a262c5f7c855e908d
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Sun Nov 25 02:51:17 2007 +0900

    sh: Add document for SuperH.

    This document is a summary of information concerning SuperH of U-Boot.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 33ecdc2f9d64926e1a6067b28f3a0aefc3b6d23d
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Sun Nov 25 02:39:31 2007 +0900

    sh: Add marubun's pcmcia driver

    Marubun pcmcia is a chip for PCMCIA used with SuperH.
    Of course, this can be used even by other architectures.
    When use this driver, came to be able to use CompactFlash
    and Ethernet.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit febd86b969b975289ed948f1ac0eb9722da41ced
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Sun Nov 25 02:32:13 2007 +0900

    sh: Update SuperH SCIF driver

    - Changed volatile unsigned to vu_.
    - Changed Makefile for kconfig.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 8be760903645af09871be50ad0a6f9ebb62b311d
Author: Stefan Roese <sr@denx.de>
Date:	Tue Nov 27 11:57:35 2007 +0100

    ppc4xx: Kilauea & Makalu: Fix ext IRQ pin multiplexing

    After an error in the AMCC 405EX users manual now correctly configure
    IRQ2 (Kilauea)/IRQ0 (Makalu) as alternate 2 signal for external IRQ
    usage.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit a5f601fd1b1278deae5aa9fc27a232b0d1c1c788
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Nov 26 19:18:21 2007 +0100

    Cleanup coding style; update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 3deca9d44767efd1b83f4b701f0dbf21a7595f7b
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Nov 25 22:39:25 2007 +0100

    MAKEALL: add missing 512x boards in ppc

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit a340c325e668ca7386c2276387681720be9c3757
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Nov 25 18:45:47 2007 +0100

    Makefile : fix tags ctags etags with new drivers organization

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 63362cfc6baa97ae0e37ba2c6ece530fcac9f79e
Author: Stefan Roese <sr@denx.de>
Date:	Mon Nov 26 15:06:14 2007 +0100

    ppc4xx: Makalu: Change EBC setup for CS0 to enable 400MHz usage

    As suggested by Senao, use a different EBC_PB0AP setup for 400MHz
    operation.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit ca1ce226287270bb01e25b8e3674c701f12edf19
Author: Stefan Roese <sr@denx.de>
Date:	Mon Nov 26 15:01:45 2007 +0100

    ppc4xx: Kilauea: Configure pin mux to use ext IRQ2 as interrupt

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 87ddedd6ad804427ce125ceaa076d7a4f74e9d5d
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Nov 25 18:45:47 2007 +0100

    Makefile : fix tags ctags etags with new drivers organization

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 59829cc189378c142c13d2aa8d9a897d8bef3961
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Nov 24 21:26:56 2007 +0100

    drivers/mtd : move mtd drivers to drivers/mtd

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 318c0b90431f2648552e5ade78833f42652ce859
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Nov 24 21:17:55 2007 +0100

    drivers/misc : move misc drivers to drivers/misc

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 33daf5b7858807cb4ce4158c2c56524671c14c08
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Nov 24 21:13:59 2007 +0100

    drivers/block : move block drivers to drivers/block

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 0c698dcaa70275eb8814f665b545547cee013892
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Nov 24 20:59:50 2007 +0100

    drivers/rtc : move rtc drivers to drivers/rtc

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit f868cc5a50757d94f36c312395481cb0f187d9e6
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Nov 24 20:14:44 2007 +0100

    drivers/hwmon : move hardware monitor drviers to drivers/hwmon

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 16b195c82a18cbfd164800f17a1ef9db2e48331a
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Nov 24 19:46:45 2007 +0100

    drivers/input : move input drivers to drivers/input

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit e4558666293364fc3af1c1d9381ca933fa0f1275
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Nov 24 19:40:11 2007 +0100

    drivers/usb : move usb drivers to drivers/usb

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 1378df792a7ff3abd1bf54a63f5475784f5b083c
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Nov 24 19:33:38 2007 +0100

    drivers/serial : move serial drivers to drivers/serial

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 2439e4bfa111babf4bc07ba20efbf3e36036813e
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Nov 21 21:19:24 2007 +0100

    drivers/net : move net drivers to drivers/net

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 352d259130b349fe9593b8dada641bd78a9659e5
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Tue Nov 20 20:41:48 2007 +0100

    drivers/video : move video drivers to drivers/video

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 73646217186aa17afc8e305c5f06f06dd335eaad
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Tue Nov 20 20:33:09 2007 +0100

    drivers/pcmcia : move pcmcia drivers to drivers/pcmcia

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 93a686ee9c5ddc6fa368c32cfbfde6f6724599fc
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Tue Nov 20 20:28:09 2007 +0100

    drivers/pci : move pci drivers to drivers/pci

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 9162352817579840d7802da6d85872b3ca003c97
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Thu Nov 22 17:23:23 2007 -0500

    Fix fdt printing for updated libfdt

    Also improve printing (adopt dtc v1 "c style" hex format), whitespace cleanup.

    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>

commit 9eb77cea1fa12d5969eb26a1d1d81da381bd6b1c
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Nov 21 13:30:15 2007 -0600

    Add additional fdt fixup helper functions

    Added the following fdt fixup helpers:
     * do_fixup_by_prop{_u32} - Find matching nodes by property name/value
     * do_fixup_by_compat{_u32} - Find matching nodes by compat

    The _u32 variants work the same only the property they are setting
    is know to be a 32-bit integer instead of a byte buffer.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit ab544633abdd14f4dd5d92e500b73eb59ef57e67
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Nov 21 11:11:03 2007 -0600

    Add fdt_fixup_ethernet helper to set mac addresses

    Added a fixup helper that uses aliases to set mac addresses
    in the device tree based on the bd_t

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit dbaf07ce620aab249e3502b20a986234a6af1d3a
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Nov 21 14:07:46 2007 -0600

    Fix warnings from import of libfdt

    cmd_fdt.c: In function fdt_print:
    cmd_fdt.c:586: warning: assignment discards qualifiers from pointer target type
    cmd_fdt.c:613: warning: assignment discards qualifiers from pointer target type
    cmd_fdt.c:635: warning: assignment discards qualifiers from pointer target type
    cmd_fdt.c:636: warning: assignment discards qualifiers from pointer target type

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 8d04f02f6224e6983f4812ea4da704950ec8539c
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Oct 24 11:04:22 2007 -0500

    Update libfdt from device tree compiler (dtc)

    Update libfdt to commit 8eaf5e358366017aa2e846c5038d1aa19958314e from
    the device tree compiler (dtc) project.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit e93becf80d732b64aef81b23e8b6ece02c40533d
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Sat Nov 3 19:46:28 2007 -0500

    Move do_fixup* for libfdt into common code

    Moved the generic fixup handling code out of cpu/mpc5xxx and cpu/mpc8260
    into common/fdt_support.c and renamed:

    do_fixup()	-> do_fixup_by_path()
    do_fixup_u32()	-> do_fixup_by_path_u32()

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit f738b4a75998f42a7408defadc9baac7a31c92db
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Oct 25 16:15:07 2007 -0500

    Make no options to fdt print default to '/'

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit a3c2933e02503fe36ade2c1b65af46f2b7a168e7
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Oct 24 10:21:57 2007 -0500

    Removed some nonused fdt functions and moved fdt_find_and_setprop out of libfdt

    Removed:
	fdt_node_is_compatible
	fdt_find_node_by_type
	fdt_find_compatible_node

    To ease merge of newer libfdt as we aren't using them anywhere at this time.

    Also moved fdt_find_and_setprop out of libfdt into fdt_support.c for the same
    reason.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 98e2867cc85409b919f862e6c16026461ec955df
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Wed Nov 21 09:19:37 2007 -0700

    [BUILD] Remove libraries when updating autoconf.mk

    Fix library problems caused by conditional compilation.  Using
    autoconf.mk to decide which files to compile has caused a problem when
    changing configuration from one board to another without clearing out
    the library (*.a) files.

    It used to be that the linker was always passed the same list of .o
    files when building the .a files.  However, that is not longer true
    with conditional compilation.  Now, a different board config will have
    a different file list passed to the linker.  The problem occurs when
    a library has already been built and the board config is changed.

    Since the linker will update instead of replace a preexisting library,
    then if the file list changes to remove some object files the old
    objects will still exist in the library.

    The solution is to remove all old library files when autoconf.mk is
    made.

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit ed1353d74b9ce8a7fcd660570b848a184d614b5f
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Nov 21 08:49:50 2007 -0600

    [BUILD] conditionally compile libfdt/*.c in libfdt/Makefile

    Modify libfdt/Makefile to conditionally compile the *.c files based
    on the board config.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 4a43719a7738712811d822ca8125427b27a55cdc
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Mon Sep 24 09:05:31 2007 -0600

    [BUILD] conditionally compile common/cmd_*.c in common/Makefile

    Modify common/Makefile to conditionally compile the cmd_*.c files based
    on the board config.

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 2f155f6c0a1f5e9a306a3f1f4fbe067db7ced3b1
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Mon Sep 24 09:05:31 2007 -0600

    [BUILD] Generate include/autoconf.mk from board config files

    Use cpp and sed to postprocess config.h and import the defined values
    into include/autoconf.mk.  autoconf.mk is then included by config.mk to
    give 'make' access to the board configuration.

    Doing this enables conditional compilation at the Makefile level instead
    of by wrapping every .c file with #ifdef/#endif wrappers.

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 68b88999da87ab88e71e1306192905be3450198e
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Nov 20 15:02:26 2007 -0600

    8610HPCD: Enable the 8610 Display Interface Unit

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 74f89faa9d1e77ed947e628d3effaa513fe05d05
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Nov 20 15:00:53 2007 -0600

    Move 8610 DIU interface structure definitions to header file.

    These two structures are still needed during the
    initialization and setup of the DIU hardware.
    So move them to the fsl_diu_fb.h file for now.
    Official "blah".

    Noticed-by: York Sun <yorksun@freescale.com>
    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 080c646dbf474a109c3f85718fb01ce042a38c45
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Tue Nov 20 20:14:18 2007 +0100

    drivers/i2c : move i2c drivers to drivers/i2c

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 9a337ddc154a10a26f117fd147b009abcdeba75a
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Nov 19 22:20:24 2007 +0100

    Prepare for 1.3.0 release.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit f30ad49b16bf998b03c1a5228b6c86369d61c258
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Mon Nov 19 10:02:13 2007 -0500

    Move CONFIG_QE out of CONFIG_PCI wrap for MPC8568MDS

    CONFIG_QE shouldn't be in the wrap of CONFIG_PCI, fix it.

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>

commit f8c320609366176b31104d9bf5e295232e1c7f1d
Author: Shinya Kuribayashi <shinya.kuribayashi@necel.com>
Date:	Mon Nov 19 11:14:16 2007 +0900

    [MIPS] board/gth2/lowlevel_init.S: Fix a build warning

    lowlevel_init.S: Assembler messages:
    lowlevel_init.S:413: Warning: Pretending global symbol used as branch target is local.

    Looking at codes, the `memtest' and `clearmem' are intentional mixed
    use of `global symbols' and `label' for debugging purpose. To make it
    build, just disable global-symbols-use for now. As a result `memtest'
    still remains as unused, but leave it be...

    Signed-off-by: Shinya Kuribayashi <shinya.kuribayashi@necel.com>

commit e8da58f2bc092891e8cc92b927ed5c4bd0cb0cab
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Nov 19 12:59:14 2007 +0100

    Fix build problems with mp2usb board

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 6bf4c686afca1e86e1c384d59218f914605713bf
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Nov 18 18:36:11 2007 +0100

    s3c24x0: Fix usb_ohci.c missing in Makefile
    and usb_ohci.c warning differ in signedness

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 6073f61e078da5ddb521b56256bcc36508589883
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Nov 18 12:55:02 2007 +0100

    pb1x00 board: Fix u16 status declaration when PCMCIA is defined

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 8412d814ce8bf5570a2b747f1e7fd321097fe987
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Nov 18 17:11:09 2007 +0100

    Fix compiler warnings for ARM systems.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 409ecdc0bb47dd28b0af6c25ffd658d22cc36b37
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Nov 18 16:36:27 2007 +0100

    Fix compiler warnings for PPC systems. Update CHANGELOG.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 653811a3c2b35856bf12e196dcc8c4694e28e420
Author: Stefan Roese <sr@denx.de>
Date:	Sun Nov 18 14:44:44 2007 +0100

    ppc4xx: Correct 405EX PCIe UTL register mapping

    Map 4k mem space for UTL registers for each port.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 079c2c4fa71c0d1ebef394508df9088df8a308d3
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Nov 17 11:31:10 2007 +0100

    Fix warning differ in signedness in net/net.c and net/nfs.c

commit 7e14fc65368cbd2861b1207453da55a4fc7b3f81
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Sat Nov 17 20:42:45 2007 +0900

    gth2.c: Fix a warning on gth2 build.

    gth2.c: In function 'misc_init_r':
    gth2.c:434: warning: pointer targets in passing argument 2 of 'setenv' differ in signedness

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit 2309c130aa4c84b91bd874a41269c923eb61b555
Author: Stefan Roese <sr@denx.de>
Date:	Sat Nov 17 07:58:25 2007 +0100

    Fix warning differ in signedness in common/cmd_scsi.c

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 9ea61b57968554eaf0f474ec7e088b17d367f474
Author: Stefan Roese <sr@denx.de>
Date:	Sat Nov 17 14:52:29 2007 +0100

    ppc4xx: Update AMCC Kilauea config file

    - Use generic GPIO configuration framework (CFG_4xx_GPIO_TABLE)

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 7e1d884b7cb602007329c517ec1c453e3a6a5d9c
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Sat Nov 17 20:05:26 2007 +0900

    [MIPS] cpu/mips/config.mk: Fix GNU assembler minor version picker

    Current trick to pick up GNU assembler minor version does not work with the
    latest binutils (2007-03-01 or later) due to ${PKGVERSION} now default to
    "(GNU Binutils) ".

      $ sde-as --version |grep "GNU assembler"
      GNU assembler 2.15.94 mipssde-6.02.02-20050602
      $ sde-as --version |grep "GNU assembler" |awk '{print $3}'
      2.15.94
      $ sde-as --version |grep "GNU assembler" |awk '{print $3}' |awk -F. '{print $2}'
      15
      $

      $ mips-linux-as --version |grep "GNU assembler"
      GNU assembler (GNU Binutils) 2.18
      $ mips-linux-as --version |grep "GNU assembler" |awk '{print $3}'
      (GNU
      $ mips-linux-as --version |grep "GNU assembler" |awk '{print $3}' |awk -F. '{print $2}'
      (no output)
      $

    As a result of above, you'll see many noises with such binutils:

      make -C cpu/mips/
      /bin/sh: line 0: [: : integer expression expected
      /bin/sh: line 0: [: : integer expression expected
      make[1]: Entering directory `/home/skuribay/devel/u-boot.git/cpu/mips'
      mips-linux-gcc  -D__ASSEMBLY__ -g  -Os   -D__KERNEL__ -DTEXT_BASE=0xB0000000  -I/home/skuribay/devel/u-boot.git/include -fno-builtin -ffreestanding -nostdinc -isystem /home/skuribay/devel/buildroot/build_mips/staging_dir/usr/bin/../lib/gcc/mips-linux-uclibc/4.2.1/include -pipe  -DCONFIG_MIPS -D__MIPS__ -G 0 -mabicalls -fpic -pipe -msoft-float -march=4kc -mtune=4kc -EB -c -o incaip_wdt.o incaip_wdt.S
      /bin/sh: line 0: [: : integer expression expected
      mips-linux-gcc  -D__ASSEMBLY__ -g  -Os   -D__KERNEL__ -DTEXT_BASE=0xB0000000  -I/home/skuribay/devel/u-boot.git/include -fno-builtin -ffreestanding -nostdinc -isystem /home/skuribay/devel/buildroot/build_mips/staging_dir/usr/bin/../lib/gcc/mips-linux-uclibc/4.2.1/include -pipe  -DCONFIG_MIPS -D__MIPS__ -G 0 -mabicalls -fpic -pipe -msoft-float -march=4kc -mtune=4kc -EB -c -o cache.o cache.S
      /bin/sh: line 0: [: : integer expression expected
      mips-linux-gcc -g  -Os   -D__KERNEL__ -DTEXT_BASE=0xB0000000  -I/home/skuribay/devel/u-boot.git/include -fno-builtin -ffreestanding -nostdinc -isystem /home/skuribay/devel/buildroot/build_mips/staging_dir/usr/bin/../lib/gcc/mips-linux-uclibc/4.2.1/include -pipe  -DCONFIG_MIPS -D__MIPS__ -G 0 -mabicalls -fpic -pipe -msoft-float -march=4kc -mtune=4kc -EB -Wall -Wstrict-prototypes -c -o asc_serial.o asc_serial.c
      /bin/sh: line 0: [: : integer expression expected

    This patch simplifies the trick and makes it work with both versions of gas.
    I also replace an expensive `awk (or gawk)' with `cut'.

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit 16664f72850846e645616da1c0fa5afcd6d15f15
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Sat Nov 17 20:05:26 2007 +0900

    [MIPS] Remove useless instructions for initializing $gp.

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit 03c031d5660ea946c39af6e2e16267da857c609f
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Sat Oct 27 15:27:06 2007 +0900

    [MIPS] MIPS 4K core: Coding style cleanups

    No logical changes.

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit f5e429d3860bba4c6ae8bead8f78349fa24491b2
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Sat Nov 17 20:05:20 2007 +0900

    [MIPS] gth2.c: Fix a warning on gth2 build.

    gth2.c: In function 'misc_init_r':
    gth2.c:434: warning: pointer targets in passing argument 2 of 'setenv' differ in signedness

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit 4fbd0741b2b6441da10be93e10267122581b7079
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Sat Oct 27 15:22:33 2007 +0900

    [MIPS] au1x00_eth.c: Fixed a warning on pb1000 build.

    au1x00_eth.c: In function 'au1x00_miiphy_write':
    au1x00_eth.c:139: warning: 'return' with no value, in function returning non-void

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit f01320459736f156707425cf8112f98606301aa4
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Sat Oct 27 15:00:25 2007 +0900

    [MIPS] au1x00_eth.c: Fix au1x00_miiphy_{read,write} build error

    au1x00_eth.c: In function 'au1x00_enet_initialize':
    au1x00_eth.c:246: error: 'au1x00_miiphy_read' undeclared (first use in this function)
    au1x00_eth.c:246: error: (Each undeclared identifier is reported only once
    au1x00_eth.c:246: error: for each function it appears in.)
    au1x00_eth.c:246: error: 'au1x00_miiphy_write' undeclared (first use in this function)
    au1x00_eth.c: In function 'au1x00_miiphy_write':
    au1x00_eth.c:298: warning: 'return' with no value, in function returning non-void
    make[1]: *** [au1x00_eth.o] Error 1

    Fixed by moving these two functions forward.

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit b09258c5393edd1087c5f39ae68338f16b49f8b3
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Sat Oct 27 15:00:25 2007 +0900

    MAKEALL: Added missing pb1000 board

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit 2e4a6e3667a1e39c0e6e99498686b15d2718b369
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Sat Oct 27 15:00:24 2007 +0900

    [MIPS] pb1000: Replace obsolete memsetup.S with lowlevel_init.S

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit 662e5cb397249c3ea88a4c3255e9ccfc40b98d82
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Sat Oct 27 15:00:24 2007 +0900

    [MIPS] u-boot.lds: Cleanup __u_boot_cmd_{start,end}

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit 5947f6999aafa7c54c1390983d264a8463dfea8e
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Nov 17 02:34:38 2007 +0100

    Update CHANGELOIG, prepare for -rc4

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit fd329e6f05bbdfe6bd71b0e09f0c76d3b0a025a5
Author: Luotao Fu <l.fu@pengutronix.de>
Date:	Wed Nov 14 18:58:33 2007 +0100

    Fix the i2c frequency and default address in rsdproto board

    rsdproto board support has wrong I2C frequency and wrong return value
    handling.

    Signed-off-by: Luotao Fu <l.fu@pengutronix.de>

commit 429c180edad038f91c989cb14b478228092e7054
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Nov 17 01:45:38 2007 +0100

    powerpc: Backout relocation changes for MPC5121, too.

    Apply Grant Likely's backout to MPC5121 code, too.

    Pointed out by Rafal Jaworowski <raj@semihalf.com>

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 1c3dd43338a077165e7e0309cb3994e65d2bdbf8
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Nov 13 22:18:33 2007 -0700

    powerpc: Backout relocation changes.

    Ugh.  I *hate* to back this change out, but these compiler flags don't
    work for relocation on all versions of GCC.  I've not been able to
    reproduce the environment in my setup (and hence, not been able to
    find a combination that *does* work), so I've got no choice but to go
    back to the old gcc flags and linker script.

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 5c15010efad980ad5498cc565fc1ed70df2f52b4
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Tue Nov 13 09:11:05 2007 +0100

    Fixed mips_io_port_base build errors.

    This patch has been sent on:
    - 29 Sep 2007

    Although mips_io_port_base is currently a part of IDE command, it is quite
    fundamental for MIPS I/O port access such as in[bwl] and out[bwl]. So move
    it to MIPS general part, and introduce `set_io_port_base()' from Linux.

    This patch is triggered by multiple definition of `mips_io_port_base' build
    error on gth2 (and tb0229 also needs this fix.)

    board/gth2/libgth2.a(gth2.o): In function `log_serial_char':
    /home/skuribay/devel/u-boot.git/board/gth2/gth2.c:47: multiple definition of `mips_io_port_base'
    common/libcommon.a(cmd_ide.o):/home/skuribay/devel/u-boot.git/common/cmd_ide.c:712: first defined here
    make: *** [u-boot] Error 1

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 6ecbb7a3fa9b0940ed33e490d195d4b6830b2422
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Nov 17 01:30:40 2007 +0100

    Fix a bug in the slave serial programming mode for the Xilinx
    Spartan2/3 FPGAs. The old code used "< 0" on a "char" type to test if
    the most significant bit was set, which did not work on any
    architecture where "char" defaulted to be an unsigned type.

    Based on a patch by Angelos Manousaridis <amanous@inaccessnetworks.com>

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit d08b7233bc252faad8339e7ca0ddfd62fa79903c
Author: Jon Loeliger <jdl@freescale.com>
Date:	Thu Nov 1 12:23:29 2007 -0500

    86xx: Fix broken variable reference when #def DEBUGing.

    Sometimes you can't reference the DDR2 controller variables.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit f9d9164d9c6b5a7f0393fd8d7e246b8a0326bc19
Author: Jason Jin <Jason.jin@freescale.com>
Date:	Fri Oct 26 18:32:00 2007 +0800

    make 8610 board use pixis reset

    Signed-off-by: Jason Jin <Jason.jin@freescale.com>

commit db74b3c1c9481a6bffbf8cd445e5bcbf6908e836
Author: Jason Jin <Jason.jin@freescale.com>
Date:	Mon Oct 29 19:26:21 2007 +0800

    Unify pixis_reset altbank across board families

    Basically, refactor the CFG_PIXIS_VBOOT_MASK values
    into the separate board config files.

    Signed-off-by: Jason Jin <Jason.jin@freescale.com>
    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 64bf555465c7926be13e1046ac0d0f05ac72829c
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Nov 7 08:19:21 2007 +0100

    Fix warning: pointer targets in assignment differ in signedness

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 7a60ee7c6248a958c5757d3660a1702723a2786d
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Nov 7 08:19:19 2007 +0100

    Fix warning differ in signedness in common/cmd_ide.c

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit f31d38b9eea9b32f6a1ac848a298cc71ca4c9a03
Author: Stefan Roese <sr@denx.de>
Date:	Fri Nov 16 14:16:54 2007 +0100

    ppc4xx: Enable 405EX PCIe UTL register configuration

    Till now the UTL registers on 405EX were not initialized but left with
    their default values. This patch new initializes some of the UTL
    registers on 405EX.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit ecdcbd4f8c1f8cefd785752f4e7536aae2a4ecf9
Author: Stefan Roese <sr@denx.de>
Date:	Fri Nov 16 14:00:59 2007 +0100

    ppc4xx: Update AMCC Makalu for board rev 1.1

    This patch adds changes needed for Makalu rev 1.1:

    - Enable 2nd DDR2 bank resulting in 256MByte of SDRAM
    - Enable 2nd ethernet port EMAC1
    - Use generic GPIO configuration framework (CFG_4xx_GPIO_TABLE)
    - Reset PCIe ports via GPIO upon bootup

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 4d4faae65e115e327425cd514c1a35146a85166b
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Mon Sep 24 09:05:31 2007 -0600

    Group PCI and PCMCIA drivers in drivers/Makefile

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 5798f87dc10a496d79d3177b9f5a76488987fd35
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Mon Sep 24 09:05:31 2007 -0600

    Group block/flash drivers in drivers/Makefile

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit df58c81551700f058b44cacf55a7997fa63bfe0a
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Mon Sep 24 09:05:31 2007 -0600

    Group USB drivers in drivers/Makefile

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 5dbb6ed622e539b0c8493ef7e578d3a533181d29
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Mon Sep 24 09:05:30 2007 -0600

    Group i2c drivers in drivers/Makefile

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit ec00c76de0e5971273905998d62d6bb119324218
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Mon Sep 24 09:05:30 2007 -0600

    Group console drivers in drivers/Makefile

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 754f230aa01b8c789fc31f8013c2487954073300
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Mon Sep 24 09:05:30 2007 -0600

    Group network drivers in drivers/Makefile

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit f0037c56b0d12cd46215124667b9f83d60ef9391
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Mon Sep 24 09:05:30 2007 -0600

    Build: split COBJS value into multiple lines

    This change is in preparation for condtitionial compile support in the
    build system.  By spliting them all into seperate lines now, subsequent
    patches that change 'COBJS-y += ' into 'COBJS-$(CONFIG_<blah>) += ' will
    be less invasive and easier to review

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 1b4aaffe4fb2a5e95d9111a5d94fd1f89215dce4
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Mon Sep 24 09:05:30 2007 -0600

    Add .gitignore files

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>
    Acked-by: Kim Phillips <kim.phillips@freescale.com>

commit 955413f35f054a82e40042f1dbcf501c6a05719b
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Thu Nov 15 08:27:52 2007 -0700

    Revert "Correct relocation fixup for mpc5xx"

    This reverts commit 3649cd99ba815b6601868735765602f00ef3692b.
    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit e15633888a058aacb31a62d2cf1278e1e4c236ab
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Thu Nov 15 08:24:32 2007 -0700

    Revert "Correct fixup relocation for MPC5xxx"

    This reverts commit 6f7576b20ecf0d040c3ac3b032b5cbc860e38a90.
    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 139365fbe566d0fc619a1ed04452ec5388f0cef8
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Thu Nov 15 08:21:04 2007 -0700

    Revert "Correct fixup relocation for mpc8220"

    This reverts commit a85dd254c0577fca13627c46e93fc2ad4c4f1f00.
    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 70922342369e5e39b286fe21e768a239ca07a514
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Thu Nov 15 08:20:57 2007 -0700

    Revert "Correct fixup relocation for mpc824x"

    This reverts commit f3a52fe05923935db86985daf9438e2f70ac39aa.
    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 96279ab4cad60cb5972aa934fbe4845ac02cc75a
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Thu Nov 15 08:20:50 2007 -0700

    Revert "Correct fixup relocation for mpc8260"

    This reverts commit 5af61b2f4b838a05f79be274f3e5a66edd2d9c96.
    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 928fe33b24cdf382a8dc8687fed24b1961cdb5d6
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Thu Nov 15 08:20:43 2007 -0700

    Revert "Correct fixup relocation for mpc83xx"

    This reverts commit 057004f4a4863554d56cc56268bfa7c7d9738e27.
    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit c93945e8f9e300860d2bf73a2549ce5794f8bd00
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Thu Nov 15 08:20:25 2007 -0700

    Revert "[MPC512x] Correct fixup relocation"

    This reverts commit 8d17979d0359492a822a0a409d26e3a3549b4cd4.
    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit c9672f81f1bdb4e8ddf62aa72ca0206e8b72aa1c
Author: Stefan Roese <sr@denx.de>
Date:	Thu Nov 15 14:25:09 2007 +0100

    ppc4xx: Small AMCC Kilauea cleanup

    Remove not needed pci_target_init() function.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit aee747f19b460a0e9da20ff21e90fdaac1cec359
Author: Stefan Roese <sr@denx.de>
Date:	Thu Nov 15 14:23:55 2007 +0100

    ppc4xx: Enable 440 GPIO init table CFG_440_GPIO_TABLE for 405 platforms

    - Rename CFG_440_GPIO_TABLE to CFG_4xx_GPIO_TABLE
    - Cleanup of the 4xx GPIO functions
    - Move some GPIO defines from the cpu headers ppc405.h/ppc440.h into gpio.h

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 8ada0ebf38e4073beea0309188b25d82a112a2ae
Author: Stefan Roese <sr@denx.de>
Date:	Thu Nov 15 14:20:08 2007 +0100

    ppc4xx: AMCC Taihu board config file cleanup

    This patch makes the AMCC Taihu a little more compatible to the other
    AMCC eval boards.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 5e71c51d74c963d3174060c078dcacf13bdd02ef
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Thu Nov 15 13:37:28 2007 +0100

    [INKA4x0] NG hardware: flash support

    Disabled and remove inka4x0 custom flash driver, use CFI flash
    driver instead.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 5fb6d7191e206cdde0e23140fd8111caed93a595
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Thu Nov 15 13:29:55 2007 +0100

    [INKA4x0] NG hardware: SDRAM support

    Add support for three new DDR chips that may  be present on a NG
    INKA4x0 hardware: HYB25D512160BF-5, K4H511638C-7CB3, T46V32M16BN-6IT.

    Cleanup board/inka4x0/mt48lc16m16a2-75.h file.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit f23cb34c367bb27585a4fdb8a75277370e7d0596
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Thu Nov 15 13:24:43 2007 +0100

    [INKA4x0] NG hardware: platform code update

    - Cleanup compile warnings.
    - Add missing '\0' in default environment.
    - Increase CFG_MONITOR_LEN to 256 KiB.
    - Add required CFG_USE_PPCENV.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 2ae64f5135e51bb18753884d1265b99e89b5aedd
Author: Peter Pearse <peter.pearse@arm.com>
Date:	Thu Nov 15 08:58:00 2007 +0000

    Remove warnings re CONFIG_EXTRA_ENV_SETTINGS
    Remove warnings re onenand_read() & write()

commit 2db916e14410e3ec1738508c7bf4dfeb2b299ae7
Author: Peter Pearse <peter.pearse@arm.com>
Date:	Thu Nov 15 08:45:13 2007 +0000

    Correction patch

commit 1d8a49eca1c7bdc8db1c47a92f9014a29ead03ae
Author: Roy Zang <tie-fei.zang@freescale.com>
Date:	Thu Sep 13 18:52:28 2007 +0800

    Enable ULi1575 Ethernet support in 8610HPCD config

    Signed-off-by: Roy Zang <tie-fei.zang@freescale.com>
    Acked-by: Jon Loeliger <jdl@freescale.com>

commit 54fd6c93c28a0a45352fff5dd92673401ff563f2
Author: Stefan Roese <sr@denx.de>
Date:	Tue Nov 13 08:18:20 2007 +0100

    ppc4xx: lwmon5: Change PHY reset sequence for PHY MDIO address latching

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 7d0a4066b5a6b698e5fc1b66cfe9705774bbce93
Author: Stefan Roese <sr@denx.de>
Date:	Tue Nov 13 08:06:11 2007 +0100

    ppc4xx: Fix 405EX PCIe UTLSET register setup

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 1ce55151c85d068f70317a8d65c61058b891afb4
Author: Heiko Schocher <hs@denx.de>
Date:	Tue Nov 13 07:50:29 2007 +0100

    [UC101] SRAM now with 2 MB working.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 2d14684341109a69616e4d6016cd61402d55086f
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Fri Nov 9 15:37:53 2007 +0100

    ppc4xx: Use generic usb-ohci driver for sequoia board

    This patch makes the sequoia board use the generic usb-ohci driver
    instead of cpu/ppc4xx/usb_ohci.c.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 9be659ac0868dc367caa957c5c725e46b07f6a5f
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Fri Nov 9 15:37:23 2007 +0100

    ppc4xx: Make USB working with CONFIG_4xx_DCACHE defined

    This patch disables the 44x d-cache on 'usb start' and
    reenables it on 'usb stop'. This should be seen as a
    temporary fix until the generic usb-ohci driver can
    life with d-cache enabled.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit fbde2169d2c48fcc9ff03489534a78ffb0a8a0d4
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Fri Nov 9 15:36:44 2007 +0100

    ppc4xx: Remove redundant code from 4xx network driver

    This patch removes some redundant code and decrements the end
    address of cache flush and invalidate by 1.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 5ca9881aad8c413ac2a82868a5e3719178254502
Author: Peter Pearse <peter.pearse@arm.com>
Date:	Fri Nov 9 15:24:26 2007 +0000

    Add apollon board support
    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>

commit b53313dbfc74525d85f1e7e0102f902d5c863beb
Author: Stefan Roese <sr@denx.de>
Date:	Fri Nov 9 12:19:58 2007 +0100

    ppc4xx: Remove In:/Out:/Err: boot output for AMCC Kilauea

    Signed-off-by: Stefan Roese <sr@denx.de>

commit c7f69c340277935a6c19a956421852da944a365f
Author: Stefan Roese <sr@denx.de>
Date:	Fri Nov 9 12:18:54 2007 +0100

    ppc4xx: Make output a little shorter on I2C bootrom detection

    Most 4xx PPC capable of using an I2C bootrom for bootstrap setting
    already print a line with the information which I2C bootrom is
    used for bootstrap configuration. So we don't need this extra line
    with "I2C boot EEPROM en-/dis-abled".

    This patch also has a little code cleanup integrated.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 8d737a28152ec12873f8544cca1fb39a49e5e693
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Nov 8 12:50:18 2007 -0600

    ColdFire: MCF5329 - Remove reset registers from CCM

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 7d7cdea769a60b0a6e4c18bef7f9d648fd14b8d7
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Nov 8 12:31:11 2007 -0600

    ColdFire: MCF5329 - Add Reset structure to immap_5329.h

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 09b26cf00d76d75fdf7fdc4b13e4dd929743bc21
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Nov 8 12:19:01 2007 -0600

    ColdFire: MCF5329 - revert include/asm-m68k/m5329.h file mode

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 225a24b5e062ad94627424508ae814f51dbe1a34
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Nov 7 18:00:54 2007 -0600

    ColdFire: MCF5445x - Update correct RAMBAR and missing linker files

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 248c7c14835f34d5d910b45e5600050e58ca6cab
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Nov 7 17:56:15 2007 -0600

    ColdFire: MCF532x - Update do_reset() using core reset

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit d9240a5f827eb3b476a6ba2938d01f1a9e7688f4
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Nov 7 17:51:00 2007 -0600

    ColdFire: Update cpu flag for 4.2-xx compiler

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 070ba56115b4da63b46e974287fa4550d4023386
Author: York Sun <yorksun@freescale.com>
Date:	Wed Oct 31 14:59:04 2007 -0500

    8610: Add console frame buffer support to FSL 8610 DIU driver.

    Add cfb console support to FSL 8610 DIU driver.
    Inspect board version from PIXIS to obtain correct pixel format.

    Use #define CONFIG_VIDEO in config file to enable fb console.

    To switch monitor, set monitor variable to
    0 - DVI, 1 - Single link LVDS, 2 - Double link LVDS
    followed by "diufb init".

    Preserve logo bitmap at the top of the fb console.

    Signed-off-by: York Sun <yorksun@freescale.com>
    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit a877880c6949e948bd63cd6ea4e216573d2f53dd
Author: York Sun <yorksun@freescale.com>
Date:	Mon Oct 29 13:58:39 2007 -0500

    8610: Add 8610 DIU display driver

    1280x1024 and 1024x768 @ 32 bpp are supported now.
    DVI, Single-link LVDS, Double-link LVDS are all supported.

    Environmental variable "monitor" is used to specify monitor port.

    A new command "diufb" is introduced to reinitialize monitor
    and display a BMP file in the memory. So far, 1-bit, 4-bit,
    8-bit and 24-bit BMP formats are supported.

	diufb init
	    - initialize the diu driver
	Enable the port specified in the environmental variable "monitor"

	diufb addr
	    - display bmp file in memory.
	The bmp image should be no bigger than the resolution, 1280x1024
	for DVI and double-link LVDS, 1024x768 for single-link LVDS.

    Note, this driver allocate memory but doesn't free it after use
    It is written on purpose -- to avoid a failure of reallocation
    due to memory fragement.

    ECC of DDR is disabled for DIU performance. L2 data cache is also disabled.

    Signed-off-by: York Sun <yorksun@freescale.com>
    Signed-off-by: Jon loeliger <jdl@freescale.com>

commit 52e5ddfecdda308f75782fae206b677b1810f5f9
Author: York Sun <yorksun@freescale.com>
Date:	Wed Oct 31 10:43:59 2007 -0500

    FSL: Add a freescale bitmap logo.

    This Freescale logo is a 340 x 128 x 4bpp BMP file
    that can be displayed by the DIU Framebuffer driver.

    Signed-off-by: York Sun <yorksun@freescale.com>
    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 1815338fbd1c0f94f8276d2891b99caa5a05f622
Author: York Sun <yorksun@freescale.com>
Date:	Mon Oct 29 13:57:53 2007 -0500

    8610: Make some extra debug environment variables conditional.

    One may #define ENV_DEBUG to get them back again.

    Signed-off-by: York Sun <yorksun@freescale.com>

commit 761421ccca80a9fb37b19c37aa61d46ef75e0647
Author: Jason Jin <Jason.jin@freescale.com>
Date:	Mon Oct 29 19:26:21 2007 +0800

    8610: Actually enable pixis_reset CONFIGs

    Signed-off-by: Jason Jin <Jason.jin@freescale.com>

commit f3bceaab230b4748d0afc4109b6837308f018b40
Author: Jason Jin <Jason.jin@freescale.com>
Date:	Fri Oct 26 18:31:59 2007 +0800

    Fix the BAT definition of PCI IO on 8610 board

    The address in the BAT register is aligned with the BAT size.
    The original definition actually did not define BAT for PCIE2 IO.
    This patch fix this.

    Signed-off-by: Jason Jin <Jason.jin@freescale.com>

commit 9f23ca334a6f5f021ef9e9d0fad9da80d63b2d56
Author: Jason Jin <Jason.jin@freescale.com>
Date:	Mon Oct 29 19:26:21 2007 +0800

    Unify pixis_reset altbank across board families

    Basically, refactor the CFG_PIXIS_VBOOT_MASK values
    into the separate board config files.

    Signed-off-by: Jason Jin <Jason.jin@freescale.com>
    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit a8318ec205c8e8794b5f9f1b8584abadb440e8ba
Author: Jason Jin <Jason.jin@freescale.com>
Date:	Fri Oct 26 18:32:00 2007 +0800

    make 8610 board use pixis reset

    Signed-off-by: Jason Jin <Jason.jin@freescale.com>

commit 9c84709eedce9c680dd695984ab7d2328f4f04f5
Author: Jon Loeliger <jdl@freescale.com>
Date:	Thu Nov 1 12:23:29 2007 -0500

    86xx: Fix broken variable reference when #def DEBUGing.

    Sometimes you can't reference the DDR2 controller variables.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 1f103105a3746ab12279b63b8c1d372c0ce2cc58
Author: Roy Zang <tie-fei.zang@freescale.com>
Date:	Mon Nov 5 17:39:24 2007 +0800

    Implement general ULi 526x Ethernet driver support in U-boot

    This patch implements general ULi 526x Ethernet driver.
    Until now, it is the only native Ethernet port on
    MPC8610HPCD board, but it could be used on other boards
    with ULi 526x Ethernet port as well.

    Signed-off-by: Roy Zang <tie-fei.zang@freescale.com>
    Signed-off-by: Zhang Wei <wei.zhang@freescale.com>
    Acked-by: Jon Loeliger <jdl@freescale.com>
    Signed-off-by: Ben Warren <bwarren@qstreams.com>

commit 71bc6e6474fea8ef481b9b45d1edd7ad1f6dfbbd
Author: Larry Johnson <lrj@arlinx.com>
Date:	Thu Nov 1 08:46:50 2007 -0500

    NET: Add Ethernet 1000BASE-X support for PPC4xx

    This patch adds support for 1000BASE-X to functions "miiphy_speed ()" and
    "miiphy_duplex()".	It also adds function "miiphy_is_1000base_x ()", which
    returns non-zero iff the PHY registers are configured for 1000BASE-X.  The
    "mii info" command is modified to distinguish between 1000BASE-T and -X.

    Signed-off-by: Larry Johnson <lrj@acm.org>
    Signed-off-by: Ben Warren <bwarren@qstreams.com>

commit 298035df4948b113d29ac0e694717d34b95bc5dc
Author: Larry Johnson <lrj@arlinx.com>
Date:	Wed Oct 31 11:21:29 2007 -0500

    NET: Cosmetic changes

    Signed-off-by: Larry Johnson <lrj@acm.org>
    Signed-off-by: Ben Warren <bwarren@qstreams.com>

commit 654f38b3a387886996a5a75771fbfc29cb4f225e
Author: Stefan Roese <sr@denx.de>
Date:	Mon Nov 5 07:43:05 2007 +0100

    ppc4xx: Make output a little shorter on PCIe detection

    Now not max 3 lines but 2 lines are printed per PCIe port.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 992742a5b09d9040adbd156fb90756af66ade310
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Nov 3 23:09:27 2007 +0100

    Cleanup coding style; update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit e881cb563e32f45832b7b6db77bdcd017adcbb41
Author: Bruce Adler <bruce.adler@ccpu.com>
Date:	Fri Nov 2 13:15:42 2007 -0700

    fix wording in README

    Changed the wording to properly describe the shadowing
    of the environment from ROM to RAM

    Signed-off-by: Bruce Adler <bruce.adler@acm.org>

commit ad845beef06245426c57b53dcdc01b7dc70e0d45
Author: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>
Date:	Wed Oct 31 02:18:15 2007 +0900

    blackfin: Move `-D__BLACKFIN__' to $(ARCH)_config.mk

    Signed-off-by: Shinya Kuribayashi <skuribay@ruby.dti.ne.jp>

commit ec22755799466c8a103664bb3a5e647bf9c238f4
Author: Vlad Lungu <vlad@comsys.ro>
Date:	Thu Oct 25 16:08:14 2007 +0300

    Trimmed some variables in ne2000.c

    Signed-off-by: Vlad Lungu <vlad@comsys.ro>

commit eb6f214d3644b2a77968c176ed36dcf858cfe7e0
Author: Zhang Wei <wei.zhang@freescale.com>
Date:	Thu Oct 25 17:51:27 2007 +0800

    Fix the issue of usb_kbd driver missing the scan code of key 'z'.

    The scan code of the key 'z' is 0x1d, which should be handled.

    The change has be tested on NOVATEK USB keyboard and ULI PCI OHCI
    controller.

    Signed-off-by: Zhang Wei <wei.zhang@freescale.com>

commit bbf4796f6498fbade56d56eff3a0a49b299d93e5
Author: Zhang Wei <wei.zhang@freescale.com>
Date:	Thu Oct 25 17:30:04 2007 +0800

    Fix USB support issue for MPC8641HPCN board.

    The configuration file has already enabled USB, but it
    missed definition of CFG_OHCI_SWAP_REG_ACCESS, the USB
    on MPC8641HPCN can not work because of the wrong USB
    register endian.

    And add the USB command to U-Boot commands list.

    Signed-off-by: Zhang Wei <wei.zhang@freescale.com>

commit 4e62041023dc3de9d98d977bb080235bc6d035e0
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Wed Oct 24 18:16:01 2007 +0200

    Use config_cmd_default.h instead of config_cmd_all.h

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 56622f87857439b1c221e9deef11a9d5bb5d4308
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Wed Oct 24 01:37:36 2007 +0200

    TQM5200: Call usb_cpu_init() during board init

    usb_cpu_init() configures GPS USB pins, clocks, etc. and
    is required for proper operation of kernel USB subsystem.
    This setup was previously done in the kernel by the fixup
    code which is being removed, thus low level init must be
    done by U-boot now.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 29c29c0267fe857e72014ce90c5d35b2ef6302bd
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Tue Oct 23 16:25:50 2007 +0200

    Fix typo in nfs.c

    An obvious typo. Originally fixed in linkstation u-boot port.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit 59543fe00a4ce720ef9f5aa7fb387c6daf1c7d78
Author: Guennadi Liakhovetski <lg@denx.de>
Date:	Tue Oct 23 14:35:05 2007 +0200

    Fix a typo in cpu/mpc824x/interrupts.c

    Since December 2003 the timer_interrupt_cpu() function in
    cpu/mpc824x/interrupts.c contains what seems to be a superfluous
    parameter. Remove it.

    Signed-off-by: Guennadi Liakhovetski <lg@denx.de>

commit c9e7b9b9a1700fe009678d1f9b41e6364ac5df2d
Author: Sergej Stepanov <Sergej.Stepanov@ids.de>
Date:	Wed Oct 17 11:13:51 2007 +0200

    add ft_cpu_setup(..) on mpc8260

    Add ft_cpu_setup(..)-function to adapt it for use with libfdt
    based on code from mpc5xxx

    Sigend-off-by: Sergej Stepanov <Sergej.Stepanov@ids.de>
    --

commit 6abd82e19ae93c0b4d104e50165e235915ec0875
Author: Sergej Stepanov <Sergej.Stepanov@ids.de>
Date:	Wed Oct 17 11:18:42 2007 +0200

    changes for IDS8247 board support

    To get the IDS8247 board working following are done:
     - FCC2 is deactivated
     - FCC1 is activated
     - I2C is activated
     - CFI driver is activated
     - Adapted for use with LIBFDT

    Signed-off-by: Sergej Stepanov <Sergej.Stepanov@ids.de>
    --

commit 3d6cb3b24add6415f86a0f013ea40f5639b90047
Author: Stefan Roese <sr@denx.de>
Date:	Sat Nov 3 12:08:28 2007 +0100

    ppc4xx: Add AMCC Kilauea/Haleakala NAND booting support

    This patch adds NAND booting support for the AMCC 405EX(r) eval boards.
    Again, only one image supports both targets.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 8b6684a698500be9c142ec2c9f46cfc348e17f0c
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Wed Oct 24 15:48:37 2007 +0200

    ATSTK1002: Remove default ethernet addresses

    Wolfgang is right: It's not a good idea to set up default initial
    ethernet addresses for a board, even though they belong to the local
    range.

    This will change the failure mode from "IT manager screams at you for
    using duplicate ethernet addresses" to a nice error message explaining
    that the ethernet address hasn't been set properly.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit e5c794e491a57d829b6d8733e2ed8368a2269abf
Author: Justin Flammia <jflammia@savantav.com>
Date:	Mon Oct 29 17:40:35 2007 -0400

    DHCP Client Fix

    This is a multi-part message in MIME format.

    commit e6e505eae94ed721e123e177489291fc4544b7b8
    Author: Justin Flammia <jflammia@savantav.com>
    Date:   Mon Oct 29 17:19:03 2007 -0400

	Found a bug in the way the DHCP Request packet is built, where the IP address
	that is offered by the server is bound to prematurely. This patch is a fix of
	that bug where the IP address offered by the DHCP server is not used until
	after the DHCP ACK from the server is received.

    Signed-off-by: Justin Flammia <jflammia@savantav.com>
    Signed-off-by: Ben Warren <bwarren@qstreams.com>

commit 5d96d40d3f36da33348e68f9ea993f383e11f997
Author: Stefan Roese <sr@denx.de>
Date:	Wed Oct 31 20:58:34 2007 +0100

    ppc4xx: Fix acadia_nand build problem

    Since the cache handling functions were moved from start.S into cache.S
    the acadia NAND booting Makfile needs to be adapted accordingly.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit ea2e142843533ca593fcb5cb3e1daf1b7f5e5949
Author: Stefan Roese <sr@denx.de>
Date:	Wed Oct 31 20:57:11 2007 +0100

    ppc4xx: Add CONFIG_4xx_DCACHE compile options to enable cached SDRAM

    This patch adds the CONFIG_4xx_DCACHE options to some SDRAM init files
    and to the Sequoia TLB init code. Now the cache can be enabled on 44x
    boards by defining CONFIG_4xx_DCACHE in the board config file. This
    option will disappear, when more boards use is successfully and no
    more known problems exist.

    This is tested successfully on Sequoia and Katmai. The only problem that
    needs to be fixed is, that USB is not working on Sequoia right now, since
    it will need some cache handling code too, similar to the 4xx EMAC driver.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 3db93b8bedd32e914b38976141b3fdf4ea3ff738
Author: Stefan Roese <sr@denx.de>
Date:	Wed Oct 31 20:51:10 2007 +0100

    ppc4xx: Enable CPU POST test for 4xx with dcache enabled

    Now with caches enabled (i- and d-cache) on 44x, we need a chance to
    disable the cache for the CPU POST tests, since these tests consist
    of self modifying code. This is done via the new change_tlb() function.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit f71b2888b4b3c870909a0341427b2a914246f81f
Author: Stefan Roese <sr@denx.de>
Date:	Wed Oct 31 20:47:26 2007 +0100

    ppc4xx: Change 4xx POST ethernet test to handle cached memory too

    This patch enables the 4xx EMAC POST driver to work too, when dcache is
    enabled.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit a2685904061b35a17583d65fe47cdc2686a69eaa
Author: Stefan Roese <sr@denx.de>
Date:	Wed Oct 31 20:45:53 2007 +0100

    ppc4xx: Remove temporary TLB entry in POST cache test only for 440

    Signed-off-by: Stefan Roese <sr@denx.de>

commit ff768cb168d8157c24a25016dbfbeb465e47f420
Author: Stefan Roese <sr@denx.de>
Date:	Wed Oct 31 18:01:24 2007 +0100

    ppc4xx: Change 4xx ethernet driver to handle cached memory too

    This patch enables the 4xx EMAC driver to work too, when dcache is
    enabled.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 483e09a223c666269ef81d3573a6591b1046b0ef
Author: Stefan Roese <sr@denx.de>
Date:	Wed Oct 31 17:59:22 2007 +0100

    ppc4xx: Add change_tlb function to modify I attribute of TLB(s)

    This function is used to either turn cache on or off in a specific
    memory area.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit d25dfe08fbd1220cb994e7e6b105049aa9aa8e79
Author: Stefan Roese <sr@denx.de>
Date:	Wed Oct 31 17:57:52 2007 +0100

    ppc4xx: Remove cache definition from 4xx board config files

    All 4xx board config files don't need the cache definitions anymore.
    These are now defined in common headers.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 9b94ac61d2176185c30adf0793e079ec30e68687
Author: Stefan Roese <sr@denx.de>
Date:	Wed Oct 31 17:55:58 2007 +0100

    ppc4xx: Rework 4xx cache support

    New cache handling functions added and all existing functions
    moved from start.S into seperate cache.S.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 06713773da4ac3d390c63d82641eb553224b27c2
Author: Stefan Roese <sr@denx.de>
Date:	Tue Oct 23 18:03:12 2007 +0200

    ppc4xx: Remove compiler warning from previous commit

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 6fa397df67c0f269e4528bf181a6e8c88f9723f9
Author: Stefan Roese <sr@denx.de>
Date:	Tue Oct 23 14:40:30 2007 +0200

    ppc4xx: Remove temporary TLB entry in POST cache test

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 1338e6a81834099ba19733b69aafd8ef5f098094
Author: Stefan Roese <sr@denx.de>
Date:	Tue Oct 23 14:05:08 2007 +0200

    ppc4xx: Change autonegotiation timeout from 4 to 5 seconds

    I lately noticed, that newer 4xx board with GBit support sometimes don't
    finish link autonegotiation in 4 seconds. Changing this timeout to 5
    seconds seems fine here.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 2d83476a4c1c9911d158a3f8a4312d354bc1bdb7
Author: Stefan Roese <sr@denx.de>
Date:	Tue Oct 23 14:03:17 2007 +0200

    ppc4xx: Change 4xx_enet & miiphy to use out_be32() and friends

    This patch changes all in32/out32 calls to use the recommended in_be32/
    out_be32 macros instead.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 7d47cee2cc57f907380f2c06f5b6c683d03e423a
Author: Stefan Roese <sr@denx.de>
Date:	Thu Oct 25 12:24:59 2007 +0200

    ppc4xx: Fix POST ethernet test for Haleakala

    The POST ethernet test needed to be changed to dynamically determine
    the count of ethernet devices. This code is cloned from the 4xx
    ethernet driver.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit f10493c6d77a1e07a6c2ff4d772937a5e7359d6a
Author: Stefan Roese <sr@denx.de>
Date:	Tue Oct 23 11:31:05 2007 +0200

    ppc4xx: Correct UART input clock calculation and passing to fdt

    We now use a value in the gd (global data) structure for the UART input
    frequency, since the PPC4xx_SYS_INFO struct is always rewritten completely
    in get_sys_info().

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 353f2688b4e0fc7b969bc70a02be4b40bf0dd124
Author: Stefan Roese <sr@denx.de>
Date:	Tue Oct 23 10:10:08 2007 +0200

    ppc4xx: Add initial AMCC Haleakala PPC405EXr eval board support

    The Haleakala is nearly identical with the Kilauea eval board. The only
    difference is that the 405EXr only supports one EMAC and one PCIe
    interface. This patch adds support for the Haleakala board by using
    the identical image for Kilauea and Haleakala. The distinction is done
    by comparing the PVR.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 9f798766aa85e62eb8fa8c721e148df609b78137
Author: Eugene O'Brien <eugene.obrien@advantechamt.com>
Date:	Tue Oct 23 08:29:10 2007 +0200

    ppc4xx: Fixed offset of refresh rate type for Bamboo on-board DDR SDRAM

    This patch also adds a note to the fixed DDR setup for Bamboo NAND booting:

    Note:
    As found out by Eugene O'Brien <eugene.obrien@advantechamt.com>, the fixed
    DDR setup has problems (U-Boot crashes randomly upon TFTP), when the DIMM
    modules are still plugged in. So it is recommended to remove the DIMM
    modules while using the NAND booting code with the fixed SDRAM setup!

    Signed-off-by: Eugene O'Brien <eugene.obrien@advantechamt.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit afe9fa59cb63b4f9d16bf01c93eb212f25a38c2a
Author: Stefan Roese <sr@denx.de>
Date:	Mon Oct 22 16:24:44 2007 +0200

    ppc4xx: Add SNTP support to AMCC Katmai, Kilauea & Makalu boards

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 3248f63ad89cb031491edb7016587fe6e9a238b9
Author: Stefan Roese <sr@denx.de>
Date:	Mon Oct 22 16:22:40 2007 +0200

    ppc4xx: Rework of 4xx serial driver (4)

    Change 4xx_uart.c:

    - Use in_8/out_8 macros instead of in8/out8
    - No need for UART_BASE marco anymore, now really handled via function
      parameter
    - serial_init_common() introduced
    - Further coding style cleanup

    Signed-off-by: Stefan Roese <sr@denx.de>

commit e61cb8163a66b8a135696ae232e2bead1ce0a049
Author: Stefan Roese <sr@denx.de>
Date:	Mon Oct 22 15:45:49 2007 +0200

    ppc4xx: Rework of 4xx serial driver (3)

    Change all linker scripts to reference the changed driver name iop480_uart.o.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 882ae41274921f9016131806bdeb27e19606f47a
Author: Stefan Roese <sr@denx.de>
Date:	Mon Oct 22 15:44:39 2007 +0200

    ppc4xx: Rework of 4xx serial driver (2)

    Change all linker scripts to reference the changed driver name 4xx_uart.o.

    Note: In most cased all these explicit referencing of these object files
    in the linker scripts is not neccessary. Only for manually embedded
    environment into the U-Boot image, which is not done is most cases.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit ad31e40bed042cb670d0036fea96435007afb838
Author: Stefan Roese <sr@denx.de>
Date:	Mon Oct 22 15:09:59 2007 +0200

    ppc4xx: Rework of 4xx serial driver (1)

    This patch starts the rework of the PPC4xx serial driver. First we split
    the file into two seperate files, one 4xx_uart.c with the 405/440 UART
    handling code and the other one iop480_uart.c with the UART code for the
    PLX-Tech IOP480 PPC (PPC403 based).

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 764e7417ee5f6e25b1715720e7d7dd3487109385
Author: Stefan Roese <sr@denx.de>
Date:	Mon Oct 22 10:30:38 2007 +0200

    ppc4xx: Correct UART input clock calculation and passing to fdt

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 211ea91ac6c225bec7e668a03d0ba7d7310679fa
Author: Stefan Roese <sr@denx.de>
Date:	Mon Oct 22 07:34:34 2007 +0200

    ppc4xx: Add initial AMCC Makalu 405EX support

    Signed-off-by: Stefan Roese <sr@denx.de>

commit fa8aea20456e6f1dba43f46bcc72024dd9499998
Author: Stefan Roese <sr@denx.de>
Date:	Mon Oct 22 07:33:52 2007 +0200

    ppc4xx: Add freqUART to CPU speed detection

    This value is needed later for the device tree configuration of
    the uart clock.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 837c730b4d7c6b1ddf3d1e247cb4445005d9bf0d
Author: Stefan Roese <sr@denx.de>
Date:	Sun Oct 21 14:26:29 2007 +0200

    ppc: Small Kilauea cleanup of config file

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 758c037aeead34b49631b8da3a90b1bba14c0410
Author: Stefan Roese <sr@denx.de>
Date:	Sun Oct 21 08:16:12 2007 +0200

    rtc: Add Xicor/Intersil X1205 RTC support

    This patch adds support for the Xicor/Intersil X1205 RTC used on the
    AMCC Makalu eval board. This driver is basically cloned from the Linux
    driver version (2.6.23).

    This patch also introduces the Linux bcd.h header for the BCD2BIN/
    BIN2BCD conversions. In the future some of the other U-Boot RTC driver
    should be converted to also use this header instead of implementing
    their own local copy of these functions/macros.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 087dfdb79b5fd1ab99a26990c62a732c01a8c7f6
Author: Stefan Roese <sr@denx.de>
Date:	Sun Oct 21 08:12:41 2007 +0200

    ppc4xx: Consolidate some of the 405 and 440 macros/structs into 4xx

    This patch moves some common 4xx macros and the PPC405_SYS_INFO/
    PPC440_SYS_INFO structure into the common ppc4xx.h header.

    Lot's of other macros are good candidates to be consolidated this way
    in the future.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 770c7af5800f598d22730d1f4b70f16c9b33512e
Author: Stefan Roese <sr@denx.de>
Date:	Sun Oct 21 08:05:18 2007 +0200

    ppc4xx: Fix size setup in Kilauea DDR2 init routine

    The size was initilized wrong. Instead of 256MB, the DDR2 controller
    was setup to 512MB. Now the correct values is used.

    This patch also does a little cleanup and adds a comment here.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit f6ba9b56607d4b27550301c7c7f6b55b654fd62a
Author: Eugene O'Brien <eugene.obrien@advantechamt.com>
Date:	Thu Oct 18 17:29:04 2007 +0200

    ppc4xx: Define CONFIG_BOOKE for all PPC440 based processors

    CONFIG_BOOKE must be defined for PPC440 processors so that the proper SPR
    number is used to access system registers.

    Signed-off-by: Eugene O'Brien <eugene.obrien@advantechamt.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit c36c68160333ac5fe41ec3db12a728b7075b3912
Author: Stefan Roese <sr@denx.de>
Date:	Thu Oct 18 07:42:27 2007 +0200

    ppc4xx: Change inbound PCIe location for endpoint tests on Katmai

    On Yucca & Katmai, the inbound memory map pointed to 0x4.0000.0000, which
    is the internal SRAM. Since I now ported and tested this endpoint mode
    on Kilauea successfully to map to 0 (SDRAM), I also changed this for
    Katmai.

    Yucca will stay at internal SRAM for now. Not sure if somebody relies on
    this setup.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 5cb4af4791f61843432155142b6cfac901f66c10
Author: Stefan Roese <sr@denx.de>
Date:	Thu Oct 18 07:39:38 2007 +0200

    ppc4xx: Add PCIe endpoint support on Kilauea (405EX)

    This patch adds endpoint support for the AMCC Kilauea eval board. It can
    be tested by connecting a reworked PCIe cable (only 1x lane singles
    connected) to another root-complex.

    In this test setup, a 64MB inbound window is configured at BAR0 which maps
    to 0 on the PLB side. So accessing this BAR0 from the root-complex will
    access the first 64MB of the SDRAM on the PPC side.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit d4cb2d17946466740afeb195a57d6cb290bf4cc0
Author: Stefan Roese <sr@denx.de>
Date:	Sat Oct 13 16:43:23 2007 +0200

    ppc4xx: Dynamic configuration of 4xx PCIe mode as root or endpoint mode

    This patch adds support for dynamic configuration of PCIe ports for the
    AMCC PPC4xx boards equipped with PCIe interfaces. These are the PPC440SPe
    boards Yucca & Katmai and the 405EX board Kilauea.

    This dynamic configuration is done via the "pcie_mode" environement
    variable. This variable can be set to "EP" or "RP" for endpoint or
    rootpoint mode. Multiple values can be joined via the ":" delimiter.
    Here an example:

    pcie_mode=RP:EP:EP

    This way, PCIe port 0 will be configured as rootpoint, PCIe port 1 and 2
    as endpoint.

    Per default Yucca will be configured as:
    pcie_mode=RP:EP:EP

    Per default Katmai will be configured as:
    pcie_mode=RP:RP:REP

    Per default Kilauea will be configured as:
    pcie_mode=RP:RP

    Signed-off-by: Tirumala R Marri <tmarri@amcc.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit fd671802b67a0ef37a06124fa2ce85f00aa22c6f
Author: Stefan Roese <sr@denx.de>
Date:	Thu Oct 11 11:15:59 2007 +0200

    ppc4xx: Enable device tree support (fdt) on Kilauea per default

    This patch enables the fdt support on the AMCC Kilauea eval board.
    Additionally now EBC ranges fdt fixup is included to support NOR
    FLASH mapping via the Linux physmap_of driver.

    This Kilauea port now support booting arch/ppc and arch/powerpc
    Linux kernels. The default environment "net_nfs" is for arch/ppc
    and "net_nfs_fdt" is for arch/powerpc. In the long run, arch/ppc
    support will be removed.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 4994ffd890b9d95d807387a9b7bd8a4803ee406e
Author: Stefan Roese <sr@denx.de>
Date:	Thu Oct 11 11:11:45 2007 +0200

    ppc4xx: Add additional debug info to 4xx fdt support

    Signed-off-by: Stefan Roese <sr@denx.de>

commit db3232ddb058d0ed0bc31f7c5c296748a1afac67
Author: Stefan Roese <sr@denx.de>
Date:	Fri Oct 5 21:28:58 2007 +0200

    ppc4xx: Fix small merge problems with CPCI440 and Acadia boards

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 1941cce71b1ae975602854045061e82f94ecd012
Author: Stefan Roese <sr@denx.de>
Date:	Fri Oct 5 17:35:10 2007 +0200

    ppc4xx: Fix small merge problem in 4xx_enet.c

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 566806ca1a1bf4d895daaf0b2ba5494abbffebaf
Author: Stefan Roese <sr@denx.de>
Date:	Fri Oct 5 17:11:30 2007 +0200

    ppc4xx: Add initial AMCC Kilauea 405EX support

    Signed-off-by: Stefan Roese <sr@denx.de>

commit dbbd125721aea6645fdb962f36bd41f59e272f9d
Author: Stefan Roese <sr@denx.de>
Date:	Fri Oct 5 17:10:59 2007 +0200

    ppc4xx: Add PPC405EX support

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 1d7b874e9c9a7c66f5d8da9ec78a3733765d3e31
Author: Stefan Roese <sr@denx.de>
Date:	Fri Oct 5 17:09:36 2007 +0200

    ppc4xx: Cleanup of 4xx PCI and PCIe support (renaming)

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 4f14ed6230b9c109aac9a6fb878497dabd44c2db
Author: Stefan Roese <sr@denx.de>
Date:	Fri Oct 5 17:07:50 2007 +0200

    ppc4xx: Add initial fdt support to 4xx (first needed on 405EX)

    Signed-off-by: Stefan Roese <sr@denx.de>

commit a424a8bb2924b90724b944165d3141f1fa8dfe5b
Author: Stefan Roese <sr@denx.de>
Date:	Fri Oct 5 17:04:57 2007 +0200

    POST: Add 405EX support to 4xx UART POST test

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 4f2e92c11f6e2392fc8187829211a5ca7f0c1e12
Author: Stefan Roese <sr@denx.de>
Date:	Fri Oct 5 15:10:02 2007 +0200

    DTT: Prepare DS1775 driver for use of different I2C addresses

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 19e93b1e16d267220440d827b920fbad8abfa70f
Author: Stefan Roese <sr@denx.de>
Date:	Fri Oct 5 14:23:43 2007 +0200

    ppc4xx: 4xx_pcie: Change PCIe status output to match common style

    Signed-off-by: Stefan Roese <sr@denx.de>

commit ff68f66bcb0da847845aa2fac11eba6c25938c99
Author: Stefan Roese <sr@denx.de>
Date:	Fri Oct 5 09:22:33 2007 +0200

    ppc4xx: 4xx_pcie: Disable debug output as default

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 97923770cb52b64d69eec958a11b2eda8d46e0f7
Author: Stefan Roese <sr@denx.de>
Date:	Fri Oct 5 09:18:23 2007 +0200

    ppc4xx: 4xx_pcie: More general cleanup and 405EX PCIe support added

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 4dbee8a90df613eb517aadbecebd70f168913d30
Author: Stefan Roese <sr@denx.de>
Date:	Fri Oct 5 07:57:20 2007 +0200

    ppc4xx: 4xx_pcie: Change CFG_PCIE_MEMSIZE to 128MB on Yucca & Katmai

    128MB seems to be the smallest possible value for the memory size
    for on PCIe port. With this change now the BAR's of the PCIe cards
    are accessible under U-Boot.

    One big note: This only works for PCIe port 0 & 1. For port 2 this
    currently doesn't work, since the base address is now 0xc0000000
    (0xb0000000 + 2 * 0x08000000), and this is already occupied by
    CFG_PCIE0_CFGBASE. But solving this issue for port 2 would mean
    to change the base addresses completely and this change would have
    too much impact right now.

    This patch adds debug output to the 4xx pcie driver too.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 6d95289281ed2958ebf76d2b55f86bbd88591fd2
Author: Stefan Roese <sr@denx.de>
Date:	Wed Oct 3 21:16:32 2007 +0200

    ppc4xx: 4xx_pcie: Fix problem with SDRN access using port number as idx

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 3048bcbf0bad262378c5af68f2bf6778fb7d829a
Author: Stefan Roese <sr@denx.de>
Date:	Wed Oct 3 15:01:02 2007 +0200

    ppc4xx: Rename 405gp_pci to 4xx_pci since its used on all 4xx platforms

    These files were introduced with the IBM 405GP but are currently used on all
    4xx PPC platforms. So the name doesn't match the content anymore. This patch
    renames the files to 4xx_pci.c/h.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 94276eb0a7a35b9e8c053d589ae225b0f017a237
Author: Stefan Roese <sr@denx.de>
Date:	Wed Oct 3 14:14:58 2007 +0200

    ppc4xx: Add a comment for 405EX PCIe endpoint configuration

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 03d344bb6a5f082ea10ec9d753558ea7dfd1c626
Author: Stefan Roese <sr@denx.de>
Date:	Wed Oct 3 10:38:09 2007 +0200

    ppc4xx: Make 440SPe PCIe code more generic to use on different 4xx PPCs (3)

    (3) This patch introduces macros like SDRN_PESDR_DLPSET(port) to access
	the SDR registers of the PCIe ports. This makes the overall design
	clearer, since it removed a lot of switch statements which are not
	needed anymore.

	Also, the functions ppc4xx_init_pcie_rootport() and
	ppc4xx_init_pcie_entport() are merged into a single function
	ppc4xx_init_pcie_port(), since most of the code was duplicated.
	This makes maintainance and porting to other 4xx platforms
	easier.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 026f71106871f31d17d0ea0db9a7547ff92934bc
Author: Stefan Roese <sr@denx.de>
Date:	Wed Oct 3 07:48:09 2007 +0200

    ppc4xx: Make 440SPe PCIe code more generic to use on different 4xx PPCs (2)

    This patch is the first patch of a series to make the 440SPe PCIe code
    usable on different 4xx PPC platforms. In preperation for the new 405EX
    which is also equipped with PCIe interfaces.

    (2) This patch renames the functions from 440spe_ to 4xx_ with a
	little additional cleanup

    Signed-off-by: Stefan Roese <sr@denx.de>

commit c7c6da23028f146d912514b95aefa3da7cf37699
Author: Stefan Roese <sr@denx.de>
Date:	Wed Oct 3 07:34:10 2007 +0200

    ppc4xx: Make 440SPe PCIe code more generic to use on different 4xx PPCs (1)

    This patch is the first patch of a series to make the 440SPe PCIe code
    usable on different 4xx PPC platforms. In preperation for the new 405EX
    which is also equipped with PCIe interfaces.

    (1) This patch renames the files from 440spe_pcie to 4xx_pcie

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 245a362ad3c0c1b84fccc9fec7b623eb14f6e502
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Wed Oct 24 01:37:36 2007 +0200

    TQM5200: Call usb_cpu_init() during board init

    usb_cpu_init() configures GPS USB pins, clocks, etc. and
    is required for proper operation of kernel USB subsystem.
    This setup was previously done in the kernel by the fixup
    code which is being removed, thus low level init must be
    done by U-boot now.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>
    Signed-off-by: Markus Klotzbuecher <mk@denx.de>

commit b5af773f8d92677e06f3295b45557c9d0a487c24
Author: Zhang Wei <wei.zhang@freescale.com>
Date:	Thu Oct 25 17:51:27 2007 +0800

    Fix the issue of usb_kbd driver missing the scan code of key 'z'.

    The scan code of the key 'z' is 0x1d, which should be handled.

    The change has be tested on NOVATEK USB keyboard and ULI PCI OHCI
    controller.

    Signed-off-by: Zhang Wei <wei.zhang@freescale.com>
    Signed-off-by: Markus Klotzbuecher <mk@denx.de>

commit 85ac988e86f9414fa645b0148dc66c3520a1eb84
Author: Rodolfo Giometti <giometti@enneenne.com>
Date:	Mon Oct 15 11:59:17 2007 +0200

    PXA USB OHCI: "usb stop" implementation.

    Some USB keys need to be switched off before loading the kernel
    otherwise they can remain in an undefined status which prevents them
    to be correctly recognized by the kernel.

    Signed-off-by: Rodolfo Giometti <giometti@linux.it>
    Signed-off-by: Markus Klotzbuecher <mk@denx.de>

commit 31548249decf18a6b877a18436b6139dd483fe4a
Author: Justin Flammia <jflammia@savantav.com>
Date:	Mon Oct 29 17:40:35 2007 -0400

    DHCP Client Fix

    This is a multi-part message in MIME format.

    commit e6e505eae94ed721e123e177489291fc4544b7b8
    Author: Justin Flammia <jflammia@savantav.com>
    Date:   Mon Oct 29 17:19:03 2007 -0400

	Found a bug in the way the DHCP Request packet is built, where the IP address
	that is offered by the server is bound to prematurely. This patch is a fix of
	that bug where the IP address offered by the DHCP server is not used until
	after the DHCP ACK from the server is received.

    Signed-off-by: Justin Flammia <jflammia@savantav.com>
    Signed-off-by: Ben Warren <bwarren@qstreams.com>

commit e8ee8f3ade2a06c1893dd5e68f223070d650c7ed
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Oct 25 17:16:22 2007 -0500

    ColdFire 54455: Fix correct boot location for atmel and intel

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 688e8eb414ac111cca7ce60bdf30e805ab9a7bcb
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Oct 25 17:14:00 2007 -0500

    ColdFire: Fix build error when CONFIG_WATCHDOG is defined

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit c67e12e705b204cfe914e3e3e693d69a445dcabf
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Oct 25 17:12:36 2007 -0500

    ColdFire 5329: Assign correct SDRAM size and fix cache

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 95e9f2c212a65610b2e59a5c00d0113383a4da0b
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Oct 25 17:10:23 2007 -0500

    ColdFire 5253: Assign correct SDRAM size

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 2acefa72ee0026f862ab65597ca687428f63a973
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Oct 25 17:09:17 2007 -0500

    ColdFire 5282: Fix external flash boot and return dramsize

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit d78791ae914d4e7c5edca1cdad73b3dc81a4eb82
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Thu Oct 25 17:20:01 2007 +0200

    TQM5200: increase kernel_addr_r and fdt_addr_r (hinted by Wolfgang Denk).

    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>

commit 1a0ce20aa4cb4e3068da04e7290ee9986fd0b834
Author: Martin Krause <martin.krause@tqs.de>
Date:	Wed Oct 24 08:42:25 2007 +0200

    TQM5200: fix spurious characters on second serial interface

    With this patch PSC3 is configured as UART. This is done, because if
    the pins of PSC3 are not configured at all (-> all pins are GPI),
    due to crosstalk, spurious characters may be send over the RX232_2_TXD
    signal line.

    Signed-off-by: Martin Krause <martin.krause@tqs.de>
    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit be4a87f11e297a5cededbf7dd71c0248f3874acd
Author: Martin Krause <martin.krause@tqs.de>
Date:	Wed Oct 24 08:41:27 2007 +0200

    TQM5200S: fix commands for STK52xx base board because of missing SM501 grafic controller

    Some commands for the STK52xx base board try to access the SM501 grafic
    controller. But the TQM5200S has no grafic controller (only the TQM5200
    and the TQM5200B have). This patch deactivates the commands accessing
    the SM501 for the TQM5200S.

    Signed-off-by: Martin Krause <martin.krause@tqs.de>
    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit b31f64343ead9482cd439b1adbe4c34026a641b1
Author: Martin Krause <martin.krause@tqs.de>
Date:	Mon Oct 22 16:45:53 2007 +0200

    TQM5200: fix spurious characters on second serial interface

    With this patch PSC3 is configured as UART. This is done, because if
    the pins of PSC3 are not configured at all (-> all pins are GPI),
    due to crosstalk, spurious characters may be send over the RX232_2_TXD
    signal line.

    Signed-off-by: Martin Krause <martin.krause@tqs.de>

commit 0fc0f91b20ffa802f5a66534ca5c2844910583f6
Author: Martin Krause <martin.krause@tqs.de>
Date:	Mon Oct 22 16:40:06 2007 +0200

    TQM5200S: fix commands for STK52xx base board because of missing SM501 grafic controller

    Some commands for the STK52xx base board try to access the SM501 grafic
    controller. But the TQM5200S has no grafic controller (only the TQM5200
    and the TQM5200B have). This patch deactivates the commands accessing
    the SM501 for the TQM5200S.

    Signed-off-by: Martin Krause <martin.krause@tqs.de>

commit 7b0a42219f30277f71f4405cbaf8a269f6d2d227
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sun Oct 21 09:14:28 2007 +0200

    Mips: Fix string functions differ prototype declaration

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit cb8250fe4b3c4ed549b270e8a20bc22060e7e1d2
Author: Ed Swarthout <Ed.Swarthout@freescale.com>
Date:	Fri Oct 19 17:51:40 2007 -0500

    fsl_pci_init enable COMMAND_MEMORY if inbound window

    Patch 16e23c3f removed PCSRBAR allocation.	But passing zero windows
    to pciauto_setup_device has the side effect of not getting
    COMMAND_MEMORY set.

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>

commit e9d0d527992566ebef9826962ff1745b2f082b92
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Oct 19 10:55:24 2007 +0200

    delta: Fix OHCI_REGS_BASE undeclared and wait_ms implicit declaration

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 9c4884f54da982ce990c7d1760ac81b0704d3c64
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Oct 19 08:10:15 2007 +0200

    fix warning: no return statement in function returning non-void

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit e78220f6e514206757acfe247297fc9a328a881f
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Oct 19 06:33:45 2007 +0200

    xsengine: Fix no partition type specified, use DOS as default

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 10cdb8dbd67a818823ab9ec88b68fc348903db59
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Oct 19 00:24:59 2007 +0200

    lubbock: Fix no partition type specified, use DOS as default

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 41b4d282d38fa7231c315c5f6cfff5bdd24e0191
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Oct 23 16:50:03 2007 +0200

    Coding style: keep lists sorted; update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 58b74b05c621e2835ecf4e2d3243042cf4186777
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Oct 19 00:09:05 2007 +0200

    Fix missing drivers makefile entries ds1722.c mw_eeprom.c

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 96455bfebc9887837095c9051d216f53c61b5f10
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Fri Oct 19 00:07:39 2007 +0200

    Fix warning differ in signedness in board/innokom/innokom.c

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 2a4741d9a14ec475f50e9856d2c0a67e8b4271bd
Author: Marcel Ziswiler <marcel@ziswiler.com>
Date:	Fri Oct 19 00:25:33 2007 +0200

    fix pxa255_idp board

    The pxa255_idp being an old unmaintained board showed several issues:
    1. CONFIG_INIT_CRITICAL was still defined.
    2. Neither CONFIG_MAC_PARTITION nor CONFIG_DOS_PARTITION was defined.
    3. Symbol flash_addr was undeclared.
    4. The boards lowlevel_init function was still called memsetup.
    5. The TEXT_BASE was still 0xa3000000 rather than 0xa3080000.
    6. Using -march=armv5 instead of -march=armv5te resulted in lots of
    'target CPU does not support interworking' warnings on recent compilers.
    7. The PXA's serial driver redefined FFUART, BTUART and STUART used as
    indexes rather than the register definitions from the pxa-regs header
    file. Renamed them to FFUART_INDEX, BTUART_INDEX and STUART_INDEX to
    avoid any ambiguities.
    8. There were several redefinition warnings concerning ICMR, OSMR3,
    OSCR, OWER, OIER, RCSR and CCCR in the PXA's assembly start file.
    9. The board configuration file was rather outdated.
    10. The part header file defined the vendor, product and revision arrays
    as unsigned chars instead of just chars in the block_dev_desc_t
    structure.

    Signed-off-by: Marcel Ziswiler <marcel@ziswiler.com>

commit 298cd4cafe81ff8a6c87be8fbc440a20720d3ed6
Author: Rune Torgersen <runet@innovsys.com>
Date:	Wed Oct 17 11:56:31 2007 -0500

    Make MPC8266ADS command selection more robust

    Fix MPC8266 command line definition so it won't break when new commands
    are added to u-boot.
    Signed-off-by Rune Torgersen <runet@innovsys.com>

commit d3afa1ee19345a31fd1eaad3e98b97d13ca47315
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Tue Oct 23 13:14:10 2007 +0200

    Motion-PRO: Update configuration to accomodate next generation board.

    New board has faster oscillator and a different Flash chip. This affects:
    - CFG_MPC5XXX_CLKIN
    - SDRAM timings
    - Flash CS configuration (timings)
    - Flash sector size, and thus MTD partition layout
    - malloc() arena size (due to bigger Flash sectors)
    - smaller memory test range (due to bigger malloc() arena)

    This patch also enables more extensive memory testing via "mtest".

    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>

commit eff501904df2bf1724a750062628ba2c51dbb1f8
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Tue Oct 23 11:36:07 2007 +0200

    Motion-PRO: Add setting of SDelay reg. to SDRAM controller configuration.

    Per AN3221 (MPC5200B SDRAM Initialization and Configuration), the SDelay
    register must be written a value of 0x00000004 as the first step of the
    SDRAM contorller configuration.

    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>

commit 7a9348728ebda63cdbaacffd83099aa71d9d4c54
Author: Peter Pearse <peter.pearse@arm.com>
Date:	Tue Oct 23 10:22:16 2007 +0100

    Move PL01* serial drivers to drivers/serial and adjust Makefiles.

commit 20d500d531a6b971ce6cc1bf191cb0092cdc0afc
Author: Stefan Roese <sr@denx.de>
Date:	Tue Oct 23 10:17:42 2007 +0200

    ppc4xx: lwmon5: Some further GPIO config changes

    Signed-off-by: Stefan Roese <sr@denx.de>

commit de9a738faa7c2f47286119c3bfebc3dfbfe7d86d
Author: Vlad Lungu <vlad@comsys.ro>
Date:	Sun Oct 21 22:10:10 2007 +0900

    [MIPS] Fix UNCACHED_SDRAM

    PHYSADDR is for physical address, KSEG1ADDR is for uncached.

    Signed-off-by: Vlad Lungu <vlad@comsys.ro>
    Signed-off-by: Shinya Kuribayashi <shinya.kuribayashi@necel.com>

commit 00101dd7a32d12f698150123e47e4b3420279f86
Author: Shinya Kuribayashi <shinya.kuribayashi@necel.com>
Date:	Sun Oct 21 21:30:42 2007 +0900

    [MIPS] Add PIC-related switches to PLATFORM_{CPP,LD}FLAGS and cleanup

    Signed-off-by: Shinya Kuribayashi <shinya.kuribayashi@necel.com>

commit eb700636db017d310edaeb559b13d82588560674
Author: Shinya Kuribayashi <shinya.kuribayashi@necel.com>
Date:	Sun Oct 21 10:55:37 2007 +0900

    [MIPS] u-boot.lds: Define _gp in a standard manner

    Signed-off-by: Shinya Kuribayashi <shinya.kuribayashi@necel.com>

commit 22069215eb7adf5a3888bf7c7784ea9d70a72cd0
Author: Shinya Kuribayashi <shinya.kuribayashi@necel.com>
Date:	Sun Oct 21 10:55:36 2007 +0900

    [MIPS] Fix $gp usage

    Now we load $gp with _GLOBAL_OFFSET_TABLE_, but this is incorrect use.
    As a general principle, we should use _gp for $gp.

    Thanks to linker script's help we fortunately have _gp which equals to
    _GLOBAL_OFFSET_TABLE_. But once _gp gets out of alignment, we will not
    be able to access to GOT entires, global variables and procedure entry
    points. The right thing to do is to use _gp.

    This patch also introduce a new symbol `.gpword _GLOBAL_OFFSET_TABLE_'
    which holds the offset from _gp. When updating GOT entries, we use this
    offset and _gp to calculate the final _GLOBAL_OFFSET_TABLE_.

    This patch is originally submitted by Vlad Lungu <vlad@comsys.ro>, then
    I made some change to leave over num_got_entries.

    Signed-off-by: Shinya Kuribayashi <shinya.kuribayashi@necel.com>
    Cc: Vlad Lungu <vlad@comsys.ro>

commit cbf2323b5b8285ea01acba7bbb905a3162d9b021
Author: Shinya Kuribayashi <shinya.kuribayashi@necel.com>
Date:	Sun Oct 21 10:55:36 2007 +0900

    [MIPS] u-boot.lds: Fix __got_start and __got_end

    Ensure that __got_start points to top of the `.got', and __got_end points
    to bottom as well, so that we never fail to count num_got_entries.

    Signed-off-by: Shinya Kuribayashi <shinya.kuribayashi@necel.com>

commit e5f325fec5b48ae705c89522923ba5a2e37cd5c7
Author: Shinya Kuribayashi <shinya.kuribayashi@necel.com>
Date:	Sun Oct 21 10:55:36 2007 +0900

    [MIPS] u-boot.lds: Remove duplicated .sdata section

    Signed-off-by: Shinya Kuribayashi <shinya.kuribayashi@necel.com>

commit 05bf4919c1ce49cdedadacd564d0786a8ed796a1
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Oct 21 01:01:17 2007 +0200

    Minor coding style cleanup; update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit ff285ca07eda1ea4a8909848cc1cc604ec8fec9c
Author: Vlad Lungu <vlad@comsys.ro>
Date:	Thu Oct 4 20:47:10 2007 +0300

    Fix NE2000 driver:

    Fixed typo in ne2000.h, thinko re n2k_inb() usage, don't try
    to do anything in eth_stop() if eth_init() was not called.
    Simplified RX path in order to avoid timeouts on really really
    fast NE2000 cards (read: qemu with internal tftp), NetLoop() is
    clever enough to cope with 1 packet per eth_rx().

    Signed-off-by: Vlad Lungu <vlad@comsys.ro>

commit df90968b48fb34fa9072fab150db2ac89678f537
Author: urwithsughosh@gmail.com <urwithsughosh@gmail.com>
Date:	Mon Sep 24 13:32:13 2007 -0400

    Setting MSR[DE] in do_reset

    Hello,
       This patch ensures the soft reset of the board for the 85xx boards
       by setting the MSR[DE] in the do_reset function.

    Signed-off-by: Sughosh Ganu <urwithsughosh@gmail.com>

commit 1e701e701304b3c3a3768ca83dd2ab7b9e88c77d
Author: urwithsughosh@gmail.com <urwithsughosh@gmail.com>
Date:	Mon Sep 24 13:36:01 2007 -0400

    MSR overwrite fix

    Hello,
      This patch fixes the MSR overwrite in the start.S when moving out of
      the last 4K page.

    Signed-off-by: Sughosh Ganu <urwithsughosh@gmail.com>

commit 5c7ea64bb74a850a2b2303f853a8270695ad8602
Author: Dan Wilson <dwilson@fulcrummicro.com>
Date:	Fri Oct 19 11:33:48 2007 -0500

    tsec driver should clear RHALT on startup

    This was causing problems for some people.

    Signed-off-by: Alain Gravel <agravel@fulcrummicro.com>
    Signed-off-by: Dan Wilson <dwilson@fulcrummicro.com>
    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 7600d47b8f6a10019e537dc9a62aa1498df58d25
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Oct 11 00:29:18 2007 -0500

    Improve handling of PCI interrupt device tree fixup on MPC85xx CDS

    On the MPC85xx CDS we have two issues:

    1. The device tree fixup code did not check to see if the property we are
    trying to update is actually found.  Its possible that it would update
    random memory starting at 0.

    2. Newer Linux kernel's have moved the location of the PCI nodes to be
    sibilings of the soc node and not children.  The explicit PATH to the PCI
    node would not be found for these device trees.  Add the ability to handle
    both paths.  In the future we shouldn't handle such fixups by explicit path.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit a3063eec775719b7e91023bbec3f64b3118791df
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Oct 11 00:18:48 2007 -0500

    Set OF_STDOUT_PATH to match the default console on MPC8568 MDS

    On the MPC8568 MDS we use ttyS0, UART0, etc. as the standard configured
    console.  Make it so we match that config what we tell Linux as the early
    STDOUT console.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit e1ce3cb617bb06f91f82f98915391175addf3e82
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Oct 2 11:12:27 2007 -0500

    Remove magic numbers from cache related operations for mpc85xx

    The mpc85xx start code uses some magic numbers that we actually
    have #defines for in <config.h> so use those instead.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 5441f61a3d8b7034f19fc1361183e936198e6dbb
Author: Detlev Zundel <dzu@denx.de>
Date:	Fri Oct 19 16:47:26 2007 +0200

    Fix two typos.

    Signed-off-by: Detlev Zundel <dzu@denx.de>

commit 281df457c1aa50d2752165d0c5c3282d4027b974
Author: Tony Li <tony.li@freescale.com>
Date:	Thu Oct 18 17:47:19 2007 +0800

    mpc83xx: Add configure entry for MPC83xx ATM support

    Add MPC8360EMDS_ATM_config and MPC832XEMDS_ATM_config into
    Makfile and MAKEALL

    Signed-off-by: Tony Li <tony.li@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit d2646554f529a9577515eceb0ec5eceee18244ba
Author: Tony Li <tony.li@freescale.com>
Date:	Thu Oct 18 17:44:38 2007 +0800

    mpc83xx: pq-mds-pib.c typo error

    Correct to val8 from val.

    Signed-off-by: Tony Li <tony.li@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 3e11ae80fec1ee12194940955431186abf6009c2
Author: Stefan Roese <sr@denx.de>
Date:	Wed Oct 17 15:40:19 2007 +0200

    ppc4xx: Add 667/133 (CPU/PLB) frequency setup to Sequoia bootstrap command

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 3c89d75409eb26639d36dfa11d4ee3d8b962dc3c
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Oct 16 15:27:43 2007 -0500

    Initial mpc8610hpcd Makefile files.

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>
    Signed-off-by: Mahesh Jade <mahesh.jade@freescale.com>
    Signed-off-by: Jason Jin <Jason.jin@freescale.com>
    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 9553df86d3a319c3a1a7cde7e4edd6eeb5aa64c7
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Oct 16 15:26:51 2007 -0500

    Initial mpc8610hpcd cpu/, README and include/ files.

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>
    Signed-off-by: Mahesh Jade <mahesh.jade@freescale.com>
    Signed-off-by: Jason Jin <Jason.jin@freescale.com>
    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 3dd2db53ceb0dff80f25c2a07f83f29b907b403e
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Oct 16 13:54:01 2007 -0500

    Initial mpc8610hpcd board files.

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>
    Signed-off-by: Mahesh Jade <mahesh.jade@freescale.com>
    Signed-off-by: Jason Jin <Jason.jin@freescale.com>
    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 7ee6ba1a056e4061ab4cfde30127e332e7957afd
Author: runet@innovsys.com <runet@innovsys.com>
Date:	Tue Oct 16 14:50:40 2007 -0500

    Make MPC8266ADS board compile again.

    Signed-off-by: Runet Torgersen <runet@innovsys.com>

commit 2491167c245d8ebe6f2dbd8c4287aaa0d14fe93a
Author: Jon Loeliger <jdl@freescale.com>
Date:	Mon Aug 27 12:41:03 2007 -0500

    86xx: Allow for fewer DDR slots per memory controller.

    As a direct correlation exists between DDR DIMM slots
    and SPD EEPROM addresses used to configure them, use
    the individually defined SPD_EEPROM_ADDRESS* values to
    determine if a DDR DIMM slot should have its SPD
    configuration read or not.

    Effectively, this now allows for 1 or 2 DIMM slots
    per memory controller.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 4d4a945e189a2f384c66432316da2788a0ac1607
Author: Rodolfo Giometti <giometti@enneenne.com>
Date:	Mon Oct 15 11:59:17 2007 +0200

    PXA USB OHCI: "usb stop" implementation.

    Some USB keys need to be switched off before loading the kernel
    otherwise they can remain in an undefined status which prevents them
    to be correctly recognized by the kernel.

    Signed-off-by: Rodolfo Giometti <giometti@linux.it>

commit e2e93442e558cf1500e92861f99713b2f045ea22
Author: Stefan Roese <sr@denx.de>
Date:	Mon Oct 15 11:39:00 2007 +0200

    ppc4xx: Fix bug in I2C bootstrap values for Sequoia/Rainier

    The I2C bootstrap values that can be setup via the "bootstrap" command,
    were setup incorrect regarding the generation of the internal sync PCI
    clock. The values for PLB clock == 133MHz were slighly incorrect and the
    values for PLB clock == 166MHz were totally incorrect. This could
    lead to a hangup upon booting while PCI configuration scan.

    This patch fixes this issue and configures valid PCI divisor values
    for the sync PCI clock, with respect to the provided external async
    PCI frequency.

    Here the values of the formula in the chapter 14.2 "PCI clocking"
    from the 440EPx users manual:

    AsyncPCICLK - 1MHz <= SyncPCIClk <= (2 * AsyncPCIClk) - 1MHz

    33MHz async PCI frequency:
    PLB = 133:
    =>	    32 <= 44.3 <= 65	    (div = 3)

    PLB = 166:
    =>	    32 <= 55.3 <= 65	    (div = 3)

    66MHz async PCI frequency:
    PLB = 133:
    =>	    65 <= 66.5 <= 132	    (div = 2)

    PLB = 166:
    =>	    65 <= 83 <= 132	    (div = 2)

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 5a5958b7de70ae99f0e7cbd5c97ec1346e051587
Author: Stefan Roese <sr@denx.de>
Date:	Mon Oct 15 11:29:33 2007 +0200

    ppc4xx: Fix incorrect 33/66MHz PCI clock log-message on Sequoia & Yosemite

    The BCSR status bit for the 66MHz PCI operation was correctly
    addressed (MSB/LSB problem). Now the correct currently setup
    PCI frequency is displayed upon bootup.

    This patch also fixes this problem on Rainier & Yellowstone, since these
    boards use the same souce code as Sequoia & Yosemite do.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit da3aad55cbde80ab6e301aafa82a2c411aa53eff
Author: Martin Krause <martin.krause@tqs.de>
Date:	Wed Sep 26 17:55:56 2007 +0200

    TQM860M: adjust for doubled flash sector size.

    Adjust flash map to support the new S29GLxxN (N-Type) Flashes with
    doubled sector size.

    Signed-off-by: Martin Krause <martin.krause@tqs.de>

commit 9d29250e2e62f4bf20c7a20b4173d84c48f11f5d
Author: Jens Gehrlein <jens.gehrlein@tqs.de>
Date:	Wed Sep 26 17:55:54 2007 +0200

    TQM8xx: Fix CAN timing.

    Signed-off-by: Martin Krause <martin.krause@tqs.de>

commit d43e489baf02afae49077791fb22332d240d8656
Author: Martin Krause <martin.krause@tqs.de>
Date:	Thu Sep 27 14:54:36 2007 +0200

    TQM866M: fix SDRAM refresh

    At 133 MHz the current SDRAM refresh rate is too fast
    (measured 4 * 1.17 us).
    CFG_MAMR_PTA changes from 39 to 97. This result
    in a refresh rate of 4 * 7.8 us at the default clock
    50 MHz. At 133 MHz the value will be then 4 * 2.9 us.
    This is a compromise until a new method is found to
    adjust the refresh rate.

    Signed-off-by: Martin Krause <martin.krause@tqs.de>

commit 9ef57bbee1c67cc01da2026c242c4692db32be36
Author: Martin Krause <martin.krause@tqs.de>
Date:	Wed Sep 26 17:55:55 2007 +0200

    TQM866M: adjust for doubled flash sector size.

    Adjust flash map to support the new S29GLxxN (N-Type) Flashes with
    doubled sector size.

    Signed-off-by: Martin Krause <martin.krause@tqs.de>

commit f8bf90461d9bad2e6fed31fcebaf235f60dd6763
Author: Michal Simek <monstr@monstr.eu>
Date:	Sun Oct 14 16:12:29 2007 +0200

    [FIX] XUPV2P change command handling
    and remove code violation

commit 636400198228d96983c06657b17f760f5989958e
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Oct 14 00:13:19 2007 +0200

    Prepare for 1.3.0-rc3 release

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 68f14f77ca5fe5f9cc025c8cae101671f628309f
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Sat Sep 29 13:41:37 2007 +0200

    Fix warning differ in signedness in cpu/pxa/mmc.c

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit fc19e36f741e8bc727c0a330170b3b5db90399ef
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Oct 13 23:51:14 2007 +0200

    Fix warning differ in signedness in board/mpl/vcma9/vcma9.c

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit de74b9eeacccaf0a42e5ecc9ae79a88f7a311296
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Oct 13 21:15:39 2007 +0200

    Coding Style cleanup.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit e1893815b0999410d7a327589611c7b38e95299e
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Oct 12 15:49:39 2007 +0200

    GP3 SSA: enable RTC

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 8002012041f1ff9f997a5727abe5015f70cd2e46
Author: Grzegorz Bernacki <gjb@semihalf.com>
Date:	Tue Oct 9 13:58:24 2007 +0200

    [ads5121] EEPROM support added.

    Signed-off-by: Grzegorz Bernacki <gjb@semihalf.com>

commit 7b624ad254b97e5a25dca2304a398b64aeedaffe
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Sat Oct 6 18:55:35 2007 +0200

    AVR32: Initialize bi_flash* in board_init_r

    The ATSTK1000-specific flash driver intializes bi_flashstart,
    bi_flashsize and bi_flashoffset, but other flash drivers, like the CFI
    driver, don't.

    Initialize these in board_init_r instead so that things will still be
    set up correctly when we switch to the CFI driver.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 2b2a587d6d3076387d22ac740f44044bf46e2cb8
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Fri Oct 5 10:40:54 2007 +0200

    tqm5200: Fix CONFIG_CMD_PCI typo in board config file.

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit 92869195ef8210758d2176230c0a36897afd50ed
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Fri Oct 5 09:46:06 2007 +0200

    CM5200: Fix missing null-termination in hostname manipulation code

    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>

commit 9add9884b1fddc34ca186e00a2f868ccd5d02d87
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Tue Oct 2 19:09:01 2007 +0200

    Fix memtest breakage

    CFG_MEMTEST_START uses weird magic involving gd, which fails to
    compile. Use hardcoded values instead (we actually know how much RAM
    we have on board.)

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 738815c0cc44aa329097f868dc1efc49ede9c5ba
Author: Stefan Roese <sr@denx.de>
Date:	Tue Oct 2 11:44:46 2007 +0200

    ppc4xx: Coding style cleanup

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 87c1833a39e944db66385286fd5e28f9b3fcdd50
Author: Stefan Roese <sr@denx.de>
Date:	Tue Oct 2 11:44:19 2007 +0200

    ppc4xx: lwmon5: Remove watchdog for now, since not fully tested yet

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 2db64784061bfc34f4ba70ef1d2fbe7133b55670
Author: Grzegorz Bernacki <gjb@semihalf.com>
Date:	Mon Oct 1 09:51:50 2007 +0200

    Program EPLD to force full duplex mode for PHY.

    EPLD forces modes of PHY operation. By default full duplex is turned off.
    This fix turns it on.

    Signed-off-by: Grzegorz Bernacki <gjb@semihalf.com>

commit 785c13477b77dcd2e6c5128fffcdb4e1943f4818
Author: Timo Ketola <timo.ketola@exertus.fi>
Date:	Mon Sep 24 14:50:32 2007 +0300

    Bugfix: Use only one PTD for one endpoint

    Original isp116x-hcd code prepared multiple PTDs for longer than 16
    byte transfers for one endpoint. That is unnecessary because the
    ISP116x is able to split long data from one PTD into multiple
    transactions based on the buffer size of the endpoint. It also caused
    serious problems if the endpoint NAKed some of the transactions. In
    that case ISP116x wouldn't notice that the other PTDs were for the same
    endpoint and would try the other PTDs possibly out of order. That would
    break the whole transfer.

    This patch makes isp116x_submit_job to use one PTD for one transfer.

    Signed-off-by: Timo Ketola <timo.ketola@exertus.fi>
    Signed-off-by: Markus Klotzbuecher <mk@denx.de>

commit 86ec86c04326c3913178a7679aa910de071da75d
Author: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>
Date:	Thu Sep 27 23:27:47 2007 +0200

    Fix missing DECLARE_GLOBAL_DATA_PTR on CONFIG_LPC2292 in serial

    Signed-off-by: Jean-Christophe PLAGNIOL-VILLARD <plagnioj@jcrosoft.com>

commit 3e954beb614b5b190d7f4f4c3b641437a0132e35
Author: Stefan Roese <sr@denx.de>
Date:	Tue Sep 11 14:12:55 2007 +0200

    ppc4xx: lwmon5: Change GPIO 58 to default to low (watchdog test)

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 1487adbdcf9594bb2eb686325a6f9540dad1b70a
Author: Ed Swarthout <Ed.Swarthout@freescale.com>
Date:	Wed Sep 26 16:35:54 2007 -0500

    85xx io out functions need sync after write.

    This fixes the mc146818 rtc_read/write functions for 85xx.

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>

commit 0d38effc6e359e6b1b0c78d66e8bc1a4dc15a2ae
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Sep 25 15:48:05 2007 -0600

    Fpga: fix incorrect test of CFG_FPGA_XILINX macro

    CFG_FPGA_XILINX is a bit value used to test against the value in
    CONFIG_FPGA.  Testing for a value will always return TRUE.	I don't
    think that is the intention in this code.

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 853643d8cf2ca80cb2e25c53ad5dc580abafe166
Author: Michal Simek <monstr@monstr.eu>
Date:	Mon Sep 24 00:41:30 2007 +0200

    [FIX] change command handling and removing code violation

commit f240356507038e5ce55e8a24cb2607e9eae6d10c
Author: Michal Simek <monstr@monstr.eu>
Date:	Mon Sep 24 00:36:06 2007 +0200

    [FIX] change sets of commands
    because changing of command handling brings
    compilation problems

commit cb1bc63b75a232571eb69aa2c8aa919321655845
Author: Michal Simek <monstr@monstr.eu>
Date:	Mon Sep 24 00:30:42 2007 +0200

    [FIX] Email reparation & Copyright
    Both codes are written by myself without any
    support from CTU

commit 0731cbae6c2feab93b244d83fd6a43f5cc9bf852
Author: Michal Simek <monstr@monstr.eu>
Date:	Mon Sep 24 00:25:11 2007 +0200

    [PATCH] Change macro name for UartLite
    because PowerPC 405 can use UartLite as console

commit 1c1100d2fcf46b9d11dcf78d6e5aea75e2e8b716
Author: Michal Simek <monstr@monstr.eu>
Date:	Mon Sep 24 00:21:19 2007 +0200

    [PATCH] Add support for design without interrupt controller
    Polling timer

commit 0731933ec8ec45d02ba89b52df673d526873cdde
Author: Michal Simek <monstr@monstr.eu>
Date:	Mon Sep 24 00:19:48 2007 +0200

    [FIX] resolve problem with cpu without barrel shifter

commit db14d77995ce515b728b178b63f82babe60e3d56
Author: Michal Simek <monstr@monstr.eu>
Date:	Mon Sep 24 00:18:46 2007 +0200

    [FIX] repair email address

commit 481d4328618804add1f818a6c96296121cd0528e
Author: Michal Simek <monstr@monstr.eu>
Date:	Mon Sep 24 00:17:42 2007 +0200

    [FIX] repair MFSL commands

commit b90c045f035c3cc9b5d2edaed6048dfb74e40763
Author: Michal Simek <monstr@monstr.eu>
Date:	Mon Sep 24 00:08:37 2007 +0200

    synchronizition with mainline

commit eda3e1e6619ad0bee94ae4b16c99d88e77e2af13
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Sun Sep 23 02:42:38 2007 +0900

    sh: Add support command of ide with sh

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit d91ea45d15cf8e0987456bd211ffbb650824b6f1
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Sun Sep 23 02:38:42 2007 +0900

    sh: Update Makefile

    Add support MS7722SE01 to Makefile.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 6c0bbdccd379f5c8702af9e0765294c2fb7472a6
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Sun Sep 23 02:31:13 2007 +0900

    sh: Add support Renesas sh7722 processor and Hitachi MS7722SE01 board

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 047375bfa4c3052fa50a748da7ff89e9dad3b364
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Sun Sep 23 02:19:24 2007 +0900

    sh: Update MS7750SE01 platform

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 516ad760db3553766267ada01b7d5d727faa4bbd
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Sun Sep 23 02:17:08 2007 +0900

    sh: Remove comment out code from include/asm-sh/cpu_sh4.h

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit b02bad128669e567fce87d8df823b06a0144b8db
Author: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>
Date:	Sun Sep 23 02:12:30 2007 +0900

    sh: Update core code of SuperH.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 66dcad3a9a53e0766d90e0084123bd8529522fb0
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Sep 20 00:04:14 2007 +0200

    v1.3.0-rc2

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 135e19bc2773ebca487e9a8371f67e1ba202313a
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Sep 18 21:36:35 2007 +0200

    Avoid compiler warning.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 8a783a65851bc7421ab69f442261215e21b8891a
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Sep 18 12:24:57 2007 -0600

    Bugfix: remove embedded null (\0) from CFG_BOOTFILE macro in TQM8540_config

    /bin/bash and /bin/dash (which /bin/sh is linked to on ubuntu) handle embedded
    nulls in a string differently.  For example, the following statement:
	echo "this is a string\0" > afile
    Will produce the following with /bin/bash:
	"this is a string\0"
    But with /bin/dash, will produce:
	"this is a string

    Bug fixed by moving the embedded null out of the makefile and into the
    config header.  Also renamed the macro to avoid usage colision with the same
    macro used by other board ports.

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit f8d3ca7b6fa322ac57e8e831f07dbeea039a9f35
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Sep 18 17:40:27 2007 +0200

    MCC200: fix build warning

    The MCC200 board config file includes version.h for some customer-
    specific setting, which causes warnings with "make depend"; build
    version.h before depend.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit bd86220f58b99d6896198c385fda132f0c980915
Author: Peter Pearse <peter.pearse@arm.com>
Date:	Tue Sep 18 13:07:54 2007 +0100

    Move coloured led API to status_led.h
    Improve indentation in drivers/at45.c

commit e80e585b00fbbab7ad1bf71619741f2c5b029ab7
Author: Eirik Aanonsen <eaa@wprmedical.com>
Date:	Tue Sep 18 08:47:20 2007 +0200

    Update atstk1002 bootargs.

    Updates to atstk1002 U-Boot header file:
    - Changed bootargs:
	* Set the bootargs for at1002 to point to the SD-card partition instead
	* ... of the boot flash.
	* Removing the rootfstype since that argument are not needed.

    Signed-off-by: Eirik Aanonsen <eaa@wprmedical.com>
    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit a4f3aab6dfbed6c29367c688bfb8a47eef62c225
Author: Eirik Aanonsen <eaa@wprmedical.com>
Date:	Wed Sep 12 13:32:37 2007 +0200

    Add some comments to clocks in atstk1002.h

    This patch applies some clarifying comments to how the different
    clocks are setup according to atstk1002.h Some of the previous
    comments where stating wrongful information.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 97213f32416ead885deafea86774e912ffd60ad0
Author: David Saada <David.Saada@ecitele.com>
Date:	Mon Sep 17 17:04:47 2007 +0200

    Description: Add NEC's PCI OHCI module ID to the USB OHCI driver

    Signed-off-by: David Saada <david.saada@ecitele.com>

commit 30363e98fa470fbecea5e8bc0f1443352754f303
Author: Stefan Roese <sr@denx.de>
Date:	Mon Sep 17 08:20:47 2007 +0200

    Small whitespace cleanup of OneNAND patch

    Signed-off-by: Stefan Roese <sr@denx.de>

commit d7e8ce101a4a45ed6ed45739fc2de5f87b13f7f1
Author: Kyungmin Park <kmpark@infradead.org>
Date:	Mon Sep 10 17:15:14 2007 +0900

    OneNAND support (take #2)

    [PATCH 3/3] OneNAND support (take #2)

    OneNAND support at U-Boot

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>

commit 17aa2800457df0c06b41516f46f126712c196219
Author: Kyungmin Park <kmpark@infradead.org>
Date:	Mon Sep 10 17:14:34 2007 +0900

    OneNAND support (take #2)

    [PATCH 2/3] OneNAND support (take #2)

    OneNAND support at U-Boot

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>

commit 916527f4809a7bcd811f1f1daf34af184e31dd8c
Author: Kyungmin Park <kmpark@infradead.org>
Date:	Mon Sep 10 17:13:49 2007 +0900

    OneNAND support (take #2)

    [PATCH 1/3] OneNAND support (take #2)

    OneNAND support at U-Boot

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>

commit b49c90df6e7cfcfb8b862b8bbf8448dff5eed9a5
Author: Michal Simek <monstr@monstr.eu>
Date:	Sun Sep 16 20:51:57 2007 +0200

    [FIX] remove files form repository

commit 67c31036acaaaa992fc346cc89db0909a7e733c4
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Sep 16 17:10:04 2007 +0200

    TQM8xx[LM]: Fix broken environment alignment.

    With recent toolchains, the environment sectors were no longer aligned to
    sector boundaries. The reason was a combination of two bugs:

    1) common/environment.c assumed that CONFIG_TQM8xxL would be defined
       for all TQM8xxL and TQM8xxM boards. But "include/common.h", where
       this gets defined, is not included here (and cannot be included
       without causing lots of problems).

       Added a new #define CFG_USE_PPCENV for all boards which really
       want to put the environment is a ".ppcenv" section.

    2) The linker scripts just include environment.o, silently assuming
       that the objects in that file are really in the order in which
       they are coded in the C file, i. e. "environment" first, then
       "redundand_environment", and "env_size" last. However, current
       toolchains (GCC-4.x) reorder the objects, causing the environment
       data not to start on a flash sector boundary:

       Instead of:					we got:

	40008000 T environment			40008000 T env_size
	4000c000 T redundand_environment	40008004 T redundand_environment
	40010000 T env_size			4000c004 T environment

       Note: this patch fixes just the first part, and cures the alignment
       problem by making sure that "env_size" gets placed correctly. However,
       we still have a potential issue because primary and redundant
       environment sectors are actually swapped, i. e. we have now:

	40008000 T redundand_environment
	4000c000 T environment
	40010000 T env_size

       This shall be fixed in the next version.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit eb6da8050797c204c9d010548424186c7ce32fc1
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Sep 16 02:39:35 2007 +0200

    TQM8xx/FPS8xx: adjust flash partitions for 2.6 ARCH=powerpc kernels

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit cd2d1602c54cc6957bdef3872272a4b264893960
Author: urwithsughosh@gmail.com <urwithsughosh@gmail.com>
Date:	Mon Sep 10 14:54:56 2007 -0400

    Typo fix in tsec.c

    Fixup for the break statement in wrong place.

    [Patch by urwithsughosh@gmail.com]
    Acked-by: Andy Fleming <afleming@freescale.com>
    Signed-off-by:	Wolfgang Denk <wd@denx.de>

commit 5bd7fe9aeb76906371f40b8fd07613f10922e3e7
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Tue Sep 11 17:04:00 2007 +0200

    Fix do_div() usage in nand process output

    Fix usage of do_div() in nand erase|read|write process output.

    The last patch to nand_util.c introduced do_div() instead of libgcc's
    implementation. But do_div() returns the quotient in its first
    macro parameter and not as result.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit c750d2e6692a000a82f29de7bf24e3dc21239161
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Wed Sep 12 12:36:53 2007 +0200

    NAND: Add CFG_NAND_QUIET option

    This config option sets the default for the progress information
    output behavior that can also be configured through the 'quiet'
    environment variable.

    The legacy NAND code does not print the current progress info
    on the console. So this option is for backward compatibility for
    units that are in the field and where setting the quiet variable
    is not an option. With CFG_NAND_QUIET set to '1' the console
    progress info is turned off. This can still be overwritten
    through the environment variable.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit dcb88630290d2bcd803386dd4c2be73142994c4f
Author: Liew Tsi Chung-r5aahp <Tsi-chung.Liew@freescale.com>
Date:	Thu Sep 13 16:06:05 2007 -0700

    ColdFire: fix build error becasue of bad type of mii_init()

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 314d5b6ce52a4ed19dd295d1364e246c5e605017
Author: Liew Tsi Chung-r5aahp <Tsi-chung.Liew@freescale.com>
Date:	Thu Sep 13 16:04:05 2007 -0700

    ColdFire: Fix build error caused by pixis.c

    Moved the #include <asm/cache.h> inside the #ifdef CONFIG_FSL_PIXIS.

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit e21659e30660a1377c42af135a6114efe39801d9
Author: Sam Sparks <SSparks@twacs.com>
Date:	Fri Sep 14 11:14:42 2007 -0600

    Update MPC8349ITX*_config to place config.tmp in right place.

    MPC834ITX*_config does not store config.tmp at the correct locatation,
    causing MPC8349ITXGP to have the wrong TEXT_BASE.

    Signed-off-by: Sam Sparks <SSparks@twacs.com>
    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 1218abf1b5817a39a82399b4b928b00750575bda
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Sep 15 20:48:41 2007 +0200

    Fix cases where DECLARE_GLOBAL_DATA_PTR was not declared as global

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 66b3f24d665be678a9dbb125b1e84185400f63b5
Author: Dirk Behme <dirk.behme@googlemail.com>
Date:	Sat Sep 15 11:55:42 2007 +0200

    Make DECLARE_GLOBAL_DATA_PTR global for DaVinci

    As discussed in [1], DECLARE_GLOBAL_DATA_PTR has to be global and not
    function local.

    Signed-off-by: Dirk Behme <dirk.behme@gmail.com>

    [1] http://article.gmane.org/gmane.comp.boot-loaders.u-boot/31805

commit 991b089d1ce5ad945725e3657a8f106dfa02a38e
Author: Michal Simek <monstr@monstr.eu>
Date:	Sat Sep 15 00:03:35 2007 +0200

    Synchronize with U-BOOT mainline

commit d7fee32b7e61fe11c64e371cde79faa4768e8350
Author: Sam Sparks <SSparks@twacs.com>
Date:	Fri Sep 14 11:14:42 2007 -0600

    Update MPC8349ITX*_config to place config.tmp in right place.

    MPC834ITX*_config does not store config.tmp at the correct locatation,
    causing MPC8349ITXGP to have the wrong TEXT_BASE.

    Signed-off-by: Sam Sparks <SSparks@twacs.com>
    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 6e7b7b6ea1b6d04dbe96242eb6a0c1c664c98e8c
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Thu Sep 13 18:21:48 2007 +0200

    cm5200: Fix a typo introduced by afaac86fe2948ac84cd9a12bbed883b3c683e7d9

    Signed-off-by: Marian Balakowicz <m8@semihalf.com>

commit e1f601b572db5de9aa81a0b77c68a86994fe24c4
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Thu Sep 13 16:33:59 2007 +0200

    tqm5200: Restore customary env. variable boot commands for powerpc kernels

    - update default definitions of kernel_addr and fdt_addr env. variables
    - make arch/powerpc booting the default scenario
    - update MTD partition layout to match the above

    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>

commit f34024d4a328e6edd906456da98d2c537155c4f7
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Sep 12 00:48:57 2007 +0200

    Fix memory corruption problem on STX GP3 SSA Board.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit d94c79e47011af5e8dd10ed6163c09b4cfc743cc
Author: Peter Pearse <peter.pearse@arm.com>
Date:	Tue Sep 11 15:35:01 2007 +0100

    Final tidy

commit 38ad82da0c1180ecdeb212a8f4245e945bcc546e
Author: Grzegorz Bernacki <gjb@semihalf.com>
Date:	Tue Sep 11 15:42:11 2007 +0200

    [GP3SSA] Add define CONFIG_MPC85XX_PCI2 in config file to allow u-boot to
    scan on second pci bus.

    Signed-off-by: Grzegorz Bernacki <gjb@semihalf.com>

commit 6c2f4f388e8181655ea8b69343ea00b68aa6e8d0
Author: Grzegorz Bernacki <gjb@semihalf.com>
Date:	Tue Sep 11 12:57:52 2007 +0200

    [ppc4xx] Individual handling of sdram.c for bamboo_nand build

    Bamboo has a file sdram.c which needs special treatment when building in
    separate directory. It has to be linked to build directory otherwise it is
    not seen.

    Signed-off-by: Grzegorz Bernacki <gjb@semihalf.com>

commit d45963854eff39d575124d859419bb4953ce2c87
Author: Michal Simek <monstr@monstr.eu>
Date:	Tue Sep 11 00:37:04 2007 +0200

    [FIX] Microblaze ML401 - repare FLASH handling

commit 38c1ef728d19950414a8ab1ccfc53767848fa346
Author: Sean MCGOOGAN <sean.mcgoogan@st.com>
Date:	Mon Sep 10 16:55:59 2007 +0100

    Allocate CPU Architecture Code for STMicroelectronics' ST200.

    Signed-off-by: Sean McGoogan <Sean.McGoogan@st.com>
    ---------------------------------------------------

commit 754bac48156f8958d8f6a53a51eda88ab5758929
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Sep 10 20:42:31 2007 +0200

    Update version to match current state.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 7a888d6b3c32a126dbb504ef146bb4c26574ca7b
Author: Grzegorz Bernacki <gjb@semihalf.com>
Date:	Mon Sep 10 17:39:08 2007 +0200

    [MPC512x] Streamline frame handling in the FEC driver

    - convert frame size settings to be derived from a single base
    - set frame size to the recommended default value

    Signed-off-by: Grzegorz Bernacki <gjb@semihalf.com>

commit e251e00d0db4b36d1d2b7e38fec43a7296b529a2
Author: Kyungmin Park <kmpark@infradead.org>
Date:	Mon Sep 10 11:34:00 2007 +0900

    Remove compiler warning: target CPU does not support interworking

    Signed-off-by: Kyungmin Park <kyungmin.park@samsung.com>

commit 1d9e31e04911a6bb7cc66dd91132c699101c32e2
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Sep 9 21:21:33 2007 +0200

    Fix compile error in spc1920 config.

    Signed-off-by: Markus Klotzbcher <mk@denx.de>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit a7d7eca791a37f452c9da10fef4b31dd7aa9a622
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Fri Sep 7 09:25:07 2007 -0600

    Bugfix: make bootm+libfdt compile on boards with no flash

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 6efc1fc0b63e55f94c5bc61d8dd23c918e3bc778
Author: Grzegorz Bernacki <gjb@semihalf.com>
Date:	Fri Sep 7 18:35:37 2007 +0200

    [PPC440SPe] PCIe environment settings for Katmai and Yucca

    - 'pciconfighost' is set by default in order to be able to scan bridges
    behind the primary host/PCIe

    - 'pciscandelay' env variable is recognized to allow for user-controlled
    delay before the PCIe bus enumeration; some peripheral devices require a
    significant delay before they can be scanned (e.g. LSI8408E); without the
    delay they are not detected

    Signed-off-by: Grzegorz Bernacki <gjb@semihalf.com>

commit 7f1913938984ef6c6a46cb53e003719196d9c5de
Author: Grzegorz Bernacki <gjb@semihalf.com>
Date:	Fri Sep 7 18:20:23 2007 +0200

    [PPC440SPe] Improve PCIe configuration space access

    - correct configuration space mapping
    - correct bus numbering
    - better access to config space

    Prior to this patch, the 440SPe host/PCIe bridge was able to configure only the
    first device on the first bus. We now allow to configure up to 16 buses;
    also, scanning for devices behind the PCIe-PCIe bridge is supported, so
    peripheral devices farther in hierarchy can be identified.

    Signed-off-by: Grzegorz Bernacki <gjb@semihalf.com>

commit 15ee4734e4e08003d73d9ead3ca80e2a0672e427
Author: Grzegorz Bernacki <gjb@semihalf.com>
Date:	Fri Sep 7 17:46:18 2007 +0200

    [PPC440SPe] Convert machine check exceptions handling

    Convert using fixup mechanism to suppressing MCK for the duration of config
    read/write transaction: while fixups work fine with the case of a precise
    exception, we identified a major drawback with this approach when there's
    an imprecise case. In this scenario there is the following race condition:
    the fixup is (by design) set to catch the instruction following the one
    actually causing the exception; if an interrupt (e.g. decrementer) happens
    between those two instructions, the ISR code is executed before the fixup
    handler the machine check is no longer protected by the fixup handler as it
    appears as within the ISR code. In consequence the fixup approach is being
    phased out and replaced with explicit suppressing of MCK during a PCIe
    config read/write cycle.

    Signed-off-by: Grzegorz Bernacki <gjb@semihalf.com>

commit ff7640c9ead8806b5d827f2b29f9cb2632add729
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Sep 7 17:43:36 2007 +0200

    Fix typo in MAKEALL script.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 08e2e5fcd2e06670b62e1680a3934c0e55c72810
Author: Grzegorz Bernacki <gjb@semihalf.com>
Date:	Fri Sep 7 17:09:21 2007 +0200

    [MPC512x] Proper handling of larger frames in the FEC driver

    When frame larger than local RX buffer is received, it is split and handled
    by two buffer descriptors. Prior to this patch the FEC driver discarded
    contents of a buffer descriptor without the 'LAST' bit set, so the first
    part of the frame was lost in case of larger frames. This fix allows to
    safely combine the two pieces into the whole frame.

    Signed-off-by: Grzegorz Bernacki <gjb@semihalf.com>

commit 8d17979d0359492a822a0a409d26e3a3549b4cd4
Author: Rafal Jaworowski <raj@semihalf.com>
Date:	Fri Sep 7 17:05:36 2007 +0200

    [MPC512x] Correct fixup relocation

    Signed-off-by: Rafal Jaworowski <raj@semihalf.com>

commit a89cbbd27a60e6740772000fd0688ffba1c2576a
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Sep 7 01:21:25 2007 +0200

    Update CHANGELOG, minor coding style cleanup.

commit 5e5803e119de3bebd76fc9a57baac0b5aeccc8a3
Author: stefano babic <sbabic@denx.de>
Date:	Thu Aug 30 23:01:49 2007 +0200

    PXA270: Added support for TrizepsIV board.

    This patch add support for the Trizeps IV module (520Mhz).

    Signed-off-by: Stefano Babic <sbabic@denx.de>

commit 80172c6181c912fbb34ea3ba0c22b232b419b47f
Author: stefano babic <sbabic@denx.de>
Date:	Thu Aug 30 22:57:04 2007 +0200

    PXA270: Add support for multiple serial ports.

    This patch adds support for multiple serial ports to the PXA target.
    FFUART, BTUART and STUART are supported.

    Signed-off-by: Stefano Babic <sbabic@denx.de>

commit 28bb3f72c687ac6b2eb076b01dd21a5fd657d45e
Author: stefano babic <sbabic@denx.de>
Date:	Thu Aug 30 22:48:47 2007 +0200

    PXA270: fix compile issue (invalid lvalue)

    Code is broken for PXA270 due to "invalid lvalue in assignment".

    This patch fix it in pxa-regs.h

    Signed-off-by: Stefano Babic <sbabic@denx.de>

commit 1d2ca446e1a731df420206d04fe278c27ea6b8e8
Author: Jason Jin <Jason.jin@freescale.com>
Date:	Thu Aug 30 18:19:05 2007 +0800

    Add BUILD_DIR support for bios emulator.

    Signed-off-by: Jason Jin <Jason.jin@freescale.com>

commit b4d8a55145442f136982634862341a3e02002bda
Author: Shinya Kuribayashi <shinya.kuribayashi@necel.com>
Date:	Fri Aug 31 14:41:51 2007 +0900

    [MIPS] Remove inline asm string functions

    Stop using inline string functions on MIPS as other ARCHs do so,
    since the optimized inline asm versions are not small.

    This change is triggered by a following MIPS build error:
    common/libcommon.a(exports.o)(.text+0xdc): In function `jumptable_init':
    common/exports.c:32: undefined reference to `strcmp'
    make: *** [u-boot] Error 1

    Signed-off-by: Shinya Kuribayashi <shinya.kuribayashi@necel.com>

commit 8ea2c4e54833deaebc24c3ca6b7f21353c25b0f5
Author: Shinya Kuribayashi <shinya.kuribayashi@necel.com>
Date:	Fri Aug 31 14:41:45 2007 +0900

    [MIPS] Update asm string header

    This patches contains several bugfixes and cleanups in the latest upstream:

     - Don't include linux/config.h
     - Remove buggy inline version of memscan.
     - Merge with Linux 2.6.11-rc3.
     - Fix undefined reference to strcpy in binfmt_misc caused by gcc 3.4.
     - Goodbye mips64.	31704 lines of code bite the dust.
     - Replace extern inline with static inline.
     - Fix return value of strncpy.
     - Remove a bunch more "$1" clobbers.

    Signed-off-by: Shinya Kuribayashi <shinya.kuribayashi@necel.com>

commit 5b729fb3bd98f49855d6bfc657c3fbae95f2adc2
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Tue Sep 4 17:31:22 2007 +0200

    Fix do_bootm_linux() so that multi-file images with FDT blob boot.

    Fix incorrect blob address calculation in do_bootm_linux() that prevents
    booting the kernel from a multi-file image (kernel + initrd + blob).

    Also, make minor updates to the U-Boot's output and to the coding style.

    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>

commit 041a2554ad619e80dce520c1a33210affcb6a3f2
Author: Gary Jennejohn <gary.jennejohn@freenet.de>
Date:	Fri Aug 31 14:29:04 2007 +0200

    Add support for Sil680 IDE controller.

    o add drivers/sil680.c to support the Sil680 IDE-controller.
    o drivers/Makefile: add sil680.o.

    Signed-off-by: Gary Jennejohn <garyj@denx.de>

commit e79021223bc339df655e360645a52c457a74b067
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Thu Sep 6 09:47:40 2007 -0600

    bootm/fdt: Only process the fdt if an fdt address was provided

    Boards with CONFIG_OF_LIBFDT enabled are not able to boot old-style
    kernels using the board info structure (instead of passing a device tree)
    This change allows the old style booting to be used if the fdt argument
    was not passed to 'bootm'.

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>
    Acked-by: Kim Phillips <kim.phillips@freescale.com>

commit cf2817a84c2e9bea2c5dfc084bce2f2d2563ac43
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Thu Sep 6 09:46:23 2007 -0600

    Migrate 5xxx boards from CONFIG_OF_FLAT_TREE to CONFIG_OF_LIBFDT

    Affects boards: icecube (lite5200), jupiter, motionpro, tqm5200

    Tested on: lite5200b

    Note: the fixup functions have not been moved to a common place.  This
    patch is targeted for immediate merging as in solves a build issue, but
    the final name/location of the fixups is still subject to debate.  I
    propose to merge this now, and move the fixups in the next merge window
    to be usable by all targets.

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 41bb76e941929f54a73206fb132f7a4c275543a3
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Thu Sep 6 09:46:17 2007 -0600

    libfdt: add convenience function fdt_find_and_setprop()

    Given the path to a node, fdt_find_and_setprop() allows a property value
    to be set directly.

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 80767a6cead9990d9e77e62be947843c2c72f469
Author: Peter Pearse <peter.pearse@arm.com>
Date:	Wed Sep 5 16:04:41 2007 +0100

    Changed API name to coloured_led.h
    Removed code using deprecated ifdef CONFIG_BOOTBINFUNC
    Tidied other cpu/arm920t/start.S code

commit 56a9270521baaa00e12639a978302a67f61ef060
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Aug 30 16:18:18 2007 -0500

    Fix ULI RTC support on MPC8544 DS

    The RTC on the M1575 ULI chipset requires a dummy read before
    we are able to talk to the RTC.  We accomplish this by adding a
    second memory region to the PHB the ULI is on and read from it.

    The second region is added to maintain compatiabilty with Linux's
    view of the PCI memory map.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit f75e89e9b5714db2b0e80074071dfbdd6f59488a
Author: Ed Swarthout <Ed.Swarthout@freescale.com>
Date:	Thu Aug 30 01:58:48 2007 -0500

    ft_board_setup update 85xx/86xx of pci/pcie bus-range property.

    pcie is now differentiated from pci.  Add 8641 bus-range updates.

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>

commit 9f5c3d3720e777a572dcdc8af2008b44c7243885
Author: Peter Pearse <peter.pearse@arm.com>
Date:	Tue Sep 4 16:18:38 2007 +0100

    Add coloured led interface for ARM boards.
    Use it in cpu/arm920t/start.S to indicate U-Boot code has been entered.

commit 7462fe0d5a9d40cde083fb1a3cd73911996b5ecb
Author: Peter Pearse <peter.pearse@arm.com>
Date:	Tue Sep 4 14:49:28 2007 +0100

    Move include/led.h to board/at91rm9200dk

commit 6e4bf9b24e57c15abc6542e685d06380bc64af27
Author: Peter Pearse <peter.pearse@arm.com>
Date:	Tue Sep 4 14:25:51 2007 +0100

    Ran Lindent on drivers/at45.c

commit 557ab89d294f08dd532f21d19861b40093200a33
Author: Peter Pearse <peter.pearse@arm.com>
Date:	Tue Sep 4 14:23:50 2007 +0100

    Rename CONFIG_CMD_MUX to CONFIG_CMD_AT91_SPIMUX

commit 81b73dec16fd1227369a191e725e10044a9d56b8
Author: Gary Jennejohn <garyj@denx.de>
Date:	Fri Aug 31 15:21:46 2007 +0200

    ppc4xx: (Re-)Enable CONFIG_PCI_PNP on AMCC 440EPx Sequoia

    The 440EPx has a problem when the PCI_CACHE_LINE_SIZE register is
    set to non-zero, because it doesn't support MRM (memory-read-
    multiple) correctly. We now added the possibility to configure
    this register in the board config file, so that the default value
    of 8 can be overridden.

    Here the details of this patch:

    o drivers_pci_auto.c: introduce CFG_PCI_CACHE_LINE_SIZE to allow
      board-specific settings. As an example the sequoia board requires 0.
      Idea from Stefan Roese <sr@denx.de>.
    o board/amcc/sequoia/init.S: add a TLB mapping at 0xE8000000 for the
      PCI IO-space. Obtained from Stefan Roese <sr@denx.de>.
    o include/configs/sequoia.h: turn CONFIG_PCI_PNP back on and set
      CFG_PCI_CACHE_LINE_SIZE to 0.

    Signed-off-by: Gary Jennejohn <garyj@denx.de>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 60174746c668b309378a91488dded898e9553eae
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Aug 31 10:01:51 2007 +0200

    Fix TFTP OACK code for short packets.

    The old code had a loop limit overflow bug which caused a semi-
    infinite loop for small packets, because in "i<len-8", "i" was signed,
    but "len" was unsigned, and "len-8" became a huge number for small
    values of "len".

    This is a workaround which replaces broken commit 8f1bc284.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 696dd1307cd8e73a10e9bb3c51731bfd6f837bee
Author: Hans-Christian Egtvedt <hcegtvedt@atmel.com>
Date:	Thu Aug 30 15:03:05 2007 +0200

    Reduce BOOTDELAY variable to 1 second by default for STK1002

    Signed-off-by: Hans-Christian Egtvedt <hcegtvedt@atmel.com>
    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit c88b6e1cbf9a8ae2a34fb602f78a1bf4e6692b6a
Author: Hans-Christian Egtvedt <hcegtvedt@atmel.com>
Date:	Thu Aug 30 15:03:04 2007 +0200

    Remove double quotation marks around MAC address for STK1002

    Signed-off-by: Hans-Christian Egtvedt <hcegtvedt@atmel.com>
    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit ff13ac8c7bbebb238e339592de765c546dba1073
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Aug 30 14:42:15 2007 +0200

    Backout commit 8f1bc284 as it causes TFTP to fail.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 1900fbf255acba8b94fb442a16408ea85a1d46a6
Author: Ed Swarthout <Ed.Swarthout@freescale.com>
Date:	Thu Aug 30 02:26:17 2007 -0500

    Revert "Fix MPC8544DS PCIe3 scsi."

    This reverts commit 9468e680.
    Commit 16e23c3f5da removing allocation of PCSRBAR is sufficient.

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>

commit 8f1bc28408ded213418d9bc0780c7d8fb8a03774
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Wed Aug 29 18:26:24 2007 -0600

    tftp: don't implicity trust the format of recevied packets

    The TFTP OACK code trusts that the incoming packet is formated as
    ASCII text and can be processed by string functions. It also has a
    loop limit overflow bug where if the packet length is less than 8, it
    ends up looping over *all* of memory to find the 'blksize' string.

    This patch solves the problem by forcing the packet to be null
    terminated and using strstr() to search for the sub string.

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 04625764cc93ce8a61625ac19d7fe2a2ceee8143
Author: Stefan Roese <sr@denx.de>
Date:	Wed Aug 29 16:31:18 2007 +0200

    ppc4xx: Change lwmon5 default environment to support Linux RTC

    The Linux PCF8563 RTC driver doesn't do autoprobing, so we need
    to supply the RTC I2C address as bootline parameter. This patch
    adds support for this rtc probing parameter to the bootargs:

    "rtc-pcf8563.probe=0,0x51"

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 2602a5c40ae37ab965a4e240854fdaffb51328a4
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Wed Aug 29 09:06:05 2007 -0500

    sbc8641: remove unused OF_FLAT_TREE_MAX_SIZE

    this had slipped through the cracks, since the sbc board was added
    after I wrote the original patch to remove all these symbols, and
    before it was merged.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit c5bded3c88e48ae648a75d357dc81a8255fa81f1
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Aug 29 14:05:30 2007 +0200

    Add mii_init() prototype

    to get rid of a *lot* of compiler warnings.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 2d1f23aa1e74e4a8f8ffa67f246eb98c522dfd7f
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Aug 29 13:35:03 2007 +0200

    Disable network support on cmi_mpc5xx board

    ..because it caused compiler errors and there seems to be no
    board maintainer to take care of this.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 9468e6804b7e25b0f6f52e53f47bce3175400a16
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Mon Aug 20 09:44:00 2007 -0500

    Fix MPC8544DS PCIe3 scsi.

    <ed.swarthout@freescale.com>

    The problem is pciauto_setup_device() getting called from fsl_pci_init.c
    is allocating memory space it doesn't need.

    Signed-off-by: Ed Swarthout <ed.swarthout@freescale.com>
    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 4bf4abb8a4e9955556b120a1aafa30c03e74032a
Author: Ed Swarthout <Ed.Swarthout@freescale.com>
Date:	Tue Aug 21 09:38:59 2007 -0500

    8548cds fixes

    Restore CONFIG_EXTRA_ENV_SETTINGS definition which contains the
    correct consoledev needed for linux boot.
    Standardize on fdt{file,addr} var to hold dtb file name.

    Set PCI inbound memory region from CFG_MEMORY_{BUS,PHYS}.

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>

commit 7a1ac419fa0d2d23ddd08bd61d16896a9f33c933
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Thu Aug 23 15:20:54 2007 -0400

    Enable L2 cache for MPC8568MDS board

    The L2 cache size is 512KB for 8568, print out the correct informaiton.

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>

commit 94c47fdaf14cb29fa3fb4d4da2efdd96c803b46b
Author: Jason Jin <Jason.jin@freescale.com>
Date:	Wed Aug 22 17:54:49 2007 +0800

    Remove the bios emulator binary files from MAI board

    Signed-off-by: Jason Jin <Jason.jin@freescale.com>

commit 7608d75f9c87c9eb5b3a43219d0506d3e979a13f
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Tue Aug 21 17:00:17 2007 -0500

    support board vendor-common makefiles

    if a board/$(VENDOR)/common/Makefile exists, build it.

    also add the first such case, board/freescale/common/Makefile, to
    handle building board-shared EEPROM, PIXIS, and MDS-PIB code, as
    dictated by board configuration.

    thusly get rid of alternate build dir errors such as:

    FATAL: can't create /work/wd/tmp/u-boot-ppc/board/freescale/mpc8360emds/../common/pq-mds-pib.o: No such file or directory

    by putting the common/ mkdir command in its proper place (the common
    Makefile). Common bits from existing individual board Makefiles have
    been removed.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit ef8f20752712dc1cdbd86f47e3bd6e35f81c83fd
Author: stefano babic <sbabic@denx.de>
Date:	Tue Aug 21 15:52:33 2007 +0200

    Fix: TFTP is not working on little endian systems

    TFTP does not work anymore after multicast tftp
    patch was applied on little endian systems.
    This patch fix it.

    Signed-off-by: Stefano Babic <sbabic@denx.de>

commit 5f470948570526e9186f053a3003da7719604e90
Author: stefano babic <sbabic@denx.de>
Date:	Tue Aug 21 15:50:33 2007 +0200

    Fix MAC address setting in DM9000 driver.

    The logic to check if there is a correct MAC address in the DM9000
    EEPROM, added in the last patch, is wrong. Now the MAC address is
    always taken from the environment, even if a suitable MAC is present
    in the EEPROM.

    Signed-off-by: Stefano Babic <sbabic@denx.de>

commit 4a8527ef086ec7c89f40674ef024ae6f988a614a
Author: Martin Krause <martin.krause@tqs.de>
Date:	Tue Aug 21 12:40:34 2007 +0200

    MPC5xxx: fix some compiler warnings in USB code

    Fix the following warnings:
    - usb.c:xx: warning: function declaration isn't a prototype
    - usb_ohci.c:xxx: warning: passing argument 1 of '__fswab32' makes integer
      from pointer wihtout a cast

    Signed-off-by: Martin Krause <martin.krase@tqs.de>

commit 16e23c3f5dab6937f5109365416808c7f15c122b
Author: Ed Swarthout <Ed.Swarthout@freescale.com>
Date:	Mon Aug 20 23:55:33 2007 -0500

    fsl_pci_init - Remove self PCSRBAR allocation

    CPU physical address space was being wasted by allocating a
    PCSRBAR PCI inbound region to it's memory space.

    As a rule, PCSRBAR should be left alone since it does not affect
    transactions from self and other masters may have changed it.

    Signed-off-by: Ed Swarthout <ed.swarthout@freescale.com>

commit 0e700ce03a23bb1921149bc77008ace7103d5289
Author: Martin Krause <martin.krause@tqs.de>
Date:	Mon Aug 20 13:56:47 2007 +0200

    Fix compiler warning in include/s3c2410.h

    This patch fixes the "type qualifiers ignored on fuction return tpye"
    warning for include/s3c2410.h

    Signed-off-by: Martin Krause <martin.krause@tqs.de>

commit 9bb8b209ed2058a5756ecbeb544c067e44a42aea
Author: Dirk Behme <dirk.behme@googlemail.com>
Date:	Mon Aug 20 07:09:05 2007 +0200

    Fix compilation error for omap2420h4_config.

    omap2420h4 switched to cfi, so remove old (already disabled) flash.c
    and flash_probe() calls in env_flash.c.

    Signed-off-by: Dirk Behme <dirk.behme@gmail.com>

commit 3bb342fc85d79dbb6b8c2039e7cdcddc82b8d90f
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Fri Aug 10 14:34:14 2007 -0500

    fdt: remove unused OF_FLAT_TREE_MAX_SIZE references

    and make some minor corrections to the FDT part of the README.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 6af2eeb1e99c2dcc584d4c5ab7fcae30a325f4de
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Aug 29 01:32:05 2007 +0200

    Minor coding style cleanup.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit a861558c65f65f1cf1302f3a35e9db7686b9e1a3
Author: Heiko Schocher <hs@pollux.denx.de>
Date:	Tue Aug 28 17:40:33 2007 +0200

    [UC101] Fix: if no CF in the board, U-Boot resets sometimes.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit f98984cb194bb34dbe1db9429d3b51133af30d07
Author: Heiko Schocher <hs@pollux.denx.de>
Date:	Tue Aug 28 17:39:14 2007 +0200

    IDE:	- make ide_inb () and ide_outb () "weak", so boards can
	      define there own I/O functions.
	      (Needed for the pcs440ep board).
	    - The default I/O Functions are again 8 Bit accesses.
	    - Added CONFIG_CMD_IDE for the pcs440ep Board.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 2c05fd125744981e5f2828d24e66ccc20a77d25d
Author: Semih Hazar <semih.hazar@indefia.com>
Date:	Mon Aug 20 19:00:01 2007 +0300

    AVR32: Change prototype of memset

    Signed-off-by: Semih Hazar <semih.hazar@indefia.com>
    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 9c02defc29b57945b600714cf61ddfd02b02fb14
Author: Yuri Tikhonov <yur@emcraft.com>
Date:	Sat Aug 25 05:07:16 2007 +0200

    POST: limit memory test area to not touch global data anymore

    As experienced on lwmon5, on some boards the POST memory test can
    corrupt the global data buffer (bd). This patch fixes this issue
    by checking and limiting this area.

    Signed-off-by: Yuri Tikhonov <yur@emcraft.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 75e1a84d483e36be10e206e539b028c4889e1158
Author: Stefan Roese <sr@denx.de>
Date:	Fri Aug 24 15:41:42 2007 +0200

    ppc4xx: Add RTC POST test to lwmon5 board configuration

    Since this RTC POST test is taking quite a while to complete
    it's only initiated upon special keypress same as the complete
    memory POST.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit d7bfa620037a6d2210159387571bdf93aa32c162
Author: Stefan Roese <sr@denx.de>
Date:	Fri Aug 24 15:19:10 2007 +0200

    ppc4xx: Change GPIO signal for watchdog triggering on lwmon5

    Signed-off-by: Stefan Roese <sr@denx.de>

commit c25dd8fc25e9ca3695db996a257d9ba4dab414db
Author: Stefan Roese <sr@denx.de>
Date:	Thu Aug 23 11:02:37 2007 +0200

    ppc4xx: Add support for 2nd I2C EEPROM on lwmon5 board

    This patch adds support for the 2nd EEPROM (AT24C128) on the lwmon5
    board. Now the "eeprom" command can be used to read/write from/to this
    device. Additionally a new command was added "eepromwp" to en-/disable
    the write-protect of this 2nd EEPROM.

    The 1st EEPROM is not affected by this write-protect command.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit c64fb30e4c5976007d56fc1789c7a0666082b536
Author: Stefan Roese <sr@denx.de>
Date:	Wed Aug 22 08:56:09 2007 +0200

    ppc4xx: Remove unused option CFG_INIT_RAM_OCM

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 3ad63878737a5a2b1e60825bf0a7d601d7a695e7
Author: Stefan Roese <sr@denx.de>
Date:	Tue Aug 21 16:27:57 2007 +0200

    ppc4xx: Add matrix kbd support to lwmon5 board (440EPx based)

    This patch adds support for the matrix keyboard on the lwmon5 board.
    Since the implementation in the dsPCI is kind of compatible with the
    "old" lwmon board, most of the code is copied from the lwmon
    board directory.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 3e66c078003607a7d1d214c15a5f262bc1b4032f
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Aug 19 10:27:34 2007 +0200

    Fix some build errors.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 05675735ef77dc23b5e0eb782bad1ff477b55e86
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Aug 18 22:00:38 2007 +0200

    Update CHANGELOG.

commit 79f240f7ecc0506b43ac50d1ea405ff6540d4d57
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Thu Aug 16 22:52:39 2007 -0500

    lib_ppc: make board_add_ram_info weak

    platforms wishing to display RAM diagnostics in addition to size,
    can do so, on one line, in their own board_add_ram_info()
    implementation.

    this consequently eliminates CONFIG_ADD_RAM_INFO.

    Thanks to Stefan for the hint.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 815b5bd5b18569917c3e04b9757511e6ed23b9f6
Author: Shinya Kuribayashi <shinya.kuribayashi@necel.com>
Date:	Fri Aug 17 12:43:44 2007 +0900

    PCI_READ_VIA_DWORD_OP: Fix *val uninitialized bug

    This patch has been sent on:
    - 6 Jun 2007

    Many users of PCI config read routines tend to ignore the function
    ret value, and are only concerned about the contents of *val. Based
    on this, pci_hose_read_config_{byte,word}_via_dword should initialize
    the *val on dword read error.

    Without this fix, for example, we'll go on scanning bus with vendor or
    header_type uninitialized. This brings many unnecessary config trials.

    Signed-off-by: Shinya Kuribayashi <shinya.kuribayashi@necel.com>

commit 26667b7fa05a8bf2fc65fb9f3230b02b1a10c367
Author: Stefan Roese <sr@denx.de>
Date:	Sat Aug 18 14:37:52 2007 +0200

    ColdFire: Fix some remaining problems with CFG_CMD_

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 8280f6a1c43247616b68224675188e5ccd124650
Author: Stefan Roese <sr@denx.de>
Date:	Sat Aug 18 14:33:02 2007 +0200

    Coding style cleanup

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 4a442d3186b31893b4f77c6e82f63c4517a5224b
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Aug 16 19:23:50 2007 -0500

    ColdFire: Add M5235EVB Platform for MCF523x

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 4cc1cd5941827a04cf5c51a07fcc42e8945894aa
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Fri Aug 17 09:30:00 2007 -0500

    mpc83xx: fix typo in DDR2 programming

    introduced in the implement board_add_ram_info patch as I was cleaning out the
    magic numbers.  sorry.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit e58fe95784d2514fc9c21028dc59f2b319a35d80
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Thu Aug 16 22:53:09 2007 -0500

    mpc83xx: move freescale boards to boards/freescale

    includes build fixes.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 5aa4ad8d8e7e9468219990c7875d5fdc9e962f47
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Thu Aug 16 22:52:59 2007 -0500

    mpc83xx: suppress unused variable 'val8' warning

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit bbea46f76f767b919070b4829bf34c86bd223248
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Thu Aug 16 22:52:48 2007 -0500

    mpc83xx: implement board_add_ram_info

    add board_add_ram_info, to make memory diagnostic output more
    consistent. u-boot banner output now looks like:

    DRAM:  256 MB (DDR1, 64-bit, ECC on)

    and for boards with SDRAM on the local bus, a line such as this is
    added:

    SDRAM: 64 MB (local bus)

    also replaced some magic numbers with their equivalent define names.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 14778585d1389d86d5846efec29e5fce892680ce
Author: Tony Li <tony.li@freescale.com>
Date:	Fri Aug 17 10:35:59 2007 +0800

    mpc83xx: Split PIB init code from pci.c and add Qoc3 ATM card support

    The patch split the PIB init code from pci.c to a single file board/freescale/common/pq-mds-pib.c
    And add Qoc3 ATM card support for MPC8360EMDS and MPC832XEMDS board.

    Signed-off-by Tony Li <tony.li@freescale.com>

commit 8ae158cd87a4a25722b27835261b6ff0fa2aa6a7
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Aug 16 15:05:11 2007 -0500

    ColdFire: Add M54455EVB for MCF5445x

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit a1436a842654a8d3927d082a8ae9ee0a10da62d7
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Aug 16 13:20:50 2007 -0500

    ColdFire: Add M5253EVBE platform for MCF52x2

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit a605aacd8324094199402816cc6d9124aba57b8d
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Aug 16 05:04:31 2007 -0500

    ColdFire: Add M5249EVB platform for MCF52x2

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit f28e1bd9daa6de5eb33ae4822bda6b008ccb4e9e
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Aug 15 20:32:06 2007 -0500

    ColdFire: Update Freescale MCF52x2 platforms

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 870470dbf6f4bb9864e0d97aeedbc17c167c6d1c
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Aug 15 19:55:10 2007 -0500

    ColdFire: Update EB+MCF-EV123 platform

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit aa93d859d9b1fcd8eea52d51b06e86c38f72111b
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Aug 15 19:46:38 2007 -0500

    ColdFire: update TASREG platform for MCF52x2

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit a9505510bf56a9b5558248dd8b73ec9d9a1556a2
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Aug 15 19:45:51 2007 -0500

    ColdFire: update r5200 platform for MCF52x2

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 6cfd3c7bc813fb317ab7c0781f0d1874b1c0877c
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Aug 15 19:43:20 2007 -0500

    ColdFire: idmr platform MCF52x2 update

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 6706424d0bb851fb52af00cd1c3301e91ee7f2b0
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Aug 15 19:41:06 2007 -0500

    ColdFire: cobra5272 platform for MCF52x2 update

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 56115665b4a64c10c01440c57749b265e0908fa4
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Aug 15 19:38:15 2007 -0500

    ColdFire: MCF52x2 Header files update

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 83ec20bc4380eebddfde45da6e3a69a92d4db21d
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Aug 15 19:21:21 2007 -0500

    ColdFire: MCF52x2 update

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit f52e78304dcc0ac459c0ea1fa5be275c7d1642cf
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Aug 15 18:46:11 2007 -0500

    ColdFire: MCF5329 update cache

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 7171977fb8fd77cfb6676953fa9a05789c450513
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Aug 15 15:40:20 2007 -0500

    ColdFire: MCF5329 header file clean up

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit ab77bc547ba561c25ea34457ed17aa0b2f7c2723
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Wed Aug 15 15:39:17 2007 -0500

    ColdFire: MCF5329 Update and cleanup

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 10327dc5541f947c0cf7e31fef86c4706169607a
Author: Andy Fleming <afleming@freescale.com>
Date:	Thu Aug 16 16:35:02 2007 -0500

    Add CONFIG_HAS_ETH0 to all boards with TSEC

    The 85xx code now relies on CONFIG_HAS_ETH0 to determine whether
    to update TSEC1's device-tree node, so we need to add it
    to all the boards with TSECs.  Do this for 83xx and 86xx, too,
    since they will eventually do something similar.

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit d64ee908a1b525e5bb2b4cbeb5c449ad6a469666
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Aug 16 15:05:04 2007 -0500

    Update MPC8544 DS PCI memory map

    The PCIe bus that the ULI M1575 is connected to has no possible way of
    needing more than the fixed amount of IO & Memory space needed by the ULI.

    So make it use far less IO & memory space and have it use the shared LAW.  This
    free's up a LAW for PCIe1 IO space.  Also reduce the amount of IO space needed
    by each bus.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit ea5877e31ed63ade948fd1293895ec23fe01472e
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Thu Aug 16 11:01:21 2007 -0500

    Fix up some fdt issues on 8544DS

    It looks like we had a merge issue that duplicated a bit of code
    in ft_board_setup.	Also, we need to set CONFIG_HAS_ETH0 to get
    the MAC address properly set in the device tree on boot for TSEC1

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 07bc20560cb9d3d186cca268c05c82762e8c55ad
Author: Niklaus Giger <niklaus.giger@netstal.com>
Date:	Thu Aug 16 15:16:03 2007 +0200

    PPC4xx:HCU4/5 cleanup

    Minor cleanups to confirm to the u-boot coding style.
    Some german expressions -> english.
    HCU5 enforces a unique IP adress for a given slot in the rack.

    Signed-off-by: Niklaus Giger <niklaus.giger@netstal.com>

commit 1e6b07c64967c1eb2cd84faa4c32bf2a769bc8eb
Author: Niklaus Giger <niklaus.giger@netstal.com>
Date:	Thu Aug 16 15:16:02 2007 +0200

    PPC4xx:HCU4/5 cleanup ecc/sdram init

    Make ecc initialisation robust, as DDR2-ECC errors may be generated
    while zeroing the RAM.

    Return 16 bytes (a cacheline) less than the available memory, as the
    board and/or PPC440EPx might have problems accessing the last bytes.

    Signed-off-by: Niklaus Giger <niklaus.giger@netstal.com>

commit d35b508a55508535b6e8445b718585d27df733d3
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Wed Aug 15 22:29:56 2007 -0500

    fdt: suppress unused variable 'bd' warning

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 82bd9ee77490588d4da785d75829ca63d0176baf
Author: Andy Fleming <afleming@freescale.com>
Date:	Wed Aug 15 20:06:50 2007 -0500

    Fix warnings from of_data copy fix

    Forgot to cast of_flat_tree to ulong.

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 7613afda77d5eec0f47d303025b0c661b70e4c73
Author: Andy Fleming <afleming@freescale.com>
Date:	Wed Aug 15 20:03:44 2007 -0500

    Don't wait for disconnected TSECs

    The TSEC driver's PHY code waits a long time for autonegotiation to
    complete, even if the link is down.  The PHY knows the link is
    down or up before autonegotiation completes, so we can short-circuit
    the process if the link is down.

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit b96c83d4ae475a70ef2635cd0e748174c44c8601
Author: Andy Fleming <afleming@freescale.com>
Date:	Wed Aug 15 20:03:34 2007 -0500

    Fix numerous bugs in the 8568 UEC support

    Actually, fixed a large bug in the UEC for *all* platforms.
    How did this ever work?

    uec_init() did not follow the spec for eth_init(), and returned
    0 on success.  Switch it to return the link like tsec_init()
    (and 0 on error)

    The immap for the 8568 was defined based on MPC8568, rather than
    CONFIG_MPC8568

    CONFIG_QE was off

    CONFIG_ETHPRIME was set to "Freescale GETH".  Now is "FSL UEC0"

    Fixed a comment about the ranges for CONFIG_ETHPRIME if TSEC_ENET is
    enabled

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 3a79013e2adda53332dfd0b511066a805e929a9d
Author: Andy Fleming <afleming@freescale.com>
Date:	Wed Aug 15 20:03:25 2007 -0500

    Define tsec flag values in config files

    The tsec_info structure and array has a "flags" field for each
    ethernet controller.  This field is the only reason there are
    settings.  Switch to defining TSECn_FLAGS for each controller
    in the config header, and we can greatly simplify the array, and
    also simplify the addition of future boards.

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit ec7238229507e7f47533a611ea8c53319d234cf3
Author: Andy Fleming <afleming@freescale.com>
Date:	Wed Aug 15 20:03:13 2007 -0500

    Add support for building all boards with a TSEC

    Changes to the TSEC driver affect almost all 83xx, 85xx, and 86xx boards.
    Now we can do a MAKEALL test on all of them!

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 10aaf716cb0dc6614df54ef78bed5144afd23ef8
Author: Andy Fleming <afleming@freescale.com>
Date:	Wed Aug 15 17:30:56 2007 -0500

    Fix of_data copying for CONFIG_OF_FLAT_TREE-using boards

    The fix, "Fix where the #ifdef CFG_BOOTMAPSZ is placed"
    neglected to *also* put the code inside the similar #ifdef
    for CONFIG_OF_FLAT_TREE.

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 78f9fef7f406078c8bf7191e665a73f795157746
Author: Scott Wood <scottwood@freescale.com>
Date:	Wed Aug 15 15:46:46 2007 -0500

    mpc885ads: Don't define CONFIG_BZIP2.

    bzip2 requires a significant chunk of malloc space, and there isn't
    enough room on mpc885ads (with only 8MB RAM) for both bzip2's malloc area
    and a downloaded image at 0x400000.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 002275a3ed8b114885f6702d6d544d0780dfe689
Author: Michal Simek <Monstr@seznam.cz>
Date:	Thu Aug 16 08:54:10 2007 +0200

    Bios emulator - fix microblaze toolchain problem

    microblaze CPU have problem with bios_emulator code.
    Microblaze toolchain doesn't support PRAGMA PACK.

    Signed-off-by: Michal Simek <monstr@monstr.eu>

commit a5a38f4fd7e5366d706ff6a985f9b6715ddbc98b
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Aug 16 11:51:04 2007 +0200

    Minor Coding Style fix; Update CHANGELOG file.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 8fb6e80c06849e3013ac5c9350d8ed9e52967991
Author: Stefan Roese <sr@denx.de>
Date:	Thu Aug 16 11:21:49 2007 +0200

    ppc4xx: Remove #warning in esd auto_update.c

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 2d78074d2e806edc380c1464eb9e5df335ece65e
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jun 22 17:32:28 2007 +0200

    ppc7xx: Update CPCI750 board

    This small CPCI750 update extends the board specific command
    "show_config" to display the Marvell strapping registers and
    extends the PCI IDE controller.

    Signed-off-by: Reinhard Arlt <reinhard.arlt@esd-electronics.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 78cff50edba6b1508eb15c2f53ce966ac891eb9e
Author: Michal Simek <monstr@monstr.eu>
Date:	Thu Aug 16 10:46:28 2007 +0200

    [FIX] Changes for bios_emulator code for others architecture

commit 6e0e2253f039344f8ebd2787285fdba90e6714e8
Author: Michal Simek <monstr@monstr.eu>
Date:	Thu Aug 16 10:45:09 2007 +0200

    [FIX] Remove unused include file

commit 9de469bd960cc1870bb40d6672ed42726b8b50d7
Author: Stefan Roese <sr@denx.de>
Date:	Thu Aug 16 10:18:33 2007 +0200

    ppc4xx: Only enable POST FPU test on Sequoia and not Rainier

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 6da0c5bd4a53e40eb4f7eb72a4c051ecabad783c
Author: Stefan Roese <sr@denx.de>
Date:	Thu Aug 16 09:54:51 2007 +0200

    Add missing rainier (PPC440GRx) target to MAKEALL and MAINTAINERs files

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 02ba7022f62bb75908296c58c63866e1d294b69a
Author: Stefan Roese <sr@denx.de>
Date:	Thu Aug 16 09:52:29 2007 +0200

    ppc4xx: Update Sequoia/Rainier bootstrap command

    As suggested by David Mitchell, here an update for the Sequoia/Rainier
    bootstrap command.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 35cc4e4823668e8745854899cfaedd4489beb0ef
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Wed Aug 15 22:30:39 2007 -0500

    mpc83xx: enable libfdt by default on freescale boards

    this enables libfdt code by default for the
    freescale mpc8313erdb, mpc832xemds, mpc8349emds,
    mpc8349itx and gp boards.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 3fde9e8b22cfbd7af489214758f9839a206576cb
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Wed Aug 15 22:30:33 2007 -0500

    mpc83xx: migrate remaining freescale boards to libfdt

    this adds libfdt support code for the freescale
    mpc8313erdb, mpc832xemds, mpc8349emds, mpc8349itx,
    and gp boards.

    Boards remain compatible with OF_FLAT_TREE.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 6a16e0dfcc4119b46adb1dce2d6c8fb3c5d108e1
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Wed Aug 15 22:30:26 2007 -0500

    mpc83xx: move common /memory node update mechanism to cpu.c

    also adds common prototypes to include/common.h.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 8f9e0e9f339aee4ce31a338d5f27356eb5457f85
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Wed Aug 15 22:30:19 2007 -0500

    mpc83xx: remaining 8360 libfdt fixes

    PCI clocks and QE frequencies weren't being updated, and the core clock
    was being updated incorrectly.  This patch also adds a /memory node if
    it doesn't already exist prior to update.

    plus some cosmetic trimming to single line comments.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit f4b2ac5ed9aaff9920d487bff8a59696c083a524
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Wed Aug 15 22:30:12 2007 -0500

    mpc83xx: fix UEC2->1 typo in libfdt setup code

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 19fa1c35368484d4ed10ddce8a7793c21862e3a3
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Wed Aug 15 22:30:05 2007 -0500

    mpc83xx: add MAINTAINER and MAKEALL entries for the mpc8323erdb

    and reorder the existing 83xx maintainers alpha.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 5b4de9309d7a03aa1db2e5391ab696363391f460
Author: Michal Simek <monstr@monstr.eu>
Date:	Wed Aug 15 21:15:05 2007 +0200

    [FIX] Resolve problem with warnings
    microblaze toolchain don't support PRAGMA PACK.

commit d1ed28cf36ab6b1d4c479809de7252bf53d2f2d4
Author: Michal Simek <monstr@monstr.eu>
Date:	Wed Aug 15 21:05:07 2007 +0200

    [FIX] Correction command setting for Microblaze boards

commit 7aa63d8cd30ab20ac2fd1ab86e60471de8b1f1e5
Author: Michal Simek <monstr@monstr.eu>
Date:	Wed Aug 15 21:03:41 2007 +0200

    [FIX] Correction command definition

commit 30b52df9e906bf0e465916c2c6bb5192b438e0b8
Author: Jon Loeliger <jdl@freescale.com>
Date:	Wed Aug 15 11:55:35 2007 -0500

    86xx: Fix lingering CFG_CMD_* references in sbc8641d.h

    Remove a leftover in net/tftp.c while we're at it.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 4ce917742b1e48faa9bf9a9757545e56fb4cfe44
Author: Jon Loeliger <jdl@freescale.com>
Date:	Wed Aug 15 12:20:40 2007 -0500

    Move the MPC8641HPCN board under board/freescale.

    Minor path corrections needed to ensure buildability.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 8662577fe36fdb6a44b55b998d9daac6392a736a
Author: Jon Loeliger <jdl@freescale.com>
Date:	Wed Aug 15 11:46:22 2007 -0500

    86xx: Fix lingering CFG_CMD_* references in sbc8641d.h

    Remove a leftover in net/tftp.c while we're at it.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 210f463c71917b7a4495c2103c228b9c179ae64d
Author: Jerry Van Baren <gvb.uboot@gmail.com>
Date:	Wed Aug 15 11:13:15 2007 -0400

    Fix where the #ifdef CFG_BOOTMAPSZ is placed.

    Commit 073e1b509980cefe6f53c2d7fbbcd135df1e3924 "Fix initrd/dtb
    interaction" put the new code outside of the #if defined(CONFIG_OF_LIBFDT)
    when it should have gone inside of the conditional.  As a result, it
    broke non-LIBFDT board builds.

    Also added a missing "not." to the comment.

    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>

commit 0e19209767194a97cec6d93dba9e64d1da8d548e
Author: Niklaus Giger <niklaus.giger@netstal.com>
Date:	Wed Aug 15 12:14:23 2007 +0200

    PPC4xx:HCU4/5-Board fix compile warning

    Signed-off-by: Niklaus Giger <niklaus.giger@netstal.com>

commit 594e79838ce5078a90d0c27abb2b2d61d5f8e8a7
Author: Ed Swarthout <Ed.Swarthout@freescale.com>
Date:	Tue Aug 14 14:06:45 2007 -0500

    Fix malloc size error in ahci_init_one.

    Typically this causes scsi init to corrupt the
    devlist and break the coninfo command.
    Fix a compiler size warning.

    Signed-off-by: Jason Jin <jason.jin@freescale.com>
    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit b361acd64fd2525c081b9b288b0804efe209c0e9
Author: ksi@koi8.net <ksi@koi8.net>
Date:	Tue Aug 14 10:02:16 2007 -0700

    TI DaVinci - fix unsupported %hhx format

    Signed-off-by: Sergey Kubushyn <ksi@koi8.net>

commit f01dbb5424a81453c81190dd30e945891466f621
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Aug 14 18:42:36 2007 +0200

    Coding style cleanup. Update CHANGELOG.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 073e1b509980cefe6f53c2d7fbbcd135df1e3924
Author: Andy Fleming <afleming@freescale.com>
Date:	Tue Aug 14 10:32:59 2007 -0500

    Fix initrd/dtb interaction

    The original code would wrongly relocate the blob to be right before
    the initrd if it existed.  The blob *must* be within CFG_BOOTMAPSZ,
    if it is defined.  So we make two changes:

    1) flag the blob for relocation whenever its address is above BOOTMAPSZ

    2) If the blob is being relocated, relocate it before kbd, not initrd

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit e54b970173769307a116bd34028b6d0c2eea2a4e
Author: Peter Pearse <peter.pearse@arm.com>
Date:	Tue Aug 14 15:40:00 2007 +0100

    Supply spi interface in at45.c

commit 4ce846ec59f36b85d6644a769690ad3feb667575
Author: Stefan Roese <sr@denx.de>
Date:	Tue Aug 14 15:12:01 2007 +0200

    POST: Fix merge problem

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 429d9571f60631ae8a2fe12b11be4c75b0c2b37c
Author: Stefan Roese <sr@denx.de>
Date:	Tue Aug 14 15:03:17 2007 +0200

    Coding style cleanup

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 779e975117a75e91fcebe226a63104dbfb924ab1
Author: Stefan Roese <sr@denx.de>
Date:	Tue Aug 14 14:44:41 2007 +0200

    ppc4xx: Add initial Zeus (PPC405EP) board support

    Signed-off-by: Stefan Roese <sr@denx.de>

commit c5a172a5fd636c12467429e3f7910e53773979c6
Author: Stefan Roese <sr@denx.de>
Date:	Tue Aug 14 14:41:55 2007 +0200

    POST: Add option for external ethernet loopback test

    When CFG_POST_ETHER_EXT_LOOPBACK is defined, the ethernet POST
    is not done using an internal loopback connection, but by assuming
    that an external loopback connector is plugged into the board.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit eb2b4010ae426245172988804ee8d9193fb41038
Author: Stefan Roese <sr@denx.de>
Date:	Tue Aug 14 14:39:44 2007 +0200

    POST: Add ppc405 support to cache and UART POST

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 0c42f36f15074bd9808a7dbd7ef611fad9bf537c
Author: Peter Pearse <peter.pearse@arm.com>
Date:	Tue Aug 14 10:46:32 2007 +0100

    Replace lost end of at45.c.

commit 65d7ada64557e76094b4fd3bad30a0f18f5fb2b2
Author: Peter Pearse <peter.pearse@arm.com>
Date:	Tue Aug 14 10:30:06 2007 +0100

    Update Makefiles for merged and split at45.c.

commit 3454cece2db57cb9eb7087995f7e73066a163f71
Author: Peter Pearse <peter.pearse@arm.com>
Date:	Tue Aug 14 10:21:06 2007 +0100

    Delete the merged files.

commit dcbfd2e5649f97aa04fbbc6ea2b008aa4486e225
Author: Peter Pearse <peter.pearse@arm.com>
Date:	Tue Aug 14 10:14:05 2007 +0100

    Add the files.

commit d4fc6012fd0a5c211b825691f44b06f8032c0551
Author: Peter Pearse <peter.pearse@arm.com>
Date:	Tue Aug 14 10:10:52 2007 +0100

    Add MACH_TYPE records for several AT91 boards.
    Merge to two at45.c files into a common file, split to at45.c and spi.c
    Fix spelling error in DM9161 PHY Support.
    Initialize at91rm9200 board (and set LED).
    Add PIO control for at91rm9200dk LEDs and Mux.
    Change dataflash partition boundaries to be compatible with Linux 2.6.

    Signed-off-by:	Peter Pearse <peter.pearse@arm.com>
    Signed-off-by:	Ulf Samuelsson <ulf@atmel.com>

commit 4ef35e53c693556c54b0c22d6f873de87bade253
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Aug 14 09:54:46 2007 +0200

    Coding style cleanup, update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 85eb5caf6b906f7ec5b54814e8c7c74f55986bb7
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Aug 14 09:47:27 2007 +0200

    Coding style cleanup; rebuild CHANGELOG

commit 7f3f2bd2dc08e0b05e185662ca2e2d283757104a
Author: Randy Vinson <rvinson@linuxbox.(none)>
Date:	Tue Feb 27 19:42:22 2007 -0700

    85xxCDS: Add make targets for legacy systems.

    The PCI ID select values on the Arcadia main board differ depending
    on the version of the hardware. The standard configuration supports
    Rev 3.1. The legacy target supports Rev 2.x.

    Signed-off-by Randy Vinson <rvinson@mvista.com>

commit e41094c7e38177c755fbd9b182018069614f080d
Author: Andy Fleming <afleming@freescale.com>
Date:	Tue Aug 14 01:50:09 2007 -0500

    85xxCDS: Enable the VIA PCI-to-ISA bridge.

    Author: Randy Vinson <rvinson@linuxbox.(none)>

    Enable the PCI-to-ISA bridge in the VIA Southbridge located on the
    Arcadia main board.

    Signed-off-by: Randy Vinson <rvinson@mvista.com>
    Signed-off-by: York Sun <yorksun@freescale.com>

commit da9d4610d76e52c4d20a8f3d8433439a7fcf5b71
Author: Andy Fleming <afleming@freescale.com>
Date:	Tue Aug 14 00:14:25 2007 -0500

    Add support for UEC to 8568

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>
    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit c59e4091ffe0148398b9e9ff14a019ea038b7432
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Tue Jun 19 14:18:34 2007 -0400

    Add PCI support for MPC8568MDS board

    This patch is against u-boot-mpc85xx.git of www.denx.com

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>
    Signed-off-by: Ebony Zhu <ebony.zhu@freescale.com>

commit d111d6382c99fdea08c2312eeeae8786945e189a
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Tue Jun 19 14:18:32 2007 -0400

    Empirically set cpo and clk_adjust for mpc85xx DDR2 support

    This patch is against u-boot-mpc85xx.git of www.denx.com

    Setting cpo to 0x9 for frequencies higher than 333MHz is verified on
    both MPC8548CDS board and MPC8568MDS board, especially for supporting
    533MHz DDR2.

    Setting clk_adjust to 0x6(3/4 late cycle) for MPC8568MDS board is for
    DDR2 on all current board versions especially ver 1.92 or later to bring
    up.

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>

commit 3db0bef59eab1155801618cef5c481e97553b597
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Aug 7 18:07:27 2007 -0500

    Use an absolute address when jumping out of 4k boot page

    On e500 when we leave the 4k boot page we should use an absolute address since
    we don't know where the board code may want us to be really running at.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 39980c610c9a4c381907c9e1d1b9c0e1c0dca57a
Author: Andy Fleming <afleming@freescale.com>
Date:	Mon Aug 13 14:49:59 2007 -0500

    MPC85xx BA bits not set for 3-bit bank address DIMM

    The current implementation does not set the number of bank address bits
    (BA) in the processor. The default assumes 2 logical bank bits. This
    works fine for a DIMM that uses devices with 4 internal banks (SPD
    byte17 = 0x4) but needs to be set appropriately for a DIMM that uses
    devices with 8 internal banks (SPD byte17 = 0x8).

    Signed-off-by: Greg Davis <DavisG@embeddedplanet.com>

commit 6c543597bb4b1ecf5d8589f7abb0f39929fb7fd1
Author: Andy Fleming <afleming@freescale.com>
Date:	Mon Aug 13 14:38:06 2007 -0500

    Fix minor 85xx warnings

    Some patches had inserted warnings into the build:
    * mpc8560ads declared data without using it
    * cpu_init declared ecm and immap without using it in all CONFIGs
    * MPC8548CDS.h had its default filenames changed so that they contained
      "\m" in the paths.  Made the defaults not Windows-specific (or
      anything-specific)

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit f2cff6b104f82b993bef6086ce0c97159bbe1add
Author: Ed Swarthout <Ed.Swarthout@freescale.com>
Date:	Fri Jul 27 01:50:52 2007 -0500

    8548cds PCIE support.

    Make the early L1 cache stack region guarded to prevent speculative
    fetches outside the locked range.

    Use _PHYS defines, not _MEM for cpu-side PCI memory mapped regions.
    init.S whitespace cleanup.

    Allow TEXT_BASE value to be specified on command line.  This allows it
    to be set to 0xfffc0000 which cuts the uboot binary in half.

    Clear and enable lbc and ecm errors.

    Update last_busno in device-tree for pci and pcie.

    Remove load of obsolete cpu/mpc85xx/pci.0

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit 837f1ba05cfb248aba5ab8e1fb1bfeefa07d5962
Author: Ed Swarthout <Ed.Swarthout@freescale.com>
Date:	Fri Jul 27 01:50:51 2007 -0500

    8544ds PCIE support

    PCI1 LAW mapping should use CFG_PCI1_MEM_PHY and not _BASE address.

    Enable LBC and ECM errors and clear error registers.

    Add tftpflash env var to get uboot from tftp server and flash it.

    Add pci/pcie convenience env vars to display register space:
      "run pcie3regs" to see all pcie3 ccsr registers
      "run pcie3cfg" to see all cfg registers
    Whitespace cleanup and MPC8544DS.h

    Enable CONFIG_INTERRUPTS.

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit 61a21e980a7b9188424d04f1c265fdc5c21c7e85
Author: Andy Fleming <afleming@freescale.com>
Date:	Tue Aug 14 01:34:21 2007 -0500

    85xx start.S cleanup and exception support

    From: Ed Swarthout <Ed.Swarthout@freescale.com>

    Support external interrupts from platform to eliminate system hangs.
    Define CONFIG_INTERRUPTS board configure option to enable.
    Enable ecm, ddr, lbc, and pci/pcie error interrupts in PIC.

    Remove extra cpu initialization redundant with hardware initialization.
    Whitespace cleanup.

    Define and use _START_OFFSET consistent with other processors using
    ppc_asm.tmpl

    Move additional code from .text to boot page to make room for
    exception vectors at start of image.

    Handle Machine Check, External and Critical exceptions.

    Fix e500 machine check error determination in traps.c

    TEXT_BASE can now be 0xfffc_0000 - which cuts binary image in half.

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit 7bd30fc4a6475b41d6679ae3aafc9fa505260c47
Author: Andy Fleming <afleming@freescale.com>
Date:	Tue Aug 14 01:33:18 2007 -0500

    Add MPC8544DS README

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 40c7f9b0de4e300370adfc704128fa0f79a143b6
Author: Ed Swarthout <Ed.Swarthout@freescale.com>
Date:	Fri Jul 27 01:50:48 2007 -0500

    85xx allow debugger to configure ddr.

    Only check for mpc8548 rev 1 when compiled for 8548.

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit 29372ff38c5baab7d0e3a8c14fe11fa194a38704
Author: Ed Swarthout <Ed.Swarthout@freescale.com>
Date:	Fri Jul 27 01:50:47 2007 -0500

    mpc85xx L2 cache reporting and SRAM relocation option.

    Allow debugger to override flash cs0/cs1 settings to enable alternate
    boot regions

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit 41f0f8fb1ab92f0cba7d329de90070f822f8299f
Author: Ed Swarthout <Ed.Swarthout@freescale.com>
Date:	Fri Jul 27 01:50:46 2007 -0500

    e500 needs ppc_asm.tmp MCK_EXCEPTION

    Always define MCK_EXCEPTION macro - so e500 can use it too.

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit 53a5c424bf8655b7b4e2c305a441963259a26a81
Author: David Updegraff <dave@cray.com>
Date:	Mon Jun 11 10:41:07 2007 -0500

    multicast tftp: RFC2090

    Implemented IETF RFC2090, Multicast TFTP.  Initial implementation
    on Realtek RTL8139 and Freescale TSEC.

    Signed-off-by: David Updegraff <dave@cray.com>
    Signed-off-by: Ben Warren <bwarren@qstreams.com>

commit 5d110f0aa69f065ee386ec1840dfee1e8cc46bc1
Author: Wilson Callan <wcallan@savantav.com>
Date:	Sat Jul 28 10:56:13 2007 -0400

    New CONFIG_BOOTP_SERVERIP option

    Added CONFIG_BOOTP_SERVERIP to allow the tftp server to be different
    from the bootp server

    Signed-off-by: Wilson Callan <wcallan@savantav.com>
    Signed-off-by: Ben Warren <bwarren@qstreams.com>

commit 50cca8b976ec74069860208c36e64ce8f4d5e4c1
Author: Mike Rapoport <mike@compulab.co.il>
Date:	Sun Aug 12 08:48:27 2007 +0300

    Add ability to take MAC address from the environment to DM9000 driver

    Signed-off-by: Mike Rapoport <mike@compulab.co.il>
    Signed-off-by: Ben Warren <bwarren@qstreams.com>

commit be5d72d10d47609326226225181e301fb9a33b58
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Aug 13 21:57:53 2007 +0200

    Minor coding style cleanup. Update CHANGELOG.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit cca34967cbd13ff6bd352be29e3f1cc88ab24c05
Author: Joe Hamman <joe.hamman@embeddedspecialties.com>
Date:	Sat Aug 11 06:54:58 2007 -0500

    Modify SBC8641D to use new Freescale PCI routines

    PCI-Express sockets 1 and 2 verified working with Intel Pro/1000 PT
    adapter.

    Signed-off-by: Joe Hamman <joe.hamman@embeddedspecialties.com>
    Signde-off-by: Jon Loeliger <jdl@freescale.com>

commit a08458303e7f9db67f296980036d3292c35cb45c
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Fri Jun 29 18:38:51 2007 +0200

    atmel_mci: Fix data timeout value

    Calculate the data timeout based on values from the CSD instead of
    just using a hardcoded DTOR value. This is a backport of a similar fix
    in BSP 2.0, with one additional fix: the DTOCYC value is rounded up
    instead of down.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 0ba8eed28b575626b17e0a7882f923b83e0d7584
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Mon Aug 13 17:22:31 2007 +0200

    AVR32: Include <div64.h> instead of <asm/div64.h>

    include/asm-avr32/div64.h was recently moved to include/div64.h, but
    cpu/at32ap/interrupts.c wasn't properly updated (an earlier version of
    the patch was merged perhaps?)

    This patch updates cpu/at32ap/interrupts.c so that the avr32 port
    compiles again.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit f0d1246ed7cb5a88522244c596d7ae7e6f161283
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Wed Jun 27 13:34:26 2007 +0200

    atmel_mci: Use 512 byte blocksize if possible

    Instead of always using the largest blocksize the card supports, check
    if it can support smaller block sizes and use 512 bytes if possible.
    Most cards do support this, and other parts of u-boot seem to have
    trouble with block sizes different from 512 bytes.

    Also enable underrun/overrun protection.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>
    Acked-by: Hans-Christian Egtvedt <hcegtvedt@atmel.com>

commit 273db7e1bdd1937e32f1d4507321bb721ebd3118
Author: Stefan Roese <sr@denx.de>
Date:	Mon Aug 13 09:05:33 2007 +0200

    ppc4xx: Fix problem in PLL clock calculation

    This patch was originall provided by David Mitchell <dmitchell@amcc.com>
    and fixes a bug in the PLL clock calculation.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 9986bc3e40e899bea372a99a2bca4071bdf2e24b
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Aug 12 21:34:50 2007 +0200

    Update CHANGELOG

commit 77d19a8bf3b0b1e401cb9f23c81e2ef419705c1a
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Aug 12 21:34:34 2007 +0200

    Minor alignment of output, 2nd try.
    Also update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 6b309f22a724fad8418e811751a0741b893419cf
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Aug 12 20:35:49 2007 +0200

    Minor alignment of output

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 6f6d7b9c8559e241e8d232621542b8b59699b07b
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Aug 12 18:28:18 2007 +0200

    Cleanup output on ADS5121 board

    Signed-off-by: Wolfgang Denk

commit a4d2636f2a859245ed3a401f26189da2dfda4ceb
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Aug 12 15:11:38 2007 +0200

    Adapt board configuration and fix kernel crash on MCC200 board.

    The update procedure was modified to turn off the USB subsystem
    before exit for MCC200 and TRAB. This is necessary as otherwise the
    USB controller continues to write periodically to system memory!

    MCC200-specific notes:
    - the patch disables the magic key check for MCC200
    - the patch contains the configuration changes made
      for the new revision of the board.

    Signed-off-by: Sergei Poselenov <sposelenov@emcraft.com>
    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit e27f3a6efb9db5a533223b05c629ff4ac8d921bf
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Aug 12 14:47:54 2007 +0200

    Adjust default configuration of ADS5121 board.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit afaac86fe2948ac84cd9a12bbed883b3c683e7d9
Author: Wolfgang Denk <wd@denx.de>
Date:	Sun Aug 12 14:27:39 2007 +0200

    Clean up some remaining CFG_CMD_ -> CONFIG_CMD_ issues.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 5fe6be6208dda852c3564e384bd78d75784dea3e
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Tue Aug 7 21:14:22 2007 -0400

    Improve error print messages.

    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>

commit 99dffca3b7590a16a00bc475c860b67b2a3f1462
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Tue Jul 17 13:57:04 2007 -0500

    fdt: allow for builds that don't want env and bd_t nodes

    protect fdt_env and fdt_bd_t invocations, fix codingstyle while in the
    area.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 91148bf7aeba142d6f348805db7625db7da64d6f
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Tue Jul 17 13:56:53 2007 -0500

    fdt: do board setup based on fdt address specified on bootm line

    The last fdt patch to bootm did board setup based on the address
    specified by a prior fdt address command invocation.  The bootm
    code, as its call to fdt_chosen does, should use the fdt specified
    by the user on the bootm command.  Note this restores full
    functionality for the 8360's existing default boot environment
    values, e.g. 'run nfsboot' (i.e. no having to 'fdt addr $fdtaddr'
    before booting a kernel).

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit e125a2ffc209dd34794e326c7175658253beadf3
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Tue Jul 10 20:40:39 2007 -0400

    Call ft_board_setup() from the bootm command.

    In the patch titled "Create new fdt boardsetup command..." I removed the
    call to ft_board_setup() from the routine fdt_chosen(), but I forgot
    to add a direct call back into cmd_bootm.c

    This fixes the oversight by adding the direct call to the bootm command.

    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>

commit fd61e55dd8cb52ce3ff91b3917af26e24b6b0845
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Mon Jun 25 23:25:28 2007 -0400

    Create new fdt boardsetup command, fix bug parsing [] form of set values.

    Previously ft_board_setup() was called by fdt_chosen() which was not
    really correctly structured.  This splits ft_board_setup() out by creating
    a new fdt boardsetup command.

    Fix a bug when parsing fdt set command values which have the square
    bracket form [00 11 22 33] - the length was updated incorrectly in when
    parsing that form.

    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>

commit 6f35ded9e85493595e0eb66a82b502a95326d049
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Mon Jun 25 20:55:58 2007 -0400

    Tighten up the error messages.

    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>

commit c45874b05aae897a6c29d1a97d4bb708fca2756c
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Mon Jun 25 19:52:23 2007 -0400

    Asthetic improvements: error messages and line lengths.

    Tighten up the error messages, split overlength lines.

    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>

commit 35ec398f16e17df600edc1b38c1e9e62c15c9aa1
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Fri May 25 22:08:57 2007 -0400

    Fix fdt_chosen() to call ft_board_setup(), clean up long lines.

    The fdt_chosen() function was adding/seting some properties ad-hoc
      improperly and duplicated (poorly) what was done in ft_board_setup()

    Clean up long lines (setting properties, printing errors).

    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>

commit 06e19a07701c968f15d72c083b5872a1a11c7b01
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Mon May 21 23:27:16 2007 -0400

    For fdt_find_node_by_path(), handle the root path properly.

    Also removes the special case root path detection in cmd_fdt.c since it
    is no longer necessary.

    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>

commit 9675ee7208ab965d13ea8d8262d77ac4160ef549
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Thu May 17 23:54:36 2007 -0400

    Add fdt_find_node_by_type() and fdt_find_compatible_node() to LIBFDT

    Signed-off-by: Wolfgang Grandegger <wg@grandegger.com>
    Acked-by: Gerald Van Baren <vanbaren@cideas.com>

commit 1a861169bc3758f9de3aead62b058736c6891246
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Wed Jun 6 22:47:58 2007 -0400

    Replace fdt_node_offset() with fdt_find_node_by_path().

    The new name matches more closely the kernel's name, which is also
    a much better description.

    Signed-off-by: Wolfgang Grandegger <wg@grandegger.com>
    Acked-by: Gerald Van Baren <vanbaren@cideas.com>

commit addd8ce83078c25f0eca5f23adbdfc64ca50a243
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Wed May 16 22:39:59 2007 -0400

    Fix cmd_fdt line lengths, refactor code.

    Break lines that were greater than 80 characters in length.
    Move the fdt print and property parsing code to separate static functions
      to reduce coding clutter in the fdt_cmd handling body.

    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>

commit 25114033ab21788810c48ba4df103b649da1223b
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Sat May 12 09:47:25 2007 -0400

    FDT command improvements.

    Fix "fdt set" so that it will create a non-existing property.
    Add "fdt mknode" to create nodes.

    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>

commit 38eb508e8e811e2e57628f445de3a24a23c7d804
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Sat May 12 09:45:46 2007 -0400

    Reorganize and fix problems (returns) in the bootm command.

    Do *NOT* return after the "point of no return" has been passed.
      If something goes wrong, the board must be reset after that point.
    Move the "Transferring control to Linux" debug message back to where it
      belongs: just before transferring control to linux.

    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>

commit 89c8757d8f213c47709bdc4efe0695263a6080a6
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Tue May 8 21:27:35 2007 -0400

    Fix bugs in the CONFIG_OF_LIBFDT

    Stupid coding mistakes (identified by Timur Tabi, thanks).

    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>

commit 6be07cc1ca458278c85ecdbf1a0536cff4c701ec
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Wed Apr 25 22:47:15 2007 -0400

    Improve fdt move length handling.

    Make the length parameter optional: if not specified, do the move using
    the current size unchanged.

    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>

commit bb930e76fea6cf89ca2d98e2f7c7a6043d79327d
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Wed Apr 25 22:23:36 2007 -0400

    Minor code clean up.

    Declare the variable fdt properly as extern.
    Call the "set_fn" function pointer the "short way" without the full
      dereferencing syntax.

    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>

commit ba24e2ac3bdb5c489f3c787e7542b6474c4d65c6
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Wed Apr 25 21:24:27 2007 -0400

    Improve error messages, more informative.

    Print more than the raw libfdt error message strings.  This is especially
    useful for cluing in the user when the bootm command aborts due to
    blob problems.

    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>

commit 8096b3b8f772c1894ddeda9dbceff6a8826473a4
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Fri Apr 20 22:46:53 2007 -0400

    libfdt: Conditionally compile based on CONFIG_OF_LIBFDT

    This is the way u-boot reduces configured-out code.  At Wolfgang
    Grandegger and Wolfgang Denk's request, make libfdt conform.

    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>

commit 923efd286411ed052d9e074f59f8986d6081061c
Author: Bruce Adler <bruce.adler@ccpu.com>
Date:	Fri Aug 10 14:54:47 2007 -0700

    add image size and descriptors for Spartan 3E FPGA chips

    Spartan 3E image sizes taken from Table 1-4 in Xilinx UG332 (v1.1)

    Signed-off by: Bruce Adler <bruce.adler@ccpu.com>

commit fb56579ffe7ef3275b7036bb7b924e5a0d32bd70
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Fri Aug 10 15:34:48 2007 -0500

    make MAKEALL more immune to merge conflicts

    ..by placing board entries one per line, as suggested by jdl.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 2628114ec564f969f34b5f7105fbd168cb8c9c3f
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Fri Aug 10 13:28:25 2007 -0500

    README: Remove outdated cpu type, board type, and NAME_config lists

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 49bb59912d21aacb507eb81fd21fb7af650c706c
Author: Dave Liu <r63238@freescale.com>
Date:	Fri Aug 10 15:48:59 2007 +0800

    mpc83xx: Suppress the warning 'burstlen'

    suppress the warning 'burstlen' of spd_sdram.

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit c646bba6465a45c60746d4cc1602cd06c1960f2d
Author: Joe Hamman <joe.hamman@embeddedspecialties.com>
Date:	Thu Aug 9 15:11:03 2007 -0500

    Add support for SBC8641D. Config files.

    Add support for Wind River's SBC8641D reference board.

    Signed-off by: Joe Hamman <joe.hamman@embeddedspecialties.com>
    Acked-by: Wolfgang Denk <wd@denx.de>
    Acked-by: Jon Loeliger <jdl@freescale.com>

commit 8ac273271d57321f90505c7a51cdb1ef2113b628
Author: Joe Hamman <joe.hamman@embeddedspecialties.com>
Date:	Thu Aug 9 15:10:53 2007 -0500

    Add support for SBC8641D.  Board files.

    Add support for Wind River's SBC8641D reference board.

    Signed-off by: Joe Hamman <joe.hamman@embeddedspecialties.com>
    Acked-by: Wolfgang Denk <wd@denx.de>
    Acked-by: Jon Loeliger <jdl@freescale.com>

commit c2c0ab4aff86622b837a48a0e560351f9afafb95
Author: Stefan Roese <sr@denx.de>
Date:	Fri Aug 10 20:34:58 2007 +0200

    Conding style cleanup

    Signed-off-by: Stefan Roese <sr@denx.de>

commit c74b2108e31fe09bd1c5d291c3cf360510d4f13e
Author: Sergey Kubushyn <ksi@koi8.net>
Date:	Fri Aug 10 20:26:18 2007 +0200

    [ARM] TI DaVinci support, hopefully final

    Add support for the following DaVinci boards:
    - DV_EVM
    - SCHMOOGIE
    - SONATA

    Changes:

    - Split into separate board directories
    - Removed changes to MTD_DEBUG (or whatever it's called)
    - New CONFIG_CMD party line followed
    - Some cosmetic fixes, cleanup etc.
    - Patches against the latest U-Boot tree as of now.
    - Fixed CONFIG_CMD_NET in net files.
    - Fixed CONFIG_CMD_EEPROM for schmoogie.
    - Made sure it compiles and works (forceenv() link problem) on SCHMOOGIE and
       DV_EVM. Can't check if it works on SONATA, don't have a board any more,
       but it at least compiles.

    Here is an excerpt from session log on SCHMOOGIE...

    U-Boot 1.2.0-g6c33c785-dirty (Aug  7 2007 - 13:07:17)

    DRAM:  128 MB
    NAND:  128 MiB
    In:    serial
    Out:   serial
    Err:   serial
    ARM Clock : 297MHz
    DDR Clock : 162MHz
    ETH PHY   : DP83848 @ 0x01
    U-Boot > iprobe
    Valid chip addresses: 1B 38 3A 3D 3F 50 5D 6F
    U-Boot > ping 192.168.253.10
    host 192.168.253.10 is alive
    U-Boot >

    Signed-off-by: Sergey Kubushyn <ksi@koi8.net>
    Acked-by: Dirk Behme <dirk.behme@gmail.com>
    Acked-by: Zach Sadecki <Zach.Sadecki@ripcode.com>
    Acked-by: Stefan Roese <sr@denx.de>

commit 2e4d94f1e3c2961428967a33b6ff2520568391b3
Author: Ed Swarthout <Ed.Swarthout@freescale.com>
Date:	Fri Jul 27 01:50:45 2007 -0500

    fsl_pci_init cleanup.

    Do not enable normal errors created during probe (master abort, perr,
    and pcie Invalid Configuration access).

    Add CONFIG_PCI_NOSCAN board option to prevent bus scan.

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit 936b3e69b667c3eb9a61ece4e78647d3fce9fc2a
Author: Ed Swarthout <Ed.Swarthout@freescale.com>
Date:	Fri Jul 27 01:50:44 2007 -0500

    pciauto_setup_device bars_num fix

    Passing bars_num=0 to pciauto_setup_device should assign no bars.

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>
    Acked-by: Shinya Kuribayashi <shinya.kuribayashi@necel.com>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit cf0b185e58ca0aec8ae2b2a8804ec0ef58ee21d4
Author: Jon Loeliger <jdl@freescale.com>
Date:	Mon Aug 6 17:39:44 2007 -0500

    8641hpcn: Do correct sized pointer math.

    When I rebased Ed's patch and cleaned up a few compilation
    problems, I apparently rebased my brain on crack first.
    Fix that by doing (char *) sized pointer math as needed.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit cfc7a7f5bb3273c9951173c788001d45118f141f
Author: Jon Loeliger <jdl@freescale.com>
Date:	Thu Aug 2 14:42:20 2007 -0500

    cpu/86xx fixes.

    Remove rev 1 fixes.
    Always set PICGCR_MODE.
    Enable machine check and provide board config option
    to set and handle SoC error interrupts.

    Include MSSSR0 in error message.

    Isolate a RAMBOOT bit of code with #ifdef CFG_RAMBOOT.

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>
    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 35d22f957a85a22bb3cd1ad084fa5404620d1c42
Author: Stefan Roese <sr@denx.de>
Date:	Fri Aug 10 10:42:25 2007 +0200

    Coding style cleanup

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 3a6d56c20989fe27360afe743bd2a7ad4d76e48f
Author: Dirk Behme <dirk.behme@googlemail.com>
Date:	Thu Aug 2 17:42:08 2007 +0200

    Make use of generic 64bit division in nand_util.c

    Use generic 64bit division in nand_util.c. This makes nand_util.c
    independent of any toolchain 64bit division.

    Signed-off-by: Dirk Behme <dirk.behme@gmail.com>

commit f7c086e94e8ce9aad7268af97f73aa6884686f27
Author: Dirk Behme <dirk.behme@googlemail.com>
Date:	Thu Aug 2 17:41:14 2007 +0200

    Move 64bit division from avr32 to generic lib

    Move the 64bit division from lib_avr32 to lib_generic. With this, all
    boards can do_div/__div64_32 if needed, not only avr one. Code is put
    to lib_generic, so no larger memory footprint if not used. No code
    modifications. Thanks for proposal by Hvard Skinnemoen.

    Signed-off-by: Dirk Behme <dirk.behme@gmail.com>

commit 157cda4d0c3d592ccbb19bbfc07d9251894f0894
Author: Niklaus Giger <niklausgiger@gmx.ch>
Date:	Fri Jul 27 11:31:22 2007 +0200

    Add PPC4xx-HCU4 and HCU5 boards: HCU5 files

    Signed-off-by: Niklaus Giger <niklaus.giger@netstal.com>

commit 6e5de26c6e7580faf16e87745cd488b92b492d0c
Author: Niklaus Giger <niklausgiger@gmx.ch>
Date:	Fri Jul 27 11:30:33 2007 +0200

    Add PPC4xx-HCU4 and HCU5 boards: HCU4 files

    Signed-off-by: Niklaus Giger <niklaus.giger@netstal.com>

commit e8397fc78c9394d71de233a4d810fbc9047e4c76
Author: Niklaus Giger <niklausgiger@gmx.ch>
Date:	Fri Jul 27 11:38:26 2007 +0200

    Add PPC4xx-HCU4 and HCU5 boards: common files

    Signed-off-by: Niklaus Giger <niklaus.giger@netstal.com>

commit ac982ea5a4f2f993efcf52dca122f5a59df047d8
Author: Niklaus Giger <niklausgiger@gmx.ch>
Date:	Fri Jul 27 11:28:44 2007 +0200

    Add PPC4xx-HCU4 and HCU5 boards: make related

    Signed-off-by: Niklaus Giger <niklaus.giger@netstal.com>

commit 137fdd9f474ecb853efdace5200576308c67f18d
Author: Niklaus Giger <niklausgiger@gmx.ch>
Date:	Fri Jul 27 11:28:03 2007 +0200

    Add PPC4xx-HCU4 and HCU5 boards: HCU5 config

    Signed-off-by: Niklaus Giger <niklaus.giger@netstal.com>

commit 714bc55b35b6f6a65cc8740a3842a543e88cdef2
Author: Niklaus Giger <niklausgiger@gmx.ch>
Date:	Fri Jul 27 11:27:15 2007 +0200

    Add PPC4xx-HCU4 and HCU5 boards: HCU4 config

    Signed-off-by: Niklaus Giger <niklaus.giger@netstal.com>

commit 1894dd381124bdbfbdae7cf3a6ca52a8eb1f4421
Author: Niklaus Giger <niklausgiger@gmx.ch>
Date:	Fri Jul 27 11:25:31 2007 +0200

    Add PPC4xx-HCU4 and HCU5 boards: READMEs

    Signed-off-by: Niklaus Giger <niklaus.giger@netstal.com>

commit 641cca9569ce351ddb287fd3343d8b1dcb591db4
Author: Niklaus Giger <niklausgiger@gmx.ch>
Date:	Fri Jul 27 11:37:40 2007 +0200

    Add PPC4xx-HCU4 and HCU5 boards: Infrastructure

    This series of patches adds support for 2 boards from Netstal Maschinen.

    The HCU4 has a PPC405Gpr and
    the HCU5 has a PPC440EPX.

    The HCU4 has a somehow complicated flash setup, as the booteprom is
    only 8 bits and the CFI 16 bits wide, which makes it impossible to use a more
    elegant solution.

    The HCU5 has only a booteprom as the whole code will be downloaded from a
    different board which has HD, CD-ROM, etc and where all code is stored.

    This is my third try. I incorporated all suggestions made by Wolfgang and Stefan.
    Thanks them a lot.

    Signed-off-by: Niklaus Giger <niklaus.giger@netstal.com>

commit 3e4c90c6233618fc1806e63fde68df5f3d6a0171
Author: Stefan Roese <sr@denx.de>
Date:	Fri Aug 10 08:42:55 2007 +0200

    ppc4xx: Update lwmon5 POST configuration

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 29cb25da56afe18cf5e7072a92a9d98ea8af1fd4
Author: Yuri Tikhonov <yur@emcraft.com>
Date:	Fri Aug 10 08:25:22 2007 +0200

    POST: Add ppc4xx UART POST support without external uart clock (lwmon5)

    The patch adds support for UART POST on ppc44x-based boards with no
    external serial clocks installed.

    Signed-off-by: Yuri Tikhonov <yur@emcraft.com>
    Acked-by: Stefan Roese <sr@denx.de>

commit 99c2fdab91bc633e46fb41dbaa629f87ccf6e00f
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Mon Aug 6 18:18:34 2007 -0500

    mpc83xx: fix ITX[GP] O=builddir builds

    make: *** No rule to make target `/work/wd/tmp/board/mpc8349itx/u-boot.lds', needed by `/work/wd/tmp/u-boot'.  Stop.

    Both the ITX and ITX-GP fail when you use "make O=<some dir> ..." or
    "BUILD_DIR=<some dir> ./MAKEALL ..."

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 47e8bc846759e037b8af0e5f9c9f9cfa7a1050c3
Author: Dave Liu <r63238@freescale.com>
Date:	Wed Aug 1 15:00:59 2007 +0800

    mpc83xx: Correct the README for DDR ECC

    Update the README for DDR ECC, change the name
    to README.mpc83xx.ddrecc.

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit daab8c67d2defef73dc26ab07f0c3afd1b05d019
Author: Dave Liu <r63238@freescale.com>
Date:	Wed Aug 1 15:00:15 2007 +0800

    mpc83xx: Consolidate the ECC support of 83xx

    Remove the duplicated source code of ecc command on the <board>.c,
    for reused, move these code to cpu/mpc83xx directory.

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 036575c544cf1b69654d8fb334bda69c6ff3da36
Author: Dave Liu <r63238@freescale.com>
Date:	Sat Aug 4 13:37:39 2007 +0800

    mpc83xx: Correct the burst length for DDR2 with 32 bits

    The burst length should be 4 for DDR2 with 32 bits bus

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit 1c274c4e05b6dc9b24edc8aa618b02f607ee6eed
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Wed Jul 25 19:25:33 2007 -0500

    mpc83xx: add support for the MPC8323E RDB

    MPC8323E based board with 64MB fixed SDRAM, 16MB flash,
    five 10/100 ethernet ports connected via an ICPlus IP175C
    switch, one PCI slot, and serial.  Features not supported
    in this patch are SD card interface, 2 USB ports, and the
    two phone ports.

    Signed-off-by: Michael Barkowski <michael.barkowski@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 343d91009d55fc5b3ff8cc940597af6c6aa1d359
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Wed Jul 25 19:25:28 2007 -0500

    mpc83xx: fixup generic pci for libfdt

    add libfdt support to the generic 83xx pci code

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit f57ac7a7b37109245b69db80839ebee26179966a
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Wed Jul 25 19:25:22 2007 -0500

    mpc83xx: fix 8360 and cpu functions to update fdt being passed

    ..and not the global fdt. Rename local fdt vars to blob so as not to
    be confused with the global var with the same three-letter name.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 8be404459a6b7395415a57bb35e8377e3b2b5acb
Author: Jerry Van Baren <gvb.uboot@gmail.com>
Date:	Wed Jul 4 21:34:24 2007 -0400

    mpc83xx: Fix errors when CONFIG_OF_LIBFDT is enabled

    Several node strings were not correct (trailing slashes and properties
      in the strings)
    Added setting of the timebase-frequency.
    Improved error messages and use debug() instead of printf().

    Signed-off-by: Gerald Van Baren <vanbaren@cideas.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 26d02c9bbac1751c5e19294f000100b48d43a920
Author: Jerry Van Baren <gvb.uboot@gmail.com>
Date:	Wed Jul 4 21:27:30 2007 -0400

    mpc83xx: Replace fdt_node_offset() with fdt_find_node_by_path().

    The new name matches more closely the kernel's name, which is also
    a much better description.

    These are the mpc83xx changes made necessary by the function name change.

    Signed-off-by: Wolfgang Grandegger <wg@grandegger.com>
    Acked-by: Gerald Van Baren <vanbaren@cideas.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 9be39a67c9f8fef7107f5df09d673005f04d0963
Author: Dave Liu <daveliu@freescale.com>
Date:	Mon Jun 25 10:41:56 2007 +0800

    mpc83xx: Add support for the display of reset status

    83xx processor family has many reset sources, such as
    power on reset, software hard reset, software soft reset,
    JTAG, bus monitor, software watchdog, check stop reset,
    external hard reset, external software reset.
    sometimes, to figure out the fault of system, we need to
    know the cause of reset early before the prompt of
    u-boot present.

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit ff9658d7049bf8c8e8e0a05dbe5e9f7e91aa5a5d
Author: Dave Liu <daveliu@freescale.com>
Date:	Mon Jun 25 10:41:04 2007 +0800

    mpc83xx: Fix the align bug of SDMA buffer

    According to the latest user manual, the SDMA temporary
    buffer base address must be 4KB aligned.

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 66dc2c2dc51f8b88bb8e231bc80cd92eae1d6476
Author: Dave Liu <daveliu@freescale.com>
Date:	Mon Jun 25 13:21:12 2007 +0800

    mpc83xx: Revise the MPC8360EMDS readme doc

    When the rev2.x silicon mount on the MPC8360EMDS baord,
    and if you are using the u-boot version after the commit
    3fc0bd159103b536e1c54c6f4457a09b3aba66ca.
    to make the ethernet interface usable, we have to setup
    the jumpers correctly.

    Signed-off-by: Dave Liu <daveliu@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit e739bc95797aac4fefc4c75b55c7c78e59d3ea9c
Author: Timur Tabi <timur@freescale.com>
Date:	Tue Jul 3 13:46:32 2007 -0500

    FSL I2C driver programs the two I2C busses differently

    The i2c_init() function in fsl_i2c.c programs the two I2C busses differently.
    The second I2C bus has its slave address programmed incorrectly and is
    missing a 5-us delay.

    Signed-off-by: Timur Tabi <timur@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit df33f6b4d6d63693dd9200808b242de1b86cb8e8
Author: Timur Tabi <timur@freescale.com>
Date:	Tue Jul 3 13:04:34 2007 -0500

    Update SCCR programming in cpu_init_f() to support all 83xx processors

    Update the cpu_init_f() function in cpu/mpc83xx/cpu_init.c to program the
    bitfields for all 83xx processors.	The code to update some bitfields was
    compiled only on some processors.  Now, the bitfields are programmed as long
    as the corresponding CFG_SCCR option is defined in the board header file.
    This means that the board header file should not define any CFG_SCCR macros
    for bitfields that don't exist on that processor, otherwise the SCCR will be
    programmed incorrectly.

    Signed-off-by: Timur Tabi <timur@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 9546266999f0b9b51372636614211b88d90f0f25
Author: Martin Krause <martin.krause@tqs.de>
Date:	Fri Jun 22 13:04:22 2007 +0200

    TQM834x: cleanup configuraton

    Remove irritating #undef DEBUG

    Signed-off-by: Martin Krause <martin.krause@tqs.de>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 5d497e6bf0f5bf63729b4a47b3fd786d3c77a1bc
Author: david.saada <David.Saada@ecitele.com>
Date:	Mon Jun 18 09:09:53 2007 -0700

    MPC83xx: Fix makefile to generate config.h file in the build directory

    MPC83xx: Fix the Makefile config sections to generate the include/config.h
    file in the build directory instead of the source directory.

    Signed-off-by: David Saada <david.saada@ecitele.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 1ded0242e437259366792d52b7e9d1e1931d8fa5
Author: Lee Nipper <Lee.Nipper@freescale.com>
Date:	Thu Jun 14 20:07:33 2007 -0500

    mpc83xx: Add support for 8360 silicon revision 2.1

    This change adds 8360 silicon revision 2.1 support to u-boot.

    Signed-off-by: Lee Nipper <lee.nipper@freescale.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit a22806469a8f2b69c829f4fd5361fdebd0cb01b4
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Wed Aug 8 04:14:28 2007 -0500

    Treat ppc64 host as ppc

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 0dc4279b08ff82472bec2e2c90858602459febe8
Author: Jason Jin <Jason.jin@freescale.com>
Date:	Wed Aug 8 09:01:46 2007 +0800

    Minor fix for bios emulator makefile

    Add $(obj) to LIB avoiding objects be built in the source dir

    Signed-off-by: Jason Jin <Jason.jin@freescale.com>

commit ce981dc857adfc8036ca2f6d5d5a06c2a8aa77d6
Author: Jason Jin <Jason.jin@freescale.com>
Date:	Wed Aug 8 08:33:11 2007 +0800

    Add CONFIG_BIOSEMU define to guard all the bios emulator code

    Signed-off-by: Jason Jin <Jason.jin@freescale.com>

    This patch fix the compile issue on the board that did not enable the bios emulator

commit ed8106433522f2ea8933e9808346860d061d7731
Author: Zach Sadecki <Zach.Sadecki@ripcode.com>
Date:	Tue Jul 31 12:27:25 2007 -0500

    tsec: fix multiple PHY support

    The change entitled "Reduce CONFIG_MPC8YXX_TSECx to CONFIG_TSECx"
    broke multiple PHY support in tsec.c.  This fixes it.

    Signed-off-by: Zach Sadecki <Zach.Sadecki@ripcode.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit dcb84b7208ade0bbebbeb56bec9c2c64f8b2eede
Author: Joe Hamman <joe.hamman@embeddedspecialties.com>
Date:	Thu Aug 9 09:08:18 2007 -0500

    tsec: Allow Ten Bit Interface address to be configurable

    Allow the address of the Ten Bit Interface (TBI) to be changed in the
    event of a conflict with another device.

    Signed-off by: Joe Hamman <joe.hamman@embeddedspecialties.com>

commit 3ba4c2d68f6541db4677b4aea12071f56e6ff6e6
Author: Stefan Roese <sr@denx.de>
Date:	Wed Aug 8 09:54:26 2007 +0200

    Coding style cleanup

    Signed-off-by: Stefan Roese <sr@denx.de>

commit a41de1f0d373e09c782dea558385a06247111ba5
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Sun Aug 5 05:15:18 2007 -0500

    Port enabled for I2C signals and chipselects port configuration.

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 1a33ce65a4c51a69190dd8c408f9e1c62a66e94f
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Sun Aug 5 04:31:18 2007 -0500

    Added NAND support

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit eaf9e447beb3e498818ef8ad0b8c1597cd506149
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Sun Aug 5 04:11:20 2007 -0500

    Added I2C support

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 99c03c175d2689093176facf17c58ce2cb320001
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Sun Aug 5 03:58:52 2007 -0500

    Changed CFG_CLK to gd->bus_clk for CFG_TIMER_PRESCALER. Added DECLARE_GLOBAL_DATA_PTR for time.c

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 8d1d66af54d305de29d0bbf4aa8c9e6375f7f731
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Sun Aug 5 03:55:21 2007 -0500

    Added uart_gpio_conf() in serial_init(), seperated uart port configuration from cpu_init() to uart_gpio_conf()

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 6fde84a44b7e575ea80fe0e2d5be3b6f73d1e630
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Sun Aug 5 03:43:30 2007 -0500

    Moved sync() from board file to include/asm-m68k/io.h

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 9e737d8476e7d6a596d16caaf6a3853a9a1190a2
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Sun Aug 5 03:30:44 2007 -0500

    Declared attributes of void __mii_init(void) as an alias for int mii_init(void)

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 9998bd37ead85e93953559720710d3b0685c81e6
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Sun Aug 5 03:19:10 2007 -0500

    Renamed CONFIG_MCFSERIAL to CONFIG_MCFUART

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 7c4c3722a38d40b0cf537ddae72b04f4088b190c
Author: Jason Jin <Jason.jin@freescale.com>
Date:	Tue Aug 7 16:17:06 2007 +0800

    Add CONFIG_BIOSEMU define to guard all the bios emulator code

    This patch fix the compile issue on the board that did not enable the bios emulator

commit bf1060ea4f9eaa7e7d164a70a7d6f28939882053
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Aug 7 16:02:13 2007 +0200

    Fix missing brace error in fs/fat/fat.c
    [pointed out by Roderik Wildenburg]

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 706714d97a0d08d59eda4de2268c39f504688329
Author: Michal Simek <monstr@monstr.eu>
Date:	Mon Aug 6 23:41:53 2007 +0200

    [FIX] remove cute code

commit f500d9fdeb576288656dac427052ad2c5ca0ad1a
Author: Michal Simek <monstr@monstr.eu>
Date:	Mon Aug 6 23:35:26 2007 +0200

    [FIX] Fix romfs code

commit ab4b956d3143f8f8174089053f5dfabbb04762b0
Author: Michal Simek <monstr@monstr.eu>
Date:	Mon Aug 6 23:31:49 2007 +0200

    [FIX] Coding style cleanup - Wolfgang's suggestions

commit 6c33c78557ca6f8da68c01ce33e278695197d3f4
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Aug 6 23:21:05 2007 +0200

    Fixed typo in README (pointed out by Martin Jost).

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 537223afa61f64480df31ce440a9cb386df4a814
Author: Stefan Roese <sr@denx.de>
Date:	Mon Aug 6 21:10:17 2007 +0200

    ppc4xx: Update AMCC Bamboo README doc/README.bamboo

    As suggested by Eugene O'Brien <Eugene.O'Brien@advantechamt.com>,
    here an updated Bamboo README.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 9c7e4b06214db61bb21f1bcbe57c97519669baae
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Aug 6 02:17:36 2007 +0200

    Coding style cleanup. Update CHANGELOG.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 221838cc7eb178370ff62aa05920a582e12ac322
Author: Jason Jin <Jason.jin@freescale.com>
Date:	Tue Jul 10 09:03:22 2007 +0800

    Remove the bios emulator from MAI board.

    The bios emulator in the MAI board can not pass compile
    and have a lot of crap in it. remove it and will have a
    clean and small bios emulator in the drivers directory
    which can be uesed for every board.

    Signed-off-by: Jason Jin <Jason.jin@freescale.com>

commit 5618332409bb96f4448d1712899369fc80c0b489
Author: Jason Jin <Jason.jin@freescale.com>
Date:	Fri Jul 13 12:14:59 2007 +0800

    Fix some compile issues for MAI board.

    Signed-off-by: Jason Jin <Jason.jin@freescale.com>

commit 0f460a1ee148b648ee242c3157650287d4296260
Author: Jason Jin <Jason.jin@freescale.com>
Date:	Fri Jul 13 12:14:58 2007 +0800

    Configurations for ATI video card BIOS emulator

    This patch add definition of the BIOS emulator and the ATI framebuffer
    driver for MPC8641HPCN board.

    Signed-off-by: Jason Jin <Jason.jin@freescale.com>
    Signed-off-by: Zhang Wei <wei.zhang@freescale.com>

commit ece92f85053b8df613edcf05b26a416cbc3d629c
Author: Jason Jin <Jason.jin@freescale.com>
Date:	Fri Jul 6 08:34:56 2007 +0800

    This is a BIOS emulator, porting from SciTech for u-boot, mainly for
    ATI video card BIOS. and can be used for x86 code emulation by some
    modifications.

    Signed-off-by: Jason Jin <Jason.jin@freescale.com>

commit 5072188acabde3178fac7f5a597150e6e74fd40c
Author: Jason Jin <Jason.jin@freescale.com>
Date:	Fri Jul 6 08:33:33 2007 +0800

    This is a framebuffer driver for ATI video card, can work for PCI9200,
    X300, X700, X800 ATI video cards.

    Signed-off-by: Zhang Wei <wei.zhang@freescale.com>
    Signed-off-by: Jason Jin <Jason.jin@freescale.com>

commit 5728be389e65fd47f34b33c2596271eb4db751ae
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Aug 6 01:01:49 2007 +0200

    Coding style cleanup. Update CHANGELOG.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 8092fef4c29b395958bb649647da7e3775731517
Author: Martin Krause <Martin.Krause@tqs.de>
Date:	Tue Dec 12 14:26:01 2006 +0100

    Add functions to list of exported functions

    Additionally export the following fuctions (to make trab_config build again):
    - simple_strtol()
    - strcmp()

    Also bump the ABI version to reflect this change

    Signed-off-by: Martin Krause <martin.krause@tqs.de>

commit 63cec5814fab5d2b1c86982327433807a5ac0249
Author: Ed Swarthout <Ed.Swarthout@freescale.com>
Date:	Thu Aug 2 14:09:49 2007 -0500

    Make MPC8641's PCI/PCI-E driver a common driver for many FSL parts.

    All of the PCI/PCI-Express driver and initialization code that
    was in the MPC8641HPCN port has now been moved into the common
    drivers/fsl_pci_init.c.  In a subsequent patch, this will be
    utilized by the 85xx ports as well.

    Common PCI-E IMMAP register blocks for FSL 85xx/86xx are added.

    Also enable the second PCI-Express controller on 8641
    by getting its BATS and CFG_ setup right.

    Fixed a u16 vendor compiler warning in AHCI driver too.

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>
    Signed-off-by: Zhang Wei <wei.zhang@freescale.com>
    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit a274ca4f6d68830e7c916f897561cff8c4101c38
Author: Michal Simek <monstr@monstr.eu>
Date:	Sun Aug 5 22:33:05 2007 +0200

    [FIX] Coding style cleanup

commit af8377d4eb3a0ac5a831830d5ce63fbf65fecb7f
Author: Michal Simek <monstr@monstr.eu>
Date:	Sun Aug 5 16:13:31 2007 +0200

    [FIX] Xilinx Uartlite driver
    Because PPC405 can use UARTLITE serial interface and
    Microblaze can use Uart16550 serial interface not only Uartlite.

commit 98889edd50aadf862071eb5664747ad0d568a20e
Author: Michal Simek <monstr@monstr.eu>
Date:	Sun Aug 5 15:54:53 2007 +0200

    [FIX] Change configuration for XUPV2P Microblaze board

commit 537091b4eed9302865d03fef3f7212b4fe5cf28f
Author: Michal Simek <monstr@monstr.eu>
Date:	Sun Aug 5 15:53:50 2007 +0200

    [PATCH] Added support for Xilinx Emac community driver

commit 86b116b1b1e165ca4840daefed36d2e3b8460173
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Fri Aug 3 12:08:16 2007 +0200

    cm1_qp1 -> cm5200: single U-Boot image for modules from the cm5200 family.

    Add the ability for modules from the Schindler cm5200 family to use a
    single U-Boot image:
    - rename cm1_qp1 to cm5200
    - add run-time module detection
    - parametrize SDRAM configuration according to the module we are running on

    Few minor, board-specific fixes included in this patch:
    - better MAC address handling
    - updated default environment ('update' command uses +{filesize} now)
    - improved error messages in the auto-update code
    - allow booting U-Boot from RAM (CFG_RAMBOOT)

    Signed-off-by: Grzegorz Bernacki <gjb@semihalf.com>
    Signed-off-by: Piotr Kruszynski <ppk@semihalf.com>
    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>

commit c7e717ebc2b044d7a71062552c9dc0f54ea9b779
Author: Andy Fleming <afleming@freescale.com>
Date:	Fri Aug 3 04:05:25 2007 -0500

    Add Marvell 1149 PHY support to the TSEC

commit b1b54e352028ed370c3aa95d6fdeb9d64c5d2f86
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Aug 2 21:27:46 2007 +0200

    Coding style cleanup, update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 63e22764d2f8653f68888c667eb65b3996b52680
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Aug 2 10:11:18 2007 +0200

    Minor cleanup of <board>_nand build rules.

commit 9ca8d79de096c65b9b9c867259b3ff4685f775ef
Author: Stefan Roese <sr@denx.de>
Date:	Thu Aug 2 08:33:56 2007 +0200

    ppc4xx: Code cleanup

    Signed-off-by: Stefan Roese <sr@denx.de>

commit c92409812206ac67a7fa7aae298539a9c3804a46
Author: Grzegorz Bernacki <gjb@semihalf.com>
Date:	Tue Jul 31 18:51:48 2007 +0200

    [ppc440SPe] Graceful recovery from machine check during PCIe configuration

    During config transactions on the PCIe bus an attempt to scan for a
    non-existent device can lead to a machine check exception with certain
    peripheral devices. In order to avoid crashing in such scenarios the
    instrumented versions of the config cycle read routines are introduced, so
    the exceptions fixups framework can gracefully recover.

    Signed-off-by: Grzegorz Bernacki <gjb@semihalf.com>
    Acked-by: Rafal Jaworowski <raj@semihalf.com>

commit dec99558b9ea75a37940d07f41a3565a50b54ad1
Author: Rafal Jaworowski <raj@semihalf.com>
Date:	Tue Jul 31 18:19:54 2007 +0200

    [ppc4xx] Separate settings for PCIe bus numbering on 440SPe rev.A

    This brings back separate settings for PCIe bus numbers depending on chip
    revision, which got eliminated in 2b393b0f0af8402ef43b25c1968bfd29714ddffa
    commit. 440SPe rev. A does NOT work properly with the same settings as for
    the rev. B (no devices are seen on the bus during enumeration).

    Signed-off-by: Rafal Jaworowski <raj@semihalf.com>

commit cdd917a43da6fa7fc8f54a3cc9f420ce5ecf3197
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Aug 2 00:48:45 2007 +0200

    Fix build errors and warnings / code cleanup.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit d2f68006627eda6cb6c7f364bddf621dbfd2fc68
Author: Eugene OBrien <eugene.obrien@advantechamt.com>
Date:	Tue Jul 31 10:24:56 2007 +0200

    ppc4xx: Update AMCC Bamboo 440EP support

    Changed storage type of cfg_simulate_spd_eeprom to const
    Changed storage type of gpio_tab to stack storage
    (Cannot access global data declarations in .bss until afer code relocation)

    Improved SDRAM tests to catch problems where data is not uniquely addressable
    (e.g. incorrectly programmed SDRAM row or columns)

    Added CONFIG_PROG_SDRAM_TLB to support Bamboo SIMM/DIMM modules
    Fixed AM29LV320DT (OpCode Flash) sector map

    Signed-off-by: Eugene OBrien <eugene.obrien@advantechamt.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit ea9f6bce383cc9fbcdee28b5836109b1a6dba574
Author: Stefan Roese <sr@denx.de>
Date:	Tue Jul 31 08:37:01 2007 +0200

    ppc4xx: Update 440EPx lwmon5 board support

    - Clear ECC status regs after ECC POST test
    - Set dcbz for ECC generation with caches enabled as default
    - Code cleanup

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 27a528fb41433c4c1e2b5d6bd3fd8d78606fc724
Author: Stefan Roese <sr@denx.de>
Date:	Mon Jul 30 11:04:57 2007 +0200

    ppc4xx: Only print ECC related info when the error bis are set

    Signed-off-by: Stefan Roese <sr@denx.de>

commit e36220a4baf1f188ba60f17e9d0f043069b1362a
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Fri Jul 27 16:44:31 2007 +0200

    new FPGA image for PLU405 board

    new FPGA image for PLU405 board with improved CompactFlash timing

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit 8993e54b6f397973794f3d6f47d3b3c0c98dd4f6
Author: Rafal Jaworowski <raj@semihalf.com>
Date:	Fri Jul 27 14:43:59 2007 +0200

    [ADS5121] Support for the ADS5121 board

    The following MPC5121e subsystems are supported:

    - low-level CPU init
    - NOR Boot Flash (common CFI driver)
    - DDR SDRAM
    - FEC
    - I2C
    - Watchdog

    Signed-off-by: Grzegorz Bernacki <gjb@semihalf.com>
    Signed-off-by: Rafal Jaworowski <raj@semihalf.com>
    Signed-off-by: Jan Wrobel <wrr@semihalf.com>

commit 1863cfb7b100ba0ee3401799457a01dc058745f8
Author: Rafal Jaworowski <raj@semihalf.com>
Date:	Fri Jul 27 14:22:04 2007 +0200

    [PPC] Remove unused MSR_USER definition

    Signed-off-by: Rafal Jaworowski <raj@semihalf.com>

commit d4024bb72dd81695ec099b2199eda0d27c623e62
Author: John Otken <john@softadvances.com>
Date:	Thu Jul 26 17:49:11 2007 +0200

    ppc4xx: Add support for AMCC 405EP Taihu board

    Signed-off-by: John Otken <john@softadvances.com>

commit b66091de6c7390620312c2501db23d8391e7cabb
Author: Anatolij Gustschin <agust@denx.de>
Date:	Thu Jul 26 15:08:01 2007 +0200

    ppc4xx: lwmon5: Update Lime initialization

    Change Lime SDRAM initialization to now support 100MHz and
    133MHz (if enabled). Also the framebuffer is initialized to
    display a blue rectangle with a white border.

    Signed-off-by: Anatolij Gustschin <agust@denx.de>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 9f24a808f17fc0f37b7fb4805f734741335caecc
Author: Stefan Roese <sr@denx.de>
Date:	Tue Jul 24 09:52:52 2007 +0200

    ppc4xx: lwmon5: Support for 128 MByte NOR FLASH added

    The used Intel NOR FLASH chips have internally two dies, and are now
    treated as two seperate chips.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit aedf5bde179ecfbd0a96130d18996a96518b785f
Author: Stefan Roese <sr@denx.de>
Date:	Tue Jul 24 07:20:09 2007 +0200

    ppc4xx: Fix lwmon5 interrupt controller setup (polarity, trigger...)

    As suggested by Hakan Eryigit, here an updated setup for the lwmon5
    interrupt controller.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit a71d96eac8130b53a91f93cd10c70fca0db18d52
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jul 20 15:03:44 2007 +0200

    ppc4xx: Fix bug with default GPIO output value

    As spotted by Matthias Fuchs, the default output values for all GPIO1
    outputs were not setup correctly. This patch fixes this issue.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 531e3e8b831f357056448fa573137d5fb37000fd
Author: Pavel Kolesnikov <concord@emcraft.com>
Date:	Fri Jul 20 15:03:03 2007 +0200

    POST: Add ECC POST for the lwmon5 board

    This patch adds ECC Post test for the Lwmon5 board based
    on PPC440EPx to U-Boot.

    Signed-off-by: Pavel Kolesnikov <concord@emcraft.com>
    Acked-by: Yuri Tikhonov <yur@emcraft.com>
    Acked-by: Stefan Roese <sr@denx.de>

commit cc3023b9f95d7ac959a764471a65001062aecf41
Author: Rafal Jaworowski <raj@semihalf.com>
Date:	Thu Jul 19 17:12:28 2007 +0200

    Fix breakage of 8xx boards from recent commit.

    This patch fixes the negative consequences for 8xx of the recent
    "ppc4xx: Clean up 440 exceptions handling" commit.

    Signed-off-by: Rafal Jaworowski <raj@semihalf.com>

commit c883f6ea32dce91f07670b3aafecf6c99b1e5341
Author: Stefan Roese <sr@denx.de>
Date:	Mon Jul 16 13:11:12 2007 +0200

    Coding style cleanup

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 8848ec858f74ed6dab06fb6d5ddc933e0a1328bf
Author: Stefan Roese <sr@denx.de>
Date:	Mon Jul 16 10:02:12 2007 +0200

    ppc4xx: Code cleanup

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 2a49fc17d09020e7ebd9536694d99d20e419fcb8
Author: Stefan Roese <sr@denx.de>
Date:	Mon Jul 16 10:01:38 2007 +0200

    ppc4xx: AMCC Luan uses the new boardspecific DDR2 controller setup

    Signed-off-by: Stefan Roese <sr@denx.de>

commit df3f17422aeb03fb81a7ac8c78d2b05d05aa4cf9
Author: Stefan Roese <sr@denx.de>
Date:	Mon Jul 16 10:00:43 2007 +0200

    ppc4xx: Support for Yucca board with 440SPe Rev A added to 44x_spd_ddr2.c

    The new boardspecific DDR2 controller configuration is used for the Yucca
    board. Now the Yucca board with 440SPe Rev. A chips is also supported.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 6ed14addf97c8cd8f531e9ae7b2d3e222fffd53e
Author: Stefan Roese <sr@denx.de>
Date:	Mon Jul 16 09:57:00 2007 +0200

    ppc4xx: Add new weak functions to support boardspecific DDR2 configuration

    The new "weak" functions ddr_wrdtr() and ddr_clktr() are added to better
    support non default, boardspecific DDR(2) controller configuration.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 5743a9207a370b90f09b20ebd61167c806b937f3
Author: Stefan Roese <sr@denx.de>
Date:	Mon Jul 16 08:53:51 2007 +0200

    ppc4xx: Add remove_tlb() function to remove a mem area from TLB setup

    The new function remove_tlb() can be used to remove the TLB's used to
    map a specific memory region. This is especially useful for the DDR(2)
    setup routines which configure the SDRAM area temporarily as a cached
    area (for speedup on auto-calibration and ECC generation) and later
    need this area uncached for normal usage.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 0c0a9cda1bde37106520476ed486bd67eb8d30ae
Author: Michal Simek <monstr@monstr.eu>
Date:	Mon Jul 16 00:31:07 2007 +0200

    [PATCH] Support for Xilinx EmacLite controller

commit 3a6cab844cf74f76639d795e0be8717e02c86af7
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Jul 14 22:51:02 2007 +0200

    Update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 5280f352c8da33b1d7fbf448768717d9e16ff9a1
Author: Michal Simek <monstr@monstr.eu>
Date:	Sat Jul 14 13:11:28 2007 +0200

    [FIX] support for simply measuring time

commit 91bb4ca665d2e0cf7f60c4b5b370990250ec0c43
Author: Michal Simek <monstr@monstr.eu>
Date:	Sat Jul 14 12:41:23 2007 +0200

    [FS] Added support for ROMFS

commit 011595307731a7a67a7445d107c279d031e8ab97
Author: Heiko Schocher <hs@pollux.denx.de>
Date:	Sat Jul 14 01:06:58 2007 +0200

    [PCS440EP]	- fix compile error, if BUILD_DIR is used

commit 5a2f1098d81ad58b309e5e558d0492643166a799
Author: Michal Simek <monstr@monstr.eu>
Date:	Sat Jul 14 00:18:48 2007 +0200

    [PATCH] Support time without timer

commit a476ca2ac2217ddd05a2bf0c514075814b10a3c0
Author: Michal Simek <monstr@monstr.eu>
Date:	Fri Jul 13 21:43:55 2007 +0200

    [PATCH] Remove problem with disabled BARREL SHIFTER

commit 55e26ad62107d2f14f757de3ae0b14b9aa7aed94
Author: Michal Simek <monstr@monstr.eu>
Date:	Fri Jul 13 21:41:44 2007 +0200

    [FIX] correct help for rspr

commit fad63407154f46246ce80d53a9c669a44362ac67
Author: Heiko Schocher <hs@pollux.denx.de>
Date:	Fri Jul 13 09:54:17 2007 +0200

    make show_boot_progress () weak.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 907902472391b6ca1876ec300687562ecaf459b1
Author: Heiko Schocher <hs@pollux.denx.de>
Date:	Fri Jul 13 08:26:05 2007 +0200

    [PCS440EP]	- The DIAG LEDs are now blinking, if an error occur
		- fix compile error, if BUILD_DIR is used

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit a2e1c7098cf9574386b0c96841dfc8ea5cc93578
Author: Stefan Roese <sr@denx.de>
Date:	Thu Jul 12 16:32:08 2007 +0200

    ppc4xx: Change receive buffer handling in the 4xx emac driver

    This change fixes a bug in the receive buffer handling, that
    could lead to problems upon high network traffic (broadcasts...).

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 239f05ee4dd4cfe0b50f251b533dcebe9e67c360
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Jul 12 01:45:34 2007 +0200

    Update CHANGELOG, minor coding style cleanup.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 5a56af3b522ba47fb33a3fee84d23bf1e5429654
Author: Andy Fleming <afleming@freescale.com>
Date:	Fri Jun 8 16:41:18 2007 -0500

    Remove erroneous errata code from Marvel 88E1111S driver

    The Marvel 88E1111S driver for the TSEC was copied from the
    88E1101 driver, and included a fix for an erratum which does not
    exist on that part.  Now it is removed

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 982efcf23fd03647e01e2fbe28a7a36239156cc0
Author: Andy Fleming <afleming@freescale.com>
Date:	Tue Jun 5 16:38:44 2007 -0500

    From: eran liberty <eran.liberty@gmail.com>

    adds the reset register to 85xx immap

    Signed-off-by: Eran Liberty <eran.liberty@gmail.com>
    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit d3ec0d943a045bdb99e159e7bbc77430e09f11d7
Author: Andy Fleming <afleming@freescale.com>
Date:	Thu May 10 17:50:01 2007 -0500

    Polished the 85xx ADS config files

    Made the boot commands use device trees by default.
    Also moved the ramdisk to 1000000 (I think the previous address
    was getting overridden during boot).

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit bfb37b32d1b0b03f18077dba49cc66a6e76fa038
Author: Ed Swarthout <Ed.Swarthout@freescale.com>
Date:	Wed May 9 11:03:32 2007 -0500

    8544ds: Fix Makefile after moving pixis to board/freescale.

    The OBJTREE != SRCTREE build scenario was broken.
    This fixes it.

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>
    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 2a3cee43c3b71fa5b8d91db19f05067865290f3e
Author: Andy Fleming <afleming@freescale.com>
Date:	Wed May 9 00:54:20 2007 -0500

    tsec: Fix PHY code to match first driver

    Jarrold Wen noticed that the generic PHY code always matches
    under the current implementation.  Change it so the first match
    wins, and *only* unknown PHYs trigger the generic driver

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit ccc091aac61a38cd998d575d92f7232e256d6312
Author: Andy Fleming <afleming@freescale.com>
Date:	Tue May 8 17:27:43 2007 -0500

    Add support for CPM device tree configuration to 8560 ADS

    * Adds code to modify CPM frequencies
    * Cleans up the config file to #define TSEC and (for now) #undef FCC
    * Adds the MII command for all 8560 ADS configurations
    * Updates config file to provide convenience commands for booting
      with a device tree

    Signed-off-by: Vitaly Bordug <vbordug@ru.mvista.com>
    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 7507d56ccaf7aae1c474342a9a5540165cd7e9d9
Author: Andy Fleming <afleming@freescale.com>
Date:	Tue May 8 17:23:02 2007 -0500

    Fix Marvell 88e1145 PHY init code

    Fix a bug in the Marvell 88e1145 PHY init code in the TSEC driver
    where the reset was being done after the errata code instead of
    before.

    Signed-off-by: Haiying Wang <haiying.wang@freescale.com>
    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 5dc210dec5bace98a50b6ba905347890091a9bb0
Author: Ed Swarthout <Ed.Swarthout@freescale.com>
Date:	Wed Jul 11 14:52:16 2007 -0500

    Add simple agent/end-point configuration in PCI AutoConfig for PCI_CLASS_PROCESSOR_POWERPC.

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>

commit e8b85f3ba4cd8930e0a2fea2100c815d64201765
Author: Ed Swarthout <Ed.Swarthout@freescale.com>
Date:	Wed Jul 11 14:52:08 2007 -0500

    pciauto setup bridge

    The P2P bridge bus numbers programmed into the device are relative to
    hose->first_busno.

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>

commit 571f49fa717004ca4268b4e24057efc7bf9f987b
Author: Ed Swarthout <Ed.Swarthout@freescale.com>
Date:	Wed Jul 11 14:52:01 2007 -0500

    Support PCIe extended config registers

    FSL PCIe block has extended cfg registers in the 100 and 400 range.
    For example, to read the LTSSM register: pci display <busn>.0 404 1

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>

commit ba5feb12581bb2912ce301e4866b71f846e9fc07
Author: Ed Swarthout <Ed.Swarthout@freescale.com>
Date:	Wed Jul 11 14:51:48 2007 -0500

    Minor improvements to drivers/pci_auto.c

    - Make pciauto_{pre,post}scan_setup_bridge non-static
    - Added physical address display in debug messages.

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>

commit 40e81addab7bb74d20ddf681ce9babc880a828ee
Author: Ed Swarthout <Ed.Swarthout@freescale.com>
Date:	Wed Jul 11 14:51:35 2007 -0500

    Start pci hose scan from hose->current_busno.

    Ensure hose->current_busno is not less than first_busno.  This fixes
    broken board code which leaves current_busno=0 when first_busno is
    greater than 0 for the cases with multiple controllers.

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>

commit 3865b1fb7843a08ad49a6319a36415752276ff48
Author: Stefan Roese <sr@denx.de>
Date:	Wed Jul 11 12:13:53 2007 +0200

    Fix some compile problems introduced by the latest CFG_CMD_xxx cleanup

    Signed-off-by: Stefan Roese <sr@denx.de>

commit fa1df308926a6f70e3504c57514ef27ac31fd13a
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Wed Jul 11 20:11:07 2007 +0200

    CM1.QP1: Support for the Schindler CM1.QP1 board.

    Signed-off-by: Piotr Kruszynski <ppk@semihalf.com>
    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>

commit 96e1d75be8193ca79e4215a368bf9d7f2362450f
Author: Heiko Schocher <hs@pollux.denx.de>
Date:	Wed Jul 11 18:39:11 2007 +0200

    [PCS440EP]	- Show on the DIAG LEDs, if the SHA1 check failed
		- now the Flash ST M29W040B is supported (not tested)
		- fix the "led" command
		- fix compile error, if BUILD_DIR is used

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit e9514751cfa5cce61ea699fa0d3eb37898a5eeb5
Author: Stefan Roese <sr@denx.de>
Date:	Sun Jul 8 13:44:27 2007 +0200

    Fix malloc problem introduced with the relocation fixup for the PPC platform

    The relocation fixup didn't handle the malloc pointer initialization
    correctly. This patch fixes this problem. Tested successfully on 4xx.
    The relocation fixup patches for 4xx will follow soon.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 0dca874db62718e41253659e60f3a1de7eb418ce
Author: TsiChung <tcliew@Goku.(none)>
Date:	Tue Jul 10 15:45:43 2007 -0500

    Cache update and added CFG_UNIFY_CACHE

    Enabled cache in cpu_init_f() for faster flash to mem allocation. Updated cache handling in start.S. Applied cache invalidate in fec_send() and fec_recv(). Added CFG_UNIFY_CACHE for CF V3 only.

    Signed-off-by: TsiChung <tcliew@Goku.(none)>

commit 52b017604a8f4d4a795880ef6e7861d7f2f1b005
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Jul 5 23:36:16 2007 -0500

    Update header file. Include dtimer_intr_setup(). Changed timer divider to global define.

    Include immap.h and timer.h. Moved dtimer interrupt setup to dtimer_intr_setup() from cpu/mcf532x/interrupts.c. Changed (CFG_CLK /1000000) -1 << 8 to CFG_TIMER_PRESCALER

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 5cdc07c7ef8f08ea55d3c47ed9221d91aa6d5fac
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Jul 5 23:31:25 2007 -0500

    Update header files

    Include immap.h and renamed mcfrtc.h to rtc.h

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 2870e98ac8e5553e9187b12a47e5f46babb53990
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Jul 5 23:29:21 2007 -0500

    Add mcffec_initialize()

    Added mcffec_initialize() in eth_initialize()

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 45a25bfd0c52f8a3fa137216bc94d32f90bedc5d
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Jul 5 23:27:40 2007 -0500

    Update header file and clean up

    Include immap.h

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 0cee9c66318602c856a899ae5fa7579ccba6443a
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Jul 5 23:23:15 2007 -0500

    New uart structure and defines

    Seperated from mcfuart.h

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit a90e79de8d99e9c9d69d60bfff9f24c337165900
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Jul 5 23:22:31 2007 -0500

    New timer structure and defines

    Seperated from mcftimer.h

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit e04acb2eba4782489417240eff76e20e176aec10
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Jul 5 23:21:09 2007 -0500

    Rename mcfrtc to rtc

    Since it is already in m68k folder, un-necessary to pad mcf. Replaced immap_5329.h and m5329.h to immap.h

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 2bd806fe4fc23958b8f78778199e7a6e3f8f6ad5
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Jul 5 23:17:36 2007 -0500

    Rename mcfserial.c. Update include header

    Renamed mcfserial.c to mcfuart.c. Modified Makefile for mcfuart.o from mcfserial.o. Replace immap_5329.h and m5329.h to immap.h

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit f2208fbc2eb9de3f4285bfaa021c6ebae16c9b0e
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Jul 5 23:13:58 2007 -0500

    Header file update, clean up and cache handling

    Replaced immap_5329.h and m5329.h with immap.h. Included cache_invalid.

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 2e3f25ae9082daa9f5d181db45dfbc2e52ce0f97
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Jul 5 23:10:40 2007 -0500

    Create interrupts.c and modify Makefile

    interrupt_init() and dtimer_intr_setup() are placed in interrupts.c. Added interrupts.o to Makefile

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit ddd104f1ed655eda50c06ba636237a83ed943f34
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Jul 5 23:06:55 2007 -0500

    Enable Icache

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit b9bf3de377b2bae70c983c9b97feae914999e735
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Jul 5 23:05:31 2007 -0500

    Update header file and some clean up

    Replaced immap_5329.h and m5329.h with immap.h. Removed whitespaces.

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 84a015b52ec820a5ae173717d78516de731c89c2
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Jul 5 23:03:28 2007 -0500

    Update header file and enable icache

    Replaced immap_5329.h and m5329.h with immap.h. Enabled icache_enable() in cpu_init_r().

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 7a17e759c7a8b58e910daf54df611e94fc8ca074
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Jul 5 23:01:22 2007 -0500

    Update header file and removed interrupt_init()

    Replace immap_5329.h and m5329.h with immap.h. Removed interrupt_init() and placed it in interrupts.c

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 3b635492c95bd0d6e08f93f699821cba1f602a64
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Jul 5 22:57:46 2007 -0500

    Update for flash.o and mii.o

    Removed flash.o and added mii.o

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit c5ded275d839e4ff79f41718d50a835d989f57bc
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Jul 5 22:56:19 2007 -0500

    MII functions calls.

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 427c814104560e29bda14955c67703245aaaa5b4
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Jul 5 22:54:42 2007 -0500

    Removed MII functions and replaced immap_5329.h and m5329.h with immap.h.

    The removed MII routines will be placed in mii.c.

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 01a793fda09c63df5a496f09dc1c7cb26e6751a2
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Jul 5 22:51:05 2007 -0500

    Duplicate code

    There is a Common Flash Interface Driver existed. To use the CFI driver, define CFG_FLASH_CFI in configuration file.

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 2744354a8437b8f78db178e30660215688bff570
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Jul 5 22:46:38 2007 -0500

    Seperate old structure defines and new structure defines

    Removed new uart structure and defines to uart.h

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 2bd58608dbcff8890ca9a0c59e861ac24f8bb230
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Jul 5 22:45:01 2007 -0500

    Seperate old structure defines and new structure defines

    New timer structure and defines will move to new timer.h

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 8cd5cd6de4ff92e03978338ed7aeb3ce7b7b9784
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Jul 5 22:42:23 2007 -0500

    Clean up

    Removed whitespace

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 514871f565dd8bd1121e4a3ac1665a790e20b8f2
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Jul 5 22:41:24 2007 -0500

    Clean up

    Replaced whitespace with tabs

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit 48dbfeabc7afffe30609a4489f10c22cb67ef7dd
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Jul 5 22:39:07 2007 -0500

    Create new header file and move peripherals base address from configs file to new header file.

    Create new header file to include immap_5xxx.h and m5xxx.h and to share among drivers without update in driver file each processor is added. Moved peripherals base address and defines from configs file to immap.h.

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit be296e31c4411f96d9cb3d2afc8fcb006867abfa
Author: TsiChungLiew <Tsi-Chung.Liew@freescale.com>
Date:	Thu Jul 5 22:24:58 2007 -0500

    Revert file mode

    Changed MAKEALL file mode to executable, removed executable file mode from Makefile

    Signed-off-by: TsiChungLiew <Tsi-Chung.Liew@freescale.com>

commit b3aff0cb9ecf236d7e8c93761dd1dadf6837a582
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Jul 10 11:19:50 2007 -0500

    disk/ doc/ lib_*/ and tools/: Remove lingering references to CFG_CMD_* symbols.

    Fixed some broken instances of "#ifdef CMD_CFG_IDE" too.
    Those always evaluated TRUE, and thus were always compiled
    even when IDE really wasn't defined/wanted.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit ddb5d86f0215bcb6c293510c50eb050e92883b7a
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Jul 10 11:13:21 2007 -0500

    drivers/: Remove lingering references to CFG_CMD_* symbols.

    Fixed some broken instances of "#ifdef CMD_CFG_IDE" too.
    Those always evaluated TRUE, and thus were always compiled
    even when IDE really wasn't defined/wanted.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit f40a7f3e3888b42a43674b099e5470022c8c544c
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Jul 10 11:07:56 2007 -0500

    fs/: Remove lingering references to CFG_CMD_* symbols.

    Fixed some broken instances of "#ifdef CMD_CFG_IDE" too.
    Those always evaluated TRUE, and thus were always compiled
    even when IDE really wasn't defined/wanted.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 610f2e9c28a9c101e09fa1b78143cf5f00ed1593
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Jul 10 11:05:02 2007 -0500

    net/: Remove lingering references to CFG_CMD_* symbols.

    Fixed some broken instances of "#ifdef CMD_CFG_IDE" too.
    Those always evaluated TRUE, and thus were always compiled
    even when IDE really wasn't defined/wanted.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 902531788376046da212afd1661cffb62f3daa1c
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Jul 10 11:02:44 2007 -0500

    common/: Remove lingering references to CFG_CMD_* symbols.

    Fixed some broken instances of "#ifdef CMD_CFG_IDE" too.
    Those always evaluated TRUE, and thus were always compiled
    even when IDE really wasn't defined/wanted.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit d39b57415838c73fb0a37eca84de3c68ba990586
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Jul 10 10:48:22 2007 -0500

    board/[j-z]*: Remove lingering references to CFG_CMD_* symbols.

    Fixed some broken instances of "#ifdef CMD_CFG_IDE" too.
    Those always evaluated TRUE, and thus were always compiled
    even when IDE really wasn't defined/wanted.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 77a318545d57aefa844752465b94c7e09a3f26d0
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Jul 10 10:39:10 2007 -0500

    board/[A-Za-i]*: Remove lingering references to CFG_CMD_* symbols.

    Fixed some broken instances of "#ifdef CMD_CFG_IDE" too.
    Those always evaluated TRUE, and thus were always compiled
    even when IDE really wasn't defined/wanted.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 068b60a0eb7e73b243ca55399f2a7df76e2c3f3d
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Jul 10 10:27:39 2007 -0500

    cpu/ rtc/ include/: Remove lingering references to CFG_CMD_* symbols.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 079a136c3588814784561d6e4856970ee82d6e2a
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Jul 10 10:12:10 2007 -0500

    include/configs/[p-z]* + misc: Cleanup BOOTP and lingering CFG_CMD_*.

    Explicitly add in default CONFIG_BOOTP_* options where cmd_confdefs.h
    used to be included but CONFIG_BOOTP_MASK was not defined.

    Remove lingering references to CFG_CMD_* symbols.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 7f5c01577400c74cc5bac74f41dd0d3c79df623c
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Jul 10 09:38:02 2007 -0500

    include/configs/[g-o]*: Cleanup BOOTP and lingering CFG_CMD_*.

    Explicitly add in default CONFIG_BOOTP_* options where cmd_confdefs.h
    used to be included but CONFIG_BOOTP_MASK was not defined.

    Remove lingering references to CFG_CMD_* symbols.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 80ff4f99b84b64edca3fd10da365ec1493be1c95
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Jul 10 09:29:01 2007 -0500

    include/configs/[a-e]*: Cleanup BOOTP and lingering CFG_CMD_*.

    Explicitly add in default CONFIG_BOOTP_* options where cmd_confdefs.h
    used to be included but CONFIG_BOOTP_MASK was not defined.

    Remove lingering references to CFG_CMD_* symbols.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit a1aa0bb502e25fd598b5e0ccdfb2c174921d714a
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Jul 10 09:22:23 2007 -0500

    include/configs/[P-Z]*: Cleanup BOOTP and lingering CFG_CMD_*.

    Explicitly add in default CONFIG_BOOTP_* options where cmd_confdefs.h
    used to be included but CONFIG_BOOTP_MASK was not defined.

    Remove lingering references to CFG_CMD_* symbols.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 659e2f6736232a08acca8785c206e2b4d9cd07d7
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Jul 10 09:10:49 2007 -0500

    include/configs/[J-O]*: Cleanup BOOTP and lingering CFG_CMD_*.

    Explicitly add in default CONFIG_BOOTP_* options where cmd_confdefs.h
    used to be included but CONFIG_BOOTP_MASK was not defined.

    Remove lingering references to CFG_CMD_* symbols.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 11799434c5ff15a612577bb1ad1f4ea1a0595e4b
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Jul 10 09:02:57 2007 -0500

    include/configs/[A-I]*: Cleanup BOOTP and lingering CFG_CMD_*.

    Explicitly add in default CONFIG_BOOTP_* options where cmd_confdefs.h
    used to be included but CONFIG_BOOTP_MASK was not defined.

    Remove lingering references to CFG_CMD_* symbols.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 1fe80d79c5c4e52d3410a7ab4b8515da095cdab3
Author: Jon Loeliger <jdl@freescale.com>
Date:	Mon Jul 9 22:08:34 2007 -0500

    Finally retire cmd_confdefs.h and CONFIG_BOOTP_MASK!

    All of the choices for CONFIG_BOOTP_ are now documented in
    the README file.  You must now individually select exactly
    the set that you want using a series of
	#define CONFIG_BOOTP_<x>
    statements in the board port config files now.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit d3b8c1a743dcd31625c99e6a44590f207eb00028
Author: Jon Loeliger <jdl@freescale.com>
Date:	Mon Jul 9 21:57:31 2007 -0500

    include/configs/[m-z]*: Directly use CONFIG_BOOTP_* symbols rather than CONFIG_BOOTP_MASK.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 2fd90ce575b02d189cbf443c85309bcd001aa393
Author: Jon Loeliger <jdl@freescale.com>
Date:	Mon Jul 9 21:48:26 2007 -0500

    include/configs/[a-m]*: Directly use CONFIG_BOOTP_* symbols rather than CONFIG_BOOTP_MASK.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 37d4bb70586659dedef1658ce1bed071be098aec
Author: Jon Loeliger <jdl@freescale.com>
Date:	Mon Jul 9 21:38:02 2007 -0500

    include/configs/[T-Z]*: Directly use CONFIG_BOOTP_* symbols rather than CONFIG_BOOTP_MASK.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 18225e8dd1950bd6dbf35011e436db7f474c187d
Author: Jon Loeliger <jdl@freescale.com>
Date:	Mon Jul 9 21:31:24 2007 -0500

    include/configs/[P-S]*: Directly use CONFIG_BOOTP_* symbols rather than CONFIG_BOOTP_MASK.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 7be044e4ea644b0ef1c486dadc1a4c2665b4374d
Author: Jon Loeliger <jdl@freescale.com>
Date:	Mon Jul 9 21:24:19 2007 -0500

    include/configs/[H-N]*: Directly use CONFIG_BOOTP_* symbols rather than CONFIG_BOOTP_MASK.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 5d2ebe1b3ef0055c661bb1a0d252bf252380069f
Author: Jon Loeliger <jdl@freescale.com>
Date:	Mon Jul 9 21:16:53 2007 -0500

    include/configs/[A-G]*: Directly use CONFIG_BOOTP_* symbols rather than CONFIG_BOOTP_MASK.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit f55f7f8d83f36021ab1f0e3d738f5d8c8083a7e3
Author: Jon Loeliger <jdl@freescale.com>
Date:	Mon Jul 9 19:12:30 2007 -0500

    Retire CONFIG_COMMANDS finally.
    Strip old CFG_CMD_* symbols out.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit b5501f7d720fed99ab0b42c83f5dea52868ce007
Author: Jon Loeliger <jdl@freescale.com>
Date:	Mon Jul 9 19:10:03 2007 -0500

    Update README.* to reference new CONFIG_CMD_* names now.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 4431283c7e6d54ae180d466e51bf2d97471a0ad9
Author: Jon Loeliger <jdl@freescale.com>
Date:	Mon Jul 9 19:06:00 2007 -0500

    cpu/m*: Remove obsolete references to CONFIG_COMMANDS

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 3a1ed1e1f922c419bb71f7df4949d783ade369fa
Author: Jon Loeliger <jdl@freescale.com>
Date:	Mon Jul 9 18:57:22 2007 -0500

    cpu/[7a-ln-z]*: Remove obsolete references to CONFIG_COMMANDS

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit ab3abcbabd840928fb1eb5122118ca466b5e5013
Author: Jon Loeliger <jdl@freescale.com>
Date:	Mon Jul 9 18:45:16 2007 -0500

    board/[q-z]*: Remove obsolete references to CONFIG_COMMANDS

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 3fe00109a5f12de55b6e25b1f98dfc24bc9090c9
Author: Jon Loeliger <jdl@freescale.com>
Date:	Mon Jul 9 18:38:39 2007 -0500

    board/[m-p]*: Remove obsolete references to CONFIG_COMMANDS

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit c508a4cefd8a953fc64957650506a035e6e3d9d1
Author: Jon Loeliger <jdl@freescale.com>
Date:	Mon Jul 9 18:31:28 2007 -0500

    board/[f-l]*: Remove obsolete references to CONFIG_COMMANDS

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit b9307262f8a9f3b5c9e15a6067eadc17407146f6
Author: Jon Loeliger <jdl@freescale.com>
Date:	Mon Jul 9 18:24:55 2007 -0500

    board/[d-e]*: Remove obsolete references to CONFIG_COMMANDS

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit fcec2eb93e126400009729328e797f12bc94f1fd
Author: Jon Loeliger <jdl@freescale.com>
Date:	Mon Jul 9 18:19:09 2007 -0500

    board/[A-Za-c]*: Remove obsolete references to CONFIG_COMMANDS

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit a593814f2be0c9cdc3133cd550b167b8a988328f
Author: Jon Loeliger <jdl@freescale.com>
Date:	Mon Jul 9 18:10:50 2007 -0500

    rtc/: Remove obsolete references to CONFIG_COMMANDS

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 67350568f9d46e66c21829f3513b3db0caeb948b
Author: Jon Loeliger <jdl@freescale.com>
Date:	Mon Jul 9 18:05:38 2007 -0500

    lib_{arm,avr32,blackfin,generic,i386}/: Remove obsolete references to CONFIG_COMMANDS

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 7def6b34f910f08d7ef0a14646da067719237ca2
Author: Jon Loeliger <jdl@freescale.com>
Date:	Mon Jul 9 18:02:11 2007 -0500

    lib_{m68k,microblaze,mips,ppc}/: Remove obsolete references to CONFIG_COMMANDS

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit dd60d1223b99a88a7216f3e041fe40634ad4c2bb
Author: Jon Loeliger <jdl@freescale.com>
Date:	Mon Jul 9 17:56:50 2007 -0500

    fs/: Remove obsolete references to CONFIG_COMMANDS

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit c91898bbc505aff3e12a807af88e76da18efb7ee
Author: Jon Loeliger <jdl@freescale.com>
Date:	Mon Jul 9 17:46:09 2007 -0500

    tools/: Remove obsolete references to CONFIG_COMMANDS

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 643d1ab23960950b52e0a2803c2d3ea4c558fa01
Author: Jon Loeliger <jdl@freescale.com>
Date:	Mon Jul 9 17:45:14 2007 -0500

    net/: Remove obsolete references to CONFIG_COMMANDS

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit cb51c0bf88f95a1bca68324b0126f8eed8b43273
Author: Jon Loeliger <jdl@freescale.com>
Date:	Mon Jul 9 17:39:42 2007 -0500

    drivers/[n-z]*: Remove obsolete references to CONFIG_COMMANDS

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 07d38a17e964aec4c7827f0ee9a583bc8cc1ad6b
Author: Jon Loeliger <jdl@freescale.com>
Date:	Mon Jul 9 17:30:01 2007 -0500

    drivers/[a-m]*: Remove obsolete references to CONFIG_COMMANDS

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit cde5c64d17cf4834aa7b5c373f288bc7dad27b29
Author: Jon Loeliger <jdl@freescale.com>
Date:	Mon Jul 9 17:22:37 2007 -0500

    disk/: Remove obsolete references to CONFIG_COMMANDS

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 639221c76c88215bd55af83ad174fc30d1940f8f
Author: Jon Loeliger <jdl@freescale.com>
Date:	Mon Jul 9 17:15:49 2007 -0500

    include/: Remove obsolete references to CONFIG_COMMANDS
    Mostly removed from comments here.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 4ef218f6fdf8d747f4589da5252b004e7d2c2876
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Jul 10 00:01:28 2007 +0200

    Coding style cleanup; update CHANGELOG.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit c8603cfbd4573379a6076c9c208545ba2bbf019a
Author: Stefan Roese <sr@denx.de>
Date:	Mon Jul 9 11:00:24 2007 +0200

    Small coding style cleanup

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 0f92c7e7c9a62755b1457d3c46f93c8c1f6c19fc
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Mon Jul 9 10:10:08 2007 +0200

    Migrate esd 405EP boards to new NAND subsystem

    Remove unused CFG_NAND_LEGACY define

    These boards to not have NAND.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit bd84ee4c2020c3a6861f4bb2e7ea0fb49f82e803
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Mon Jul 9 10:10:06 2007 +0200

    Migrate esd 405EP boards to new NAND subsystem

    Migrate esd 405EP boards to new NAND subsystem

    -cleanup
    -use correct io accessors (in/out_be32())

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit e09f7ab5749c345f924da272bea0521a73af5b11
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Mon Jul 9 10:10:04 2007 +0200

    Migrate esd 405EP boards to new NAND subsystem

    This patch prepares the migration from the legacy NAND driver
    to U-Boot's new NAND subsystem for esd boards.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit c3517f919d0f61650cf3027fd4faf0f631142f6c
Author: Jon Loeliger <jdl@freescale.com>
Date:	Sun Jul 8 18:10:08 2007 -0500

    common/* non-cmd*: Remove obsolete references to CONFIG_COMMANDS

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit fd9bcaa35be64fe41a4223fdb6ecdbad52470b39
Author: Jon Loeliger <jdl@freescale.com>
Date:	Sun Jul 8 18:05:39 2007 -0500

    common/cmd_[p-x]*: Remove obsolete references to CONFIG_COMMANDS.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit c76fe47425afc7d5d670ff0539823c85d65d9c42
Author: Jon Loeliger <jdl@freescale.com>
Date:	Sun Jul 8 18:02:23 2007 -0500

    common/cmd_[i-n]*: Remove obsolete references to CONFIG_COMMANDS.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit baa26db4113679b80970ff447d91cc10217742a6
Author: Jon Loeliger <jdl@freescale.com>
Date:	Sun Jul 8 17:51:39 2007 -0500

    common/cmd_[af]*: Remove obsolete references to CONFIG_COMMANDS.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit af075ee96e52dda7b6bca6c937588aeaaec5f2cd
Author: Jon Loeliger <jdl@freescale.com>
Date:	Sun Jul 8 17:02:01 2007 -0500

    Clear up confusion over the CMD_POST and POST_DIAG mess.

    For some reason, CONFIG_POST permeated as CONFIG_CMD_POST_DIAG
    when it really means just CONFIG_CMD_DIAG.	There is no CMD_POST.
    Clear this mess up some.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit b3631487105a57ab7cbadfc26efbaf9676275018
Author: Jon Loeliger <jdl@freescale.com>
Date:	Sun Jul 8 15:45:08 2007 -0500

    Remove references to the old cmd_confdefs.h include file.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit a22d4da95e20049b4daa1c2a022f61e8a72f2fb6
Author: Jon Loeliger <jdl@freescale.com>
Date:	Sun Jul 8 15:42:59 2007 -0500

    include/configs: Catch some CONFIG_CMD_* conversion stragglers.

    Use new CONFIG_CMD_* in lwmon5.h board config file.
    Fix CONFIG_CMD_* typo braindamage in omap1510inn.h

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit a5562901661bd428f7e5feb333f796372cb81019
Author: Jon Loeliger <jdl@freescale.com>
Date:	Sun Jul 8 15:31:57 2007 -0500

    include/configs: Use new CONFIG_CMD_* in various [TUVWZYZ]* named board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit fe7f782d5b8c64a0195c68c31a0a11d4f641355e
Author: Jon Loeliger <jdl@freescale.com>
Date:	Sun Jul 8 15:02:44 2007 -0500

    include/configs: Use new CONFIG_CMD_* in various S* named board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit e9a0f8f15c11f337967aa0600ad6e8af33037f50
Author: Jon Loeliger <jdl@freescale.com>
Date:	Sun Jul 8 15:12:40 2007 -0500

    include/configs: Use new CONFIG_CMD_* in various R* named board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 12aa9fd23d724bd6ab88e1baa0db35133a27303f
Author: Jon Loeliger <jdl@freescale.com>
Date:	Sun Jul 8 14:55:07 2007 -0500

    include/configs: Use new CONFIG_CMD_* in various Q* named board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit acf0269779422f3e147d2ddfb499c9f6ff10ad5e
Author: Jon Loeliger <jdl@freescale.com>
Date:	Sun Jul 8 14:49:44 2007 -0500

    include/configs: Use new CONFIG_CMD_* in various P* named board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit e18a1061a8630cb67995fdf99afd3fb50d1b187d
Author: Jon Loeliger <jdl@freescale.com>
Date:	Sun Jul 8 14:21:43 2007 -0500

    include/configs: Use new CONFIG_CMD_* in various [NO]* named board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 8353e139bfad9059c54f5b2421f1a3090e15a2e2
Author: Jon Loeliger <jdl@freescale.com>
Date:	Sun Jul 8 14:14:17 2007 -0500

    include/configs: Use new CONFIG_CMD_* in various M* named board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 348f258f24253433e4a2302a0bbceb6740a67246
Author: Jon Loeliger <jdl@freescale.com>
Date:	Sun Jul 8 13:46:18 2007 -0500

    include/configs: Use new CONFIG_CMD_* in various [IJKL]* named board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 6c4f4da9bfc9f9403f54fce678ed0364b7c86a6a
Author: Jon Loeliger <jdl@freescale.com>
Date:	Sun Jul 8 10:09:35 2007 -0500

    include/configs: Use new CONFIG_CMD_* in various H* named board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 60a0876b5106b34220e459c208bbf648073306c0
Author: Jon Loeliger <jdl@freescale.com>
Date:	Sat Jul 7 21:04:26 2007 -0500

    include/configs: Use new CONFIG_CMD_* in various F* and G* named board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit dcaa71562826a2466e894c868d132509dcda8444
Author: Jon Loeliger <jdl@freescale.com>
Date:	Sat Jul 7 20:56:05 2007 -0500

    include/configs: Use new CONFIG_CMD_* in various E* named board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 3c3227f3c737502311b25b72084573901cbbf17d
Author: Jon Loeliger <jdl@freescale.com>
Date:	Sat Jul 7 20:40:43 2007 -0500

    include/configs: Use new CONFIG_CMD_* in various D* named board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 49cf7e8ee7ef943fdfe866ce28410b0bfbf6a26c
Author: Jon Loeliger <jdl@freescale.com>
Date:	Thu Jul 5 19:52:35 2007 -0500

    include/configs: Use new CONFIG_CMD_* in various C* named board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit de8b2a6e33298dcdb10bdda48db25e53c3089eba
Author: Jon Loeliger <jdl@freescale.com>
Date:	Thu Jul 5 19:32:07 2007 -0500

    include/configs: Use new CONFIG_CMD_* in various B* named board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 498ff9a228485bd4b9f23d066bada268f9add1dd
Author: Jon Loeliger <jdl@freescale.com>
Date:	Thu Jul 5 19:13:52 2007 -0500

    include/configs: Use new CONFIG_CMD_* in various A* named board config files.

    Since ADS860.h includes "board/fads/fads.h" with ramifications
    on the CONFIG_COMMAND treatment, it too has to be adjusted to
    exclude already configured commands in this same commit.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 10e038932f22ee80ebd53de312531e70e6590a2f
Author: Thomas Knobloch <knobloch@siemens.com>
Date:	Fri Jul 6 14:58:39 2007 +0200

    [NAND] Bad block skipping for command nboot

    The old implementation of command nboot does not support reading the image from
    NAND flash with skipping of bad blocks. The patch implements a new version of
    the nboot command: by calling nboot.jffs2 from the u-boot command line the
    command will load the image from NAND flash with respect to bad blocks (by using
    nand_read_opts()). This is similar to e.g. the NAND read command: "nand
    read.jffs2 ...".

    Signed-off-by: Thomas Knobloch <knobloch@siemens.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 334043f601a90ac53e5ecc846fbb73a1ef38cb1f
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jul 6 12:26:51 2007 +0200

    ppc4xx: Update lwmon5 default environment

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 5d187430a055d62f17ca84d75e7245439d1f7e75
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jul 6 11:48:24 2007 +0200

    ppc4xx: Update lwmon5 board

    Add unlock=yes environment variable to default variables to unlock
    the CFI flash by default.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 6b0a174a1e6f55e1f5a1fbb223cdad7645a4646e
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jul 6 09:45:47 2007 +0200

    Fix problem with get/setdcr commands introduced by cfg patches

    Signed-off-by: Stefan Roese <sr@denx.de>

commit f1152f8c28db4a22087c21c618a3f7baa48e9a4f
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Jul 6 02:50:19 2007 +0200

    Code cleanup and default config update for STC GP3 SSA board.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit e4dbe1b215f5c6c462e76909d240bd96472b84de
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Jul 5 17:56:27 2007 +0200

    Fixing some typos etc. introduced mainly by cfg patches.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit b6b4684546809f89c8bac72863ca49b5fd8ac0cd
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Jul 5 11:12:16 2007 +0200

    Minor coding style cleanup. Update CHANGELOG.

commit dca3b3d6d6396b67e5e84af53452164923c73443
Author: Jon Loeliger <jdl@jdl.com>
Date:	Wed Jul 4 22:33:46 2007 -0500

    include/configs: Use new CONFIG_CMD_* in various [v-z]* named board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 6c18eb9804b525f3e4f3bb3d014dd69a200d9fa7
Author: Jon Loeliger <jdl@jdl.com>
Date:	Wed Jul 4 22:33:38 2007 -0500

    include/configs: Use new CONFIG_CMD_* in various t* and u* named board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 46da1e96b7db14f4fcd2c92544e7c0862024bc76
Author: Jon Loeliger <jdl@jdl.com>
Date:	Wed Jul 4 22:33:30 2007 -0500

    include/configs: Use new CONFIG_CMD_* in various s* named board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 90cc3eb6d2be856d9ddd81436de9cf343bc6b5c8
Author: Jon Loeliger <jdl@jdl.com>
Date:	Wed Jul 4 22:33:23 2007 -0500

    include/configs: Use new CONFIG_CMD_* in various q* and r* named board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 26a34560d56a9df5bc2ae23525d9229736134757
Author: Jon Loeliger <jdl@jdl.com>
Date:	Wed Jul 4 22:33:17 2007 -0500

    include/configs: Use new CONFIG_CMD_* in various p* named board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit a5cb23092a7d31490a33d4ec871468b63babfa3c
Author: Jon Loeliger <jdl@jdl.com>
Date:	Wed Jul 4 22:33:13 2007 -0500

    include/configs: Use new CONFIG_CMD_* in various o* named board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 929a2bfd142737003a8fc32e1b86e1f2c1850257
Author: Jon Loeliger <jdl@jdl.com>
Date:	Wed Jul 4 22:33:07 2007 -0500

    include/configs: Use new CONFIG_CMD_* in various n* named board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 5dc11a511960d490f7f01ffd746edfe6277f99b0
Author: Jon Loeliger <jdl@jdl.com>
Date:	Wed Jul 4 22:33:01 2007 -0500

    include/configs: Use new CONFIG_CMD_* in various m* named board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 9bbb1c0820c1fbd3811ab6ee4ba0f6c6f76b27e4
Author: Jon Loeliger <jdl@jdl.com>
Date:	Wed Jul 4 22:32:57 2007 -0500

    include/configs: Use new CONFIG_CMD_* in various l* named board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit bc234c129fa04fb9fa33530930e5cbc6084cd47a
Author: Jon Loeliger <jdl@jdl.com>
Date:	Wed Jul 4 22:32:51 2007 -0500

    include/configs: Use new CONFIG_CMD_* in various j* and k* named board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 1d2c6bc491969f8d8fb34c8e30e8bea7a2af9c31
Author: Jon Loeliger <jdl@jdl.com>
Date:	Wed Jul 4 22:32:32 2007 -0500

    include/configs: Use new CONFIG_CMD_* in various i* named board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 48d5d102a2f2e619c92050b9aedbb69689185bc0
Author: Jon Loeliger <jdl@jdl.com>
Date:	Wed Jul 4 22:32:25 2007 -0500

    include/configs: Use new CONFIG_CMD_* in various h* named board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 72eb0efaed7048afcc61fc6f0085c49394b5dc36
Author: Jon Loeliger <jdl@jdl.com>
Date:	Wed Jul 4 22:32:19 2007 -0500

    include/configs: Use new CONFIG_CMD_* in various g* named board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 1bec3d3002d3bbbae6f2468a0f7376db1120d33e
Author: Jon Loeliger <jdl@jdl.com>
Date:	Wed Jul 4 22:32:10 2007 -0500

    include/configs: Use new CONFIG_CMD_* in various e* named board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit ab999ba1b31ebe78dd16374394a55d7c6e5aa6e4
Author: Jon Loeliger <jdl@jdl.com>
Date:	Wed Jul 4 22:32:03 2007 -0500

    include/configs: Use new CONFIG_CMD_* in various d* named board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 37e4f24b87fa255ae456d193b7cd23c18dd1d56b
Author: Jon Loeliger <jdl@jdl.com>
Date:	Wed Jul 4 22:31:56 2007 -0500

    include/configs: Use new CONFIG_CMD_* in various c* named board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit ba2351f9d1e841bd00ea6dad1e3c16d0259ad264
Author: Jon Loeliger <jdl@jdl.com>
Date:	Wed Jul 4 22:31:49 2007 -0500

    include/configs: Use new CONFIG_CMD_* in various b* named board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 0b361c916617aff79e647b40f0e43361e0bbaccf
Author: Jon Loeliger <jdl@jdl.com>
Date:	Wed Jul 4 22:31:42 2007 -0500

    include/configs: Use new CONFIG_CMD_* in various a* named board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit b730cda82e362df6a22f4c59c0a9b97e885b1014
Author: Jon Loeliger <jdl@jdl.com>
Date:	Wed Jul 4 22:31:35 2007 -0500

    include/configs: Use new CONFIG_CMD_* in mpc5xx board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit d794cfefead5fc177cf4f41164e80382e9c9484a
Author: Jon Loeliger <jdl@jdl.com>
Date:	Wed Jul 4 22:31:15 2007 -0500

    include/configs: Use new CONFIG_CMD_* in various 5200 board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit ef0df52ab49eea4a30c15087fd27d54c1d946f2c
Author: Jon Loeliger <jdl@jdl.com>
Date:	Wed Jul 4 22:31:07 2007 -0500

    include/configs: Use new CONFIG_CMD_* in STx board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 866e3089bfc826bb4dc74637f8aad87a3bab79fc
Author: Jon Loeliger <jdl@jdl.com>
Date:	Wed Jul 4 22:30:58 2007 -0500

    include/configs: Use new CONFIG_CMD_* in sbc* board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 2694690e285acaa34922f55f4b5ae030da60c55a
Author: Jon Loeliger <jdl@jdl.com>
Date:	Wed Jul 4 22:30:50 2007 -0500

    include/configs: Use new CONFIG_CMD_* in TQM board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 1cc4c458329765b58e584a19821e796b3c10e976
Author: Jon Loeliger <jdl@jdl.com>
Date:	Wed Jul 4 22:30:28 2007 -0500

    include/configs: Use new CONFIG_CMD_* in 82xx board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 8ea5499afdaba0acf60923dd99001c399d4a7c8e
Author: Jon Loeliger <jdl@jdl.com>
Date:	Wed Jul 4 22:30:06 2007 -0500

    include/configs: Use new CONFIG_CMD_* in 83xx board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit b44896215a09c60fa40cae906f7ed207bbc2c492
Author: Sergei Poselenov <sposelenov@emcraft.com>
Date:	Thu Jul 5 08:17:37 2007 +0200

    Merged POST framework with the current TOT.

    Signed-off-by: Sergei Poselenov <sposelenov@emcraft.com>

commit b24629fa377214d63bb40d1360e354b6d3e4af56
Author: Jon Loeliger <jdl@jdl.com>
Date:	Wed Jun 13 13:23:15 2007 -0500

    mpc86xx: Remove old CFG_CMD_* references.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 46175d9764da129bb4fd341cd2554dc7d55f5b2a
Author: Jon Loeliger <jdl@jdl.com>
Date:	Wed Jun 13 13:22:54 2007 -0500

    Add MPC8568MDS to MAKEALL 85xx target.

    It was missing from the original port submission.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 2835e518c969e5124ba1174eef3e8375e12fa7d5
Author: Jon Loeliger <jdl@jdl.com>
Date:	Wed Jun 13 13:22:08 2007 -0500

    include/configs: Use new CONFIG_CMD_* in 85xx board config files.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 56b304ac2091689506088a9ae67f63fd6300cf16
Author: Jon Loeliger <jdl@jdl.com>
Date:	Wed Jun 13 13:21:37 2007 -0500

    Fix #if typo in CONFIG_CMD_* changes.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit f780b83316d9af1f61d71cc88b1917b387b9b995
Author: Niklaus Giger <niklausgiger@gmx.ch>
Date:	Wed Jun 27 18:11:38 2007 +0200

    resubmit: ppc4xx: Remove sequoia/sequioa.h. Cleanup ppc440.h for PPC440EPX

    Signed-off-by: Niklaus Giger <niklaus.giger@nestal.com>

commit 04e6c38b766eaa2f3287561563c9e215e0c3a0d4
Author: Stefan Roese <sr@denx.de>
Date:	Wed Jul 4 10:06:30 2007 +0200

    ppc4xx: Update lwmon5 board

    - Add optional ECC generation routine to preserve existing
      RAM values. This is needed for the Linux log-buffer support
    - Add optional DDR2 setup with CL=4
    - GPIO50 not used anymore
    - Lime register setup added

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 6810a34677dbc446334f5e451f1682426dd33b49
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Jul 3 00:17:28 2007 -0600

    Fix Makefile to use $(MKCONFIG) macro for all board ports

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 90b1b2d69b9396ff2f01165ebc16c9a594eb5926
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Jul 3 00:17:28 2007 -0600

    Fix Makefile to use $(MKCONFIG) macro for all board ports

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 057004f4a4863554d56cc56268bfa7c7d9738e27
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Jul 3 00:34:49 2007 -0600

    Correct fixup relocation for mpc83xx

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 5af61b2f4b838a05f79be274f3e5a66edd2d9c96
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Jul 3 00:34:44 2007 -0600

    Correct fixup relocation for mpc8260

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit f3a52fe05923935db86985daf9438e2f70ac39aa
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Jul 3 00:34:39 2007 -0600

    Correct fixup relocation for mpc824x

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit a85dd254c0577fca13627c46e93fc2ad4c4f1f00
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Jul 3 00:34:34 2007 -0600

    Correct fixup relocation for mpc8220

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 6f7576b20ecf0d040c3ac3b032b5cbc860e38a90
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Jul 3 00:34:29 2007 -0600

    Correct fixup relocation for MPC5xxx

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 3649cd99ba815b6601868735765602f00ef3692b
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Jul 3 00:34:24 2007 -0600

    Correct relocation fixup for mpc5xx

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit f82b3b6304b620ef7e28bfaa1ea887a2ad2fa325
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Jul 3 00:34:19 2007 -0600

    Don't set gd->reloc_off if relocation of .fixup works correctly

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit e1a6144c32dc7de73bcdd33995de0148cbd0bd28
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Jul 3 00:34:14 2007 -0600

    Remove obsolete mpc83xx linker scripts

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 17e32fc3908bf7089d3f16fc82a1c3ae674dd65b
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Jul 3 00:34:09 2007 -0600

    Consolidate mpc8260 linker scripts

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit af7d38b393690d7eeaf418ac85a1e831a50d5fd0
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Jul 3 00:34:04 2007 -0600

    Remove obsolete mpc824x linker scripts

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit f94a3aecebc40ca0939c7d66d010009cf51be9e2
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Jul 3 00:33:59 2007 -0600

    Remove obsolete mpc824x linker scripts (3 of 4)

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit a71c084f3ac7fedf144537db2b2da47323068833
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Jul 3 00:33:53 2007 -0600

    Remove obsolete mpc824x linker scripts (2 of 4)

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit f670a15468d1365241d40022b9408e1004181f5e
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Jul 3 00:33:48 2007 -0600

    Remove obsolete mpc824x linker scripts (1 of 4)

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 09555bd45a04c0e54f172528d21bc18896550d28
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Jul 3 00:33:43 2007 -0600

    Remove obsolete mpc8220 linker scripts

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 5efb992f046e51225c93d52f80fecbe433abd789
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Jul 3 00:33:38 2007 -0600

    Remove obsolete mpc5xxx linker scripts (3 of 3)

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 07c13dfef65b31647e69d8b61daa1eec598add1a
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Jul 3 00:33:33 2007 -0600

    Remove obsolete mpc5xxx linker scripts (2 of 3)

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit b4f67513a624ce85866c66c575bd2d9d7977d7f0
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Jul 3 00:33:28 2007 -0600

    Remove obsolete mpc5xxx linker scripts (1 of 3)

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit b7d8e05f8675249b5f208aa73babeed384a4519d
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Jul 3 00:33:23 2007 -0600

    Remove obsolete mpc5xx linker scripts

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 416a0b6d40f6eba3a2fc547253c16bda28d922f7
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Jul 3 00:33:18 2007 -0600

    Consolidate mpc83xx linker scripts

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 5fc59175b92883ed5d2666a04e6bc49e70a4a365
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Jul 3 00:33:13 2007 -0600

    Consolidate mpc8260 linker scripts

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 737f9eb02d7335df2b3e4d7a4d3348784d1da207
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Jul 3 00:33:08 2007 -0600

    Consolidate mpc824x linker scripts

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 9c757b789a59a855db57b448dd825329c4e9c4a0
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Jul 3 00:33:03 2007 -0600

    Consolidate mpc8220 linker scripts

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit d181c9a15cd41863fe24840d17848429f27d3c8c
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Jul 3 00:32:58 2007 -0600

    Consolidate mpc5xxx linker scripts

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 287ac924adb7291bebe5086652a362a30ab28b13
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Jul 3 00:32:53 2007 -0600

    Consolidate mpc5xx linker scripts

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 52b8704d0245e589f86d462e9ec25aeb7ecbbbdd
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Jul 4 00:43:53 2007 +0200

    Fix a few file permission problems.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 78e0cf2de7be7f1eaeeb622eb61fd50e4d5e205c
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Jul 4 00:38:38 2007 +0200

    Minor coding style cleanup. Rebuild CHANGELOG file.

commit 2f9c19e496acb6bb50d9299e1aab377625d48c38
Author: Jon Loeliger <jdl@jdl.com>
Date:	Mon Jun 11 19:03:44 2007 -0500

    configs/ mpc86xx: Rewrite command line options using new CONFIG_CMD-* style.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 602ad3b33d9ceef83dbab46be68646d645d637ee
Author: Jon Loeliger <jdl@jdl.com>
Date:	Mon Jun 11 19:03:39 2007 -0500

    README: Rewrite command line config to use CONFIG_CMD_* names.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 72a074cec68e5bad60d63206c050974e08afd804
Author: Jon Loeliger <jdl@jdl.com>
Date:	Mon Jun 11 19:03:34 2007 -0500

    include/ non-config: Augment CONFIG_COMMANDS tests with defined(CONFIG_CMD_*).

    This is a compatibility step that allows both the older form
    and the new form to co-exist for a while until the older can
    be removed entirely.

    All transformations are of the form:
    Before:
	#if (CONFIG_COMMANDS & CFG_CMD_AUTOSCRIPT)
    After:
	#if (CONFIG_COMMANDS & CFG_CMD_AUTOSCRIPT) || defined(CONFIG_CMD_AUTOSCRIPT)

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 5fcf543e0b6628c76ff48705b1b0566bfd11507b
Author: Jon Loeliger <jdl@jdl.com>
Date:	Mon Jun 11 19:03:28 2007 -0500

    tools/ : Augment CONFIG_COMMANDS tests with defined(CONFIG_CMD_*).

    This is a compatibility step that allows both the older form
    and the new form to co-exist for a while until the older can
    be removed entirely.

    All transformations are of the form:
    Before:
	#if (CONFIG_COMMANDS & CFG_CMD_AUTOSCRIPT)
    After:
	#if (CONFIG_COMMANDS & CFG_CMD_AUTOSCRIPT) || defined(CONFIG_CMD_AUTOSCRIPT)

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 9107ebe0d352420895ab69b715697bdebc8caf50
Author: Jon Loeliger <jdl@jdl.com>
Date:	Mon Jun 11 19:03:23 2007 -0500

    board/[k-z]*: Augment CONFIG_COMMANDS tests with defined(CONFIG_CMD_*).

    This is a compatibility step that allows both the older form
    and the new form to co-exist for a while until the older can
    be removed entirely.

    All transformations are of the form:
    Before:
	#if (CONFIG_COMMANDS & CFG_CMD_AUTOSCRIPT)
    After:
	#if (CONFIG_COMMANDS & CFG_CMD_AUTOSCRIPT) || defined(CONFIG_CMD_AUTOSCRIPT)

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 5e378003d592ea828ec69d6defcd4de79096dd5c
Author: Jon Loeliger <jdl@jdl.com>
Date:	Mon Jun 11 19:03:19 2007 -0500

    board/[Ma-i]*: Augment CONFIG_COMMANDS tests with defined(CONFIG_CMD_*).

    This is a compatibility step that allows both the older form
    and the new form to co-exist for a while until the older can
    be removed entirely.

    All transformations are of the form:
    Before:
	#if (CONFIG_COMMANDS & CFG_CMD_AUTOSCRIPT)
    After:
	#if (CONFIG_COMMANDS & CFG_CMD_AUTOSCRIPT) || defined(CONFIG_CMD_AUTOSCRIPT)

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 737184114ec9c9e0ab94d6713536126073bd2472
Author: Jon Loeliger <jdl@jdl.com>
Date:	Mon Jun 11 19:03:15 2007 -0500

    cpu/ non-mpc*: Augment CONFIG_COMMANDS tests with defined(CONFIG_CMD_*).

    This is a compatibility step that allows both the older form
    and the new form to co-exist for a while until the older can
    be removed entirely.

    All transformations are of the form:
    Before:
	#if (CONFIG_COMMANDS & CFG_CMD_AUTOSCRIPT)
    After:
	#if (CONFIG_COMMANDS & CFG_CMD_AUTOSCRIPT) || defined(CONFIG_CMD_AUTOSCRIPT)

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit f48070fe5fe440dfb5ee5268c920de70e48ea327
Author: Jon Loeliger <jdl@jdl.com>
Date:	Mon Jun 11 19:03:08 2007 -0500

    cpu/mpc*/ : Augment CONFIG_COMMANDS tests with defined(CONFIG_CMD_*).

    This is a compatibility step that allows both the older form
    and the new form to co-exist for a while until the older can
    be removed entirely.

    All transformations are of the form:
    Before:
	#if (CONFIG_COMMANDS & CFG_CMD_AUTOSCRIPT)
    After:
	#if (CONFIG_COMMANDS & CFG_CMD_AUTOSCRIPT) || defined(CONFIG_CMD_AUTOSCRIPT)

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 0c505db0a0dc1f670b13ce3b4d3fbf1ec5b3cbd2
Author: Jon Loeliger <jdl@jdl.com>
Date:	Mon Jun 11 19:03:03 2007 -0500

    lib_*/: Augment CONFIG_COMMANDS tests with defined(CONFIG_CMD_*).

    This is a compatibility step that allows both the older form
    and the new form to co-exist for a while until the older can
    be removed entirely.

    All transformations are of the form:
    Before:
	#if (CONFIG_COMMANDS & CFG_CMD_AUTOSCRIPT)
    After:
	#if (CONFIG_COMMANDS & CFG_CMD_AUTOSCRIPT) || defined(CONFIG_CMD_AUTOSCRIPT)

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 73f032021ec5f13cda8faa4e34b6de80960eb86f
Author: Jon Loeliger <jdl@jdl.com>
Date:	Mon Jun 11 19:02:58 2007 -0500

    lib_ppc/: Augment CONFIG_COMMANDS tests with defined(CONFIG_CMD_*).

    This is a compatibility step that allows both the older form
    and the new form to co-exist for a while until the older can
    be removed entirely.

    All transformations are of the form:
    Before:
	#if (CONFIG_COMMANDS & CFG_CMD_AUTOSCRIPT)
    After:
	#if (CONFIG_COMMANDS & CFG_CMD_AUTOSCRIPT) || defined(CONFIG_CMD_AUTOSCRIPT)

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 98b79003c21c2578206003256de4e781d6b36ca8
Author: Jon Loeliger <jdl@jdl.com>
Date:	Mon Jun 11 19:02:53 2007 -0500

    rtc/: Augment CONFIG_COMMANDS tests with defined(CONFIG_CMD_*).

    This is a compatibility step that allows both the older form
    and the new form to co-exist for a while until the older can
    be removed entirely.

    All transformations are of the form:
    Before:
	#if (CONFIG_COMMANDS & CFG_CMD_AUTOSCRIPT)
    After:
	#if (CONFIG_COMMANDS & CFG_CMD_AUTOSCRIPT) || defined(CONFIG_CMD_AUTOSCRIPT)

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 6e2115acb6a892d53a6881bf253ae41d3df39156
Author: Jon Loeliger <jdl@jdl.com>
Date:	Mon Jun 11 19:02:49 2007 -0500

    net/: Augment CONFIG_COMMANDS tests with defined(CONFIG_CMD_*).

    This is a compatibility step that allows both the older form
    and the new form to co-exist for a while until the older can
    be removed entirely.

    All transformations are of the form:
    Before:
	#if (CONFIG_COMMANDS & CFG_CMD_AUTOSCRIPT)
    After:
	#if (CONFIG_COMMANDS & CFG_CMD_AUTOSCRIPT) || defined(CONFIG_CMD_AUTOSCRIPT)

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 45cdb9b72c94655c7308b464a2666057c0b286e0
Author: Jon Loeliger <jdl@jdl.com>
Date:	Mon Jun 11 19:02:34 2007 -0500

    disk/: Augment CONFIG_COMMANDS tests with defined(CONFIG_CMD_*).

    This is a compatibility step that allows both the older form
    and the new form to co-exist for a while until the older can
    be removed entirely.

    All transformations are of the form:
    Before:
	#if (CONFIG_COMMANDS & CFG_CMD_AUTOSCRIPT)
    After:
	#if (CONFIG_COMMANDS & CFG_CMD_AUTOSCRIPT) || defined(CONFIG_CMD_AUTOSCRIPT)

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 4e109ae98294a5ca7ff848b7652c7bfd4023a94a
Author: Jon Loeliger <jdl@jdl.com>
Date:	Mon Jun 11 19:02:20 2007 -0500

    fs/: Augment CONFIG_COMMANDS tests with defined(CONFIG_CMD_*).

    This is a compatibility step that allows both the older form
    and the new form to co-exist for a while until the older can
    be removed entirely.

    All transformations are of the form:
    Before:
	#if (CONFIG_COMMANDS & CFG_CMD_AUTOSCRIPT)
    After:
	#if (CONFIG_COMMANDS & CFG_CMD_AUTOSCRIPT) || defined(CONFIG_CMD_AUTOSCRIPT)

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit d5be43de93ff905c465e509d45a3164ef48d26e7
Author: Jon Loeliger <jdl@jdl.com>
Date:	Mon Jun 11 19:02:10 2007 -0500

    drivers/: Augment CONFIG_COMMANDS tests with defined(CONFIG_CMD_*).

    This is a compatibility step that allows both the older form
    and the new form to co-exist for a while until the older can
    be removed entirely.

    All transformations are of the form:
    Before:
	#if (CONFIG_COMMANDS & CFG_CMD_AUTOSCRIPT)
    After:
	#if (CONFIG_COMMANDS & CFG_CMD_AUTOSCRIPT) || defined(CONFIG_CMD_AUTOSCRIPT)

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit b453960d4fdb87b3970d96119b90df2ed024fc4a
Author: Jon Loeliger <jdl@jdl.com>
Date:	Mon Jun 11 19:02:05 2007 -0500

    common/ non-cmd: Augment CONFIG_COMMANDS tests with defined(CONFIG_CMD_*).

    This is a compatibility step that allows both the older form
    and the new form to co-exist for a while until the older can
    be removed entirely.

    All transformations are of the form:
    Before:
	#if (CONFIG_COMMANDS & CFG_CMD_AUTOSCRIPT)
    After:
	#if (CONFIG_COMMANDS & CFG_CMD_AUTOSCRIPT) || defined(CONFIG_CMD_AUTOSCRIPT)

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 65c450b47a62659d522cfa8f4fa1e4e5c60dccd0
Author: Jon Loeliger <jdl@jdl.com>
Date:	Mon Jun 11 19:01:54 2007 -0500

    common/cmd_[i-z]* : Augment CONFIG_COMMANDS tests with defined(CONFIG_CMD_*).

    This is a compatibility step that allows both the older form
    and the new form to co-exist for a while until the older can
    be removed entirely.

    All transformations are of the form:
    Before:
	#if (CONFIG_COMMANDS & CFG_CMD_AUTOSCRIPT)
    After:
	#if (CONFIG_COMMANDS & CFG_CMD_AUTOSCRIPT) || defined(CONFIG_CMD_AUTOSCRIPT)

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit a76adc8142c1d956385a109e0b70f9319ede4d66
Author: Jon Loeliger <jdl@jdl.com>
Date:	Mon Jun 11 19:01:43 2007 -0500

    common/cmd_[a-f]* : Augment CONFIG_COMMANDS tests with defined(CONFIG_CMD_*).

    This is a compatibility step that allows both the older form
    and the new form to co-exist for a while until the older can
    be removed entirely.

    All transformations are of the form:
    Before:
	#if (CONFIG_COMMANDS & CFG_CMD_AUTOSCRIPT)
    After:
	#if (CONFIG_COMMANDS & CFG_CMD_AUTOSCRIPT) || defined(CONFIG_CMD_AUTOSCRIPT)

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit ec63b10b61fd68238d4c15c1cd04c0b38228e2c1
Author: Jon Loeliger <jdl@jdl.com>
Date:	Mon Jun 11 19:01:34 2007 -0500

    Introduce initial versions of new Command Config files.

    Derive three new files from cmd_confdefs.h:
	config_bootp.h - Has BOOTP related config options, not commands
	config_cmd_all.h - Has a CONFIG_CMD_* definition for every command
	config_cmd_default.h - Has a CONFIG_CMD_* definition for default cmds.

    For now, include "config_bootp.h" for compatability until all
    users of it directly include it properly.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 1f2a05898658900dc5717761e27abf2052e67e13
Author: Mushtaq Khan <mushtaqk_921@yahoo.co.in>
Date:	Sat Jun 30 18:50:48 2007 +0200

    Fix S-ATA support.

    Signed-off-by: mushtaq khan <mushtaqk_921@yahoo.co.in>

commit a5d71e290f3673269be8eefb4ec44f53412f9461
Author: Heiko Schocher <hs@pollux.denx.de>
Date:	Mon Jun 25 19:11:37 2007 +0200

    [PCS440EP]	get rid of CONFIG_PPC4xx_USE_SPD_DDR_INIT_HANG

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit a1bd6200eccd3a02040a955d5f43d3ee1fc9f93b
Author: Niklaus Giger <niklaus.giger@nestal.com>
Date:	Mon Jun 25 17:03:13 2007 +0200

    ppc4xx: PPC440EPx Emit DDR0 registers on machine check interrupt

    This patch prints the DDR status registers upon machine check
    interrupt on the 440EPx/GRx. This can be useful especially when
    ECC support is enabled.

    I added some small changes to the original patch from Niklaus to
    make it compile clean.

    Signed-off-by: Niklaus Giger <niklaus.giger@nestal.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 807018fb7faceb429ce0cb47baa2073746b33a4e
Author: Niklaus Giger <niklaus.giger@nestal.com>
Date:	Mon Jun 25 16:50:55 2007 +0200

    ppc4xx: Fix O=buildir builds

    This patch fixes the problem to assemble cpu/ppc4xx/start.S
    experienced last week where building failed having specified
    O=../build.sequoia.

    Signed-off-by: Niklaus Giger <niklaus.giger@nestal.com>

commit 466fff1a7bb5fe764a06450626f6098219f446b8
Author: Stefan Roese <sr@denx.de>
Date:	Mon Jun 25 15:57:39 2007 +0200

    ppc4xx: Add pci_pre_init() for 405 boards

    This patch removes the CFG_PCI_PRE_INIT option completely, since
    it's not needed anymore with the patch from Matthias Fuchs with
    the "weak" pci_pre_init() implementation.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 6f35c53166213c24a5a0e2390ed861136ff73870
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Sun Jun 24 17:41:21 2007 +0200

    ppc4xx: Maintenance patch for esd's CPCI405 derivats

    -add pci_pre_init() for pci interrupt fixup code
    -disable phy sleep mode via reset_phy() function
    -use correct io accessors
    -cleanup

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit 5a1c9ff0c44305b57cb4d8f9369bba90bcf0e1f8
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Sun Jun 24 17:23:41 2007 +0200

    ppc4xx: Add pci_pre_init() for 405 boards

    This patch adds support for calling a plattform dependant
    pci_pre_init() function for 405 boards. This can be used to
    move the current pci_405gp_fixup_irq() function into the
    board code.

    This patch also makes the CFG_PCI_PRE_INIT define obsolete.
    A default function with 'weak' attribute is used when
    a board specific pci_pre_init() is not implemented.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit 1636d1c8529c006d106287cfbc20cd0a246fe1cb
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Jun 22 23:59:00 2007 +0200

    Coding stylke cleanup; rebuild CHANGELOG

commit 2dc64451b4c08ffd619372abfdc2506a2e2363b9
Author: Igor Lisitsin <igor@emcraft.com>
Date:	Wed Apr 18 14:55:19 2007 +0400

    Adapt log buffer code to support Linux 2.6

    A new environment variable, "logversion", selects the log buffer
    behaviour. If it is not set or set to a value other than 2, then the
    old, Linux 2.4.4, behaviour is selected.

    Signed-off-by: Igor Lisitsin <igor@emcraft.com>
    --

commit a11e06965ec91270c51853407ff1261d3c740386
Author: Igor Lisitsin <igor@emcraft.com>
Date:	Wed Mar 28 19:06:19 2007 +0400

    Extend POST support for PPC440

    Added memory, CPU, UART, I2C and SPR POST tests for PPC440.

    Signed-off-by: Igor Lisitsin <igor@emcraft.com>
    --

commit 566a494f592ae3b3c0785d90d4e1ba45574880c4
Author: Heiko Schocher <hs@pollux.denx.de>
Date:	Fri Jun 22 19:11:54 2007 +0200

    [PCS440EP]	    upgrade the PCS440EP board:
		    - Show on the Status LEDs, some States of the board.
		    - Get the MAC addresses from the EEProm
		    - use PREBOOT
		    - use the CF on the board.
		    - check the U-Boot image in the Flash with a SHA1
		      checksum.
		    - use dynamic TLB entries generation for the SDRAM

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 3a1f5c81b0b9557817a789bece839905581c2205
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jun 22 16:58:40 2007 +0200

    ppc4xx: Fix problem with extended program_tlb() funtion

    The recently extended program_tlb() function had a problem when
    multiple TLB's had to be setup (for example with 512MB of SDRAM). The
    virtual address was not incremented. This patch fixes this issue
    and is tested on Katmai with 512MB SDRAM.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 02032e8f14751a1a751b09240a4f1cf9f8a2077f
Author: Rafal Jaworowski <raj@semihalf.com>
Date:	Fri Jun 22 14:58:04 2007 +0200

    [ppc] Fix build breakage for all non-4xx PowerPC variants.

    - adapt to the more generic EXCEPTION_PROLOG and CRIT_EXCEPTION macros
    - minor 4xx cleanup

commit d677b32855f577ae2690dcd64a172cdd706e0ffc
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Fri Jun 22 10:34:12 2007 +0200

    [patch] add nand_init() prototype to nand.h

    since nand_init() is expected to be called by other parts of u-boot, there
    should be a prototype for it in nand.h

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 83b4cfa3d629dff0264366263c5e94d9a50ad80b
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Jun 20 18:14:24 2007 +0200

    Coding style cleanup. Refresh CHANGELOG.

commit b3f9ec86e388207fd03dcdf7b145b9ed080bf024
Author: Stefan Roese <sr@denx.de>
Date:	Tue Jun 19 17:22:44 2007 +0200

    ppc4xx: Add bootstrap command for AMCC Sequoia (440EPx) eval board

    This patch adds a board command to configure the I2C bootstrap EEPROM
    values. Right now 533 and 667MHz are supported for booting either via NOR
    or NAND FLASH. Here the usage:

    => bootstrap 533 nor	;to configure the board for 533MHz NOR booting
    => bootstrap 667 nand	;to configure the board for 667MHz NNAND booting

    Signed-off-by: Stefan Roese <sr@denx.de>

commit df8a24cdd30151505cf57bbee5289e91bf53bd1b
Author: Stefan Roese <sr@denx.de>
Date:	Tue Jun 19 16:42:31 2007 +0200

    [ppc4xx] Fix problem with NAND booting on AMCC Acadia

    The latest changes showed a problem with the location of the NAND-SPL
    image in the OCM and the init-data area (incl. cache). This patch
    fixes this problem.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 86ba99e34194394052d24c04dc40d1263d29a26f
Author: Stefan Roese <sr@denx.de>
Date:	Tue Jun 19 16:40:58 2007 +0200

    [ppc4xx] Change board/amcc/acadia/cpr.c to pll.c

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 8e585f02f82c17cc66cd229dbf0fd3066bbbf658
Author: TsiChung Liew <Tsi-Chung.Liew@freescale.com>
Date:	Mon Jun 18 13:50:13 2007 -0500

    Added M5329AFEE and M5329BFEE Platforms

    Added board/freescale/m5329evb, cpu/mcf532x, drivers/net,
    drivers/serial,  immap_5329.h, m5329.h, mcfrtc.h,
    include/configs/M5329EVB.h, lib_m68k/interrupts.c, and
    rtc/mcfrtc.c

    Modified CREDITS, MAKEFILE, Makefile, README, common/cmd_bdinfo.c,
    common/cmd_mii.c, include/asm-m68k/byteorder.h, include/asm-m68k/fec.h,
    include/asm-m68k/io.h, include/asm-m68k/mcftimer.h,
    include/asm-m68k/mcfuart.h, include/asm-m68k/ptrace.h,
    include/asm-m68k/u-boot.h, lib_m68k/Makefile, lib_m68k/board.c,
    lib_m68k/time.c, net/eth.c and rtc/Makefile

    Signed-off-by: TsiChung Liew <Tsi-Chung.Liew@freescale.com>

commit 093172f08d6afb3f34d8a2f26ee0ee874261cf27
Author: Michal Simek <monstr@monstr.eu>
Date:	Sun Jun 17 19:04:11 2007 +0200

    [fix] email reparation

commit 3666afffe7baf859c6ae0ce2bebbc8ab7e512ddc
Author: Michal Simek <monstr@monstr.eu>
Date:	Sun Jun 17 19:03:21 2007 +0200

    [FIX] fix microblaze file permitission

commit e73846b7cf1e29ae635bf9bb5570269663df2ee5
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jun 15 11:33:41 2007 +0200

    [ppc4xx] Change lwmon5 port to work with recent 440 exception rework

    Now CONFIG_440 has to be defined in all PPC440 board config files.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit efa35cf12d914d4caba942acd5a6c45f217de302
Author: Grzegorz Bernacki <gjb@semihalf.com>
Date:	Fri Jun 15 11:19:28 2007 +0200

    ppc4xx: Clean up 440 exceptions handling

    - Introduced dedicated switches for building 440 and 405 images required
      for 440-specific machine instructions like 'rfmci' etc.

    - Exception vectors moved to the proper location (_start moved away from
      the critical exception handler space, which it occupied)

    - CriticalInput now serviced (with default handler)

    - MachineCheck properly serviced (added a dedicated handler and return
      subroutine)

    - Overall cleanup of exceptions declared with STD_EXCEPTION macro (unused,
      unhandled and those not relevant for 4xx were eliminated)

    - Eliminated Linux leftovers, removed dead code

    Signed-off-by: Grzegorz Bernacki <gjb@semihalf.com>
    Signed-off-by: Rafal Jaworowski <raj@semihalf.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit b765ffb773f5a3cd5aa94ec76b6a05276b8cd5b2
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jun 15 08:18:01 2007 +0200

    [ppc4xx] Add initial lwmon5 board support

    This patch adds initial support for the Liebherr lwmon5 board euqipped
    with an AMCC 440EPx PowerPC.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 85f737376d5ff3d5f0d45a8b657686326d175307
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jun 15 07:39:43 2007 +0200

    [ppc4xx] Extend 44x GPIO setup with default output state

    The board config array CFG_440_GPIO_TABLE for the ppc440 GPIO setup
    is extended with the default GPIO output state (level).

    Signed-off-by: Stefan Roese <sr@denx.de>

commit dbca208518e5e7f01a6420588d1cd6e60db74c2b
Author: Stefan Roese <sr@denx.de>
Date:	Thu Jun 14 11:14:32 2007 +0200

    [ppc4xx] Extend program_tlb() with virtual & physical addresses

    Now program_tlb() allows to program a TLB (or multiple) with
    different virtual and physical addresses. With this change, now one
    physical region (e.g. SDRAM) can be mapped 2 times, once with caches
    diabled and once with caches enabled.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 9912121f7ed804ea58fd62f3f230b5dcfc357d88
Author: Detlev Zundel <dzu@denx.de>
Date:	Wed May 23 19:02:41 2007 +0200

    Change 'repeatable' attribute of some commands to sensible values.

    Most prominently this changes 'erase' to be non-repeatable.

    Signed-off-by: Detlev Zundel <dzu@denx.de>

commit 5afb202093f6a001797db92cf695b93a70ea9ab4
Author: Detlev Zundel <dzu@denx.de>
Date:	Wed May 23 18:47:48 2007 +0200

    Fix 'run' not to continue after interrupted command

    Signed-off-by: Detlev Zundel <dzu@denx.de>

commit 9b7464a2c88614e1061f509c48930a3d240d1a35
Author: Jason Jin <Jason.jin@freescale.com>
Date:	Mon Jun 11 15:14:24 2007 +0200

    USB: This patch fix readl in ohci swap reg access.

    Signed-off-by: Jason Jin <Jason.jin@freescale.com>

commit 8f8416fada9faf94b9a92f21fe6000643cb521d5
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Fri Jun 8 14:52:22 2007 +0200

    TQM5200: Add Flat Device Tree support, update default env. accordingly.

    Signed-off-by: Jan Wrobel <wrr@semihalf.com>
    Acked-by: Bartlomiej Sieka <tur@semihalf.com>

commit 9045f33c023f698660a2e45d1b2194c0711abebc
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Jun 8 10:24:58 2007 +0200

    Fix config problems on SC3 board; make ide_reset_timeout work.

commit fba3fb0449b8a54542aed1e729de76e7f5a2ff1b
Author: Benot Monin <bmonin@adeneo.eu>
Date:	Fri Jun 8 09:55:24 2007 +0200

    [PATCH] fix gpio setting when using CFG_440_GPIO_TABLE

    Set the correct value in GPIOx_TCR when configuring the gpio
    with CFG_440_GPIO_TABLE.

    Signed-off-by: Benoit Monin <bmonin@adeneo.eu>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit f539edc076cfe52bff919dd512ba8d7af0e22092
Author: Vadim Bendebury <vbendeb@google.com>
Date:	Thu May 24 15:52:25 2007 -0700

    cosmetic changes to bcm570x driver

    This is a cosmetic only changes submission.
    It affects files relevant to bcm570x driver.
    the commands used to generate this change was

    cd drivers
    Lindent -pcs -l80  bcm570x.c   bcm570x_lm.h   bcm570x_mm.h	tigon3.c  tigon3.h

    The BMW target (the only one using this chip so far) builds cleanly, the
    `before and after' generated object files for drivers/bcm570x.c and
    drivers/tigon3.o are identical as reported by objdump -d

    Signed-off-by: Vadim Bendebury <vbendeb@google.com>
    Signed-off-by: Ben Warren <bwarren@qstreams.com>

commit 725671ccd2cd04c9ebc50c9e5a94dd8cbade66b7
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Jun 6 16:26:56 2007 +0200

    Coding Style cleanup; generate new CHANGELOG file.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 19d763c35e0b5568eaf0b8adbf7a68ccfe7fa243
Author: Markus Klotzbuecher <mk@denx.de>
Date:	Wed Jun 6 11:49:44 2007 +0200

    TRAB, USB: update trab board configuration for use of generic ohci driver

commit dace45acd1c1357daa9322099d07c9a9e08b0024
Author: Markus Klotzbuecher <mk@denx.de>
Date:	Wed Jun 6 11:49:43 2007 +0200

    USB: ohci fixes and cleanup for ppc4xx and yosemite board.

commit 72657570b61635c74fa0c3f0e9e7d0671a9d08df
Author: Markus Klotzbuecher <mk@denx.de>
Date:	Wed Jun 6 11:49:43 2007 +0200

    USB: ohci fixes and cleanup for mpc5xxx and IceCube board config

commit fc43be478f2aa37ce38acd85355038866e4162af
Author: Markus Klotzbuecher <mk@denx.de>
Date:	Wed Jun 6 11:49:35 2007 +0200

    USB/OHCI: endianness cleanup in the generic ohci driver

commit c440bfe6d6d92d66478a7e84402b31f48413617b
Author: Stefan Roese <sr@denx.de>
Date:	Wed Jun 6 11:42:13 2007 +0200

    ppc4xx: Add NAND booting support for AMCC Acadia (405EZ) eval board

    This patch adds NAND booting support for the AMCC Acadia eval board.

    Please make sure to configure jumper J7 to position 2-3 when booting
    from NOR, and to position 1-2 when booting for NAND.

    I also added a board command to configure the I2C bootstrap EEPROM
    values. Right now only 267MHz is support for booting either via NOR
    or NAND FLASH. Here the usage:

    => bootstrap 267 nor	;to configure the board for 267MHz NOR booting
    => bootstrap 267 nand	;to configure the board for 267MHz NNAND booting

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 18135125f909948b85d1d6881ab4ac0efb4a1c58
Author: Rodolfo Giometti <giometti@linux.it>
Date:	Wed Jun 6 10:08:14 2007 +0200

    Files include/linux/byteorder/{big,little}_endian.h define
    __BIG_ENDIAN and __LITTLE_ENDIAN.

    Signed-off-by: Rodolfo Giometti <giometti@linux.it>

commit a81d1c0b85b13e9d45f2d87de96a51a6e0ef0f82
Author: Zhang Wei <wei.zhang@freescale.com>
Date:	Wed Jun 6 10:08:14 2007 +0200

    Add USB PCI-OHCI, USB keyboard and event poll support to the
    MPC8641HPCN board config file.

    Signed-off-by: Zhang Wei <wei.zhang@freescale.com>

commit 4dae14ce8fbdf380017dc54f172218e7d2acc889
Author: Zhang Wei <wei.zhang@freescale.com>
Date:	Wed Jun 6 10:08:14 2007 +0200

    USB PCI-OHCI, interrupt pipe and usb event poll support

    This patch added USB PCI-OHCI chips support, interrupt pipe support
    and usb event poll support. For supporting the USB interrupt pipe, the
    globe urb_priv is moved to purb in ed struct. Now, we can process
    several urbs at one time. The interrupt pipe support codes are ported
    from Linux kernel 2.4.

    Signed-off-by: Zhang Wei <wei.zhang@freescale.com>

commit fdcfaa1b02268b2899e374b35adf936c911a47eb
Author: Zhang Wei <wei.zhang@freescale.com>
Date:	Wed Jun 6 10:08:13 2007 +0200

    USB event poll support

    This patch adds USB event poll support, which could be used in usbkbd
    and other usb devices driver when the asynchronous interrupt
    processing is supported.

    Signed-off-by: Zhang Wei <wei.zhang@freescale.com

commit 9a1d00fa47c1e05e3fdb60b33213af4e18d4c18e
Author: Rodolfo Giometti <giometti@linux.it>
Date:	Wed Jun 6 10:08:12 2007 +0200

    ISP116x: delay for crappy USB keys

    Using some (very) slow USB keys cause the USB host controller buffers
    are not ready to be read by the CPU so we need an extra delay before
    reading the USB storage data.

    Signed-off-by: Rodolfo Giometti <giometti@linux.it>

commit 09444143670c9c2243cb7aba9f70b3713d33bed1
Author: Markus Klotzbuecher <mk@denx.de>
Date:	Wed Jun 6 10:08:12 2007 +0200

    Change duplicate usb_cpu_init_fail to usb_board_init_fail

    Thanks to Liew Tsi Chung <Tsi-chung.Liew@freescale.com> for pointing
    this out.

    Signed-off-by: Markus Klotzbuecher <mk@denx.de>

commit 32922cdc470fdfd39bea0c1c4f582d3fb340421e
Author: Ed Swarthout <Ed.Swarthout@freescale.com>
Date:	Tue Jun 5 12:30:52 2007 -0500

    mpc8641 image size cleanup

    e600 does not have a bootpg restriction.
    Move the version string to beginning of image at fff00000.
    Resetvec.S is not needed.
    Update flash copy instructions.
    Add tftpflash env variable

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>
    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit e3cbe1f93c5722f8ebbad468e30c069a2b511097
Author: Benot Monin <bmonin@adeneo.eu>
Date:	Mon Jun 4 08:36:05 2007 +0200

    [PATCH] Fix ppc4xx bootstrap letter displayed on startup

    The attached patch is mainly cosmetic, allowing u-boot to
    display the correct bootstrap option letter according to the
    datasheets.

    The original patch was extended with 405EZ support by Stefan
    Roese.

    Signed-off-by: Benoit Monin <bmonin@adeneo.eu>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 5b1313fb2758ffce8b624457f777d8cc6709608d
Author: Nikita V. Youshchenko <yoush@debian.org>
Date:	Wed May 23 12:45:19 2007 +0400

    fix compilation problem for mpc8349itx CFG_RAMBOOT

    Current include/configs/MPC8349ITX.h does contain some support for building
    image that will be started from memory (without putting in into flash).
    It could be triggered by building with TEXT_BASE set to a low value.

    However, this support is incomplete: using of low TEXT_BASE causes
    defining configuration macros in inconsistent way, which later leads
    to compilation errors. In particular. flash support is being disabled,
    but then flash structures get referenced.

    This patch fixes this, making it possible to build with low TEXT_BASE.

    Signed-Off-By: Nikita Youshchenko <yoush@debian.org>

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 8a364f0970de49949d635e60accf463c6443ef8c
Author: Nikita V. Youshchenko <yoush@debian.org>
Date:	Wed May 23 12:45:25 2007 +0400

    add missing 'console' var to default mpc8349itx config

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 18d156eb37c90fadc8ec7a81a3b89176161f85b7
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jun 1 16:18:17 2007 +0200

    ppc4xx: Add missing file for Bamboo NAND booting support

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 155a96478a0881e6da96cbbbcf34952d6a3b1b4b
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jun 1 15:58:19 2007 +0200

    ppc4xx: Undo Sequoia patch for dynamic EBC speed support of 83MHz

    This patch undoes the patch by Jeff Mann with commit-id ada4697d. As
    suggested by AMCC it is not recommended to dynamically change the EBC
    speed after bootup. So we undo this change to be on the safe side.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 9d9096043e8f713d4bf1743d32e1459e6a11644b
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jun 1 15:29:04 2007 +0200

    ppc4xx: Update Sequoia NAND booting support with ECC

    Signed-off-by: Stefan Roese <sr@denx.de>

commit cf959c7d6687567c308e366e9581e1a5aff5cc5b
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jun 1 15:27:11 2007 +0200

    ppc4xx: Add NAND booting support for AMCC Bamboo (440EP) eval board

    This patch adds NAND booting support for the AMCC Bamboo eval board.
    Since the NAND-SPL boot image is limited to 4kbytes, this version
    only supports the onboard 64MBytes of DDR. The DIMM modules can't be
    supported, since the setup code for I2C DIMM autodetection and
    configuration is too big for this NAND bootloader.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 42be56f53c8b107868e6125c8524ae84293e95a7
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jun 1 15:23:04 2007 +0200

    NAND: Add ECC support to NAND booting support in nand_spl/nand_boot.c

    The U-Boot NAND booting support is now extended to support ECC
    upon loading of the NAND U-Boot image.

    Tested on AMCC Sequoia (440EPx) and Bamboo (440EP).

    Signed-off-by: Stefan Roese <sr@denx.de>

commit a471db07fbb65a841ffc9f4f112562b945230f98
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jun 1 15:19:29 2007 +0200

    ppc4xx: Prepare Bamboo port for NAND booting support

    This patch updates the "normal" Bamboo NOR booting port, so
    that it is compatible with the coming soon NAND booting
    Bamboo port.

    It also enables the 2nd NAND flash on the Bamboo.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 53ad02103fb8be4138a9937a8ab91fcdff7b4987
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jun 1 15:16:58 2007 +0200

    ppc4xx: Update in_be32() functions and friends to latest Linux version

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 91da09cfbce0c1de05d6d84aa8363d666fa7ea3c
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jun 1 15:15:12 2007 +0200

    NAND: Add hardware ECC support to the PPC4xx NAND driver ndfc.c

    This patch adds hardware ECC support to the NDFC driver. It also
    changes the register access from using the "simple" in32/out32
    functions to the in_be32/out_be32 functions, which make sure
    that the access is correctly synced. This is the only recommended
    access to SoC registers in the current Linux kernel.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 17b5e862287cca76f19dcf8b741e61a7d06617f2
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jun 1 15:12:15 2007 +0200

    NAND: Update nand_ecc.c to latest Linux version

    This patch updates the nand_ecc code to the latest Linux version.
    The main reason for this is the more compact code. This makes
    it possible to include the ECC code into the NAND bootloader
    image (NAND_SPL) for PPC4xx.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit d2d432760d2199d0e8558fdd9d1789b8131abcf7
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jun 1 15:09:50 2007 +0200

    ppc4xx: 44x DDR driver code cleanup and small fix for Bamboo

    Signed-off-by: Stefan Roese <sr@denx.de>

commit e4bbed2803a2ad0521c7362f5d3e065f99abaedc
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jun 1 13:45:24 2007 +0200

    ppc4xx: Change Luan config file to support ECC

    With the updated 44x DDR2 driver the Luan board now supports
    ECC generation and checking.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 7187db73491c8de0fb56efb5e5134ba5ec443089
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jun 1 13:45:00 2007 +0200

    ppc4xx: Update 44x_spd_ddr2 code (440SP/440SPe)

    Add config option for 180 degree advance clock control as needed
    for the AMCC Luan eval board.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit ee1529838abbfaa35f14e3ffbeaaba693159475f
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu May 31 17:20:09 2007 +0200

    Add support for STX GP3SSA (stxssa) Board with 4 MiB flash.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 7049288fb1f16f1b317140226cdebd07bd416395
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Sun May 27 17:26:46 2007 +0200

    Motion-PRO: Code cleanup, fix of a typo in OF_STDOUT_PATH.

    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>

commit 4520fd4d2c450da49637216aa0e53739b61c60ac
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Sun May 27 17:06:36 2007 +0200

    Motion-PRO: Add support for redundant environment.

    Enable redundant environment, add a MTD partition for it; also add env.
    variable command for passing MTD partitions to the kernel command line.

    Signed-off-by: Piotr Kruszynski <ppk@semihalf.com>
    Acked-by: Bartlomiej Sieka <tur@semihalf.com>

commit a26eabeec31746f06d309103690892805696e344
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Sun May 27 17:05:11 2007 +0200

    Motion-PRO: Change maximum console buffer size from 256 to 1024 bytes.

    Allow passing longer command line to the kernel - useful especially
    for passing MTD partition layout.

    Signed-off-by: Piotr Kruszynski <ppk@semihalf.com>
    Acked-by: Bartlomiej Sieka <tur@semihalf.com>

commit 9160b96f71483a116de81c68985e8ee306d36764
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Sun May 27 17:04:18 2007 +0200

    Fix: Add missing NULL termination in strings expanded by macros parser.

    Signed-off-by: Piotr Kruszynski <ppk@semihalf.com>
    Acked-by: Bartlomiej Sieka <tur@semihalf.com>

commit 630ec84aef7228fc1dbfb38dec78541403a786cd
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Sun May 27 17:03:37 2007 +0200

    Motion-PRO: Update EEPROM's page write bits and write delay.

    Change EEPROM configuration according to the datasheet: "The 24C01A and 24C02A
    have a page write capability of two bytes", and "This device offers fast (1ms)
    byte write". Add 3ms of extra delay.

    Signed-off-by: Piotr Kruszynski <ppk@semihalf.com>
    Acked-by: Bartlomiej Sieka <tur@semihalf.com>

commit c00125e07c1ebc125bab40e1e18bceed8be0c162
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Sun May 27 16:58:45 2007 +0200

    MPC5XXX, Motion-PRO: Fix PHY initialization problem.

    After being reset in mpc5xxx_fec_init_phy(), PHY goes into FX mode, in which
    networking does not function. This commit switches PHY to TX mode by clearing
    the FX_SEL bit of Mode Control Register. It also reverses commit
    008861a2f3ef2c062744d733787c7e530a1b8761, i.e., a temporary workaround.

    Signed-off-by: Grzegorz Bernacki <gjb@semihalf.com>
    Acked-by: Bartlomiej Sieka <tur@semihalf.com>

commit 93b78f534a6e708b4cf1a4ffb4d8438c67a007db
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Sun May 27 16:57:15 2007 +0200

    Motion-PRO: Add support for the temperature sensor.

    Signed-off-by: Piotr Kruszynski <ppk@semihalf.com>
    Acked-by: Bartlomiej Sieka <tur@semihalf.com>

commit c75e639630cc132dc19cd1ecda5922c0db0bfbba
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Sun May 27 16:55:23 2007 +0200

    Motion-PRO: Add displaying of CPLD revision information during boot.

    Signed-off-by: Jan Wrobel <wrr@semihalf.com>
    Acked-by: Bartlomiej Sieka <tur@semihalf.com>

commit c99512d6bd3973f01ca2fc4896d829b46e68f150
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Sun May 27 16:53:43 2007 +0200

    MPC5xxx: Change names of defines related to IPB and PCI clocks.

    Both CFG_PCISPEED_66 and CFG_IPBSPEED_133 are misnamed, as defining
    them does not cause PCI or IPB clocks to run at the specified speed.
    Instead, they configure divisors used to calculate said clocks. This
    patch renames the defines according to their real function.

    Signed-off-by: Grzegorz Bernacki <gjb@semihalf.com>
    Acked-by: Bartlomiej Sieka <tur@semihalf.com>

commit a11c0b85dc3664bb3c1e781137118730c8f619ab
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Sun May 27 16:51:48 2007 +0200

    Motion-PRO: Add LED support.

    Signed-off-by: Jan Wrobel <wrr@semihalf.com>
    Signed-off-by: Marian Balakowicz <m8@semihalf.com>
    Acked-by: Bartlomiej Sieka <tur@semihalf.com>

commit 7ebb4479b07ff294eb4d76e420753a0349f7c93b
Author: Ulf Samuelsson <ulf@atmel.com>
Date:	Thu May 24 12:12:47 2007 +0200

    [PATCH][NAND] Define the Vendor Id for Micron NAND Flash

    Signed-off-by: Ulf Samuelsson <ulf@atmel.com>
    Signed-off-by: Ladislav Michl <ladis@linux-mips.org>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit d756894722c888d09a9fa1df8323753772d3dcce
Author: Stefan Roese <sr@denx.de>
Date:	Thu May 24 09:49:00 2007 +0200

    ppc4xx: Fix small 405EZ OCM initilization bug in start.S

    As pointed out by Bruce Adler <bruce.adler@acm.org> this patch
    fixes a small bug in the 405EZ OCM initialization. Thanks for
    spotting.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 5d4a179013d59a76446462e1eb0a969fba63eb81
Author: Stefan Roese <sr@denx.de>
Date:	Thu May 24 08:22:09 2007 +0200

    ppc4xx: Update AMCC Acadia support for board revision 1.1

    This patch updates the Acadia (405EZ) support for the new 1.1 board
    revision. It also adds support for NAND FLASH via the 4xx NDFC.

    Please note that the jumper J7 must be in position 2-3 for this
    NAND support. Position 1-2 is for NAND booting only. NAND booting
    support will follow later.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 822d55365bb557e084d0e33625a6dedcc866110b
Author: Jon Loeliger <jdl@freescale.com>
Date:	Wed May 23 14:09:46 2007 -0500

    Add LIST_86xx MAKEALL target for PowerPC builds.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 9f0077abd69f7a7c756a915b961037302be3e6f2
Author: Stefan Roese <sr@denx.de>
Date:	Tue May 22 12:48:09 2007 +0200

    ppc4xx: Use do { ... } while (0) for CPR & SDR access macros

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 6f3dfc139a838b0841c151efe00ad47db2366e79
Author: Stefan Roese <sr@denx.de>
Date:	Tue May 22 12:46:10 2007 +0200

    ppc4xx: Add 405 support to 4xx NAND driver ndfc.c

    This patch adds support for 405 PPC's to the 4xx NAND driver
    ndfc.c. This is in preparation for the new AMCC 405EZ.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 10603d76767426be803dadd4fb688b97eb69481c
Author: Stefan Roese <sr@denx.de>
Date:	Mon May 21 07:41:22 2007 +0200

    ppc4xx: Fix problem in 405EZ OCM initialization

    As spotted by Bruce Adler this patch fixes an initialization problem
    for the 405EZ OCM.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 3e3b956906eba9e4ad7931581ecedaad10eccce8
Author: Peter Pearse <peter.pearse@arm.com>
Date:	Fri May 18 16:47:03 2007 +0100

    Reduce line lengths to 80 characters max.

commit 93ef45c9ddfdd9fc17c4e74bd8e2f2456580eb72
Author: Peter Pearse <peter.pearse@arm.com>
Date:	Fri May 18 14:34:07 2007 +0100

    Makefile permissions

commit 1443a31457d68f7e8f0b9403e9832ec1e79dc59d
Author: Peter Pearse <peter.pearse@arm.com>
Date:	Fri May 18 14:33:11 2007 +0100

    Makefile permissions

commit 255a3577c848706441daee0174543efe205a77f8
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Wed May 16 16:52:19 2007 -0500

    Reduce CONFIG_MPC8YXX_TSECx to CONFIG_TSECx

    For all practical u-boot purposes, TSECs don't differ throughout the
    mpc8[356]xx families; reduce CONFIG_MPC8YXX_TSECx to CONFIG_TSECx.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 70124c2602ae2d4c5d3dba05b482d91548242de8
Author: Stefano Babic <sbabic@denx.de>
Date:	Wed May 16 14:49:12 2007 +0200

    Fix compile problem cause my Microblaze merge

    Signed-off-by: Stefano Babic <sbabic@denx.de>

commit ada4697d0230d6da552867777f98a67ec3ba2579
Author: Jeffrey Mann <mannj@embeddedplanet.com>
Date:	Wed May 16 13:23:10 2007 +0200

    [PATCH] Run new sequoia boards with an EBC speed of 83MHz

    Because the Sequoia board does not boot with an EBC faster than 66MHz,
    the clock divider are changed after the initial boot process.

    This allows for maximum clocking speeds  to be achieved on newer boards.
    Sequoia boards with 666.66 MHz processors require that the EBC divider
    be set to 3 in order to start the initial boot process at a slower EBC
    speed. After the initial boot process, the divider can be set back to 2,
    which will cause the boards to run at 83.333MHz. This is backward
    compatible with boards with 533.33 MHz processors, as these boards will
    already be set with an EBC divider of 2.

    Signed-off-by: Jeffrey Mann <mannj@embeddedplanet.com>

commit a7676ea7732f3c596805079fed7e5c9fac652cfc
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed May 16 01:16:53 2007 +0200

    Minor Coding Style cleanup, update CHANGELOG.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit d62f64cc23a940eafe712c776b3249e4160753d1
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed May 16 00:13:33 2007 +0200

    Coding Style Cleanup, new CHANGELOG

commit 3162eb836903c8b247fdc7470dd39bfa6996f495
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue May 15 23:38:05 2007 +0200

    Minor coding style cleanup.

commit 66d9dbec1cc27d6398ee6cf84639dbe14971251e
Author: mushtaq khan <mushtaq_k@procsys.com>
Date:	Fri Apr 20 14:23:02 2007 +0530

    Add driver for S-ATA-controller on Intel processors with South
    Bridge, ICH-5, ICH-6 and ICH-7.

    Implementation:

    1. Code is divided in to two files. All functions, which are
       controller specific are kept in "drivers/ata_piix.c" file and
       functions, which are not controller specific, are kept in
       "common/cmd_sata.c" file.

    2. Reading and Writing from the S-ATA drive is done using PIO method.

    3. Driver can be configured for 48-bit addressing by defining macro
       CONFIG_LBA48, if this macro is not defined driver uses the 28-bit
       addressing.

    4. S-ATA read function is hooked to the File system, commands like
       ext2ls and ext2load file can be used. This has been tested.

    5. U-Boot command "SATA_init" is added, which initializes the S-ATA
       controller and identifies the S-ATA drives connected to it.

    6. U-Boot command "sata" is added, which is used to read/write, print
       partition table and get info about the drives present. This I have
       implemented in same way as "ide" command is implemented in U-Boot.

    7. This driver is for S-ATA in native mode.

    8. This driver does not support the Native command queuing and
       Hot-plugging.

    Signed-off-by: Mushtaq Khan <mushtaq_k@procsys.com>

commit 644e6fb4eb8be90ea04ba34b643a8bf019d680e0
Author: mushtaq khan <mushtaq_k@procsys.com>
Date:	Mon Apr 30 15:57:22 2007 +0530

    Fixes bug clearing the bss section for i386

    Hi,
    There is a bug in the code of clearing the bss section for processor
    i386.(File: cpu/i386/start.S)
    In the code, bss_start addr (starting addr of bss section) is put into
    the register %eax, but the code which clears the bss section refers to
    the addr pointed by %edi.

    This patch fixes this bug by putting bss_start into %edi register.

    Signed-off-by: Mushtaq Khan <mushtaq_k@procsys.com>

commit c3243cf7b490057277d61acffe4ad0946f9eb4a4
Author: Joe Hamman <joe.hamman@embeddedspecialties.com>
Date:	Mon Apr 30 16:47:28 2007 -0500

    Add support for BCM5464 Quad Phy

    Added support for Broadcom's BCM5464 Quad Phy

    Signed-off-by: Joe Hamman <joe.hamman@embeddedspecialties.com>

commit 1b305bdc754c8468e1d5d858f5dcf8a7a0a4bb7a
Author: Zang Roy-r61911 <tie-fei.zang@freescale.com>
Date:	Wed May 9 08:10:57 2007 +0800

    Search the exception table with linear algorithm

    Search the exception table with linear algorithm instead of
    bisecting algorithm.
    Because the exception table might be unsorted.

    Signed-off-by: Roy Zang <tie-fei.zang@freescale.com>

commit 5dfaa50eb819686bfba1927e8c5b8a70a4d65fd3
Author: Aubrey.Li <aubrey.adi@gmail.com>
Date:	Mon May 14 11:47:35 2007 +0800

    Fix compilation issues on MACOSX

    Singed-off-by: Marc Hoffman <Marc.Hoffman@analog.com>
    Signed-off-by: Aubrey Li <aubrey.adi@gmail.com>

commit 56fd7162985c412317bbf763a225fba23c64fd31
Author: Stephen Williams <steve@icarus.com>
Date:	Tue May 15 07:55:42 2007 -0700

    Fix for compile of JSE target

    The attached patch fixes the compile of the JSE board in the
    denx git as of 14 may 2007. It is an extremely simple patch,
    it just adds the missing define of CFG_SYSTEMACE_WIDTH.

     Fix to compile JSE against 20070514 git of u-boot

commit 69df3c4da0c93017cceb25a366e794570bd0ed98
Author: Nobuhiro Iwamatsu <iwamatsu@rahute.(none)>
Date:	Sun May 13 21:01:03 2007 +0900

    sh: MS7750SE support.

    This adds support for the Hitachi MS7750SE.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 0b135cfc2e524dc249b75057b55dd4cc09842e27
Author: Nobuhiro Iwamatsu <iwamatsu@rahute.(none)>
Date:	Sun May 13 20:58:00 2007 +0900

    sh: First support code of SuperH.

    Signed-off-by: Nobuhiro Iwamatsu <iwamatsu@nigauri.org>

commit 61936667e86a250ae12fd2dc189d3588f0a59e0b
Author: Stefan Roese <sr@denx.de>
Date:	Fri May 11 12:01:49 2007 +0200

    ppc4xx: Add mtcpr/mfcpr access macros

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 343c48bd84606c4025c8a7c7263fda465d6e284c
Author: Stefan Roese <sr@denx.de>
Date:	Fri May 11 12:01:06 2007 +0200

    ppc4xx: Set bd->bi_pci_busfreq on 440EPx/GRx too

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 7d98ba770a7eaefa29ce927f31a0956df85bf650
Author: Piotr Kruszynski <ppk@semihalf.com>
Date:	Thu May 10 16:55:52 2007 +0200

    [Motion-PRO] Add MTD and JFFS2 support, also add default partition
    definition.

commit 65fb6a676e821f9570a2a376dc204bf611ce5f81
Author: Peter Pearse <peter.pearse@arm.com>
Date:	Wed May 9 11:42:44 2007 +0100

    Add the board directory for SMN42

commit 160131bf965785419626df6c388729fe0b597992
Author: Peter Pearse <peter.pearse@arm.com>
Date:	Wed May 9 11:41:58 2007 +0100

    Add the files for the SMN42 board

commit 5c6d2b5a500f8c49670de8910150b78a41f781fc
Author: Peter Pearse <peter.pearse@arm.com>
Date:	Wed May 9 11:40:34 2007 +0100

    Remove the deleted files for the SMN42 patch

commit b0d8f5bf0d215adc9424cb228b2484dbf07f7761
Author: Peter Pearse <peter.pearse@arm.com>
Date:	Wed May 9 11:37:56 2007 +0100

    New board SMN42 branch

commit 29f3be0caf0799ca6b89dfd9824c15619a50000f
Author: Peter Pearse <peter.pearse@arm.com>
Date:	Wed May 9 10:24:38 2007 +0100

    Makefile permissions

commit b84289b595731e8851df46e893845cc1322c9b9b
Author: Ed Swarthout <Ed.Swarthout@freescale.com>
Date:	Tue May 8 14:17:07 2007 -0500

    8641hpcn: Fix Makefile after moving pixis to board/freescale.

    The OBJTREE != SRCTREE build scenario was broken.
    This fixes it.

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>
    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit e69f66c6ebe82bbbd1da766bc4eda40ec7ee5af1
Author: Michal Simek <monstr@monstr.eu>
Date:	Tue May 8 15:57:43 2007 +0200

    add: reading special purpose registers

commit 1a50f164beb065f360fbddb76029607d6b099698
Author: Michal Simek <monstr@monstr.eu>
Date:	Tue May 8 14:52:52 2007 +0200

    add: Microblaze V5 exception handling

commit ab874d5047e5d30dbc1e517ff26083efffa98ecb
Author: Michal Simek <monstr@monstr.eu>
Date:	Tue May 8 14:39:11 2007 +0200

    add: FSL control read and write

commit de1de02a7cbf05e6b63e0d8ffc624f12493f6ba3
Author: Piotr Kruszynski <ppk@semihalf.com>
Date:	Tue May 8 13:05:44 2007 +0200

    [Motion-PRO] Add support for I2C, EEPROM and RTC.

commit fa5c2ba123b1bf88455bfc21db5e786ca045029d
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Tue May 8 10:23:56 2007 +0200

    [Motion-PRO] Add ATA support. Add CF-booting commands to the default
    environment.

commit 06241d50a3ab1b20a0b08baeeaffcaa23ae4b839
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Tue May 8 09:39:12 2007 +0200

    [Motion-PRO] Change IPB clock frequency from 50MHz to 100MHz. This
    eliminates networking problems in Linux (timeouts).

commit 1f1369c34b629be94702684d41d3fddf0f6193e7
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Tue May 8 09:21:57 2007 +0200

    [Motion-PRO] Enable Flat Device Tree support and modify default environment
    to allow booting of FDT-expecting kernels.

commit fb05f6da35ea1c15c553abe6f23f656bf18dc5db
Author: Michal Simek <monstr@monstr.eu>
Date:	Mon May 7 23:58:31 2007 +0200

    new: USE_MSR_INTR support

commit 008861a2f3ef2c062744d733787c7e530a1b8761
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Mon May 7 22:36:15 2007 +0200

    [MPC5xxx] There are networking problems on the Motion-PRO board with
    current PHY initalization code (tftp timeouts all the time). This commit
    temporarily disables PHY initalization sequence to make the networking
    operational, until a fix is found.

commit abca901869c3760b6c5fecb825db6c1d91a78a93
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon May 7 22:10:36 2007 +0200

    Get rid of duplicated file (see include/configs/sbc8560.h instead)

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 207b7b2c9d9752e0f6478c30c29b7087f6e6cbb6
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon May 7 22:07:08 2007 +0200

    Get rid of duplicated file (see doc/README.SBC8560 instead)

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit a7bac7e9b57ba948051beb19ec5be3a75ce75383
Author: Michal Simek <monstr@monstr.eu>
Date:	Mon May 7 19:43:10 2007 +0200

    fix: read and write MSR - repair number of parameters

commit 193b4a3bb3acaddf798da8de0da05d94ba8774ee
Author: Jeffrey Mann <mannj@embeddedplanet.com>
Date:	Mon May 7 19:42:49 2007 +0200

    [PATCH] ppc4xx: Fix CONFIG_SYS_CLK_FREQ definition in Sequoia config file

    A '3' got cut off in the formatting of the last patch to automatically
    change the clock speed of the system clock on sequoia board.

    Signed-off-by: Jeffrey Mann <mannj@embeddedplanet.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 19bf1fbad7f19d5a120be9b1daf136e052fcab39
Author: Michal Simek <monstr@monstr.eu>
Date:	Mon May 7 19:33:51 2007 +0200

    new: fsl interrupt support
    FSL_Has_data is connected to INTC.

commit 792032baa7d625e34c981ab6df521911bd8dc861
Author: Michal Simek <monstr@monstr.eu>
Date:	Mon May 7 19:30:12 2007 +0200

    fix: interrupt handler
    remove asm code

commit f3f001a341ef185d0f13841be5b5dc3395aacc31
Author: Michal Simek <monstr@monstr.eu>
Date:	Mon May 7 19:25:08 2007 +0200

    fix: remove asm code

commit fb7c2dbef02c9f6f8d7b04ec4c2bfb91418b9c01
Author: Michal Simek <monstr@monstr.eu>
Date:	Mon May 7 19:12:43 2007 +0200

    fix: clean interrupt

commit 42efed6130c8fcf7da881385b5427065d2801757
Author: Michal Simek <monstr@monstr.eu>
Date:	Mon May 7 17:22:25 2007 +0200

    fix: interrupt handler for multiple sources

commit 48fbd3a4cdabbebc1debd7eed73c00c2caf914f6
Author: Michal Simek <monstr@monstr.eu>
Date:	Mon May 7 17:11:09 2007 +0200

    new: add writing to msr register

commit 3a619dd7bed03e8b4d22a3911f90fd12af5376c2
Author: Markus Klotzbuecher <mk@denx.de>
Date:	Mon May 7 16:43:56 2007 +0200

    Fix an ancient CHANGELOG conflict

commit ac4cd59d59c9bf3f89cb7a344abf8184d678f562
Author: Timur Tabi <timur@freescale.com>
Date:	Sat May 5 08:12:30 2007 +0200

    5xxx: write MAC address to mac-address and local-mac-address

    Some device trees have a mac-address property, some have local-mac-address,
    and some have both.  To support all of these device trees, ftp_cpu_setup()
    should write the MAC address to mac-address and local-mac-address, if they
    exist.

    Signed-off-by: Timur Tabi <timur@freescale.com>
    Acked-by: Grant Likely <grant.likely@secretlab.ca>

commit a9d87e2707dcb249f6bb7f7ff7e00acd8cda9fd2
Author: Grzegorz Wianecki <grzegorz.wianecki@gmail.com>
Date:	Sun Apr 29 14:01:54 2007 +0200

    [PATCH] Use PVR to distinguish MPC5200B from MPC5200 in boot message

    MPC5200B systems are incorrectly reported as MPC5200 in U-Boot start-up
    message. Use PVR to distinguish between the two variants, and print proper CPU
    information.

    Signed-off-by: Grzegorz Wianecki <grzegorz.wianecki@gmail.com>
    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>
    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 4ec5bd55ed1ffa91a774af298769621f4fbb18c1
Author: Ladislav Michl <ladis@linux-mips.org>
Date:	Wed Apr 25 16:01:26 2007 +0200

    [PATCH] simplify silent console

    Signed-off-by: Ladislav Michl <ladis@linux-mips.org>
    Acked-by: Stefan Roese <sr@denx.de>

commit b7598a43f2b421a713d8135e98a42c37d9eb9df0
Author: Sergei Shtylyov <sshtylyov@ru.mvista.com>
Date:	Mon Apr 23 15:30:39 2007 +0200

    [PATCH] Avoid assigning PCI resources from zero address

    If a PCI IDE card happens to get a zero address assigned to it, the Linux IDE
    core complains and IDE drivers fails to work.  Also, assigning zero to a BAR
    was illegal according to PCI 2.1 (the later revisions seem to have excluded the
    sentence about "0" being considered an invalid address) -- so, use a reasonable
    starting value of 0x1000 (that's what the most Linux archs are using).

    Alternatively, one might have fixed the calls to pci_set_region() individually
    (some code even seems to have taken care of this issue) but that would have
    been a lot more work. :-)

    Signed-off-by: Sergei Shtylyov <sshtylyov@ru.mvista.com>
    Acked-by: Stefan Roese <sr@denx.de>

commit 9ffd451afeb08e5be7ddae680487ec962b2bca25
Author: Jeffrey Mann <mannj@embeddedplanet.com>
Date:	Mon Apr 23 14:00:11 2007 +0200

    [patch] setenv(...) can delete environmentalvariables

    update setenv() function so that entering a NULL value for the
    variable's value will delete the environmental variable

    Signed-off-by: Jeffrey Mann <mannj@embeddedplanet.com>
    Acked-by: Stefan Roese <sr@denx.de>

commit ebd0a0ae05a44769c4e27458ad4e9f3438250443
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Apr 23 13:54:24 2007 +0200

    [patch] use unsigned char in smc91111 driver for mac

    the v_mac variable in the smc91111 driver is declared as a signed char ...
    this causes problems when one of the bytes in the MAC is "signed" like 0xE0
    because when it gets printed out, you get a display like:
    0xFFFFFFE0 and that's no good

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit ffc50f9bb194343c6303517a517708457a5eb6b8
Author: Michal Simek <monstr@monstr.eu>
Date:	Sat May 5 18:54:42 2007 +0200

    new: FSL and MSR support #2

commit f7e2e0eb0668136305f78bb9c21be79b48a34247
Author: Michal Simek <monstr@monstr.eu>
Date:	Sat May 5 18:27:16 2007 +0200

    new: FSL and MSR support

commit 2f15278c2eb911c668b4fe562130b78cf554d139
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat May 5 18:23:11 2007 +0200

    Coding stylke cleanup; update CHANGELOG.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 885ec89b648a899a2f32393fd3ffd9f7234c4402
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat May 5 18:05:02 2007 +0200

    Add STX GP3 SSA board to MAKEALL script; update CHANGELOG.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 5499645b3fe17a548af9dfc479ca6e2455f179a2
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat May 5 17:15:50 2007 +0200

    Make "file" command happy with some config.mk files; update CHANGELOG

commit e3b8c78bc2489c27ae020986ef0eaca684866cef
Author: Jeffrey Mann <mannj@embeddedplanet.com>
Date:	Sat May 5 08:32:14 2007 +0200

    ppc4xx: Detect if the sysclk on Sequoia is 33 or 33.333 MHz

    The AMCC Secquoia board has been changed in a new revision from using a
    33.000 MHz clock to a 33.333 MHz system clock. A bit in the CPLD
    indicates the difference. This patch reads that bit and uses the correct
    clock speed for the board. This code is backward compatable will all
    prior boards. All prior boards will be read as 33.000.

    Signed-off-by: Jeffrey Mann <mannj@embeddedplanet.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit f544ff6656fca263ed1ebe39899b6d95da67c8b8
Author: Stefan Roese <sr@denx.de>
Date:	Sat May 5 08:29:01 2007 +0200

    ppc4xx: Sequoia: Remove cpu/ppc4xx/speed.c from NAND booting

    Using cpu/ppc4xx/speed.c to calculate the bus frequency is too big
    for the 4k NAND boot image so define bus_frequency to 133MHz here
    which is save for the refresh counter setup.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 2f550ab976405300f5b07bf2890800840d0aa05f
Author: Timur Tabi <timur@freescale.com>
Date:	Sat May 5 08:12:30 2007 +0200

    5xxx: write MAC address to mac-address and local-mac-address

    Some device trees have a mac-address property, some have local-mac-address,
    and some have both.  To support all of these device trees, ftp_cpu_setup()
    should write the MAC address to mac-address and local-mac-address, if they
    exist.

    Signed-off-by: Timur Tabi <timur@freescale.com>
    Acked-by: Grant Likely <grant.likely@secretlab.ca>

commit a79886590593ba1d667c840caa4940c61639f18f
Author: Thomas Knobloch <knobloch@siemens.com>
Date:	Sat May 5 07:04:42 2007 +0200

    NAND: Wrong calculation of page number in nand_block_bad()

    In case that there is no memory based bad block table available the
    function nand_block_checkbad() in drivers/mtd/nand/nand_base.c will call
    nand_block_bad() directly. When parameter 'getchip' is set to zero,
    nand_block_bad() will not right shift the offset to calculate the
    correct page number.

    Signed-off-by: Thomas Knobloch <knobloch@siemens.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 9877d7dcd1eebe61aa5d8b8ffe9c048ea426e6f6
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri May 4 10:02:33 2007 +0200

    Fix initrd length corruption in bootm command.

    When using FDT Images, the length of an inital ramdisk was
    overwritten (bug introduced by commit 87a449c8, 22 Aug 2006).

    Patches by Timur Tabi & Johns Daniel.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 068aab660bc3912b930be5540e6b3f3fd6ad3c96
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Thu May 3 19:43:52 2007 -0500

    mpc83xx: fix trivial error in MAKEALL

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit c64a89d6ce8584b9fc64f4e85da9ecac3cfc2c2a
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu May 3 16:34:41 2007 +0200

    Update board configuration for STX GP3SSA board:

    Enable hush shell, environment in flash rather in EEPROM,
    more user-friendly default environment, etc.
    The simple EEPROM environment can be selected easily in the board
    config file.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 2c6fb199dc5756fc72f49d1f4de105e089049d65
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Apr 24 14:37:49 2007 +0200

    Cleanup STX GP3SSA code; fix build and compile problems.

commit 35171dc04e028ecacc23ad916a66295472555dbf
Author: Dan Malek <dan@embeddedalley.com>
Date:	Fri Jan 5 09:15:34 2007 +0100

    Add support for STX GP3SSA (stxssa) Board

    Signed-off-by Dan Malek, <dan@embeddedalley.com>

commit f2134f8e9eb006bdcd729e89f309c07b2fa45180
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Wed May 2 13:31:53 2007 +0200

    macb: Don't restart autonegotiation if we already have link

    Rework macb_phy_init so that it doesn't attempt to re-negotiate if the
    link is already up.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 04fcb5d38bc90779cd9a710d60702075986f0e29
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Wed May 2 13:22:38 2007 +0200

    macb: Introduce a few barriers when dealing with DMA descriptors

    There were a few theoretical possibilities that the compiler might
    optimize away DMA descriptor reads and/or writes and thus cause
    synchronization problems with the hardware. Insert barriers where
    we depend on reads/writes actually hitting memory.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit ffa621a0d12a1ccd81c936c567f8917a213787a8
Author: Andy Fleming <afleming@freescale.com>
Date:	Sat Feb 24 01:08:13 2007 -0600

    Cleaned up some 85xx PCI bugs

    * Cleaned up the CDS PCI Config Tables and added NULL entries to
      the end
    * Fixed PCIe LAWBAR assignemt to use the cpu-relative address
    * Fixed 85xx PCI code to assign powar region sizes based on the
      config values (rather than hard-coding them)
    * Fixed the 8548 CDS PCI2 IO to once again have 0 as the base address

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 6743105988fc44d5b0d30388c790607835aae7a6
Author: Andy Fleming <afleming@freescale.com>
Date:	Mon Apr 23 02:54:25 2007 -0500

    Add support for the 8568 MDS board

    This included some changes to common files:
    * Add 8568 processor SVR to various places
    * Add support for setting the qe bus-frequency value in the dts
    * Add the 8568MDS target to the Makefile

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit af1c2b84bf27c8565baddc82d1abb93700d10e2e
Author: David Updegraff <dave@cray.com>
Date:	Fri Apr 20 14:34:48 2007 -0500

    Add support for treating unknown PHYs as generic PHYs.

    When bringing up u-boot on new boards, PHY support sometimes gets
    neglected.	Most PHYs don't really need any special support,
    though.  By adding a generic entry that always matches if nothing
    else does, we can provide support for "unsupported" PHYs for the
    tsec.

    The generic PHY driver supports most PHYs, including gigabit.

    Signed-off-by: David Updegraff <dave@cray.com>
    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit a75af9bfd8fff0499efdbb90601cec5a2afef117
Author: James Yang <James.Yang@freescale.com>
Date:	Wed Feb 7 15:28:04 2007 -0600

    Conditionalize 8641 Rev1.0 MCM workarounds

    Signed-off-by: James Yang <James.Yang@freescale.com>
    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit f64702b7fc8f8df39d31add770df6e372f9e9ce3
Author: Timur Tabi <timur@freescale.com>
Date:	Mon Apr 30 13:59:50 2007 -0500

    Fix memory initialization on MPC8349E-mITX

    Define CFG_DDR_SDRAM_CLK_CNTL for the MPC8349E-mITX and MPC8349E-mITX-GP.
    This allows ddr->sdram_clk_cntl to be properly initialized.  This is necessary
    on some ITX boards, notably those with a revision 3.1 CPU.

    Also change spd_sdram() in cpu/mpc83xx/spd_sdram.c to not write anything into
    ddr->sdram_clk_cntl if CFG_DDR_SDRAM_CLK_CNTL is not defined.

    Signed-off-by: Timur Tabi <timur@freescale.com>
    Acked-by: Michael Benedict <MBenedict@twacs.com>
    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 54b2d434ae9d01787936f34fe1759cf3d7624ae3
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Mon Apr 30 15:26:21 2007 -0500

    mpc83xx: replace elaborate boottime verbosity with 'clocks' command

    and fix CPU: to align with Board: display text.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit c1ab82669d9525998c34e802a12cad662723f22a
Author: James Yang <James.Yang@freescale.com>
Date:	Fri Mar 16 13:02:53 2007 -0500

    Rewrote picos_to_clk() to avoid rounding errors.
    Clarified that conversion is to DRAM clocks rather than platform clocks.
    Made function static to spd_sdram.c.

    Signed-off-by: James Yang <James.Yang@freescale.com>
    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 8b39501d28754e72726ce7fb02310e56dbdf116a
Author: Stefan Roese <sr@denx.de>
Date:	Sun Apr 29 14:13:01 2007 +0200

    ppc4xx: Bamboo: Use current NAND driver and *not* the legacy driver

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 864aa6a6a466fcb92bf32b1d7dba79cd709b52c9
Author: Grzegorz Wianecki <grzegorz.wianecki@gmail.com>
Date:	Sun Apr 29 14:01:54 2007 +0200

    [PATCH] Use PVR to distinguish MPC5200B from MPC5200 in boot message

    MPC5200B systems are incorrectly reported as MPC5200 in U-Boot start-up
    message. Use PVR to distinguish between the two variants, and print proper CPU
    information.

    Signed-off-by: Grzegorz Wianecki <grzegorz.wianecki@gmail.com>
    Signed-off-by: Bartlomiej Sieka <tur@semihalf.com>
    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 5c5d3242935cf3543af01142627494434834cf98
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Wed Apr 25 12:34:38 2007 -0500

    mpc83xx: minor fixups for 8313rdb introduction

commit ada4d40091f6ed4a4f0040e08d20db21967e4a67
Author: Ladislav Michl <ladis@linux-mips.org>
Date:	Wed Apr 25 16:01:26 2007 +0200

    [PATCH] simplify silent console

    Signed-off-by: Ladislav Michl <ladis@linux-mips.org>
    Acked-by: Stefan Roese <sr@denx.de>

commit 144876a380f5756f57412caf74c1d6dc201dd796
Author: Michal Simek <monstr@monstr.eu>
Date:	Tue Apr 24 23:01:02 2007 +0200

    [PATCH] MTD partition support, JFFS2 support

commit 37ed6cdd4159195bfad68d8a237f6adda8f482cb
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Tue Apr 24 14:03:45 2007 +0200

    ppc4xx: setup 440EPx/GRx ZMII/RGMII bridge depending on PFC register content.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit 66ed6cca3f340f7a8a06d9272ae2ef8e96f0273d
Author: Andy Fleming <afleming@freescale.com>
Date:	Mon Apr 23 02:37:47 2007 -0500

    Reworked 85xx speed detection code

    Changed the code to read the registers and calculate the clock
    rates, rather than using a "switch" statement.

    Idea from Andrew Klossner <andrew@cesa.opbu.xerox.com>

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 81f481ca708ed6a56bf9c410e3191dbad581c565
Author: Andy Fleming <afleming@freescale.com>
Date:	Mon Apr 23 02:24:28 2007 -0500

    Enable 8544 support

    * Add support to the Makefile
    * Add 8544 configuration support to the tsec driver
    * Add 8544 SVR numbers to processor.h

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>
    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 0d8c3a2096eaff8d7de89d45e9af4d4b0d4868fe
Author: Andy Fleming <afleming@freescale.com>
Date:	Fri Feb 23 17:12:25 2007 -0600

    Support 1G size on 8548

    e500v2 and newer cores support 1G page sizes.

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>
    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 45cef612cc601d2d1c890fbbd7cdc9609a189a46
Author: Andy Fleming <afleming@freescale.com>
Date:	Fri Feb 23 17:11:16 2007 -0600

    Changed BOOKE_PAGESZ_nGB to BOOKE_PAGESZ_nG

    The other pagesz constants use one letter to specify order of
    magnitude.	Also change the one reference to it in mpc8548cds/init.S

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 1f9a318cea14272edd10d63739e2d326c90f430e
Author: Andy Fleming <afleming@freescale.com>
Date:	Fri Feb 23 16:28:46 2007 -0600

    Only set ddrioovcr for 8548 rev1.

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>
    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 9343dbf85bc03033f2102d8e8543567c2c1ad2d2
Author: Andy Fleming <afleming@freescale.com>
Date:	Sat Feb 24 01:16:45 2007 -0600

    Tweak DDR ECC error counter

    Enable single-bit error counter when memory was cleared by ddr controller.

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>
    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 85e7c7a45e3dd9c7ce3e722352ba60f8df1a7a4b
Author: Timur Tabi <timur@freescale.com>
Date:	Mon Feb 12 13:34:55 2007 -0600

    85xx: write MAC address to mac-address and local-mac-address

    Some device trees have a mac-address property, some have local-mac-address,
    and some have both.  To support all of these device trees, ftp_cpu_setup()
    should write the MAC address to mac-address and local-mac-address, if they
    exist.

    Signed-off-by: Timur Tabi <timur@freescale.com>

commit 03b81b48eec0ad249ec97a4ae16c36fa2e014ff4
Author: Andy Fleming <afleming@freescale.com>
Date:	Mon Apr 23 01:44:44 2007 -0500

    Some 85xx cpu cleanups

    * Cleaned up the TSR[WIS] clearing
    * Cleaned up DMA initialization

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>
    Signed-off-by: Jon Loeliger <jdl@freescale.com>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit 151d5d992eab8c497b24c816c73dc1ad8bffb4eb
Author: Andy Fleming <afleming@freescale.com>
Date:	Mon Apr 23 01:32:22 2007 -0500

    Add cpu support for the 8544

    Recognize new SVR values, and add a few register definitions

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>
    Signed-off-by: Jon Loeliger <jdl@freescale.com>
    Acked-by: Andy Fleming <afleming@freescale.com>

commit 25d83d7f4ac65727182d8ddaf7ba42fa74cf65ae
Author: Jon Loeliger <jdl@freescale.com>
Date:	Wed Apr 11 16:51:02 2007 -0500

    Add MPC8544DS basic port board files.

    Add board port under new board/freescale directory
    structure and reuse existing PIXIS FPGA support there.

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>
    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 0cde4b00fc7393b89f379d83a9d436dcb1334bfa
Author: Jon Loeliger <jdl@freescale.com>
Date:	Wed Apr 11 16:50:57 2007 -0500

    Add MPC8544DS main configuration file.

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>
    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 362dd83077ac04c0296bca3e824ec2fb3d44d9d6
Author: Sergei Shtylyov <sshtylyov@ru.mvista.com>
Date:	Wed Dec 27 22:07:15 2006 +0300

    Fix PCI I/O space mapping on Freescale MPC85x0ADS

    The PCI I/O space mapping for Freescale MPC8540ADS board was broken by commit
    52c7a68b8d587ebcf5a6b051b58b3d3ffa377ddc which failed to update the #define's
    describing the local address window used for the PCI I/O space accesses -- fix
    this and carry over the necessary changes into the MPC8560ADS code since the
    PCI I/O space mapping was also broken for this board (by the earlier commit
    087454609e47295443af793a282cddcd91a5f49c).	Add the comments clarifying how
    the PCI I/O space must be mapped to all the MPC85xx board config. headers.

    Signed-off-by: Sergei Shtylyov <sshtylyov@ru.mvista.com>

     board/mpc8540ads/init.S	  |    4 ++--
     board/mpc8560ads/init.S	  |    4 ++--
     include/configs/MPC8540ADS.h |    5 ++---
     include/configs/MPC8541CDS.h |    2 +-
     include/configs/MPC8548CDS.h |    2 +-
     include/configs/MPC8560ADS.h |    8 ++++----
     6 files changed, 12 insertions(+), 13 deletions(-)

commit 96629cbabdb727d4a5e62542deefc01d498db6dc
Author: Zang Roy-r61911 <tie-fei.zang@freescale.com>
Date:	Tue Dec 5 16:42:30 2006 +0800

    u-boot: Fix e500 v2 core reset bug

    The following patch fixes the e500 v2 core reset bug.
    For e500 v2 core, a new reset control register is added to reset the
    processor.

    Signed-off-by: Roy Zang <tie-fei.zang@freescale.com>

commit 63247a5acd58032e6cf33f525bc3923b467bac88
Author: Zang Roy-r61911 <tie-fei.zang@freescale.com>
Date:	Wed Dec 20 11:01:00 2006 +0800

    u-boot: v2: Remove the fixed TLB and LAW entrynubmer

    Remove the fixed TLB and LAW entry nubmer. Use actually TLB and LAW
    entry number to control the loop.  This can reduce the potential risk
    for the 85xx processor increasing its TLB adn LAW entry number.

    Signed-off-by: Swarthout Edward <swarthout@freescale.com>
    Signed-off-by: Roy Zang <tie-fei.zang@freescale.com>

commit 0b1934ba12fd408fcc3b8bd9f4b04864c42a42bf
Author: Zang Roy-r61911 <tie-fei.zang@freescale.com>
Date:	Mon Dec 18 17:01:04 2006 +0800

    u-boot: Fix the 85xxcds tsec bug

    Fix the 85xxcds tsec bug.
    When enable PCI, tsec.o should be added to u-boot.lds to make tsec work.

    Signed-off-by: Roy Zang <tie-fei.zang@freescale.com>

commit 7337b237ffc4aaf1b9467024fe472a880d852598
Author: Zang Roy-r61911 <tie-fei.zang@freescale.com>
Date:	Fri Dec 15 14:43:31 2006 +0800

    u-boot: Fix CPU2 errata on MPC8548CDS board

    This patch apply workaround of CPU2 errata on MPC8548CDS board.

    Signed-off-by:Ebony Zhu <ebony.zhu@freescale.com>

commit 39b18c4f3e0b6d0dc00f4e68bad2da3766c85f09
Author: ebony.zhu@freescale.com <ebony.zhu@freescale.com>
Date:	Mon Dec 18 16:25:15 2006 +0800

    u-boot: Disables MPC8548CDS 2T_TIMING for DDR by default

    This patch disables MPC8548CDS 2T_TIMING for DDR by default.

    Signed-off-by:Ebony Zhu <ebony.zhu@freescale.com>

commit 41fb7e0f1ec9b91bdae2565bab5f2e3ee15039c7
Author: Zang Roy-r61911 <tie-fei.zang@freescale.com>
Date:	Thu Dec 14 14:14:55 2006 +0800

    u-boot: Enable PCI function and add PEX & rapidio memory map on MPC8548CDS board

    Enable PCI function and add PEX & rapidio memory map on MPC8548CDS
    board.
    Signed-off-by: Roy Zang <tie-fei.zang@freescale.com>

commit 96b8a05432f346f36493535c85320b70ec9c7c1b
Author: Scott Wood <scottwood@freescale.com>
Date:	Mon Apr 16 14:54:15 2007 -0500

    mpc83xx: Add MPC8313ERDB support.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 49ea3b6eafe606285ae4d5c378026153dde53200
Author: Scott Wood <scottwood@freescale.com>
Date:	Mon Apr 16 14:34:21 2007 -0500

    mpc83xx: Add generic PCI setup code.

    Board code can now request the generic setup code rather than having to
    copy-and-paste it for themselves.  Boards should be converted to use this
    once they're tested with it.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 7c98e5193e93df6b9b651851d54b638a61ebb0ea
Author: Scott Wood <scottwood@freescale.com>
Date:	Mon Apr 16 14:34:19 2007 -0500

    mpc83xx: Add 831x support to speed.c.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 0f253283a32d91e06844d7f87f9b33f4f4fbce8f
Author: Scott Wood <scottwood@freescale.com>
Date:	Mon Apr 16 14:34:18 2007 -0500

    mpc83xx: Add 831x support to global_data.h

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 95e7ef897e54591e615fc1b458b74c286fe1fb06
Author: Scott Wood <scottwood@freescale.com>
Date:	Mon Apr 16 14:34:16 2007 -0500

    mpc83xx: Change PVR_83xx to PVR_E300C1-3, and update checkcpu().

    Rather than misleadingly define PVR_83xx as the specific type of 83xx
    being built for, the PVR of each core revision is defined. checkcpu() now
    prints the core that it detects, rather than aborting if it doesn't find
    what it thinks it wants.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit a35b0c4950d84cf9e3a9e32b916135956d1ac636
Author: Scott Wood <scottwood@freescale.com>
Date:	Mon Apr 16 14:34:15 2007 -0500

    mpc83xx: Recognize SPR values for MPC8311 and MPC8313.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit d87c57b201b4572d16f1b642998faa00c9912b16
Author: Scott Wood <scottwood@freescale.com>
Date:	Mon Apr 16 14:31:55 2007 -0500

    mpc83xx: Add register definitions for MPC831x.

    Signed-off-by: Scott Wood <scottwood@freescale.com>

commit 7fc4c71a143be8666d70803fb25ae60379c95622
Author: Stefan Roese <sr@denx.de>
Date:	Mon Apr 23 15:39:59 2007 +0200

    Fix file mode

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 38257988abfe74d459ca2ad748b109ca04e4efe1
Author: Sergei Shtylyov <sshtylyov@ru.mvista.com>
Date:	Mon Apr 23 15:30:39 2007 +0200

    [PATCH] Avoid assigning PCI resources from zero address

    If a PCI IDE card happens to get a zero address assigned to it, the Linux IDE
    core complains and IDE drivers fails to work.  Also, assigning zero to a BAR
    was illegal according to PCI 2.1 (the later revisions seem to have excluded the
    sentence about "0" being considered an invalid address) -- so, use a reasonable
    starting value of 0x1000 (that's what the most Linux archs are using).

    Alternatively, one might have fixed the calls to pci_set_region() individually
    (some code even seems to have taken care of this issue) but that would have
    been a lot more work. :-)

    Signed-off-by: Sergei Shtylyov <sshtylyov@ru.mvista.com>
    Acked-by: Stefan Roese <sr@denx.de>

commit afb903a2eb9436baa9270ccc0c27082d86497d89
Author: Jeffrey Mann <mannj@embeddedplanet.com>
Date:	Mon Apr 23 14:00:11 2007 +0200

    [patch] setenv(...) can delete environmentalvariables

    update setenv() function so that entering a NULL value for the
    variable's value will delete the environmental variable

    Signed-off-by: Jeffrey Mann <mannj@embeddedplanet.com>
    Acked-by: Stefan Roese <sr@denx.de>

commit 36f104e5caa747d568eff26b369565af57c2ffa6
Author: Mike Frysinger <vapier@gentoo.org>
Date:	Mon Apr 23 13:54:24 2007 +0200

    [patch] use unsigned char in smc91111 driver for mac

    the v_mac variable in the smc91111 driver is declared as a signed char ...
    this causes problems when one of the bytes in the MAC is "signed" like 0xE0
    because when it gets printed out, you get a display like:
    0xFFFFFFE0 and that's no good

    Signed-off-by: Mike Frysinger <vapier@gentoo.org>

commit d98c0885ad617fccf21e7c26ef8cb728fbfb2459
Author: Rodolfo Giometti <giometti@enneenne.com>
Date:	Mon Apr 23 13:10:52 2007 +0200

    USB: (Another) delay for crappy USB keys.

    Some USB keys are slow in giving back an answer when the Root HUB
    enables power lines.

    Signed-off-by: Rodolfo Giometti <giometti@linux.it>

commit 323bfa8f436dc3bc57187c9b1488bc3146ff1522
Author: Stefan Roese <sr@denx.de>
Date:	Mon Apr 23 12:00:22 2007 +0200

    Remove BOARDLIBS usage completely

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 32556443840f127170e4baa8bdd5b567039f6c36
Author: Michal Simek <monstr@monstr.eu>
Date:	Sat Apr 21 21:07:22 2007 +0200

    [PATCH] SystemACE support for Microblaze

commit 0643631aa1036cd746bf5d15f5a34bc7bc01ea4f
Author: Michal Simek <monstr@monstr.eu>
Date:	Sat Apr 21 21:02:40 2007 +0200

    16bit read/write little endian

commit 9d1d6a34d26c5933bc097ce73c9348f95573cdd4
Author: Michal Simek <monstr@monstr.eu>
Date:	Sat Apr 21 20:53:31 2007 +0200

    Change ML401 parameters - Xilinx BSP

commit 2e343b9a57f32e1bd08c35c9976910333fb4e13d
Author: Ed Swarthout <Ed.Swarthout@freescale.com>
Date:	Wed Feb 28 05:37:29 2007 -0600

    mpc8641hpcn: Fix LAW and TLB setup to use the IO_PHYS #defines.

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>

commit 79cb47391eebef85acadb3f6961ef6c55cace6ac
Author: Zhang Wei <wei.zhang@freescale.com>
Date:	Fri Jan 19 10:42:37 2007 +0800

    Enable LAWs for MPC8641 PCI-Ex2.

    Signed-off-by: Zhang Wei <wei.zhang@freescale.com>
    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit bd7851ce1e1f140665b520026abf1042968b1102
Author: Jon Loeliger <jdl@freescale.com>
Date:	Fri Apr 20 14:12:26 2007 -0500

    mpc86xx; Write MAC address to mac-address and local-mac-address

    Some device trees have a mac-address property, some have local-mac-address,
    and some have both.  To support all of these device trees, ftp_cpu_setup()
    should write the MAC address to mac-address and local-mac-address, if they
    exist.

    Signed-off-by: Timur Tabi <timur@freescale.com>
    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 7dbdf28b8bd855a8530dc3292e4982575a197060
Author: Jon Loeliger <jdl@freescale.com>
Date:	Fri Apr 20 14:11:38 2007 -0500

    mpc86xx: protect memcpy to bad address if a mac-address is missing from dt

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>
    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 14da5f7675bbb427c469e3f45006e027b6e21db9
Author: Wolfgang Denk <wd@denx.de>
Date:	Fri Apr 20 17:43:28 2007 +0200

    Cleanup compiler warnings, update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 6923565db12af34fd5e02d354ee65a8c78ac460f
Author: Detlev Zundel <dzu@denx.de>
Date:	Fri Apr 20 12:01:47 2007 +0200

    Fix breakage of NC650 board with respect to nand support.

    Signed-off-by: Detlev Zundel <dzu@denx.de>

commit 39f23cd90947639ac278a18ff277ec786b5ac167
Author: Domen Puncer <domen.puncer@telargo.com>
Date:	Fri Apr 20 11:13:16 2007 +0200

    [RFC PATCH] icecube/lite5200b: fix OF_TBCLK (timebase-frequency) calculation

    G2 core reference manual says decrementer and time base
    are decreasing/increasing once every 4 bus clock cycles.
    Lets fix it, so time in Linux won't run twice as fast

    Signed-off-by: Domen Puncer <domen.puncer@telargo.com>
    Acked-by: Grant Likely <grant.likely@secretlab.ca>

commit 7651f8bdbba03bb0b4f241e2d2c4cb65b230bd56
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Thu Apr 19 23:14:39 2007 -0400

    Fix serious pointer bug with bootm and reserve map.

    What was suppose to be a stack variable was declared as a pointer,
      overwriting random memory.
    Also moved the libfdt.a requirement into the main Makefile.  That is
      The U-Boot Way.

commit d21686263574e95cb3e9e9b0496f968b1b897fdb
Author: Stefan Roese <sr@denx.de>
Date:	Thu Apr 19 09:53:52 2007 +0200

    ppc4xx: Fix chip select timing for SysACE access on AMCC Katmai

    Previous versions used full wait states for the chip select #1 which
    is connected to the Xilinix SystemACE controller on the AMCC Katmai
    evaluation board. This leads to really slow access and therefore low
    performance. This patch now sets up the chip select a lot faster
    resulting in much better read/write performance of the Linux driver.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 37837828d89084879bee2f2b8c7c68d4695940df
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Apr 18 17:49:29 2007 +0200

    Clenaup, update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit fd094c6379e2ef8a4d0ceb5640b24cb0c8d04449
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Apr 18 17:20:58 2007 +0200

    Update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 2a26ec4732efd7a308d0bbc97714c1d75ef1173b
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Apr 18 17:07:26 2007 +0200

    Cleanup, update CHANGELOG

    Sigend-off-by: Wolfgang Denk <wd@denx.de>

commit 5f6c732affea9647762d27a4617a2ae64c52dceb
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Apr 18 16:17:46 2007 +0200

    Update CHANGELOG

commit ad4eb555671d97f96dc56eab55103b1f86874b01
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Apr 18 14:30:39 2007 +0200

    MCC200 board: remove warning which is obsolete after PSoC firmware changes

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 3747a3f010b2b1442dec3e871c69788b6017aaae
Author: Domen Puncer <domen.puncer@telargo.com>
Date:	Wed Apr 18 12:11:05 2007 +0200

    [PATCH] icecube/lite5200b: document wakeup from low-power support

    Signed-off-by: Domen Puncer <domen.puncer@telargo.com>

commit e673226ff9d6aa91b47ceac74b8c13770b06bb37
Author: Stefan Roese <sr@denx.de>
Date:	Wed Apr 18 12:07:47 2007 +0200

    ppc4xx: Update Acadia to not setup PLL when booting via bootstrap EEPROM

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 90e6f41cf09fc98f6ccb510e183d53ab8546cf2f
Author: Stefan Roese <sr@denx.de>
Date:	Wed Apr 18 12:05:59 2007 +0200

    ppc4xx: Add output for bootrom location to 405EZ ports

    Now 405EZ ports also show upon bootup from which boot device
    they are configured to boot:

    U-Boot 1.2.0-gd3832e8f-dirty (Apr 18 2007 - 07:47:05)

    CPU:   AMCC PowerPC 405EZ Rev. A at 199.999 MHz (PLB=133, OPB=66, EBC=66 MHz)
	   Bootstrap Option E - Boot ROM Location EBC (32 bits)
	   16 kB I-Cache 16 kB D-Cache
    Board: Acadia - AMCC PPC405EZ Evaluation Board

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 9c00dfb0bf89c8c23e8af5b5bdf49cf66d769f85
Author: Peter Pearse <peter.pearse@arm.com>
Date:	Tue Apr 17 13:30:33 2007 +0100

    Move ppearse to ARM board list
    Add Konstantin Kletschke for scb9328.
    Signed-off-by: Peter Pearse <peter.pearse@arm.com>

commit d3832e8fe1b214ec62424eac36cfda9fc56d21b3
Author: Domen Puncer <domen.puncer@telargo.com>
Date:	Mon Apr 16 14:00:13 2007 +0200

    [PATCH] icecube/lite5200b: wakeup from low-power support

    U-Boot part of Lite5200b low power mode support.
    Puts SDRAM out of self-refresh and transfers control to
    address saved at physical 0x0.

    Signed-off-by: Domen Puncer <domen.puncer@telargo.com>
    Acked-by: Grant Likely <grant.likely@secretlab.ca>

commit f35a53fc7b0c79fcfe7bdc01163c4b34aaba1460
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Sun Apr 15 13:54:26 2007 -0400

    Fix the ft_cpu_setup() property settings.

    Use "setter" functions instead of flags, cleaner and more flexible.
    It also fixes the problem noted by Timur Tabi that the ethernet MAC
    addresses were all being set incorrectly to the same MAC address.

commit c28abb9c614f65ce2096cc4a66fc886c77d0e5a4
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Sat Apr 14 22:51:24 2007 -0400

    Improve the bootm command for CONFIG_OF_LIBFDT

    In bootm, create the "/chosen" node only if it doesn't already exist
      (better matches the previous behavior).
    Update for proper reserved memory map handling for initrd.

commit 3f9f08cf91c8a6949a5d78a18bd3d8df7b86d888
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Sat Apr 14 22:46:41 2007 -0400

    Add some utilities to manipulate the reserved memory map.

commit 8048cdd56f04a756eeea4951f402bf5cc33785db
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Apr 14 21:16:54 2007 +0200

    Update CHANGELOG

commit 8e6875183cdca91c134408d119d4abcd48ef6856
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Sun Dec 17 18:56:46 2006 +0100

    AVR32: Enable MMC support

    Set up the portmux for the MMC interface and enable the MMC driver
    along with support for DOS partitions, ext2 and FAT filesystems.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit fc26c97bb6df41b4a95662c34054fe912387bf38
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Fri Jan 20 10:03:53 2006 +0100

    Atmel MCI driver

    Driver for the Atmel MCI controller (MMC interface) for AT32AP CPUs.

    The AT91 ARM-based CPUs use basically the same hardware, so it should
    be possible to share this driver, but no effort has been made so far.

    Hardware documentation can be found in the AT32AP7000 data sheet,
    which can be downloaded from

    http://www.atmel.com/dyn/products/datasheets.asp?family_id=682

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 05fdab1ef6a10d049a50021a86f1226f444d9b9f
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Sun Dec 17 18:55:37 2006 +0100

    AVR32: Add clk and gpio infrastructure for mmci

    Implement functions for configuring the mmci pins, as well as
    functions for getting the clock rate of the mmci controller.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 7fac3f69e9f05c5e5326681976c35d129324c4de
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Sun Dec 17 18:53:56 2006 +0100

    Enable partition support with MMC

    Include implementations of init_part() and get_partition_info() when
    CONFIG_MMC is set.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 9a24f477a1ed5bb0f74377c985d754ebbfa44872
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Sun Dec 17 17:14:30 2006 +0100

    AVR32: Enable networking

    Implement MACB initialization for AVR32 and ATSTK1000, and turn
    everything on, including the MACB driver.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 5c1fe1ffffd1750a7e47e5a2e2cd600c00e4f009
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Fri Jan 20 10:03:34 2006 +0100

    Atmel MACB ethernet driver

    Driver for the Atmel MACB on-chip ethernet controller.

    This driver has been tested on the ATSTK1000 board with a AT32AP7000
    CPU. It should probably work on AT91SAM926x as well with some minor
    modifications.

    Hardware documentation can be found in the AT32AP7000 data sheet,
    which can be downloaded from

    http://www.atmel.com/dyn/products/datasheets.asp?family_id=682

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit b4ec9c2d43d894729bb633bfdbdfa95a962c1556
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Sun Dec 17 16:56:14 2006 +0100

    AVR32: Add clk and gpio infrastructure for macb0 and macb1

    Implement functions for configuring the macb0 and macb1 pins, as
    well as functions for getting the clock rate of the various
    busses the macb ethernet controllers are connected to.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit d5acb95b16a0a74c643524342c3437e765426d05
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Sun Dec 17 15:39:15 2006 +0100

    AVR32: Implement simple DMA memory allocator

    Implement dma_alloc_coherent() which returns cache-aligned
    uncacheable memory.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 91975b0fea773c9e681fea8cf3349669f27685ee
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Sun Dec 17 15:46:02 2006 +0100

    Import <linux/mii.h> from the Linux kernel

    Instead of creating yet another set of MII register definitions
    in the macb driver, here's a complete set of definitions for everyone
    to use.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 1b804b229556a4d862da93c0ec94e79419364b2c
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Wed Mar 21 19:47:36 2007 +0100

    AVR32: Include more commands for ATSTK1000

    Include the imi, imls and jffs commands sets by default on ATSTK1000.
    Also define CONFIG_BOOTARGS to something more useful, define
    CONFIG_BOOTCOMMAND and enable autoboot by default.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 9c0deb5ae3ea0189f2e08ac29ef1316f1fb8548d
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Wed Mar 21 19:44:48 2007 +0100

    AVR32: Provide a definition of struct stat

    Copy the definition of struct stat from the Linux kernel.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 12f099c08167a7a51aeee623bc16dafd0841271c
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Sun Dec 17 14:46:06 2006 +0100

    AVR32: Use initdram() instead of board_init_memories()

    Conform to the "standard" interface and use initdram() instead of
    board_init_memories() on AVR32. This enables us to get rid of the
    sdram_size member of the global_data struct as well.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 1f4f2121c2685182eb87fa9a9b799d1917387a1c
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Mon Nov 20 15:53:10 2006 +0100

    AVR32: Relocate u-boot to SDRAM

    Relocate the u-boot image into SDRAM like everyone else does. This
    means that we can handle much larger .data and .bss than we used to.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit df548d3c3e2bbc40258713167859ffc2ce99a900
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Sun Nov 19 18:06:53 2006 +0100

    AVR32: Resource management rewrite

    Rewrite the resource management code (i.e. I/O memory, clock gating,
    gpio) so it doesn't depend on any global state. This is necessary
    because this code is heavily used before relocation to RAM, so we
    can't write to any global variables.

    As an added bonus, this makes u-boot's memory footprint a bit smaller,
    although some functionality has been left out; all clocks are enabled
    all the time, and there's no checking for gpio line conflicts.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 03d1e1365796cd15d1726e8a51fd8b5be50b2fe9
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Sat Nov 18 18:01:13 2006 +0100

    AVR32: Clean up memory-map.h for at32ap7000

    Convert spaces to tabs (must have missed this one last time around),
    sort the entries by address and group them together by bus
    connectivity.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 28c699ef69f4b6cdf252e4747b7b590028a88981
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Sat Nov 18 17:32:31 2006 +0100

    AVR32: Build position-independent u-boot

    Add -fPIC -mno-init-got to the avr32-specific CFLAGS to make u-boot
    position independent. This will make relocation a lot easier.

    -mno-init-got means that gcc shouldn't emit code to load the GOT
    address into r6 in every function prologue. We do it once and for
    all in the early startup assembly code, so enabling this option
    makes u-boot a bit faster and smaller.

    The assembly parts have always been position-independent, so no code
    changes should be necessary.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 5374b36de91d006d1df9536259fa9f66b01aa3aa
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Sat Nov 18 17:24:31 2006 +0100

    AVR32: Use avr32-linux- cross-compilation prefix by default

    It doesn't really matter which toolchain you use to compile u-boot,
    but the avr32-linux one is probably what most people have installed.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit c841beeddebece0039e724fb27f4d1a39ee1c6b6
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Sat Nov 18 17:15:30 2006 +0100

    AVR32: Split start_u_boot into board_init_f and board_init_r

    Split the avr32 initialization code into a function to run before
    relocation, board_init_f and a function to run after relocation,
    board_init_r. For now, board_init_f simply calls board_init_r
    at the end.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 37403005cfe6bb13964d450f6a48a0b0f2f7017e
Author: Heiko Schocher <hs@pollux.denx.de>
Date:	Sat Apr 14 05:26:48 2007 +0200

    [Fix]	Set the LED status register on the UC101 for the LXT971 PHY.
	    clear the Display after reset.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 7882751c78b7ecabfd49b0eff8de27661c71f16c
Author: Denis Peter <d.peter@mpl.ch>
Date:	Fri Apr 13 09:13:33 2007 +0200

    [PATCH] Fix bugs in cmd_ide.c and cmd_scsi.c

    Fix bug introduced by "Fix get_partition_info() parameter error in all
    other calls" from 2005-03-04 in cmd_ide.c and cmd_scsi.c, which prevented
    to use diskboot or scsiboot form another device than 0.

    Signed-off-by: Denis Peter <d.peter@mpl.ch>

commit 0b94504d22e70f537c17a0d38c87edb6e370977d
Author: Greg Lopp <lopp@pobox.com>
Date:	Fri Apr 13 08:02:24 2007 +0200

    [PATCH] Fix use of "void *" for block dev read/write buffer pointers

    Signed-of-by: Greg Lopp <lopp@pobox.com>
    Acked-by: Grant Likely <grant.likely@secretlab.ca>

commit 6fbf261f8df294e589cfadebebe5468e3c0f29e9
Author: Xie Xiaobo <r63061@freescale.com>
Date:	Fri Mar 9 19:08:25 2007 +0800

    Fix two bugs for MPC83xx DDR2 controller SPD Init

    There are a few bugs in the cpu/mpc83xx/spd_sdram.c
    the first bug is that the picos_to_clk routine introduces a huge
    rounding error in 83xx.
    the second bug is that the mode register write recovery field is
    tWR-1, not tWR >> 1.

commit 2ad3aba01d37b72e7c957b07e102fccd64fe6d13
Author: Jeffrey Mann <mannj@embeddedplanet.com>
Date:	Thu Apr 12 14:15:59 2007 +0200

    ppc4xx: Fix i2c divisor calcularion for PPC4xx

    This patch fixes changes the i2c_init(...) function to use the function
    get_OPB_freq() rather than calculating the OPB speed by
    sysInfo.freqPLB/sysInfo.pllOpbDiv. The get_OPB_freq() function is
    specific per processor. The prior method was not and so was calculating
    the wrong speed for some PPC4xx processors.

    Signed-off-by: Jeffrey Mann <mannj@embeddedplanet.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 6c9ba919375db977aaad9146bf320c7afd07ae7a
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Apr 11 17:25:01 2007 +0200

    Update CHANGELOG

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 51056dd9863e6a1bc363afbbe1775c58cd967418
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Apr 11 17:22:55 2007 +0200

    Update for SC3 board

    * Make IDE timeout configurable through ide_reset_timeout variable.
    * Use Newline as "password" string
    * Use just a single partition in NAND flash

commit 3d98b85800c80dc68227c8f10bf5c93456d6d054
Author: Haiying Wang <haiying.wang@freescale.com>
Date:	Mon Jan 22 12:37:30 2007 -0600

    Add PIXIS FPGA support for MPC8641HPCN board.

    Move the 8641HPCN's PIXIS code to the new directory
    board/freescale/common/ as it will be shared by
    future boards not in the same processor family.

    Write a "pixis_reset" command that utilizes the FPGA
    reset sequencer to support alternate soft-reset options
    such as using the "alternate" flash bank, enabling
    the watch dog, or choosing different CPU frequencies.

    Add documentation for the pixis_reset to README.mpc8641hpcn.

    Signed-off-by: Haiying Wang <haiying.wang@freescale.com>
    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 64dbbd40c58349b64f43fd33dbb5ca0adb67d642
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Fri Apr 6 14:19:43 2007 -0400

    Moved fdt command support code to fdt_support.c

    ...in preparation for improving the bootm command's handling of fdt blobs.
    Also cleaned up some coding sloppiness.

commit 6679f9299534e488a171a9bb8f9bb891de247aab
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Fri Apr 6 14:17:14 2007 -0400

    libfdt: Make fdt_check_header() public

    Changed _fdt_check_header() to fdt_check_header() and made it part of
    the interface - it is a useful routine.

    Also did some asthetics cleanup to the include files (headers).

commit c0707ce65677650b5ceab0500ee50ae5168afef2
Author: Aubrey Li <aubrey.adi@gmail.com>
Date:	Thu Apr 5 18:34:06 2007 +0800

    [Blackfin][PATCH] Kill off a bunch of common local prototypes

commit 7b7e30aa64bb6657a1bfd32fdbdbfeb561e6a48d
Author: Aubrey Li <aubrey.adi@gmail.com>
Date:	Thu Apr 5 18:33:04 2007 +0800

    [Blackfin][PATCH] Fix dynamic CPLB generation issue

commit 0445e3a264251d75b1be45ef713c70726a2952f0
Author: Aubrey Li <aubrey.adi@gmail.com>
Date:	Thu Apr 5 18:31:47 2007 +0800

    [Blackfin][PATCH] minior cleanup

commit 155fd766573981090e638b493d5857562151862e
Author: Aubrey Li <aubrey.adi@gmail.com>
Date:	Thu Apr 5 18:31:18 2007 +0800

    [Blackfin][PATCH] Fix copyright and update license

commit 9fd437bbd75d282f899e1da50be20a2bf38450bc
Author: Aubrey Li <aubrey.adi@gmail.com>
Date:	Thu Apr 5 18:30:25 2007 +0800

    [Blackfin][PATCH] Add BF537 EMAC driver initialization

commit 889256e8604e0c68db1d866d720894dffede9df6
Author: Aubrey Li <aubrey.adi@gmail.com>
Date:	Thu Apr 5 18:29:55 2007 +0800

    [Blackfin][PATCH] call real the system synchronize instruction

commit e0df1c921b788289564e4c1ee7120a6a9cd3ab05
Author: Aubrey Li <aubrey.adi@gmail.com>
Date:	Thu Apr 5 18:29:17 2007 +0800

    [Blackfin][PATCH] remove asm/page.h as we do not actually use/want any of these definitions nor does any other arch include it

commit dfeeab2cd680df047e68e723b246adf6f33bb556
Author: Aubrey Li <aubrey.adi@gmail.com>
Date:	Thu Apr 5 18:28:34 2007 +0800

    [Blackfin][PATCH]: fix flash unaligned copy issue

commit 443feb740584e406efa203af909fe2926608e8d5
Author: Igor Marnat <marny@rambler.ru>
Date:	Wed Mar 21 09:55:01 2007 +0300

    Update usage of 'nc' in README.NetConsole

    Added information about usage of NetConsole on systems where the -l and -p
    switches are mutually exclusive.

    Signed-off-by: Igor Marnat <marny@rambler.ru>
    Signed-off-by: Ben Warren <bwarren@qstreams.com>

commit 31c98a88228021b314c89ebb8104fb6473da4471
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Apr 4 02:09:30 2007 +0200

    Minor coding style cleanup.

commit 94abd7c0583ebe01e799b25f451201deeaab550d
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Apr 4 01:49:15 2007 +0200

    Minor cleanup.

commit 822af351ad2babc7d99033361a5fcacd30f6bc78
Author: Rodolfo Giometti <giometti@enneenne.com>
Date:	Tue Apr 3 14:27:18 2007 +0200

    Support for the Philips ISP116x HCD (Host Controller Driver)

    Signed-off-by: Rodolfo Giometti <giometti@enneenne.com>

commit edf5851be6c17c031d4f71dd5b0a12040b7c50c8
Author: Markus Klotzbuecher <mk@denx.de>
Date:	Tue Apr 3 14:27:08 2007 +0200

    USB: cleanup monahans usb support. Remove dead code.

    Signed-off-by: Markus Klotzbuecher <mk@denx.de>

commit a65c5768e5537530bd1780af3d3fddc3113a163c
Author: Stefan Roese <sr@denx.de>
Date:	Mon Apr 2 10:09:30 2007 +0200

    ppc4xx: Change SysACE address on Katmai

    With this new base address of the Xilinx SystemACE controller
    the Linux driver will be easier to adapt, since it can now be
    mapped via the "normal" ioremap() call.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit aea03c4e8c3a21ce43d3faf48a6e6d474c8bdf73
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Sat Mar 31 14:30:53 2007 -0400

    Fix some minor whitespace violations.

commit 213bf8c822de8eecaf69860684469cdaba2e9e6a
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Sat Mar 31 12:23:51 2007 -0400

    Add a flattened device tree (fdt) command (2 of 2)

    Modifications to the existing code to support the new fdt command.

commit 781e09ee6e3e3e392ab362c1f0ef1068adc76e3e
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Sat Mar 31 12:22:10 2007 -0400

    Add a flattened device tree (fdt) command (1 of 2)

    The fdt command uses David Gibson's libfdt library to manipulate as well
    as print the flattened device tree.  This patch is the new command,
    the second part is the modifications to the existing code.

commit 3af0d587d93e0be5f96e1b30fa41e662f8b0803e
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Sat Mar 31 12:13:43 2007 -0400

    libfdt: Enhanced and published fdt_next_tag()

    Enhanced the formerly private function _fdt_next_tag() to allow stepping
      through the tree, used to produce a human-readable dump, and made
      it part of the published interface.
    Also added some comments.

commit fa3a74cec73dfd06a5ae35a9a3368200273aaa71
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Sat Mar 31 12:05:39 2007 -0400

    libfdt: Customizations for use by u-boot.

    Changes to David Gibson's original source to fit into u-boot's
    environment.  No functionality changes.

commit 35748177c64a4a83a00057e93bb33e40278a2a96
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Sat Mar 31 12:00:56 2007 -0400

    libfdt: Import libfdt source (2 of 2)

    This adds the applicable libfdt source files (unmodified) and a README
    to explain where the source came from.

commit 7cd5da0fe877e7171a4cdd44880bce783132871a
Author: Gerald Van Baren <vanbaren@cideas.com>
Date:	Sat Mar 31 11:59:59 2007 -0400

    libfdt: Import libfdt source (1 of 2)

    This adds the applicable libfdt source files (unmodified) and a README
    to explain where the source came from.

commit da6ebc1bc082cbe3b6bbde079cafe09f7ebbad4b
Author: Stefan Roese <sr@denx.de>
Date:	Sat Mar 31 13:16:23 2007 +0200

    ppc4xx: Update Katmai bootstrap command

    Now the DDR2 frequency is also 2*PLB frequency when 166MHz PLB
    is selected.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit cabee756a6532986729477c3cc1ea16ef8517ad2
Author: Stefan Roese <sr@denx.de>
Date:	Sat Mar 31 13:15:06 2007 +0200

    ppc4xx: Update 44x_spd_ddr2 code (440SP/440SPe)

    Additional RAM information is now printed upon powerup, like
    DDR2 frequency and CAS latency.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 60723803431ac75cad085690789e433d5ab9174e
Author: Stefan Roese <sr@denx.de>
Date:	Sat Mar 31 08:48:36 2007 +0200

    ppc4xx: Change Yucca config file to support ECC

    With the updated 44x DDR2 driver the Yucca board now supports
    ECC generation and checking.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 490e5730c674b20d708b783a2c5ffd7208f83873
Author: Stefan Roese <sr@denx.de>
Date:	Sat Mar 31 08:47:34 2007 +0200

    ppc4xx: Fix "bootstrap" command for Katmai board

    The board specific "bootstrap" command is now fixed and can
    be used for the AMCC Katmai board to configure different
    CPU/PLB/OPB frequencies.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 94f54703c3a776ec23e427ca2a16e0a79a5d50c1
Author: Stefan Roese <sr@denx.de>
Date:	Sat Mar 31 08:46:08 2007 +0200

    ppc4xx: Update 44x_spd_ddr2 code (440SP/440SPe)

    Fix a bug in the auto calibration routine. This driver now runs
    more reliable with the tested modules. It's also tested with
    167MHz PLB frequency (667MHz DDR2 frequency) on the Katmai.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 342cd097be1e7affe82f42ab3da220959a699e64
Author: Michal Simek <monstr@monstr.eu>
Date:	Fri Mar 30 22:52:09 2007 +0200

    [PATCH] Clean include dependence

commit 6f934210fb293fde2cfb4251c6d96fdc58b6a906
Author: Michal Simek <monstr@monstr.eu>
Date:	Fri Mar 30 22:42:45 2007 +0200

    [CLEAN] Remove inefficient Suzaku code

commit 430f1b0f9a670c2f13eaa52e66a10db96dd3647d
Author: Stefan Roese <sr@denx.de>
Date:	Wed Mar 28 15:03:16 2007 +0200

    Merge some AMCC make targets to keep the top-level Makefile smaller

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 0c75c9d84307a9f1cbe1ff0c4d8937ee3a96475e
Author: Stefan Roese <sr@denx.de>
Date:	Wed Mar 28 14:52:12 2007 +0200

    i2c: Enable "old" i2c commands even when CONFIG_I2C_CMD_TREE is defined

    The "old" i2c commands (iprobe, imd...) are now compiled in again,
    even when the i2c command tree is enabled via the CONFIG_I2C_CMD_TREE
    config option.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 5da048adf44bea5e3b94080d02903c2e3fe7aa4a
Author: Michal Simek <monstr@monstr.eu>
Date:	Tue Mar 27 00:32:16 2007 +0200

    PATCH: Resolve GPL license problem

commit ae00bb4b2944dc64a485ed72a19754b11af7c223
Author: Rodolfo Giometti <giometti@enneenne.com>
Date:	Mon Mar 26 12:03:36 2007 +0200

    PXA: pxa27x USB OHCI support

    Signed-off-by: Rodolfo Giometti <giometti@linux.it>

commit ae79f60677c208326535647dcbd5c3ec40dbcb0b
Author: Markus Klotzbuecher <mk@denx.de>
Date:	Mon Mar 26 11:21:05 2007 +0200

    USB: remove the S3C24X0_merge #define, which was introduced while
    merging OHCI drivers.

    Signed-off-by: Markus Klotzbuecher <mk@denx.de>

commit 1798049522f594013aea29457d46794298c6ae15
Author: Michal Simek <root@monstr.eu>
Date:	Mon Mar 26 01:39:07 2007 +0200

    Support for XUPV2P board
    Reset support
    BSP autoconfig support

commit 0d974d5297349504a2ddfa09314be573b5df320a
Author: Stefan Roese <sr@denx.de>
Date:	Sat Mar 24 15:57:09 2007 +0100

    [PATCH] Add 4xx GPIO functions

    This patch adds some 4xx GPIO functions. It also moves some of the
    common code and defines into a common 4xx GPIO header file.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 2db633658bbf366ab0c8dad7a0727e1fb2ae6b11
Author: Stefan Roese <sr@denx.de>
Date:	Sat Mar 24 15:55:58 2007 +0100

    [PATCH] Small Sequoia cleanup

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 3cb86f3e40d2a80356177434a99f75bc8baa9caf
Author: Stefan Roese <sr@denx.de>
Date:	Sat Mar 24 15:45:34 2007 +0100

    [PATCH] Clean up 40EZ/Acadia support

    This patch cleans up all the open issue of the preliminary
    Acadia support.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 6eb1df835191d8ce4b81d5af40fa8e0fbe78e997
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Dec 12 11:02:20 2006 -0600

    Fix 8641HPCN problem with ld version 2.16

    (Dot outside sections problem).

    This fix is in the spirit of 807d5d7319330e336ab34a5623c5e0d73b87d540.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 9964a4dd0d4ef5a037febaebf1aa494b1a72991c
Author: Haiying Wang <haiying.wang@freescale.com>
Date:	Thu Dec 7 10:35:55 2006 -0600

    Set Rev 2.x 86xx PIC in mixed mode.

    Prevent false interrupt from hanging Linux as MSR[EE] is set
    to enable interrupts by changing the PIC out of the default
    pass through mode into mixed mode.

    Signed-off-by: Haiying Wang <haiying.wang@freescale.com>
    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 5a58a73ceb0a4059c42ef64cedbc1a45e0aaa00e
Author: Jason Jin <jason.jin@freescale.com>
Date:	Thu Dec 7 10:32:35 2006 -0600

    Add flash cmd function to 8641HPCN ramboot

    Also fixes some commmand for 8641 HPCN ramboot case.

    Signed-off-by: Jason Jin <jason.jin@freescale.com>
    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 2ccceacc04b009d923afb7c26189ba2f8a2a5d46
Author: Ed Swarthout <ed.swarthout@freescale.com>
Date:	Thu Dec 7 10:34:14 2006 -0600

    Add support for 8641 Rev 2 silicon.

    Without this patch, I am unable to get to the prompt on rev 2 silicon.
    Only set ddrioovcr for rev1.

    Signed-off-by: Ed Swarthout<ed.swarthout@freescale.com>
    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 44ba464b99001f8bd1c456a1e9d59726252f707a
Author: Wolfgang Denk <wd@denx.de>
Date:	Thu Mar 22 00:13:12 2007 +0100

    Code cleanup / re-insert previous Copyright entries.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 2a8dfe08359a1b663418b2faa1da1d7bce34d302
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Mar 21 23:26:15 2007 +0100

    Code cleanup. Update CHANGELOG

commit e6615ecf4eaf4dd52696934aed8f5c6474cfd286
Author: Stefan Roese <sr@denx.de>
Date:	Wed Mar 21 14:54:29 2007 +0100

    ppc4xx: Fix file mode of include/configs/acadia.h

    Signed-off-by: Stefan Roese <sr@denx.de>

commit d5f4614c9350d9333e575100fb250aab774d0258
Author: Markus Klotzbuecher <mk@denx.de>
Date:	Wed Mar 21 14:41:46 2007 +0100

    SPC1920: fix small clock routing bug

    Signed-off-by: Markus Klotzbuecher <mk@denx.de>

commit 16c0cc1c82081a493ab87c51980b28336ce1bce8
Author: Stefan Roese <sr@denx.de>
Date:	Wed Mar 21 13:39:57 2007 +0100

    [PATCH] Add AMCC Acadia (405EZ) eval board support

    This patch adds support for the new AMCC Acadia eval board.

    Please note that this Acadia/405EZ support is still in a beta stage.
    Still lot's of cleanup needed but we need a preliminary release now.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit e01bd218b00af73499331a1a701625a852cd286f
Author: Stefan Roese <sr@denx.de>
Date:	Wed Mar 21 13:38:59 2007 +0100

    [PATCH] Add AMCC PPC405EZ support

    This patch adds support for the new AMCC 405EZ PPC. It is in
    preparation for the AMCC Acadia board support.

    Please note that this Acadia/405EZ support is still in a beta stage.
    Still lot's of cleanup needed but we need a preliminary release now.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 07e82cb2e284a893df6693f2a1337ab2c47bf6a1
Author: Heiko Schocher <hs@pollux.denx.de>
Date:	Wed Mar 21 08:45:17 2007 +0100

    [PATCH] TQM8272: dont change the bits given from the HRCW
		     for the SIUMCR and BCR Register.
		     Fix the calculation for the EEprom Size

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 654589873dbafcf104dff133ce0d03a4506e9cc3
Author: Aubrey Li <aubrey.adi@gmail.com>
Date:	Tue Mar 20 18:16:24 2007 +0800

    [Blackfin][PATCH] Add BF561 EZKIT board support

commit a6154fd1cfd020f6da8527e0365b1020a11a71d0
Author: Aubrey Li <aubrey.adi@gmail.com>
Date:	Mon Mar 19 22:55:58 2007 +0800

    [Blackfin][PATCH] minor cleanup

commit 389b6bb50f745bf5038ce030300d8a8512e96f79
Author: Wolfgang Denk <wd@denx.de>
Date:	Mon Mar 19 13:10:08 2007 +0100

    Remove obsoleted POST files.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 8e709bbb2636b5670a8f2b575e138eb1f55773f6
Author: Aubrey Li <aubrey.adi@gmail.com>
Date:	Mon Mar 19 01:26:11 2007 +0800

    [PATCH] Add flash chip M29W320ET/B support

commit 26bf7deca364a5b33f39e8f14ddd3f4081345015
Author: Aubrey Li <aubrey.adi@gmail.com>
Date:	Mon Mar 19 01:24:52 2007 +0800

    [Blackfin][PATCH] Add BF537 stamp board support

commit 8423e5e31a7235d05a482627315fb11d49c17bd7
Author: Stefan Roese <sr@denx.de>
Date:	Fri Mar 16 21:11:42 2007 +0100

    [PATCH] Use dynamic SDRAM TLB setup on AMCC Ebony eval board

    Define CONFIG_PROG_SDRAM_TLB so that the TLB entries for the
    DDR memory are dynamically programmed matching the total size
    of the equipped memory (DIMM modules).

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 76d1466f918b881cda2d259254761e73885093c2
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Tue Mar 13 13:38:05 2007 +0100

    [PATCH] renamed environment variable 'addcon' to 'addcons' for PCI405
	    boards in terms of unification.

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit a7090b993d3d4d2221ac3f33e6cb1d1b2ccc6bf0
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Mar 13 16:05:55 2007 +0100

    Make SC3 board build with 'make O='; use 'addcons' consistently
    (SC3 and Jupiter used to use 'addcon' instead).

    Signed-off-by: Wolfgang Denk wd@denx.de

commit 8502e30a28e492c756ea2d7df0ace026388fce4b
Author: Heiko Schocher <hs@pollux.denx.de>
Date:	Tue Mar 13 09:40:59 2007 +0100

    [PATCH] update board config for jupiter Board:
	    added Hush Shell,
		  CONFIG_CMDLINE_EDITING,
		  CFG_ENV_ADDR_REDUND activated

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 0d93de11449390a5984b0236c3612e50f6dbb7e8
Author: Aubrey Li <aubrey.adi@gmail.com>
Date:	Mon Mar 12 12:11:55 2007 +0800

    [Blackfin][PATCH] minor cleanup

commit bfa5754a58477ac917d21527cd0f079d87cf188e
Author: Aubrey Li <aubrey.adi@gmail.com>
Date:	Mon Mar 12 01:42:06 2007 +0800

    [Blackfin][PATCH] Fix BUILD_DIR option of MAKEALL building issue

commit 8440bb14581a294375c34b91b42512f9753d1130
Author: Aubrey Li <aubrey.adi@gmail.com>
Date:	Mon Mar 12 00:25:14 2007 +0800

    [Blackfin][PATCH] code cleanup

commit cfc67116a706fd18b8f6a9c11a16753c5626d689
Author: Michal Simek <monstr@monstr.eu>
Date:	Sun Mar 11 13:48:24 2007 +0100

    [Microblaze][PATCH] part 2
    timer support
    interrupt controller support
    flash support
    ethernet support
    cache support
    board information support
    env support
    booting image support

    adding support for Xilinx ML401

commit 76316a318de91f6184e7c22a10e02d275ade2441
Author: Michal Simek <monstr@monstr.eu>
Date:	Sun Mar 11 13:42:58 2007 +0100

    [Microblaze][PATCH]
    timer support
    interrupt controller support
    flash support
    ethernet support
    cache support
    board information support
    env support
    booting image support

    adding support for Xilinx ML401

commit 8db13d63157811c839d15a313d9f2d2f5fd10af3
Author: Aubrey Li <aubrey.adi@gmail.com>
Date:	Sat Mar 10 23:49:29 2007 +0800

    [Blackfin][PATCH] code cleanup

commit ef26a08fef928b7bc11ae2c109e638dc3a016d91
Author: Aubrey.Li <aubrey.adi@gmail.com>
Date:	Fri Mar 9 13:40:56 2007 +0800

    [Blackfin][PATCH-2/2] Common files changed to support bf533 platform

commit 3f0606ad0b5639f7f22848fe5b4574e754d0470f
Author: Aubrey.Li <aubrey.adi@gmail.com>
Date:	Fri Mar 9 13:38:44 2007 +0800

    [Blackfin]PATCH-1/2]: Remove obsolete blackfin port and add bf533 platform support

commit 992423ab43c2bcf6b704853bd00af77450915e20
Author: Stefan Roese <sr@denx.de>
Date:	Thu Mar 8 23:00:08 2007 +0100

    ppc4xx: Fix file mode of sequoia.c

    Signed-off-by: Stefan Roese <sr@denx.de>

commit eb92f613556800f7483666db09d9a237ad911d4a
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Thu Mar 8 22:52:51 2007 +0100

    Minor cleanup.

commit 8ce16f55c7b9752af3d8bed84521aec5337e2de1
Author: John Otken john@softadvances.com <john@softadvances.com>
Date:	Thu Mar 8 09:39:48 2007 -0600

    ppc4xx: Clear Sequoia/Rainier security engine reset bits

    Signed-off-by: John Otken john@softadvances.com <john@softadvances.com>

commit 650a330dd2539130c8c324791e2f9f75aed79d4e
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Thu Mar 8 16:26:52 2007 +0100

    [PATCH] I2C: add some more SPD eeprom decoding for DDR2 modules

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit d9fc703246840c4b268debf48c334ba55c597dc0
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Thu Mar 8 16:25:47 2007 +0100

    [PATCH] I2C: disable flat i2c commands when CONFIG_I2C_CMD_TREE is defined

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit ced5b9029043397348cdc88e0cfcd6b1f629250b
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Thu Mar 8 16:23:11 2007 +0100

    [PATCH] 4xx: allow CONFIG_I2C_CMD_TREE without CONFIG_I2C_MULTI_BUS

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit d8a8ea5c476d37006fc7f85b7f903142795c8b14
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Thu Mar 8 16:20:32 2007 +0100

    [PATCH] I2C: Add missing default CFG_SPD_BUS_NUM

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit f9fc6a5852a6335840882fa2111925010eea1abe
Author: Matthias Fuchs <matthias.fuchs@esd-electronics.com>
Date:	Wed Mar 7 15:32:01 2007 +0100

    fixed ethernet phy configuration for plu405 board

    Signed-off-by: Matthias Fuchs <matthias.fuchs@esd-electronics.com>

commit 769104c9356594deb2092e204a39c05b33202d6c
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Thu Mar 8 21:49:27 2007 +0100

    Minor cleanup

commit 00cdb4ce5e1b42248e7e6522ad0da3421b988afa
Author: Stefan Roese <sr@denx.de>
Date:	Thu Mar 8 10:13:16 2007 +0100

    [PATCH] Update AMCC Luan 440SP eval board support

    The AMCC Luan now uses the common 440SP(e) DDR SPD code for DDR
    inititializition. This includes DDR auto calibration and support
    for different DIMM modules, instead of the fixed setup used in
    the earlier version.

    This patch also enables the cache in FLASH for the startup
    phase of U-Boot (while running from FLASH). After relocating to
    SDRAM the cache is disabled again. This will speed up the boot
    process, especially the SDRAM setup, since there are some loops
    for memory testing (auto calibration).

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 2f5df47351910a2936c7741cf111855829200943
Author: Stefan Roese <sr@denx.de>
Date:	Thu Mar 8 10:10:18 2007 +0100

    [PATCH] Update AMCC Yucca 440SPe eval board support

    The AMCC Yucca now uses the common 440SP(e) DDR SPD code for DDR
    inititializition. This includes DDR auto calibration and support
    for different DIMM modules, instead of the fixed setup used in
    the earlier version.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 2721a68a9ea91f1e494649ce68b2577261f578e2
Author: Stefan Roese <sr@denx.de>
Date:	Thu Mar 8 10:07:18 2007 +0100

    ppc4xx: Small AMCC Katmai 440SPe update

    Signed-off-by: Stefan Roese <sr@denx.de>

commit df294497479b1dca6dd86318b2a912f72fede0df
Author: Stefan Roese <sr@denx.de>
Date:	Thu Mar 8 10:06:09 2007 +0100

    ppc4xx: Update 440SP/440SPe DDR SPD setup code to support 440SP

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 83853178bd36bca6f0f8f1331476620c84a587fc
Author: Ed Swarthout <Ed.Swarthout@freescale.com>
Date:	Wed Mar 7 12:14:50 2007 -0600

    net - Support ping reply when processing net-loop

    Add ICMP_ECHO_REQUEST packet support by responding with a ICMP_ECHO_REPLY.

    This permits the ping command to test the phy interface when the phy
    is put in loopback mode (typically by setting register 0 bit 14).

    It also allows the port to respond to an external ping when u-boot is
    processing some other net command (such as tftp).  This is useful when
    tftp appears to hang.

    Signed-off-by: Ed Swarthout <Ed.Swarthout@freescale.com>
    Signed-off-by: Ben Warren <bwarren@qstreams.com>

commit fa1aef15bcd47736687be1af544506e90fba545d
Author: Stefan Roese <sr@denx.de>
Date:	Wed Mar 7 16:43:00 2007 +0100

    [PATCH] Use dynamic SDRAM TLB setup on AMCC Ocotea eval board

    Define CONFIG_PROG_SDRAM_TLB so that the TLB entries for the
    DDR memory are dynamically programmed matching the total size
    of the equipped memory (DIMM modules).

    Signed-off-by: Stefan Roese <sr@denx.de>

commit e2ebe696818939e2b974628be9c921ea3fe9de13
Author: Stefan Roese <sr@denx.de>
Date:	Wed Mar 7 16:39:36 2007 +0100

    [PATCH] Fix AMCC 44x SPD SDRAM init code to support 2 DIMM's

    This patch fixes a problem that occurs when 2 DIMM's are
    used. This problem was first spotted and fixed by Gerald Jackson
    <gerald.jackson@reaonixsecurity.com> but this patch fixes the
    problem in a little more clever way.

    This patch also adds the nice functionality to dynamically
    create the TLB entries for the SDRAM (tlb.c). So we should
    never run into such problems with wrong (too short) TLB
    initialization again on these platforms.

    As this feature is new to the "old" 44x SPD DDR driver, it
    has to be enabled via the CONFIG_PROG_SDRAM_TLB define.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 39218433983417b9df087976a79e3f80dd5e83d6
Author: Wolfgang Denk <wd@denx.de>
Date:	Wed Mar 7 16:33:44 2007 +0100

    UC101: fix compiler warnings

commit 8d7e2732221bc2d64df14f700c64c23e0a4c3dce
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Wed Mar 7 16:19:46 2007 +0100

    HMI1001: fix build error, cleanup compiler warnings.

commit ad5bb451ade552c44bef9119d907929ebc2c126f
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Tue Mar 6 18:08:43 2007 +0100

    Restructure POST directory to support of other CPUs, boards, etc.

commit a5284efd125967675b2e9c6ef7b95832268ad360
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Tue Mar 6 18:01:47 2007 +0100

    Fix HOSTARCH handling.
    Patch by Mike Frysinger, Mar 05 2007

commit 07b7b0037aac5102939917d7cbe561b5c0d5aa44
Author: Stefan Roese <sr@denx.de>
Date:	Tue Mar 6 07:47:04 2007 +0100

    [PATCH] Speed optimization of AMCC Sequoia/Rainier DDR2 setup

    As provided by the AMCC applications team, this patch optimizes the
    DDR2 setup for 166MHz bus speed. The values provided are also save
    to use on a "normal" 133MHz PLB bus system. Only the refresh counter
    setup has to be adjusted as done in this patch.

    For this the NAND booting version had to include the "speed.c" file
    from the cpu/ppc4xx directory. With this addition the NAND SPL image
    will just fit into the 4kbytes of program space. gcc version 4.x as
    provided with ELDK 4.x is needed to generate this optimized code.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 647d3c3eed0da1d1505eecabe0b0fab96f956e68
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Sun Mar 4 01:36:05 2007 +0100

    Some code cleanup.

commit 781e026c8aa6f7e9eb5f0e72cc4d20971219b148
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Wed Feb 28 00:02:04 2007 -0600

    mpc83xx: fix implicit declaration of function 'ft_get_prop' warnings

    (cherry picked from c5bf13b02284c3204a723566a9bab700e5059659 commit)

commit 4feab4de7bfc2cb2fed36ad76f93c3a69659bbaf
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Feb 27 23:51:42 2007 -0600

    mpc83xx: Fix config of Arbiter, System Priority, and Clock Mode

    The config value for:
    * CFG_ACR_PIPE_DEP
    * CFG_ACR_RPTCNT
    * CFG_SPCR_TSEC1EP
    * CFG_SPCR_TSEC2EP
    * CFG_SCCR_TSEC1CM
    * CFG_SCCR_TSEC2CM

    Were not being used when setting the appropriate register

    Added:
    * CFG_SCCR_USBMPHCM
    * CFG_SCCR_USBDRCM
    * CFG_SCCR_PCICM
    * CFG_SCCR_ENCCM

    To allow full config of the SCCR.

    Also removed random CFG_SCCR settings in MPC8349EMDS, TQM834x, and sbc8349
    that were just bogus.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit d51b3cf371cd441030460ef19d36b2924c361b1a
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Thu Feb 22 20:06:57 2007 -0600

    mpc83xx: update [local-]mac-address properties on UEC based devices

    8360 and 832x weren't updating their [local-]mac-address
    properties. This patch fixes that.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>

commit 61f4f912acbe60776c5e00df1ec94094ce672957
Author: Timur Tabi <timur@freescale.com>
Date:	Tue Feb 13 10:41:42 2007 -0600

    mpc83xx: write MAC address to mac-address and local-mac-address

    Some device trees have a mac-address property, some have local-mac-address,
    and some have both.  To support all of these device trees, this patch
    updates ftp_cpu_setup() to write the MAC address to mac-address if it exists.
    This function already updates local-mac-address.

    Signed-off-by: Timur Tabi <timur@freescale.com>

commit 22d71a71f57fd5d38b27ac3848e50d790360a598
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Tue Feb 27 18:41:08 2007 -0600

    mpc83xx: add command line editing by default

commit 3fc0bd159103b536e1c54c6f4457a09b3aba66ca
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Wed Feb 14 19:50:53 2007 -0600

    mpc83xx: Disable G1TXCLK, G2TXCLK h/w buffers

    Disable G1TXCLK, G2TXCLK h/w buffers. This patch
    fixes a networking timeout issue with MPC8360EA (Rev.2) PBs.

    Verified on Rev. 1.1, Rev. 1.2, and Rev. 2.0 boards.

    Signed-off-by: Kim Phillips <kim.phillips@freescale.com>
    Signed-off-by: Emilian Medve <Emilian.Medve@freescale.com>

commit d61853cf2472e0b8bcbd131461a93d1c49ff0c1f
Author: Xie Xiaobo <r63061@freescale.com>
Date:	Wed Feb 14 18:27:17 2007 +0800

    mpc83xx: Add DDR2 controller fixed/SPD Init for MPC83xx

    The code supply fixed and SPD initialization for MPC83xx DDR2 Controller.
    it pass DDR/DDR2 compliance tests.

    Signed-off-by: Xie Xiaobo <X.Xie@freescale.com>

commit b110f40bd180c6b560276589beedf753e97c46ce
Author: Xie Xiaobo <r63061@freescale.com>
Date:	Wed Feb 14 18:27:06 2007 +0800

    mpc83xx: Add the cpu specific code for MPC8360E rev2.0 MDS

    MPC8360E rev2.0 have new spridr,and PVR value,
    The MDS board for MPC8360E rev2.0 has 32M bytes Flash and 256M DDR2 DIMM.

    Signed-off-by: Xie Xiaobo <X.Xie@freescale.com>

commit 8d172c0f0d85998a256a95b7459a5403a30380ed
Author: Xie Xiaobo <r63061@freescale.com>
Date:	Wed Feb 14 18:26:44 2007 +0800

    mpc83xx: Add the cpu and board specific code for MPC8349E rev3.1 MDS

    MPC8349E rev3.1 have new spridr,and PVR value,
    The MDS board for MPC8349E rev3.1 has 32M bytes Flash and 256M DDR2 DIMM.

    Signed-off-by: Xie Xiaobo<X.Xie@freescale.com>

commit f6f5f709e5c8e4564c4dfeecfdf2279244f9c83b
Author: Joakim Tjernlund <joakim.tjernlund@transmode.se>
Date:	Wed Jan 31 11:04:19 2007 +0100

    mpc83xx: Fix empty i2c reads/writes in fsl_i2c.c

    Fix empty i2c reads/writes, i2c_write(0x50, 0x00, 0, NULL, 0)
    which is used to se if an slave will ACK after receiving its address.

    Correct i2c probing to use this method as the old method could upset
    a slave as it wrote a data byte to it.

    Add a small delay in i2c_init() to let the controller
    shutdown any ongoing I2C activity.

    Signed-off-by: Joakim Tjernlund <Joakim.Tjernlund@transmode.se>

commit 7a78f148d6a7298e4fface680dc7eacd877b1aba
Author: Timur Tabi <timur@freescale.com>
Date:	Wed Jan 31 15:54:29 2007 -0600

    mpc83xx: Add support for the MPC8349E-mITX-GP

    Add support for the MPC8349E-mITX-GP, a stripped-down version of the
    MPC8349E-mITX.  Bonus features include support for low-boot (BMS bit in
    HRCW is 0) for the ITX and a README for the ITX and the ITX-GP.

    Signed-off-by: Timur Tabi <timur@freescale.com>

commit fab16807adad350f618024350c6950165c247c72
Author: Timur Tabi <timur@freescale.com>
Date:	Wed Jan 31 15:54:20 2007 -0600

    mpc83xx: Delete sdram_init() for MPC8349E-mITX

    There is no SDRAM on any of the 8349 ITX variants, so function sdram_init()
    never does anything.  This patch deletes it.

    Signed-off-by: Timur Tabi <timur@freescale.com>

commit a87c856eb411b9365937d0d4b9c21e46adbe1c14
Author: Dave Liu <daveliu@freescale.com>
Date:	Fri Jan 19 10:43:26 2007 +0800

    mpc83xx: Fix the LAW1/3 bug

    The patch solves the alignment problem of the local bus access windows to
    render accessible the memory bank and PHY registers of UPC 1 (starting at
    0xf801 0000). What we actually did was to adjust the sizes of the bus
    access windows so that the base address alignment requirement would be met.

    Signed-off-by: Chereji Marian <marian.chereji@freescale.com>
    Signed-off-by: Gridish Shlomi <gridish@freescale.com>
    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit 97c4b397dce236a7318b304667bf89e59d08b17c
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Tue Jan 30 16:15:31 2007 -0600

    mpc83xx: don't hang if watchdog configured on 8360, 832x

    don't hang if watchdog configured on 8360, 832x

    The watchdog programming model is the same across all 83xx devices;
    make the code reflect that.

commit b70047478570e371ce7223be342ce98afea0f7d6
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Tue Jan 30 16:15:21 2007 -0600

    mpc83xx: protect memcpy to bad address if a local-mac-address is missing from dt

    protect memcpy to bad address if a local-mac-address is missing from dt

commit 6752ed088c75c26a89b70c46b7326a4cd6015f29
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Tue Jan 30 16:15:04 2007 -0600

    mpc83xx: make 8360 default environment fdt be 8360 (not 8349)

    make 8360 default environment fdt be 8360 (not 8349)

commit a28899c910024a0226331df07207b1038c300c93
Author: Emilian Medve <Emilian.Medve@freescale.com>
Date:	Tue Jan 30 16:14:50 2007 -0600

    mpc83xx: Fix alternating tx error / tx buffer not ready bug in QE UEC

    The problem is not gcc4 but the code itself. The BD_STATUS() macro can't
    be used for busy-waiting since it strips the 'volatile' property from
    the bd variable. gcc3 was working by pure luck.

    This is a follow on patch to "Fix the UEC driver bug of QE"

commit 3e78a31cfe3d3022f46f67eb88e1281d5cc2eb89
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Jan 30 14:08:30 2007 -0600

    mpc83xx: Replace CONFIG_MPC8349 and use CONFIG_MPC834X instead

    The code that is ifdef'd with CONFIG_MPC8349 is actually applicable to all
    MPC834X class processors.  Change the protections from CONFIG_MPC8349 to
    CONFIG_MPC834X so they are more generic.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit ae246dc6c1937c291014eadd90b6d48c438c7cb0
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Thu Jan 25 13:40:55 2007 -0600

    mpc83xx: add MPC832XEMDS and sbc8349 to MAKEALL

commit 4decd84e8f04279c5cfff7f8e907465ef8d8a3fb
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Wed Jan 24 17:18:37 2007 -0600

    mpc83xx: sort Makefile targets

    reordered targets alphabetically

commit 91e25769771c1164ed63ffca0add49f934ae3343
Author: Paul Gortmaker <paul.gortmaker@windriver.com>
Date:	Tue Jan 16 11:38:14 2007 -0500

    mpc83xx: U-Boot support for Wind River SBC8349

    I've redone the SBC8349 support to match git-current, which
    incorporates all the MPC834x updates from Freescale since the 1.1.6
    release,  including the DDR changes.

    I've kept all the SBC8349 files as parallel as possible to the
    MPC8349EMDS ones for ease of maintenance and to allow for easy
    inspection of what was changed to support this board.  Hence the SBC8349
    U-Boot has FDT support and everything else that the MPC8349EMDS has.

    Fortunately the Freescale updates added support for boards using CS0,
    but I had to change spd_sdram.c to allow for board specific settings for
    the sdram_clk_cntl (it is/was hard coded to zero, and that remains the
    default if the board doesn't specify a value.)

    Hopefully this should be mergeable as-is and require no whitespace
    cleanups or similar, but if something doesn't measure up then let me
    know and I'll fix it.

    Thanks,
    Paul.

commit 05031db456ab227f3e3752f37b9b812b65bb83ad
Author: Sam Song <samsongshu@yahoo.com.cn>
Date:	Thu Dec 14 19:03:21 2006 +0800

    mpc83xx: Remove a redundant semicolon in mpc8349itx.c

    A redundant semicolon existed in mpc8349itx.c
    should be removed.

    Signed-off-by: Sam Song <samsongshu@yahoo.com.cn>

commit f35f358241c549be3f75cfe2eaa642914275b7ba
Author: Jerry Van Baren <gerald.vanbaren@comcast.net>
Date:	Wed Dec 6 21:23:55 2006 -0500

    mpc83xx: Put the version (and magic) after the HRCW.

    Put the version (and magic) after the HRCW.  This puts it in a fixed
    location in flash, not at the start of flash but as close as we can get.

    Signed-off-by: Jerry Van Baren <vanbaren@cideas.com>

commit 48aecd969171a6e99a55fae04933857787f9a5bd
Author: Dave Liu <r63238@freescale.com>
Date:	Thu Dec 7 21:14:51 2006 +0800

    mpc83xx: Add the MPC832XEMDS board readme

    Add the MPC832XEMDS board readme

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit 24c3aca3f1358b113d3215adb5433b156e99f72b
Author: Dave Liu <r63238@freescale.com>
Date:	Thu Dec 7 21:13:15 2006 +0800

    mpc83xx: Add support for the MPC832XEMDS board

    This patch supports DUART, ETH3/4 and PCI etc.

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit e080313c32322e15ab5a18eb896a252858c57284
Author: Dave Liu <r63238@freescale.com>
Date:	Thu Dec 7 21:11:58 2006 +0800

    mpc83xx: streamline the 83xx immr head file

    For better format and style, I streamlined the 83xx head files,
    including immap_83xx.h and mpc83xx.h. In the old head files, 1)
    duplicated macro definition appear in the both files; 2) the structure
    of QE immr is duplicated in the immap_83xx.h and immap_qe.h; 3) The
    macro definition put inside the each structure. So, I cleaned up the
    structure of QE immr from immap_83xx.h, deleted the duplicated stuff and
    moved the macro definition to mpc83xx.h, Just like MPC8260.

    CHANGELOG

    *streamline the 83xx immr head file

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit ddd02492f43db5408f5ab9f823b0ba5796e28ef0
Author: Dave Liu <r63238@freescale.com>
Date:	Wed Dec 6 11:38:17 2006 +0800

    mpc83xx: Fix the UEC driver bug of QE

    The patch prevents the GCC tool chain from striping useful code for
    optimization. It will make UEC ethernet driver workable, Otherwise the
    UEC will fail in tx when you are using gcc4.x. but the driver can work
    when using gcc3.4.3.

    CHANGELOG

    *Prevent the GCC from striping code for optimization, Otherwise the UEC
    will tx failed when you are using gcc4.x.

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit ba58e4c9a9a917ce795dd16d4ec8d515f9f7aa35
Author: Stefan Roese <sr@denx.de>
Date:	Thu Mar 1 21:11:36 2007 +0100

    [PATCH] Update AMCC Katmai 440SPe eval board support

    This patch updates the recently added Katmai board support. The biggest
    change is the support of ECC DIMM modules in the 440SP(e) SPD DDR2
    driver.

    Please note, that still some problems are left with some memory
    configurations. See the driver for more details.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 8c12045a3b06c5b6675d3fe02fbc9f545988129a
Author: Stefan Roese <sr@denx.de>
Date:	Thu Mar 1 07:03:25 2007 +0100

    [PATCH] I2C: Add missing default CFG_RTC_BUS_NUM & CFG_DTT_BUS_NUM

    Signed-off-by: Stefan Roese <sr@denx.de>

commit ccbc7036648e465697ca298ba51e0e76dda352a0
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Wed Feb 28 01:28:53 2007 +0100

    SC3: fix typo in default environment

commit e344568b1b46af85ec32d815586f91bc115d6223
Author: Sergei Poselenov <sposelenov@emcraft.com>
Date:	Tue Feb 27 20:15:30 2007 +0300

    MCC200: Fixes for update procedure

    - fix logic error in image type handling
    - make sure file system images (cramfs etc.) get stored in flash
      with image header stripped so they can be mounted through MTD

commit 743571145b37182757d4e688a77860b36ee77573
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Tue Feb 27 14:26:04 2007 +0100

    Minor code cleanup.

commit 638dd1458bbdc2a55d4b9e25c5c4e1f838a5dc72
Author: Sergei Poselenov <sposelenov@emcraft.com>
Date:	Tue Feb 27 12:40:16 2007 +0300

    MCC200 update - add LCD Progress Indicator

commit 6c7cac8c4fce0ea2bf8e15ed8658d87974155b44
Author: Stefan Roese <sr@denx.de>
Date:	Thu Feb 22 07:43:34 2007 +0100

    [PATCH] get_dev() now unconditionally uses manual relocation

    Since the relocation fix is not included yet and we're not sure how
    it will be added, this patch removes code that required relocation
    to be fixed for now.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 8274ec0bd01d2feb2c7f095eba78d42ea009798b
Author: Stefan Roese <sr@denx.de>
Date:	Thu Feb 22 07:40:23 2007 +0100

    [PATCH] Change systemace driver to select 8 & 16bit mode

    As suggested by Grant Likely this patch enables the Xilinx SystemACE
    driver to select 8 or 16bit mode upon startup.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 3a197b2fe49d6fa03978e60af2394efe9c70b527
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Wed Feb 21 16:52:31 2007 +0100

    [PATCH v3] Add sync to ensure flash_write_cmd is fully finished

    Some CPUs like PPC, BLACKFIN need sync() to ensure cfi flash write command
    is fully finished. The sync() is defined in each CPU's io.h file. For
    those CPUs which do not need sync for now, a dummy sync() is defined in
    their io.h as well.

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>

commit da04995c7dc6772013a9a0dc5c767f190c402478
Author: Stefan Roese <sr@denx.de>
Date:	Wed Feb 21 13:44:34 2007 +0100

    [PATCH] Fix problem in systemace driver (ace_writew instead of ace_write)

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 751bb57107d78978ae08e697c3deba816f5be091
Author: Stefan Roese <sr@denx.de>
Date:	Tue Feb 20 13:21:57 2007 +0100

    [PATCH] Fix relocation problem with "new" get_dev() function

    This patch enables the "new" get_dev() function for block devices
    introduced by Grant Likely to be used on systems that still suffer
    from the relocation problems (manual relocation neede because of
    problems with linker script).

    Hopefully we can resolve this relocation issue soon for all platform
    so we don't need this additional code anymore.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit d93e2212f962668b3dce091ff5edc33f2347fe37
Author: Stefan Roese <sr@denx.de>
Date:	Tue Feb 20 13:17:42 2007 +0100

    [PATCH] Update SystemACE driver for 16bit access

    This patch removes some problems when the Xilinx SystemACE driver
    is used with 16bit access on an big endian platform (like the
    AMCC Katmai).

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 874bb7b88fe9b4648e1288a387af2e31014a72f3
Author: Stefan Roese <sr@denx.de>
Date:	Tue Feb 20 13:15:40 2007 +0100

    [PATCH] Clean up Katmai (440SPe) linker script

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 4745acaa1a603b67f6b9b7970365ebadd7d6586f
Author: Stefan Roese <sr@denx.de>
Date:	Tue Feb 20 10:57:08 2007 +0100

    [PATCH] Add support for the AMCC Katmai (440SPe) eval board

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 0dc018ece13effc689e47479ea9ebf1c98a507f5
Author: Stefan Roese <sr@denx.de>
Date:	Tue Feb 20 10:51:26 2007 +0100

    [PATCH] I2C: Add support for multiple I2C busses for RTC & DTT

    This patch switches to the desired I2C bus when the date/dtt
    commands are called. This can be configured using the
    CFG_RTC_BUS_NUM and/or CFG_DTT_BUS_NUM defines.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 4037ed3b63923cfcec27f784a89057c3cbabcedb
Author: Stefan Roese <sr@denx.de>
Date:	Tue Feb 20 10:43:34 2007 +0100

    [PATCH] PPC4xx: Add 440SP(e) DDR2 SPD DIMM support

    This patch adds support for the DDR2 controller used on the
    440SP and 440SPe. It is tested on the Katmai (440SPe) eval
    board and works fine with the following DIMM modules:

    - Corsair CM2X512-5400C4 (512MByte per DIMM)
    - Kingston ValueRAM KVR667D2N5/512 (512MByte per DIMM)
    - Kingston ValueRAM KVR667D2N5K2/2G (1GByte per DIMM)

    This patch also adds the nice functionality to dynamically
    create the TLB entries for the SDRAM (tlb.c). So we should
    never run into such problems with wrong (too short) TLB
    initialization again on these platforms.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 36d830c9830379045f5daa9f542ac1c990c70068
Author: Stefan Roese <sr@denx.de>
Date:	Tue Feb 20 10:35:42 2007 +0100

    [PATCH] PPC4xx: Split 4xx SPD SDRAM init routines into 2 files

    Since the existing 4xx SPD SDRAM initialization routines for the
    405 SDRAM controller and the 440 DDR controller don't have much in
    common this patch splits both drivers into different files.

    This is in preparation for the 440 DDR2 controller support (440SP/e).

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 79b2d0bb2eae09602448f7a7cb56530d2f31e6c6
Author: Stefan Roese <sr@denx.de>
Date:	Tue Feb 20 10:27:08 2007 +0100

    [PATCH] PPC4xx: Add support for multiple I2C busses

    This patch adds support for multiple I2C busses on the PPC4xx
    platforms. Define CONFIG_I2C_MULTI_BUS in the board config file
    to make use of this feature.

    It also merges the 405 and 440 i2c header files into one common
    file 4xx_i2c.h.

    Also the 4xx i2c reset procedure is reworked since I experienced
    some problems with the first access on the 440SPe Katmai board.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit eb867a76238fb38e952c37871b16d0d7fd61c95f
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Feb 20 09:05:45 2007 +0100

    [PATCH 9_9] Use "void *" not "unsigned long *" for block dev read_write buffer pointers

    Block device read/write is anonymous data; there is no need to use a
    typed pointer.  void * is fine.  Also add a hook for block_read functions

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 53758fa20e935cc87eeb0519ed365df753a6f289
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Feb 20 09:05:38 2007 +0100

    [PATCH 8_9] Add block_write hook to block_dev_desc_t

    Preparation for future patches which support block device writing

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit f4852ebe6ca946a509667eb68be42026f837be76
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Feb 20 09:05:31 2007 +0100

    [PATCH 7_9] Replace ace_readw_ace_writeb functions with macros

    Register read/write does not need to be wrapped in a full function.  The
    patch replaces them with macros.

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 3a8ce9af6fcb5744a7851b4440c07688acc40844
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Feb 20 09:05:23 2007 +0100

    [PATCH 6_9] Move common_cmd_ace.c to drivers_systemace.c

    The code in this file is not a command; it is a device driver.  Put it in
    the correct place.	There are zero functional changes in this patch, it
    only moves the file.

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 984618f3e7794c783ec8d1511e74c6ee2d69bfe4
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Feb 20 09:05:16 2007 +0100

    [PATCH 5_9] Whitespace fixup on common_cmd_ace.c (using Lindent)

    This patch is in preparation of additional changes to the sysace driver.
    May as well take this opportunity to fixup the inconsistent whitespace since
    this file is about to undergo major changes anyway.

    There are zero functional changes in this patch.  It only cleans up the
    the whitespace.

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 80ba981d940471fe7e539e64fa3d2bd80002beda
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Feb 20 09:05:07 2007 +0100

    [PATCH 4_4] Remove local implementation of isprint() in ft_build.c

    isprint is already defined in ctype.c

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit c95c4280d751ca078c2ff58228d2f2b44ccf0600
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Feb 20 09:05:00 2007 +0100

    [PATCH 3_9] Move buffer print code from md command to common function

    Printing a buffer is a darn useful thing.  Move the buffer print code
    into print_buffer() in lib_generic/

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 99b0f0fd3fbf2572ae1a7723dd90cffc8e85130a
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Feb 20 09:04:52 2007 +0100

    [PATCH 2_4] Use config.h, not xparameters.h, for xilinx targets

    Change the xilinx device drivers and board code to include config.h
    instead of xparameters.h directly.	config.h always includes the
    correct xparameters file.  This change reduces the posibility of
    including the wrong file when adding a new xilinx board port

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 735dd97b1b20e777d059c7b389fe9d70cd3f80c7
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Feb 20 09:04:34 2007 +0100

    [PATCH 1_4] Merge common get_dev() routines for block devices

    Each of the filesystem drivers duplicate the get_dev routine.  This change
    merges them into a single function in part.c

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit f5fcc3c20b65554e98a165542c36ee0c610a2d81
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Mon Feb 19 23:09:51 2007 +0100

    MCC200: Software Updater: allow both "ramdisk" and "filesystem" types
    as root file system images.

commit 489c696ae7211218961d159e43e722d74c36fcbc
Author: Sergei Poselenov <sposelenov@emcraft.com>
Date:	Wed Feb 14 14:30:28 2007 +0300

    MCC200: Extensions to Software Update Mechanism

    Update / extend Software Update Mechanism for MCC200 board:

    - Add support for rootfs image added. The environment variables
      "rootfs_st" and "rootfs_nd" can be used to override the default
      values of the image start and end.
    - Remove excessive key check code.
    - Code cleanup.

commit 4be23a12f23f1372634edc3215137b09768b7949
Author: Stefan Roese <sr@denx.de>
Date:	Mon Feb 19 08:23:15 2007 +0100

    [PATCH] Update Sequoia EBC configuration (NOR FLASH)

    As spotted by Matthias Fuchs, the READY input should not be
    enabled for the NOR FLASH on the Sequoia board.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 2605e90bf676d48123afe5719a846d2b52b24aac
Author: Heiko Schocher <hs@pollux.denx.de>
Date:	Fri Feb 16 07:57:42 2007 +0100

    [PATCH] Added support for the jupiter board.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 497d012e5be0194e1084073d0081eb1a844796b2
Author: Gary Jennejohn <garyj@pollux.denx.de>
Date:	Mon Feb 12 13:11:50 2007 +0100

    LPC2292: patch from Siemens.

commit b0b1a920aebead0d44146e73676ae9d80fffc8e2
Author: Stefan Roese <sr@denx.de>
Date:	Sat Feb 10 08:49:31 2007 +0100

    [PATCH] Add missing p3mx.h file to repository (ups)

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 53d4a4983fb9b3ae5f7b2f10c599aca2b1b4034a
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Fri Feb 9 10:45:42 2007 +0100

    [Motion-PRO] Preliminary support for the Motion-PRO board.

commit 5a753f98c6a01bd1c61a9a3f95e8329a35f62994
Author: Stefan Roese <sr@denx.de>
Date:	Wed Feb 7 16:51:08 2007 +0100

    [PATCH] Update some AMCC 4xx board config files (set initrd_high)

    Some boards that can have more than 768MBytes of SDRAM need to
    set "initrd_high", so that the initrd can be accessed by the
    Linux kernel.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 7372ca68227930d03cffa548310524cad5b96733
Author: Stefan Roese <sr@denx.de>
Date:	Fri Feb 2 12:44:22 2007 +0100

    [PATCH] Correctly display PCI arbiter en-/disabled on some 4xx boards

    Previously the strapping DCR/SDR was read to determine if the internal PCI
    arbiter is enabled or not. This strapping bit can be overridden, so now
    the current status is read from the correct DCR/SDR register.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 2aa54f651a42d198673318f07a20c89a43e4d197
Author: Stefan Roese <sr@denx.de>
Date:	Fri Feb 2 12:42:08 2007 +0100

    [PATCH] Change configuration output of Sycamore, Yellowstone & Rainier

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 23744d6b5bf17592eb6a0ef4f318f6089f55993b
Author: Stefan Roese <sr@denx.de>
Date:	Thu Feb 1 13:22:41 2007 +0100

    [PATCH] Remove PCI-PNP configuration from Sequoia/Rainier config file

    When PCI PNP is enabled the pci pnp configuration routine is called
    which sets the PCI_CACHE_SIZE_LINE to 8. This seems to generate some
    problems with some PCI cards. For now disable the PCI PNP configuration.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 2902fadade3be7659467e8d074048c6b7068f5c0
Author: Stefan Roese <sr@denx.de>
Date:	Wed Jan 31 16:56:10 2007 +0100

    [PATCH] Update 440EPx/440GRx cpu detection

    Signed-off-by: Stefan Roese <sr@denx.de>

commit d5ea287b02a6945c3977410e364a879dd1a555c8
Author: Stefan Roese <sr@denx.de>
Date:	Wed Jan 31 16:38:04 2007 +0100

    [PATCH] Update esd cpci5200 files

    Signed-off-by: Reinhard Arlt <reinhard.arlt@esd-electronics.com>

commit 8b7d1f0ab7d7c4fe3160bbf74a7e9690d9f3a3ab
Author: Stefan Roese <sr@denx.de>
Date:	Wed Jan 31 16:37:34 2007 +0100

    [PATCH] Add support for esd mecp5200 board

    Signed-off-by: Reinhard Arlt <reinhard.arlt@esd-electronics.com>

commit 71a4e5fda8b60044ab9f46069fa1cfa26bdd07ff
Author: Stefan Roese <sr@denx.de>
Date:	Wed Jan 31 12:38:50 2007 +0100

    [PATCH] Remove unneccessary yellowstone board config file

    Signed-off-by: Stefan Roese <sr@denx.de>

commit e802594b6fa1b166308820c276b96dc0d7cc731c
Author: Stefan Roese <sr@denx.de>
Date:	Tue Jan 30 17:06:10 2007 +0100

    [PATCH] Update Sequoia (440EPx) config file

    The config file now handles the 2nd target, the Rainier (440GRx)
    evaluation board better. Additionally the PPC input clock was
    adjusted to match the correct value of 33.0 MHz.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 700200c67e73b83751418abe7815840dca8fd6cb
Author: Stefan Roese <sr@denx.de>
Date:	Tue Jan 30 17:04:19 2007 +0100

    [PATCH] Merge Yosemite & Yellowstone board ports

    Now the AMCC eval boards Yosemite (440EP) and Yellowstone (440GR)
    share one config file and all board specific files. This way we
    don't have to maintain two different sets of files for nearly
    identical boards.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 1bbf5eae322f5f1f6427ecc3ac13a0cb7dba8ad6
Author: Stefan Roese <sr@denx.de>
Date:	Tue Jan 30 15:01:49 2007 +0100

    [PATCH] Update Prodrive SCPU (PDNB3 variant) board

    SCPU doesn't use redundant environment in flash.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 6304430ed642ea8fa15c9e5af965ac2e033eec45
Author: Stefan Roese <sr@denx.de>
Date:	Tue Jan 30 12:51:07 2007 +0100

    [PATCH] alpr: Update alpr board config file

    Signed-off-by: Stefan Roese <sr@denx.de>

commit f8db84f132b1e335f20f96138a1f09ed97b08664
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Tue Jan 30 00:50:40 2007 +0100

    LPC2292 SODIMM port coding style cleanup.

commit 6bd2447ee47ee23c18d2b3c7ccd5a20f7626f5b3
Author: Gary Jennejohn <garyj@pollux.denx.de>
Date:	Wed Jan 24 12:16:56 2007 +0100

    Add port for the lpc2292sodimm evaluation board from EmbeddedArtists

commit 2daf046ba627f85f44195815778140039636244e
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Tue Jan 23 17:22:06 2007 +0100

    [iDMR] Add MTD and JFFS2 support, also add default partition definition.

commit f7db33101fbc9c8f0a10738ce87034875a17aeb9
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Tue Jan 23 14:21:14 2007 +0100

    [iDMR] Flash driver on initialisation write-protects some sectors,
    currently sectors 0-3. Sector 3 does not need to be protected, though
    (U-boot occupies sectors 0-1 and the environment sector 2). This commit
    fixes this, i.e., only sectors 0-2 are protected.

commit 0ed47bb119cd2c4c16edb2548789148f9e6dc9de
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Tue Jan 23 14:11:22 2007 +0100

    [iDMR] Using MII-related commands on iDRM board doesn't work now (e.g.,
    "mii device" results in "Unexpected exception"). Fixing this properly
    requires some clean-up in the FEC drivers infrastructure for ColdFire, so
    this commit disables MII commads for now.

commit 363d1d8f9c99b63daef81f5985cab3fc00edde5c
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Tue Jan 23 13:25:22 2007 +0100

    [ColdFire MCF5271 family] Add CPU detection based on the value of Chip
    Identification Register (CIR).

commit fdef388758506765d4d6a7155c8f1584c63ff581
Author: roy zang <tie-fei.zang@freescale.com>
Date:	Mon Jan 22 13:19:21 2007 +0800

    use  CFG_WRITE_SWAPPED_DATA define instead of define CFG_FLASH_CFI_SWAP
    The patch by Heiko Schocher <hs@pollux.denx.de> on Jan, 19, 2007
    fixes cfi_driver bug for mpc7448hpc2 board. The default cfi_driver can support
    mpc7448hpc2 board.

commit a4012396645533aef218354eeba754dff0deace8
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Fri Jan 19 23:08:39 2007 +0100

    Minor code cleanup.

commit f539b7ba7d7ef6dd187c8209609001cb1cd95e39
Author: Heiko Schocher <hs@pollux.denx.de>
Date:	Fri Jan 19 19:57:10 2007 +0100

    [PATCH] SC3 board: added CFG_CMD_AUTOSCRIPT.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit d0b6e14087ddd8789f224a48e1d33f2a5df4d167
Author: Heiko Schocher <hs@pollux.denx.de>
Date:	Fri Jan 19 18:05:26 2007 +0100

    [PATCH] CFI: define CFG_WRITE_SWAPPED_DATA for the CFI-Flash driver
		 if you must swap the bytes between reading/writing.
		 (Needed for the SC3 board)

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 9d8d5a5bfb64768f29a0cb47fc37cd6f4c40e276
Author: Stefan Roese <sr@denx.de>
Date:	Thu Jan 18 16:05:47 2007 +0100

    [PATCH] Add support for Prodrive SCPU (PDNB3 variant) board

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 0057d758e3e874cbe7f24745d0cce8c1cb6c207e
Author: Stefan Roese <sr@denx.de>
Date:	Thu Jan 18 11:54:52 2007 +0100

    [PATCH] Update Prodrive P3Mx support

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 34167a36c29ee946b727465db5c014746a08e978
Author: Stefan Roese <sr@denx.de>
Date:	Thu Jan 18 11:48:10 2007 +0100

    [PATCH] Add missing Taishan config file

    Signed-off-by: Stefan Roese <sr@denx.de>

commit cb4820725e9fc409c5cbc8e83054a6ed522d2111
Author: Heiko Schocher <hs@pollux.denx.de>
Date:	Thu Jan 18 11:28:51 2007 +0100

    [PATCH] Fix: Compilerwarnings for SC3 board.
		 The EBC Configuration Register is now by CFG_EBC_CFG definable
		 Added JFFS2 support for the SC3 board.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 5fb692cae57d1710c8f52a427cf7f39a37383fcd
Author: Stefan Roese <sr@denx.de>
Date:	Thu Jan 18 10:25:34 2007 +0100

    [PATCH] Add support for AMCC Taishan PPC440GX eval board

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 6d3e0107235aa0e6a6dcb77f9884497280bf85ad
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Tue Jan 16 18:30:50 2007 +0100

    Raname solidcard3 into sc3; add redundant env for sc3

commit 1bbbbdd20fcec9933697000dcf55ff7972622596
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Tue Jan 16 12:46:35 2007 +0100

    Update default environment for Solidcard3

commit 5a5c56986a9ccf71642c8b6374eb18487b15fecd
Author: Stefan Roese <sr@denx.de>
Date:	Mon Jan 15 09:46:29 2007 +0100

    [PATCH] Fix 440SPe rev B detection from previous patch

    Signed-off-by: Stefan Roese <sr@denx.de>

commit a443d31410c571ee8f970da819a44d698fdd6b1f
Author: Heiko Schocher <hs@pollux.denx.de>
Date:	Sun Jan 14 13:35:31 2007 +0100

	[FIX] correct I2C Writes for the LM81 Sensor.

	Signed-off-by: Heiko Schocher <hs@denx.de>

commit 0bba5452835f19a61204edcda3a58112fd8e2208
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Sat Jan 13 11:17:10 2007 +0100

    Undo commit 3033ebb2: reset command does not take any arguments

    Haiying Wang's modification to the reset command was broken, undo it.

    Signed-off-by: Wolfgang Denk <wd@denx.de>

commit 95981778cff0038fd9941044d6a3eda810e33258
Author: Stefan Roese <sr@denx.de>
Date:	Sat Jan 13 08:01:03 2007 +0100

    [PATCH] Update 440SP(e) cpu revisions

    Also display enabled/disabled RAID 6 support for 440SP/440SPe PPC's.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 77ddc5b9afb325262fd88752ba430a1dded1f0c7
Author: Stefan Roese <sr@denx.de>
Date:	Sat Jan 13 07:59:56 2007 +0100

    [PATCH] Update Yellowstone (440GR) to display board rev and PCI bus speed

    Now the board revision and the current PCI bus speed are printed after
    the board message.

    Also the EBC initialising is now done via defines in the board config
    file.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 36adff362c2c0141ff8a810d42a7e478f779130f
Author: Stefan Roese <sr@denx.de>
Date:	Sat Jan 13 07:59:19 2007 +0100

    [PATCH] Update Yosemite (440EP) to display board rev and PCI bus speed

    Now the board revision and the current PCI bus speed are printed after
    the board message.

    Also the EBC initialising is now done via defines in the board config
    file.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit e0b9ea8c8a294de6a5350ae638879d24b5b709d6
Author: Stefan Roese <sr@denx.de>
Date:	Sat Jan 13 07:57:51 2007 +0100

    [PATCH] Update Sequoia (440EPx) to display board rev and PCI bus speed

    Now the board revision and the current PCI bus speed are printed after
    the board message.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit ca43ba18e910206ef8063e4b22d282630bff3fd2
Author: Heiko Schocher <hs@pollux.denx.de>
Date:	Thu Jan 11 15:44:44 2007 +0100

	Added support for the SOLIDCARD III board from Eurodesign

	Signed-off-by: Heiko Schocher <hs@denx.de>

commit 6abaee42621c07e81a2cd189ad4368b5e8c50280
Author: Reinhard Thies <Reinhard.Thies@web.de>
Date:	Wed Jan 10 14:41:14 2007 +0100

    Adjusted default environment for cam5200 board.

commit bab5a90d4ccc1a46a8127b867fa59028cc623ad9
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Wed Jan 10 15:35:52 2007 +0100

    Update CHANGELOG

commit 787fa15860a57833e50bd30555079a9cd4e519b8
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Wed Jan 10 01:28:39 2007 +0100

    Fix auto_update for MCC200 board.

    The invocation of do_auto_update() is moved to the end of the
    misc_init_r() function, after the flash mappings have been
    initialized. Please find attached a patch that implements that
    change.

    Also correct the decoding of the keypad status. With this update, the
    key that will trigger the update is Column 2, Row 2.

commit d9384de2f571046e71081bae22b49e3d5ca2e3d5
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Wed Jan 10 00:26:15 2007 +0100

    CAM5200 flash driver modifications:
    - use CFI driver (replaces custom flash driver) for main 'cam5200' target
    - add second build target 'cam5200_niosflash' which still uses custom driver

commit 67fea022fa957f59653b5238c7496f80a6b70432
Author: Markus Klotzbuecher <mk@denx.de>
Date:	Tue Jan 9 16:02:48 2007 +0100

    SPC1920: cleanup memory contoller setup

commit 8fc2102faa23593c80381437c09f7745a14deb40
Author: Markus Klotzbuecher <mk@denx.de>
Date:	Tue Jan 9 14:57:14 2007 +0100

    Fix the cpu speed setup to work with all boards.

commit 9295acb77481cf099ef9b40e1fa2d145b3c7490c
Author: Markus Klotzbuecher <mk@denx.de>
Date:	Tue Jan 9 14:57:13 2007 +0100

    SPC1920: add support for the FM18L08 Ramtron FRAM

commit 38ccd2fdf3364a53fe80e9b365303ecdafc9e223
Author: Markus Klotzbuecher <mk@denx.de>
Date:	Tue Jan 9 14:57:13 2007 +0100

    SPC1920: update the HPI register addresses to work with the second
    generation of hardware

commit 5921e5313fc3eadd42770c2b99badd7fae5ecf1e
Author: Markus Klotzbuecher <mk@creamnet.de>
Date:	Tue Jan 9 14:57:13 2007 +0100

    Miscellanious spc1920 related cleanups

commit e4c2d37adc8bb1bf69dcf600cbc6c75f916a6120
Author: Markus Klotzbuecher <mk@denx.de>
Date:	Tue Jan 9 14:57:12 2007 +0100

    SPC1920 GO/NOGO led should be set to color red in U-Boot

commit 0be62728aac459ba268d6d752ed49ec0e2bc7348
Author: Markus Klotzbuecher <mk@creamnet.de>
Date:	Tue Jan 9 14:57:12 2007 +0100

    Add support for the DS3231 RTC

commit 8139567b60d678584b05f0718a681f2047c5e14f
Author: Markus Klotzbuecher <mk@creamnet.de>
Date:	Tue Jan 9 14:57:11 2007 +0100

    SMC1 uses external CLK4 instead of BRG on spc1920

commit d8d9de1a02fbd880b613d607143d1f57342affc7
Author: Markus Klotzbuecher <mk@creamnet.de>
Date:	Tue Jan 9 14:57:10 2007 +0100

    Update the SPC1920 CMB PLD driver

commit 3f34f869162750e5e999fd140f884f5de952bcfe
Author: Markus Klotzbuecher <mk@creamnet.de>
Date:	Tue Jan 9 14:57:10 2007 +0100

    Add / enable I2C support on the spc1920 board

commit d28707dbce1e9ac2017ad051da4133bf22b4204f
Author: Markus Klotzbuecher <mk@creamnet.de>
Date:	Tue Jan 9 14:57:10 2007 +0100

    Add support for the tms320671x host port interface (HPI)

commit f4eb54529bb3664c3a562e488b460fe075f79d67
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Sun Jan 7 00:13:11 2007 +0100

    Prepare for release 1.2.0

commit f07ae7a9daef27a3d0213a4f3fe39d5342173c02
Author: Stefan Roese <sr@denx.de>
Date:	Sat Jan 6 15:58:09 2007 +0100

    [PATCH] 44x: Fix problem with DDR controller setup (refresh rate)

    This patch fixes a problem with an incorrect setup for the refresh
    timer of the 44x DDR controller in the file cpu/ppc4xx/sdram.c

    Signed-off-by: Stefan Roese <sr@denx.de>

commit f16c1da9577f06c5fc08651a4065537407de4635
Author: Stefan Roese <sr@denx.de>
Date:	Sat Jan 6 15:56:13 2007 +0100

    [PATCH] Update ALPR board files

    This update brings the ALPR board support to the newest version.
    It also fixes a problem with the NAND driver.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit cd1d937f90250a32988c37b2b4af8364d25de8ed
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jan 5 11:46:05 2007 +0100

    [PATCH] nand: Fix problem with oobsize calculation

    Here the description from Brian Brelsford <Brian_Brelsford@dell.com>:

    The Hynix part returns a 0x1d in the 4th ID byte. The Samsung part
    returns a 0x15. In the code fragment below bits [1:0] determine the
    page size, it is ANDed via "(extid & 0x3)" then shifted out. The
    next field is also ANDed with 0x3. However this is a one bit field
    as defined in the Hynix and Samsung parts in the 4th ID byte that
    determins the oobsize, not a two bit field. It works on Samsung as
    bits[3:2] are 01. However for the Hynix there is a 11 in these two
    bits, so the oob size gets messed up.

    I checked the correct linux code and the suggested fix from Brian is
    also available in the linux nand mtd driver.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit a78bc443ae5a4a8ba87590587d5e35bf5a787b2e
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jan 5 10:40:36 2007 +0100

    [PATCH] Clear PLB4A0_ACR[WRP] on Sequoia (440EPx)

    This fix will make the MAL burst disabling patch for the Linux
    EMAC driver obsolete.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 023889838282b6237b401664f22dd22dfba2c066
Author: Stefan Roese <sr@denx.de>
Date:	Fri Jan 5 10:38:05 2007 +0100

    [PATCH] Add DDR2 optimization code for Sequoia (440EPx) board

    This code will optimize the DDR2 controller setup on a board specific
    basis.

    Note: This code doesn't work right now on the NAND booting image for the
    Sequoia board, since it doesn't fit into the 4kBytes for the SPL image.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit cce4acbb68398634b8d011ed7bb0d12269c84230
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Thu Dec 28 19:08:21 2006 +0100

    Few V38B changes:
      - fix a typo in V38B config file
      - move watchdog initialisation earlier in the boot process
      - add "wdt=off" to default kernel command line (disables kernel watchdog)

commit 92eb729bad876725aeea908d2addba0800620840
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Wed Dec 27 01:26:13 2006 +0100

    Fix bug in adaption of Stefano Babic's CFI driver patch.

commit 9c0f42ecfe25f7ffce8ec7a815f03864d723ffe3
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Sun Dec 24 01:42:57 2006 +0100

    Minor code cleanup.

commit d784fdb05900ada3686d5778783e1fb328e9fb66
Author: Stefano Babic <sbabic@denx.de>
Date:	Tue Dec 12 00:22:42 2006 +0100

    Fix cfi failure with Spansion Flash (Spansion Flash Devices have a different offset to go into CFI mode)

commit 1b3c360c235dc684ec06c2d5f183f0a282ce45e2
Author: Stefan Roese <sr@denx.de>
Date:	Fri Dec 22 14:29:40 2006 +0100

    [PATCH] Fix sequoia flash autodetection (finally correct)

    Now 32MByte and 64MByte FLASH is know to work and other
    configurations should work too.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 82e5236a8b719543643fd26d5827938ab2b94818
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Fri Dec 22 10:30:26 2006 +0100

    Minor code cleanup; update CHANGELOG.

commit fa23044564091f05d9695beb7b5b9a931e7f41a4
Author: Heiko Schocher <hs@pollux.denx.de>
Date:	Thu Dec 21 17:17:02 2006 +0100

    Added support for the TQM8272 board from TQ

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit 6dedf3d49dd14c3bf541c8ecee7ffaac5f0e1d6c
Author: Heiko Schocher <hs@pollux.denx.de>
Date:	Thu Dec 21 16:14:48 2006 +0100

    [PATCH] Add support for the UC101 board from MAN.

    Signed-off-by: Heiko Schocher <hs@denx.de>

commit c84bad0ef60e7055ab0bd49b93069509cecc382a
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Wed Dec 20 00:29:43 2006 +0100

    Fix to make the baudrate changes immediate for the MCF52x2 family.

commit daa6e418bcc0c717752e8de939c213c790286096
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Wed Dec 20 00:27:32 2006 +0100

    Preliminary support for the iDMR board (ColdFire).

commit cdb97a6678826f85e7c69eae6a1c113d034c9b10
Author: Andrei Safronov <safronov@pollux.denx.de>
Date:	Fri Dec 8 16:23:08 2006 +0100

    automatic update mechanism

commit 9d27b3a0685ff99fc477983f315c04d49f657a8a
Author: roy zang <tie-fei.zang@freescale.com>
Date:	Mon Dec 4 17:56:59 2006 +0800

    Slight code clean up.
    Add comments, delete duplicate define and remove spaces.
    Signed-off-by: Roy Zang <tie-fei.zang@freescale.com>

commit 4dbcd69e3e2776ea334590d5768e3692c5fae5c1
Author: roy zang <tie-fei.zang@freescale.com>
Date:	Mon Dec 4 17:54:21 2006 +0800

    Introduce PLL_CFG[0:4] table for processor 7448/7447A/7455/7457. The original
    multiplier table can not refect the real PLL clock behavior of these
    processors. Please refer to the hardware specification for detailed
    information of the corresponding processors.
    Signed-off-by: Roy Zang <tie-fei.zang@freescale.com>

commit 4efe20c9579011d9987f62ed7d35ee8cdc1cf0e0
Author: roy zang <tie-fei.zang@freescale.com>
Date:	Mon Dec 4 14:46:23 2006 +0800

    Remove the static MAC address, ip address, server ip, netmask and
    gateway ip for network setting.
    Signed-off-by: Roy Zang <tie-fei.zang@freescale.com>

commit 6f12c61cf31ed73d72ddfcfc712a854a3a177aaf
Author: roy zang <tie-fei.zang@freescale.com>
Date:	Mon Dec 4 14:33:08 2006 +0800

    Remove the duplicate memory test code for mpc744ihpc2 board.
    If a memory test is needed, please use the functions in
    post/memory.c or memtest command.
    Signed-off-by: Roy Zang <tie-fei.zang@freescale.com>

commit c9c1eeed7dd193fa65fb194654132040d49d4d3a
Author: roy zang <tie-fei.zang@freescale.com>
Date:	Fri Dec 1 19:01:25 2006 +0800

    Fix the exception occuring in RAM table search issue.
    The original search_one_table() function code can only processes the search
    for the exception occurring in FLASH/ROM, because the exception and fixup
    table usually locate in FLASH. If the exception address is also in
    FLASH, it will be OK.
    If the exception occurs in RAM, after the u-boot relocation, a
    relocation offset should be added.

    clean up the code in cpu/74xx_7xx/cpu.c

    Signed-off-by: Roy Zang <tie-fei.zang@freescale.com>

commit ee311214e0d216f904feea269599d0934bf71f23
Author: roy zang <tie-fei.zang@freescale.com>
Date:	Fri Dec 1 11:47:36 2006 +0800

    Clean up the code according to codestyle:
    (1) remove some C++ comments.
    (2) remove trailing white space.
    (3) remove trailing empty line.
    (4) Indentation by table.
    (5) remove {} in one line condition.
    (6) add space before '(' in function call.
    Remove some weird printf () output.
    Add necessary comments.
    Modified Makefile to support building in a separate directory.

commit dd520bf314c7add4183c5191692180f576f96b60
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Thu Nov 30 18:02:20 2006 +0100

    Code cleanup.

commit 8d9a8610b8256331132227e9e6585c6bd5742787
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Thu Nov 30 01:54:07 2006 +0100

    Code cleanup. Update CHANGELOG.

commit 726e90aacf0b1ecb0e7055be574622fbe3e450ba
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Wed Nov 29 16:23:42 2006 +0100

    [PATCH] [MPC52xx] Use IPB bus frequency for SOC peripherals

    The soc node of the mpc52xx needs to be loaded with the IPB bus frequency,
    not the XLB frequency.

    This patch depends on the previous patches for MPC52xx device tree support

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>
    Signed-off-by: Sylvain Munaut <tnt@246tNt.com>

commit 1eac2a71417b6675b11aace72102a2e7fde8f5c6
Author: Stefan Roese <sr@denx.de>
Date:	Wed Nov 29 15:42:37 2006 +0100

    [PATCH] Add support for Prodrive P3M750 & P3M7448 (P3Mx) boards

    This patch adds support for the Prodrive P3M750 (PPC750 & MV64460)
    and the P3M7448 (MPC7448 & MV64460) PMC modules. Both modules are
    quite similar and share the same board directory "prodrive/p3mx"
    and the same config file "p3mx.h".

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 1bdd46832aeb569f5e04b1f20f64318525b6525a
Author: Stefan Roese <sr@denx.de>
Date:	Wed Nov 29 12:53:15 2006 +0100

    [PATCH] common/cmd_elf.c: Enable loadaddr as parameter in bootvx command

    In the bootvx command the load address was only read from the env
    variable "loadaddr" and not optionally passed as paramter as described
    in the help. This is fixed with this patch. The behaviour is now the
    same as in the bootelf command.

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 4e26f1074c3ac1bd8fd094f0dc4a1c4a0b15a592
Author: Stefan Roese <sr@denx.de>
Date:	Wed Nov 29 12:03:57 2006 +0100

    [PATCH] include/ppc440.h minor error affecting interrupts

    Fixed include/ppc440.c for UIC address Bug

    Corrects bug affecting the addresses for the universal interrupt
    controller UIC2 and UIC3 on the PPC440 Epx, GRx, and SPE chips.

    Signed-off-by: Jeff Mann <mannj@embeddedplanet.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 1939d969443ccf316cab2bf32ab1027d4db5ba1a
Author: Joakim Tjernlund <Joakim.Tjernlund@transmode.se>
Date:	Tue Nov 28 16:17:27 2006 -0600

    Make fsl-i2c not conflict with SOFT I2C

    Signed-off-by: Timur Tabi <timur@freescale.com>

commit 14198bf768fdc958e3c1afd2404e5262208e98d7
Author: Joakim Tjernlund <Joakim.Tjernlund@transmode.se>
Date:	Tue Nov 28 16:17:18 2006 -0600

    Fix I2C master address initialization.

    Signed-off-by: Timur Tabi <timur@freescale.com>

commit cf3d045e51ca8dcc6cf759827140861d6ac25c04
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Tue Nov 28 23:31:19 2006 -0600

    Assign maintainers for mpc8349emds and mpc8360emds

    Dave for mpc8360emds, and me for mpc8349emds.

commit 1aa934c81b77f2080d3ca4b226eab67b17a33961
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Tue Nov 28 23:28:33 2006 -0600

    Eliminate gcc 4 'used uninitialized' warnings in drivers/qe/uccf.c

    give initial values for reg_num, shift, p_cmxucr in ucc_set_clk_src
    since they are passed by reference to ucc_get_cmxucr_reg and assigned.

commit e857a5bdb3954b896c0920cb9d8d2b1b9c107ce5
Author: Timur Tabi <timur@freescale.com>
Date:	Tue Nov 28 12:09:35 2006 -0600

    mpc83xx: Miscellaneous code style fixes

    Implement various code style fixes and similar changes.

    Signed-off-by: Timur Tabi <timur@freescale.com>

commit e59581c56ab5d6e0207ddac3b2c1d55cb36ec706
Author: Stefan Roese <sr@denx.de>
Date:	Tue Nov 28 17:55:49 2006 +0100

    [PATCH] Enable the IceCube/lite5200 variants to pass a device tree to Linux.

    This patch adds the code and configuration necessary to boot with an
    arch/powerpc Linux kernel.

    Signed-off-by: Grant Likely <grant.likely@gmail.com>
    Acked-by: Jon Loeliger <jdl@freescale.com>

commit e732faec95a83cb468b4850ae807c8301dde8f6a
Author: Stefan Roese <sr@denx.de>
Date:	Tue Nov 28 16:09:24 2006 +0100

    [PATCH] PPC4xx: 440SP Rev. C detection added

    Signed-off-by: Stefan Roese <sr@denx.de>

commit e7f3e9ff01fbd7fa72eb42a9675fbed6bc4736b0
Author: Stefan Roese <sr@denx.de>
Date:	Tue Nov 28 11:04:45 2006 +0100

    [PATCH] nand: Fix patch merge problem

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 58e3b14c18ed3288ceef8d086946dbf3df64ccf2
Author: Stefan Roese <sr@denx.de>
Date:	Tue Nov 28 11:04:45 2006 +0100

    [PATCH] nand: Fix patch merge problem

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 4f4b602ec7524a032bdf3c6d28c7f525a4a67eaa
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Mon Nov 27 22:53:53 2006 +0100

    Update CHANGELOG

commit f6e495f54cdb8fe340b9c03deab40ad746d52fae
Author: Stefan Roese <sr@denx.de>
Date:	Mon Nov 27 17:43:25 2006 +0100

    [PATCH] 4xx_enet.c: Correct the setting of zmiifer register

    Patch below corrects the setting of the zmiifer register, it was
    overwritting the register rather than ORing the settings.

    Signed-off-by: Neil Wilson <NWilson@airspan.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit d1a72545296800b7e219f93104ad5836f0003d66
Author: Stefan Roese <sr@denx.de>
Date:	Mon Nov 27 17:34:10 2006 +0100

    [PATCH] Select NAND embedded environment from board configuration

    The current NAND Bootloader setup forces the environment
    variables to be in line with the bootloader. This change
    enables the configuration to be made in the board include
    file instead so that it can be individually enabled.

    Signed-off-by: Nick Spence <nick.spence@freescale.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 15784862857c3c2214498defcfed84ff137fb81e
Author: Stefan Roese <sr@denx.de>
Date:	Mon Nov 27 17:22:19 2006 +0100

    [PATCH] nand_wait() timeout fixes

    Two fixes for the nand_wait() function in
    drivers/nand/nand_base.c:

    1. Use correct timeouts. The original timeouts in Linux
    source are 400ms and 20ms not 40s and 20s

    2. Return correct error value in case of timeout. 0 is
    interpreted as OK.

    Signed-off-by: Rui Sousa <rui.sousa@laposte.net>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit da5553b095bf04f4f109ad7e565dae3aba47b230
Author: Stefan Roese <sr@denx.de>
Date:	Mon Nov 27 17:04:06 2006 +0100

    [PATCH] Allow CONFIG_OF_FLAT_TREE to boot a non-arch/powerpc kernel

    This patch allows an arch/ppc kernel to be booted by just passing 1 or 2
    arguments to bootm.  It removes the getenv("disable_of") test that used
    to be used for this purpose.

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>
    Acked-by: Jon Loeliger <jdl@freescale.com>

commit a9398e018593782c5fa7d0741955fc1256b34c1e
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Mon Nov 27 15:32:42 2006 +0100

    Minor code cleanup. Update CHANGELOG.

commit 1729b92cde575476684bffe819d0b7791b57bff2
Author: Stefan Roese <sr@denx.de>
Date:	Mon Nov 27 14:52:04 2006 +0100

    [PATCH] 4xx: Fix problem with board specific reset code (now for real)

    Signed-off-by: Stefan Roese <sr@denx.de>

commit cc5ee8a92a0e3ca6f727af71b8fd206460c7afd7
Author: Stefan Roese <sr@denx.de>
Date:	Mon Nov 27 14:49:51 2006 +0100

    [PATCH] alpr: remove unused board specific flash driver

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 1f94d162e2b5f0edc28d9fb11482502c44d218e1
Author: Stefan Roese <sr@denx.de>
Date:	Mon Nov 27 14:48:41 2006 +0100

    [PATCH] 4xx: Fix problem with board specific reset code

    Signed-off-by: Stefan Roese <sr@denx.de>

commit ec0c2ec725aec9524a177a77ce75559e644a931a
Author: Stefan Roese <sr@denx.de>
Date:	Mon Nov 27 14:46:06 2006 +0100

    [PATCH] Remove testing 4xx enet PHY setup

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 1c2ce2262069510f31c7d3fd7efd3d58b8c0c148
Author: Stefan Roese <sr@denx.de>
Date:	Mon Nov 27 14:12:17 2006 +0100

    [PATCH] Update Prodrive ALPR board support (440GX)

    Signed-off-by: Stefan Roese <sr@denx.de>

commit 58b485776698c3d71ec5a215e392123b4c15afa3
Author: Markus Klotzbuecher <mk@denx.de>
Date:	Mon Nov 27 11:51:21 2006 +0100

    Add a small README with information on the generic ohci driver.

commit ae3b770e4eae8e98b6e9e29662e18c47fdf0171f
Author: Markus Klotzbuecher <mk@denx.de>
Date:	Mon Nov 27 11:46:46 2006 +0100

    Fix some endianness issues related to the generic ohci driver

commit 7b59b3c7a8ce2e4b567abf99c1cd667bf35b9418
Author: Markus Klotzbuecher <mk@denx.de>
Date:	Mon Nov 27 11:44:58 2006 +0100

    Introduced the configuration option CONFIG_USB_OHCI_NEW in order to be able
    to choose between the old and the generic OHCI drivers.

commit 53e336e9ffc51035bdc4e5867631b3378761b4df
Author: Markus Klotzbuecher <mk@denx.de>
Date:	Mon Nov 27 11:43:09 2006 +0100

    Modified the mpc5xxx and the ppc4xx cpu to use the generic OHCI driver
    and adapted board configs TQM5200 and yosemite accordingly. This commit
    also makes the maximum number of root hub ports configurable
    (CFG_USB_OHCI_MAX_ROOT_PORTS).

commit 78d620ebb5871d252270dedfad60c6568993b780
Author: Wolfgang Denk <wd@atlas.denx.de>
Date:	Thu Nov 23 22:58:58 2006 +0100

    Updates for TQM5200 modules:
    - fix off-by-one error in board/tqm5200/cam5200_flash.c error message
    - simplify "udate" definitions

commit 2053283304eeddf250d109e6791eb6fa4cad14f7
Author: Stefan Roese <sr@denx.de>
Date:	Wed Nov 22 13:20:50 2006 +0100

    [PATCH] PPC4xx start.S: Fix for processor errata

    Fixed cpu/ppc4xx/start.S for 440EPx Errata: further corrects PPC440EPx
    errata 1.12: 440_33 by moving patch up in code.

    Signed-off-by: Jeff Mann <mannj@embeddedplanet.com>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 4ef6251403f637841000e0fef9e832aa01339822
Author: Stefan Roese <sr@denx.de>
Date:	Mon Nov 20 20:39:52 2006 +0100

    [PATCH] Update AMCC Sequoia config file to support 64MByte NOR FLASH

    Signed-off-by: Stefan Roese <sr@denx.de>

commit e4bbd8da164b976d38616bd9c69c5e86e193cdf0
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Mon Nov 20 10:28:30 2006 +0100

    Update CHANGELOG

commit 260421a21e934a68d31fb6125b0fbd2631a8ca20
Author: Stefan Roese <sr@denx.de>
Date:	Mon Nov 13 13:55:24 2006 +0100

    [PATCH] CFI driver AMD Command Set Top boot geometry reversal, etc. [Updated]

       * Adds support for AMD command set Top Boot flash geometry reversal
       * Adds support for reading JEDEC Manufacturer ID and Device ID
       * Adds support for displaying command set, manufacturer id and
	 device ids (flinfo)
       * Makes flinfo output to be consistent when CFG_FLASH_EMPTY_INFO defined
       * Removes outdated change history (refer to git log instead)

    Signed-off-by: Tolunay Orkun <listmember@orkun.us>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit b21b511d4c50408f4853f46f06b601272196223f
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Sun Nov 12 21:13:23 2006 +0100

    Update CHANGELOG

commit ce3f1a40c507afbab06c5eb58ccdc6713eda3245
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Sat Nov 11 22:48:22 2006 +0100

    Disable the watchdog in the default config for the V38B board.

commit 44a47e6db2694841211f1c8fdbafd36992e9cd1a
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Sat Nov 11 22:43:00 2006 +0100

    Change the GPIO pin multiplexing configuration for V38B. The USB GPIO pin
    group is enabled for USB earlier (in cpu_init_f() instead of
    usb_lowlevel_init()).

commit 91650b3e4de688038d4f71279c44858e3e2c6870
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Mon Nov 6 17:06:36 2006 +0100

    Sequential accesses to non-existent memory must be synchronized,
    at least on G2 cores.

    This fixes get_ram_size() problems on MPC5200 Rev. B boards.

commit be5e61815d5a1fac290ce9c0ef09cb6a8e4288fa
Author: Timur Tabi <timur@freescale.com>
Date:	Fri Nov 3 19:15:00 2006 -0600

    mpc83xx: Update 83xx to use fsl_i2c.c

    Update the 83xx tree to use I2C support in drivers/fsl_i2c.c.  Delete
    cpu/mpc83xx/i2c.c, include/asm-ppc/i2c.h, and all references to those files.
    Added multiple I2C bus support to fsl_i2c.c.

    Signed-off-by: Timur Tabi <timur@freescale.com>

commit d239d74b1c937984bc519083a8e7de373a390f06
Author: Timur Tabi <timur@freescale.com>
Date:	Fri Nov 3 12:00:28 2006 -0600

    mpc83xx: Replace CFG_IMMRBAR with CFG_IMMR

    Replace all instances of CFG_IMMRBAR with CFG_IMMR, so that the 83xx
    tree matches the other 8xxx trees.

    Signed-off-by: Timur Tabi <timur@freescale.com>

commit f7fb2e703ec9688541416962724adff70a7322cb
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Thu Nov 2 19:47:11 2006 -0600

    mpc83xx: Lindent and clean up cpu/mpc83xx/speed.c

commit 90f30a710a3c619b5405860a686c4ddfc495d4b6
Author: Dave Liu <daveliu@freescale.com>
Date:	Thu Nov 2 18:05:50 2006 -0600

    mpc83xx: Fix the incorrect dcbz operation

    The 834x rev1.x silicon has one CPU5 errata.

    The issue is when the data cache locked with
    HID0[DLOCK], the dcbz instruction looks like no-op inst.

    The right behavior of the data cache is when the data cache
    Locked with HID0[DLOCK], the dcbz instruction allocates
    new tags in cache.

    The 834x rev3.0 and later and 8360 have not this bug inside.

    So, when 834x rev3.0/8360 are working with ECC, the dcbz
    instruction will corrupt the stack in cache, the processor will
    checkstop reset.

    However, the 834x rev1.x can work with ECC with these code,
    because the sillicon has this cache bug. The dcbz will not
    corrupt the stack in cache.
    Really, it is the fault code running on fault sillicon.

    This patch fix the incorrect dcbz operation. Instead of
    CPU FP writing to initialise the ECC.

    CHANGELOG:
    * Fix the incorrect dcbz operation instead of CPU FP
    writing to initialise the ECC memory. Otherwise, it
    will corrupt the stack in cache, The processor will checkstop
    reset.

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit bf0b542d6773a5a1cbce77691f009b06d9aeb57d
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Wed Nov 1 00:10:40 2006 -0600

    mpc83xx: add OF_FLAT_TREE bits to 83xx boards

    add ft_pci_setup, OF_CPU, OF_SOC, OF_TBCLK, and
    STDOUT_PATH configuration bits to mpc8349emds,
    mpc8349itx, and mpc8360emds board code.

    redo environment to use bootm with the fdtaddr
    for booting ARCH=powerpc kernels by default,
    and provide default fdtaddr values.

commit 48041365b3420589ad464ebc7752e0053538b729
Author: Kim Phillips <kim.phillips@freescale.com>
Date:	Wed Nov 1 00:07:25 2006 -0600

    mpc83xx: change ft code to modify local-mac-address property

    Update 83xx OF code to update local-mac-address properties
    for ethernet instead of the obsolete 'address' property.

commit 9ca880a250870a7d55754291b5591d2b5fe89b54
Author: Timur Tabi <timur@freescale.com>
Date:	Tue Oct 31 21:23:16 2006 -0600

    mpc83xx: Fix dual I2C support for the MPC8349ITX, MPC8349EMDS, TQM834x, and MPC8360EMDS

    This patch also adds an improved I2C set_speed(), which handles all clock
    frequencies.

    Signed-off-by: Timur Tabi <timur@freescale.com>

commit ac4b5622ce050b5ee1e154b98df630d778661632
Author: Dave Liu <daveliu@freescale.com>
Date:	Tue Oct 31 19:54:59 2006 -0600

    mpc83xx: add the README.mpc8360emds

    add doc/README.mpc8360emds to accompany the new board support

commit 7737d5c658c606f999dfbe3e86b0fed49e5c50ef
Author: Dave Liu <daveliu@freescale.com>
Date:	Fri Nov 3 12:11:15 2006 -0600

    mpc83xx: add QE ethernet support

    this patch adds support for the QUICC Engine based UCC gigabit ethernet device.

commit 5f8204394e39bbe8cd9f08b8f8d145b6c01f7c73
Author: Dave Liu <daveliu@freescale.com>
Date:	Fri Nov 3 19:33:44 2006 -0600

    mpc83xx: Add MPC8360EMDS basic board support

    Add support for the Freescale MPC8360EMDS board.
    Includes DDR, DUART, Local Bus, PCI.

commit 23892e49352de74f7fac36ff90bb1be143d195e3
Author: Dave Liu <daveliu@freescale.com>
Date:	Tue Oct 31 19:30:40 2006 -0600

    mpc83xx: add the QUICC Engine (QE) immap file

    common QE immap file.  Also required for 8360.

commit b701652a4992bdcc62fb1a6038a85beef9e55da4
Author: Dave Liu <daveliu@freescale.com>
Date:	Tue Oct 31 19:25:38 2006 -0600

    mpc83xx: Add 8360 specifics to 83xx immap

    Mainly add QE device dependencies, with appropriate 8360 protection.
    Lindent also run.

commit 988833324a7fda482c8ac3ca23eb539f8232e404
Author: Timur Tabi <timur@freescale.com>
Date:	Tue Oct 31 19:14:41 2006 -0600

    mpc83xx: Fix PCI, USB, bootargs for MPC8349E-mITX

    PREREQUISITE PATCHES:

    * This patch can only be applied after the following patches have been applied:

      1) DNX#2006092142000015 "Add support for the MPC8349E-mITX  1/2"
      2) DNX#2006092142000024 "Add support for the MPC8349E-mITX  2/2"

    CHANGELOG:

    * For the 8349E-mITX, fix some size values in pci_init_board(), enable
      the clock for the 2nd USB board (Linux kernel will hang otherwise),
      and fix the CONFIG_BOOTARGS macro.

    Signed-off-by: Timur Tabi <timur@freescale.com>

commit 2ad6b513b31070bd0c003792ed1c3e7f5d740357
Author: Timur Tabi <timur@freescale.com>
Date:	Tue Oct 31 18:44:42 2006 -0600

    mpc83xx: Add support for the MPC8349E-mITX

    PREREQUISITE PATCHES:

    * This patch can only be applied after the following patches have been applied:

      1) DNX#2006090742000024 "Add support for multiple I2C buses"
      2) DNX#2006090742000033 "Multi-bus I2C implementation of MPC834x"
      3) DNX#2006091242000041 "Additional MPC8349 support for multibus i2c"
      4) DNX#2006091242000078 "Add support for variable flash memory sizes on 83xx systems"
      5) DNX#2006091242000069 "Add support for Errata DDR6 on MPC 834x systems"

    CHANGELOG:

    * Add support for the Freescale MPC8349E-mITX reference design platform.
      The second TSEC (Vitesse 7385 switch) is not supported at this time.

    Signed-off-by: Timur Tabi <timur@freescale.com>

commit 183da6d9b446cc12123455844ad1187e2375626f
Author: Ben Warren <bwarren@qstreams.com>
Date:	Tue Sep 12 10:15:53 2006 -0400

    Additional MPC8349 support for multibus i2c

    Hello,

    Here is a patch for a file that was accidentally left out of a previous
    attempt.

    It accompanies the patch with ticket DNX#2006090742000024

    CHANGELOG:
	    Change PCI initialization to use new multi-bus I2C API.

    regards,
    Ben

commit b24f119d672b709d153ff2ac091d4aa63ec6877d
Author: Ben Warren <bwarren@qstreams.com>
Date:	Thu Sep 7 16:51:04 2006 -0400

    Multi-bus I2C implementation of MPC834x

    Hello,

    Attached is a patch implementing multiple I2C buses on the MPC834x CPU
    family and the MPC8349EMDS board in particular.
    This patch requires Patch 1 (Add support for multiple I2C buses).
    Testing was performed on a 533MHz board.

    /*** Note: This patch replaces ticket DNX#2006083042000027 ***/

    Signed-off-by: Ben Warren <bwarren@qstreams.com>

    CHANGELOG:
	    Implemented driver-level code to support two I2C buses on the
    MPC834x CPU family and the MPC8349EMDS board.  Available I2C bus speeds
    are 50kHz, 100kHz and 400kHz on each bus.

    regards,
    Ben

commit bb99ad6d8257bf828f150d40f507b30d80a4a7ae
Author: Ben Warren <bwarren@qstreams.com>
Date:	Thu Sep 7 16:50:54 2006 -0400

    Add support for multiple I2C buses

    Hello,

    Attached is a patch providing support for multiple I2C buses at the
    command level.  The second part of the patch includes an implementation
    for the MPC834x CPU and MPC8349EMDS board.

    /*** Note: This patch replaces ticket DNX#2006083042000018 ***/

    Signed-off-by: Ben Warren <bwarren@qstreams.com>

    Overview:

    1. Include new 'i2c' command (based on USB implementation) using
    CONFIG_I2C_CMD_TREE.

    2. Allow multiple buses by defining CONFIG_I2C_MULTI_BUS.  Note that
    the commands to change bus number and speed are only available under the
    new 'i2c' command mentioned in the first bullet.

    3. The option CFG_I2C_NOPROBES has been expanded to work in multi-bus
    systems.  When CONFIG_I2C_MULTI_BUS is used, this option takes the form
    of an array of bus-device pairs.  Otherwise, it is an array of uchar.

    CHANGELOG:
	    Added new 'i2c' master command for all I2C interaction.  This is
    conditionally compiled with CONFIG_I2C_CMD_TREE.  New commands added for
    setting I2C bus speed as well as changing the active bus if the board
    has more than one (conditionally compiled with
    CONFIG_I2C_MULTI_BUS).  Updated NOPROBE logic to handle multiple buses.
    Updated README.

    regards,
    Ben

commit bed85caf872714ebf53013967a695c9d63acfc68
Author: Timur Tabi <timur@freescale.com>
Date:	Tue Oct 31 18:13:36 2006 -0600

    mpc83xx: Add support for Errata DDR6 on MPC 834x systems

    CHANGELOG:

    * Errata DDR6, which affects all current MPC 834x processors, lists changes
      required to maintain compatibility with various types of DDR memory.  This
      patch implements those changes.

    Signed-off-by: Timur Tabi <timur@freescale.com>

commit afd6e470f639883002c7c59d562690a5cb0f4865
Author: Timur Tabi <timur@freescale.com>
Date:	Wed Oct 25 18:45:23 2006 -0500

    mpc83xx: fix TQM build by defining a CFG_FLASH_SIZE for it

commit 31068b7c4abeefcb2c8fd4fbeccc8ec6c6d0475a
Author: Timur Tabi <timur@freescale.com>
Date:	Tue Aug 22 17:07:00 2006 -0500

    mpc83xx: Add support for variable flash memory sizes on 83xx systems

    CHANGELOG:

    * On 83xx systems, use the CFG_FLASH_SIZE macro to program the LBC local access
       window registers, instead of using a hard-coded value of 8MB.

    Signed-off-by: Timur Tabi <timur@freescale.com>

commit 2fc34ae66e73fa7841d1a006dc1b5dcbc1f78965
Author: Tanya Jiang <tanya.jiang@freescale.com>
Date:	Thu Aug 3 18:38:13 2006 +0800

    mpc83xx: Unified TQM834x variable names with 83xx and consolidated macros

    Unified TQM834x variable names with 83xx and consolidated macro
    in preparation for the 8360 and other upcoming 83xx devices.

    Signed-off-by: Tanya Jiang <tanya.jiang@freescale.com>

commit f6eda7f80ccc13d658020268c507d7173cf2e8aa
Author: Dave Liu <daveliu@freescale.com>
Date:	Wed Oct 25 14:41:21 2006 -0500

    mpc83xx: Changed to unified mpx83xx names and added common 83xx changes

    Incorporated the common unified variable names and the changes in preparation
    for releasing mpc8360 patches.

    Signed-off-by: Dave Liu <daveliu@freescale.com>

commit 3894c46c27c64891f93ac04edde86a9fa9758d92
Author: Tanya Jiang <tanya.jiang@freescale.com>
Date:	Thu Aug 3 18:36:02 2006 +0800

    mpc83xx: Fix missing build for mpc8349emds pci.c

    Make pci build for mpc8349emds

    Signed-off-by: Tanya Jiang <tanya.jiang@freescale.com>

commit 09a81ff740b29deea1e2ab08a3c2ac136c2e6219
Author: Tanya Jiang <tanya.jiang@freescale.com>
Date:	Thu Aug 3 18:39:49 2006 +0800

    mpc83xx: Removed unused file resetvec.S for mpc83xx cpu

    Removed unused file resetvec.S for mpc83xx cpu

    Signed-off-by: Tanya Jiang <tanya.jiang@freescale.com>

commit 04f899fc465c3e44f2b55ecc70618f5696fc0ddf
Author: Nick Spence <Nick.Spence@freescale.com>
Date:	Sat Sep 30 00:32:59 2006 -0700

    NAND Flash verify across block boundaries

    This patch addresses a problem when CONFIG_MTD_NAND_VERIFY_WRITE is
    defined
    and the write crosses a block boundary. The pointer to the verification
    buffer (bufstart) is not being updated to reflect the starting of the
    new
    block so the verification of the second block fails.

    CHANGELOG:

    * Fix NAND FLASH page verification across block boundaries

commit f484dc791a3932537213c43c654cc1295c64b84c
Author: Nick Spence <nick.spence@freescale.com>
Date:	Thu Sep 7 07:39:46 2006 -0700

    Added RGMII support to the TSECs and Marvell 881111 Phy

    Added a phy initialization to adjust the RGMII RX and TX timing
    Always set the R100 bit in 100 BaseT mode regardless of the TSEC mode

    Signed-off-by: Nick Spence <nick.spence@freescale.com>

commit 4831c8b8a97799da77923d6bbb4c260c0d45521c
Author: roy zang <tie-fei.zang@freescale.com>
Date:	Fri Nov 3 13:10:00 2006 +0800

    Remove some unused CFG define.
    undef CFG_DRAM_TEST

commit 99c09c4dec34f77c243bf51bea532e3f339410ad
Author: roy zang <tie-fei.zang@freescale.com>
Date:	Fri Nov 3 13:07:36 2006 +0800

    Change the TEXT_BASE from 0xFFF00000 to 0xFF000000.
    Both work. 0xFF000000 seems more reasonable.

commit c59200443072353044aa4bf737a5a60f9a9af231
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Thu Nov 2 15:15:01 2006 +0100

    Release U-Boot 1.1.6

commit c1fbe4103a0d6c8957f912af902d705ba67836f2
Author: roy zang <tie-fei.zang@freescale.com>
Date:	Thu Nov 2 19:14:48 2006 +0800

    This patch comes from Yuli's posted patch on 8/8/2006
    titled "CFI Driver Little-Endian write Issue".

    http://sourceforge.net/mailarchive/message.php?msg_id=36311999

    If that patch applied, please discard this one.
    Until now , I do not see his patch is applied. So please apply this one.

    Signed-off-by: Yuli Barcohen <yuli@arabellasw.com>
    Signed-off-by: Roy Zang <tie-fei.zang@freescale.com>

commit b825f158e449e1e9cf74c08e572955e122394c96
Author: roy zang <tie-fei.zang@freescale.com>
Date:	Thu Nov 2 19:12:31 2006 +0800

    Tsi108 on chip i2c support.

    The i2c  Interface provides a master-only, serial interface that can be
    used for initializing Tsi108/Tsi109 registers from an EEPROM after a
    device reset.

    Signed-off-by: Alexandre Bounine <alexandreb@tundra.com>
    Signed-off-by: Roy Zang <tie-fei.zang@freescale.com>

commit 9226e7d6f09b9a1ac074cd918c81225a4689bba8
Author: roy zang <tie-fei.zang@freescale.com>
Date:	Thu Nov 2 19:11:06 2006 +0800

    Tsi108 on chip pci controller support.

    If there is no pci card, the tsi108/109 pci configure read will
    cause a machine check exception to the processor. PCI error should
    also be cleared after the read.

    Signed-off-by: Alexandre Bounine <alexandreb@tundra.com>
    Signed-off-by: Roy Zang <tie-fei.zang@freescale.com>

commit d1927cee977126e547ceeba23e4f978f377cfb8f
Author: roy zang <tie-fei.zang@freescale.com>
Date:	Thu Nov 2 19:08:55 2006 +0800

    Tundra tsi108 on chip Ethernet controller support.

    The following is a brief description of the Ethernet controller:
    The Tsi108/9 Ethernet Controller connects Switch Fabric to two independent
    Gigabit Ethernet ports,E0 and E1.  It uses a single Management interface
    to manage the two physical connection devices (PHYs).  Each Ethernet port
    has its own statistics monitor that tracks and reports key interface
    statistics.  Each port supports a 256-entry hash table for address
    filtering.	In addition, each port is bridged to the Switch Fabric
    through a 2-Kbyte transmit FIFO and a 4-Kbyte Receive FIFO.

    Each Ethernet port also has a pair of internal Ethernet DMA channels to
    support the transmit and receive data flows.  The Ethernet DMA channels
    use descriptors set up in memory, the memory map of the device, and
    access via the Switch Fabric.  The Ethernet Controller?s DMA arbiter
    handles arbitration for the Switch Fabric.	The Controller also
    has a register businterface for register accesses and status monitor
    control.

    The PMD (Physical Media Device) interface operates in MII, GMII, or TBI
    modes.  The MII mode is used for connecting with 10 or 100 Mbit/s PMDs.
    The GMII and TBI modes are used to connect with Gigabit PMDs.  Internal
    data flows to and from the Ethernet Controller through the Switch Fabric.

    Each Ethernet port uses its transmit and receive DMA channels to manage
    data flows through buffer descriptors that are predefined by the
    system (the descriptors can exist anywhere in the system memory map).
    These descriptors are data structures that point to buffers filled
    with data ready to transmit over Ethernet, or they point to empty
    buffers ready to receive data from Ethernet.

    Signed-off-by: Alexandre Bounine <alexandreb@tundra.com>
    Signed-off-by: Roy Zang <tie-fei.zang@freescale.com>

commit 78aa0c3427f3ecdeb34aabfbbe2dd23b6ad8f40e
Author: roy zang <tie-fei.zang@freescale.com>
Date:	Thu Nov 2 19:01:33 2006 +0800

    Tundra tsi108 header file.

    The Tundra Semiconductor Corporation (Tundra) Tsi108 is a host bridge for
    PowerPC processors that offers numerous system interconnect options for
    embedded application designers. The Tsi108 can interconnect 60x or
    MPX processors to PCI/X peripherals, DDR2-400 memory, Gigabit Ethernet,
    and Flash. Provided the macro define for tsi108 chip.

    Signed-off-by: Alexandre Bounine <alexandreb@tundra.com>
    Signed-off-by: Roy Zang <tie-fei.zang@freescale.com>

commit 87c4db09699c6b89176b31004afcb83eb1585d47
Author: roy zang <tie-fei.zang@freescale.com>
Date:	Thu Nov 2 18:59:15 2006 +0800

    Add  mpc7448hpc2  (mpc7448 + tsi108)  board associated code support.
    mpc7448hpc2 board support high level code:tsi108 init + mpc7448hpc2.

    Signed-off-by: Alexandre Bounine <alexandreb@tundra.com>
    Signed-off-by: Roy Zang <tie-fei.zang@freescale.com>

commit 27801b8ab11c61b577e45742a515bb3b23b80241
Author: roy zang <tie-fei.zang@freescale.com>
Date:	Thu Nov 2 18:57:21 2006 +0800

    Add  mpc7448hpc2  (mpc7448 + tsi108)  board associated code support.
    Make ,config.mk and link file for the mpc7448hpc2 board.

    Signed-off-by: Alexandre Bounine <alexandreb@tundra.com>
    Signed-off-by: Roy Zang <tie-fei.zang@freescale.com>

commit c6411c0c3bbc79f9ba8aef58296a42d8f9d8a0a6
Author: roy zang <tie-fei.zang@freescale.com>
Date:	Thu Nov 2 18:55:04 2006 +0800

    Add  mpc7448hpc2  (mpc7448 + tsi108)  board associated code support.
    The mpc7448hpc2 board support header file.

    Signed-off-by: Alexandre Bounine <alexandreb@tundra.com>
    Signed-off-by: Roy Zang <tie-fei.zang@freescale.com>

commit 625bb5ddb50b243f931262ca8c46956409471917
Author: roy zang <tie-fei.zang@freescale.com>
Date:	Thu Nov 2 18:52:21 2006 +0800

    Add  mpc7448hpc2  (mpc7448 + tsi108)  board associated code support.
    The mpc7448hpc2 board support low level assemble language init code.

    Signed-off-by: Alexandre Bounine <alexandreb@tundra.com>
    Signed-off-by: Roy Zang <tie-fei.zang@freescale.com>

commit 4c52783b3d024e153c4972b97332e314bc3bdc46
Author: roy zang <tie-fei.zang@freescale.com>
Date:	Thu Nov 2 18:49:51 2006 +0800

    General code modification for mpc7448hpc2 board support.
    1. Add 7447A and 7448 processor support.
    2. Add the following flags.

    CFG_CONFIG_BUS_CLK : If the 74xx bus frequency can be configured dynamically
    (such as by switch on board), this flag should be set.

    CFG_EXCEPTION_AFTER_RELOCATE: If an exception occurs after the u-boot
    relocates to RAM, this flag should be set.

    CFG_SERIAL_HANG_IN_EXCEPTION: If the print out function will cause the
    system hang in exception, this flag should be set.

    There is a design issue for tsi108/109 pci configure  read. When pci scan
    the slots, if there is no pci card, the tsi108/9 will cause a machine
    check exception for mpc7448 processor.

    Signed-off-by: Alexandre Bounine <alexandreb@tundra.com>
    Signed-off-by: Roy Zang <tie-fei.zang@freescale.com>

commit 69366bf42f22d67efce8da3f8c40a43d4a3c2695
Author: roy zang <tie-fei.zang@freescale.com>
Date:	Thu Nov 2 18:34:47 2006 +0800

    Add README file for mpc7448hpc2 board.
    Signed-off-by: Roy Zang <tie-fei.zang@freescale.com>

commit 25721b5cec2be4bce79cfade17ec8f6aa1e67526
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Wed Nov 1 02:04:38 2006 +0100

    Finish up support for MarelV38B board
     - add watchdog support
     - enable GPIO_WKUP_7 pin for input
     - code cleanup

commit ffa150bc90c943ca265170bd1be3f293674dd5c7
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Wed Nov 1 01:45:46 2006 +0100

    - Fix issues related to the use of ELDK 4 when compiling for MarelV38B:
	  * remove warnings when compiling ethaddr.c
	  * adjust linker script (fixes a crash resulting from incorrect
	  definition of __u_boot_cmd_start)
    - Some MarelV38B code cleanup.

commit dae80f3caf9754a6dd3ddf3cf903d0c46cbd4385
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Wed Nov 1 01:38:16 2006 +0100

    - Add MPC5XXX register definition MPC5XXX_WU_GPIO_DATA_I and change the
      MPC5XXX_WU_GPIO_DATA macro to MPC5XXX_WU_GPIO_DATA_O (per MPC5200 User's
      Manual). Replace the uses of MPC5XXX_WU_GPIO_DATA with
      MPC5XXX_WU_GPIO_DATA_O for affected boards.

    - Add defintions for some MPC5XXX GPIO pins.

commit 82d9c9ec29a1bec1b03ba616425ebaed231072c8
Author: Bartlomiej Sieka <tur@semihalf.com>
Date:	Wed Nov 1 01:34:29 2006 +0100

    Changed MarelV38B board make target to lowercase. Config file cleanup.

commit 1954be6e9c9421b45d0a9d05b10356acc7563150
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Sun Oct 29 01:03:51 2006 +0200

    Automatically adjust ARFLAGS so "make -s" is really silent.

commit fae684e89844856383bdf101440889557df3e6b1
Author: Stefan Roese <sr@denx.de>
Date:	Sat Oct 28 16:45:00 2006 +0200

    [PATCH] omap925.c: Remove unused functions

    Signed-off-by: Ladislav Michl <ladis@linux-mips.org>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 1265581502ab8ea8c08e8edbe9bf64fbd62fd776
Author: Stefan Roese <sr@denx.de>
Date:	Sat Oct 28 17:12:58 2006 +0200

    [PATCH] Add some missing machtypes for netstar & voiceblue boards

    Use MACH_TYPE_NETSTAR and MACH_TYPE_VOICEBLUE defines instead of
    numbers in code.

    Signed-off-by: Ladislav Michl <ladis@linux-mips.org>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 856f054410cef52d868feb330168b2a4c4091328
Author: Stefan Roese <sr@denx.de>
Date:	Sat Oct 28 15:55:52 2006 +0200

    [PATCH] NAND: Partition name support added to NAND subsystem

    chpart, nboot and NAND subsystem related commands now accept also partition
    name to specify offset.

    Signed-off-by: Ladislav Michl <ladis@linux-mips.org>
    Signed-off-by: Stefan Roese <sr@denx.de>

commit 07a69a18c2ecfda904231fdf23e2523ea7792eb6
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Sat Oct 28 02:29:44 2006 +0200

    Update CHANGELOG.

commit 2751a95abd1b96911081c357e96a12fa97b40dee
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Sat Oct 28 02:29:14 2006 +0200

    Enable commandline editing and hush shell on all TQM boards.

commit 8078f1a5f63a739b8533478f6c2b62fb1e2f79d7
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Sat Oct 28 02:28:02 2006 +0200

    README says CFG_AUTO_COMPLETE, but ocde uses CONFIG_AUTO_COMPLETE

commit 471a7be7a042e95e440f5de969c9765214ae8d6e
Author: Wolfgang Denk <wd@denx.de>
Date:	Sat Oct 28 01:14:32 2006 +0200

    Check for illegal character '=' in environment variable names.

    Make sure the string passed as variable name does not contain a '='
    character. This not only prevents the common error or typing
    "setenv foo=bar" instead of "setenv foo bar", but (more importantly)
    also closes a backdoor which allowed to delete write-protected
    environment variables, for example by using "setenv ethaddr=".

commit 19973b6ad9863a56f5c5fbcfd90e20ab2490a2c2
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Sat Oct 28 00:38:39 2006 +0200

    Minor code cleanup.

commit e11887a77d81077416a2d1c5e0354916fee8c034
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Thu Oct 26 17:55:31 2006 +0200

    Don't pass any debug options directly to the assembler

    When passing the -g option to gcc, gcc automatically selects a
    suitable --g<format> option to pass on to the assembler.
    Thus, there's no point in forcing a specific debug option on the
    assembler using the -Wa mechanism.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit ea08ff6e14f9ebb8c07cfa79c51ef540eb087393
Author: Jon Loeliger <jdl@freescale.com>
Date:	Fri Oct 27 07:47:22 2006 -0500

    MPC86xx: Cleaned up unused and conditionally used local variables.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit d38936cdae46bfd2623ff83f6ce9b616d36ab0f9
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Fri Oct 27 11:55:21 2006 +0200

    Fix "ar" flags in some Makefiles to allow for silent "make -s"

commit 4653f91c13ed51c21cc4c3855745d69a3fb1817f
Author: Ben Warren <bwarren@qstreams.com>
Date:	Thu Oct 26 14:38:25 2006 -0400

    Fix TSEC driver (now for real): avoid crashes if PHY is not attached
    to a TSEC (e.g. a switch is connected via RMII) or
    if the PHY is defective/incorrectly configured.

    Signed-off-by: Ben Warren <bwarren@qstreams.com>

commit b985b5d6e4fb88f508f7aa0f126c2e27ada2b999
Author: Ben Warren <bwarren@qstreams.com>
Date:	Thu Oct 26 14:38:25 2006 -0400

    Fix TSEC driver: avoid crashes if PHY is not attached
    to a TSEC (e.g. a switch is connected via RMII) or
    if the PHY is defective/incorrectly configured.

    Signed-off-by: Ben Warren <bwarren@qstreams.com>

commit 2b2a40bebbf1822506e80e631d7253e60f0e0fe6
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Thu Oct 26 16:24:31 2006 +0200

    Code cleanup.

commit 5e3b0bc19f07ed277d85324ad0427642c8981baf
Author: Haavard Skinnemoen <hskinnemoen@atmel.com>
Date:	Wed Oct 25 15:48:59 2006 +0200

    Finish up support for the ATSTK1000/ATSTK1002 boards

    Add atstk1002_config target to Makefile and move the AVR32 section
    down below Blackfin so that it doesn't end up in the middle of
    MIPS.

    Drop the autogenerated linker script thing for now. Will have to
    revisit how to handle chips with different flash and RAM layout
    later.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit c76f951a747cfb87ba826ef45b5aea82d5b5dbb4
Author: Kumar Gala <galak@kernel.crashing.org>
Date:	Tue Oct 24 23:47:37 2006 -0500

    Added support for Multi-Image files that contain a device tree

    If a Multi-Image file contains a third image we try to use it as a
    device tree.  The device tree image is assumed to be uncompressed in the
    image file.  We automatically allocate space for the device tree in memory
    and provide an 8k pad to allow more than a reasonable amount of growth.

    Additionally, a device tree that was contained in flash will now automatically
    get copied to system memory as part of boot.  Previously an error was
    reported if one tried to boot a device tree that was in flash.

    Signed-off-by: Kumar Gala <galak@kernel.crashing.org>

commit 7c52c4b943ff52bbe8796a7e2d3e476ceaf3f512
Author: Wolfgang Denk <wd@denx.de>
Date:	Tue Oct 24 21:35:55 2006 +0200

    Switch to automatically generated CHANGELOG file.
    (use "make CHANGELOG" to update it from time to time)

commit 7ade0c634a979c32fa91a74e8f5775f24651fbe6
Author: Stefan Roese <sr@denx.de>
Date:	Tue Oct 24 18:06:48 2006 +0200

    Fix bug in PPC440 NAND driver cpu/ppc4xx/ndfc.c
    Patch by Stefan Roese, 24 Oct 2006

commit 8ae3b713b2286e0c3213b7802062e4c1599010de
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Tue Oct 24 17:24:55 2006 +0200

    Merge with /home/wd/git/u-boot/master

commit 47a6989c10685d2ab3efcf95228ce50d2a496d3e
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Tue Oct 24 15:32:57 2006 +0200

    Code cleanup

commit 3a78e3e75b633ecb6413114ffd11e2f000c4f11e
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Tue Oct 24 14:51:36 2006 +0200

    Move atstk1000 files into vendor specific directory.
    Patch by Haavard Skinnemoen, 12 Sep 2006

commit 6ccec4492e77428fd6eafd3dfe94fbdf08e91d37
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Tue Oct 24 14:42:37 2006 +0200

    Add ATSTK1000 and ATSTK1002 board support
    Patch by Haavard Skinnemoen, 06 Sep 2006

    This patch adds support for the ATSTK1000 with the ATSTK1002 CPU
    daughterboard.

    ATSTK1000 is a full-featured development board for AT32AP CPUs. It
    has two ethernet ports, a high quality QVGA LCD panel, a loudspeaker,
    and connectors for USART, PS/2, VGA, USB, MMC/SD cards and
    CompactFlash cards. For more information, please see this page:

    http://www.atmel.com/dyn/products/tools.asp?family_id=682

    The ATSTK1002 is a daughterboard for the ATSTK1000 supporting the
    AT32AP7000 chip.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit f93ae788c3640fcde5db383471d45548ff4060d0
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Tue Oct 24 14:31:24 2006 +0200

    Add common serial driver for Atmel AT32 and AT91 chips
    Patch by Haavard Skinnemoen, 06 Sep 2006

    This is a first attempt at creating a common serial driver for Atmel
    chips. For now, it supports the AT32AP7000 AVR32 chip, but it should
    be possible to support AT91RM9200 and other ARM-based chips with some
    minor modifications.

    There's nothing fundamentally AVR32-specific in this driver, but it
    does use some features which are currently only defined for the
    AT32AP CPU port:
      * pm_get_clock_freq: Obtain the clock frequency of a given domain
      * gd->console_uart: A "struct device" containing information about
	register mappings, gpio resources and clocks associated with the
	UART device.

    For more information about these features, please see the "AT32AP
    CPU" patch.

commit 72a087e04705c26cad982879ebd06b5281bf825a
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Tue Oct 24 14:27:35 2006 +0200

    Add AT32AP CPU and AT32AP7000 SoC support
    Patch by Haavard Skinnemoen, 06 Sep 2006

    This patch adds support for the AT32AP CPU family and the AT32AP7000
    chip, which is the first chip implementing the AVR32 architecture.

    The AT32AP CPU core is a high-performance implementation featuring a
    7-stage pipeline, separate instruction- and data caches, and a MMU.
    For more information, please see the "AVR32 AP Technical Reference":

    http://www.atmel.com/dyn/resources/prod_documents/doc32001.pdf

    In addition to this, the AT32AP7000 chip comes with a large set of
    integrated peripherals, many of which are shared with the AT91 series
    of ARM-based microcontrollers from Atmel. Full data sheet is
    available here:

    http://www.atmel.com/dyn/resources/prod_documents/doc32003.pdf

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 7b64fef33c66be648826c0ff9758298ef13d0604
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Tue Oct 24 14:21:16 2006 +0200

    Add AVR32 architecture support
    Patch by Haavard Skinnemoen, 6 Sep 2006 16:23:02 +0200

    This patch adds common infrastructure code for the Atmel AVR32
    architecture. See doc/README.AVR32 for details.

    Signed-off-by: Haavard Skinnemoen <hskinnemoen@atmel.com>

commit 2da2d9a4766063b9848f3a35ad6025499cf87265
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Tue Oct 24 13:57:33 2006 +0200

    Use -g instead of -gstabs in AFLAGS_DEBUG
    Patch by Haavard Skinnemoen, 30 Aug 2006

    In config.mk, -Wa,-gstabs is unconditionally appended to AFLAGS no
    matter what the target's preferred debugging format is. This patch
    simply replaces -gstabs with -g, so that the default debugging format
    for the architecture is used.

commit 965829872169c2996023840d98e1d85ad148d629
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Tue Oct 24 13:55:18 2006 +0200

    Fix/workaround broken dependency handling with make 3.81
    Based on patch by Haavard Skinnemoen, 29 Aug 2006 11:20:39 +0200

commit 8318fbf8cc30418b621ea9f39b84b4c1a08f003a
Author: Marian Balakowicz <m8@semihalf.com>
Date:	Mon Oct 23 22:17:05 2006 +0200

    Fix sequoia separate object direcory building problems.

commit 3dfa9cfdcee78b30da3432318b32821ffabe974b
Author: Jon Loeliger <jdl@freescale.com>
Date:	Fri Oct 20 17:16:35 2006 -0500

    Use generic I2C register block on 85xx and 86xx.

    Replace private IMMAP I2C structures with generic reg block
    and allow 86xx to have multiple I2C device busses.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit f5012827df11ca0c9be1df5f8b153e188dc2fa7c
Author: Jon Loeliger <jdl@freescale.com>
Date:	Fri Oct 20 15:54:34 2006 -0500

    Fix compilation warnings on a few 85xx boards.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 2047672684cf85cb6f96a1fbc993180aaaf19a99
Author: Jon Loeliger <jdl@freescale.com>
Date:	Fri Oct 20 15:50:15 2006 -0500

    Converted all 85xx boards to use a common FSL I2C driver.
    Introduced COFIG_FSL_I2C to select the common FSL I2C driver.
    And removed hard i2c path from a few u-boot.lds scipts too.
    Minor whitespace cleanups along the way.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 4d45f69e362b05892c9e92a7907e5820995612aa
Author: Jon Loeliger <jdl@freescale.com>
Date:	Thu Oct 19 12:02:24 2006 -0500

    Rewrite a series of goto statements as a sequences of
    conditional expressions instead.

    Use consistent return code 0/-1 for good/bad indicators.

    Include one fewer file if the driver isn't used at all.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 7237c033b02fe295880435f1eb80819a0c987532
Author: Jon Loeliger <jdl@freescale.com>
Date:	Thu Oct 19 11:02:16 2006 -0500

    Moved i2c driver out of cpu/mpc86xx/i2c.c into drivers/fsl_i2c.c

    in an effort to begin to unify the umpteen FSL I2C drivers that
    are all otherwise very similar.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 13a7fcdf37f6ea9429ae04c9df67f893364cfe4b
Author: Jon Loeliger <jdl@freescale.com>
Date:	Thu Oct 19 11:33:52 2006 -0500

    * Fix a bunch of compiler warnings for gcc 4.0

    Signed-off-by: Matthew McClintock <msm@freescale.com>

commit af9e1f5b9e6f9ce810f5e8bf2961c9542a5865c2
Author: Stefan Roese <sr@denx.de>
Date:	Tue Oct 17 06:14:31 2006 +0200

    Add monitor functions for indirect access to PPC440 DCR's
    Patch by Leonid Baryudin, 12 Oct 2006

commit 5f3249a0a168e446a4cc9669b2bce0bc456f0a09
Author: Jon Loeliger <jdl@freescale.com>
Date:	Fri Oct 13 16:47:53 2006 -0500

    Fixed leading whitespace issues.
    Removed spurious LAWAR thing.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 0ee90cb77e01d6e8ccd37e1bd96678597875c391
Author: Jon Loeliger <jdl@freescale.com>
Date:	Thu Oct 12 10:42:36 2006 -0500

    Remove unneeded include files and local variable.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 1eaf3a5ff4960a46f3a9063568ba2af7883f07c5
Author: Grant Likely <grant.likely@secretlab.ca>
Date:	Tue Oct 10 00:23:32 2006 -0600

    Fix possible uninitialized variable compiler warning.

    When CONFIG_OF_FLAG_TREE is set, the compiler complains that 'len' in
    do_bootm_linux() may be uninitialized.  There is no possibility in the
    current code that len will get used uninitialized, but this fix follows
    the existing convention of setting both len and data to zero at the same
    time.

    Signed-off-by: Grant Likely <grant.likely@secretlab.ca>

commit 7376eb87aaa601f728f9b8e5e9cd2711a67f529e
Author: Matthew McClintock <msm@freescale.com>
Date:	Wed Oct 11 15:13:01 2006 -0500

    * Fix a bunch of compiler warnings for gcc 4.0

    Signed-off-by: Matthew McClintock <msm@freescale.com>

commit bf651baa365e5447246aad6a633ccd667cf24a39
Author: Jon Loeliger <jdl@freescale.com>
Date:	Wed Oct 11 10:10:43 2006 -0500

    Move "ar" flags to config.mk to allow for silent "make -s"

commit 1fd5699a4a24f5c1dab1b32f480bace1ebb9fc3e
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Oct 10 17:19:03 2006 -0500

    Coding style changes to remove local varible blocks
    and reformat a bit nicer.

commit 8b283dbb3a08d1b8d406bc15f119e081b3e2606a
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Oct 10 17:16:04 2006 -0500

    Fix whitespace issues.

commit 7b382b7125f2397cce63253df62f183e3dfa2770
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Oct 10 17:14:45 2006 -0500

    Fix whitespace issues.

commit e10390ddd736b0dad1528eec4b0fe35c0827139a
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Oct 10 17:06:53 2006 -0500

    Fix whitespace issues.

commit 89875e96ba3f023157bf50d5f8e33bf254964a76
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Oct 10 17:03:43 2006 -0500

    Ran lindent and cleaned up whitespace issues.
    Format for 80-columns too.

commit 333961ae7095fc66d8a041fce1ac9ee873b09d86
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Oct 10 17:02:22 2006 -0500

    Fix whitespace and 80-col issues.

commit 5c912cb1c31266c66ca59b36f9b6f87296421d75
Author: Stefan Roese <sr@denx.de>
Date:	Sat Oct 7 11:36:51 2006 +0200

    CFG_NAND_QUIET_TEST added to not warn upon missing NAND device
    Patch by Stefan Roese, 07 Oct 2006

commit 5bc528fa4da751d472397b308137238a6465afd2
Author: Stefan Roese <sr@denx.de>
Date:	Sat Oct 7 11:35:25 2006 +0200

    Update ALPR code (NAND support working now)
    Patch by Stefan Roese, 07 Oct 2006

commit 77d5034847d328753b80c46b83f960a14a26f40e
Author: Stefan Roese <sr@denx.de>
Date:	Sat Oct 7 11:33:03 2006 +0200

    Remove compile warnings in fpga code
    Patch by Stefan Roese, 07 Oct 2006

commit f3443867e90d2979a7dd1c65b0d537777e1f9850
Author: Stefan Roese <sr@denx.de>
Date:	Sat Oct 7 11:30:52 2006 +0200

    Add CONFIG_BOARD_RESET to configure board specific reset function
    Patch by Stefan Roese, 07 Oct 2006

commit f55df18187e7a45cb73fec4370d12135e6691ae1
Author: John Traill <john.traill@freescale.com>
Date:	Fri Sep 29 08:23:12 2006 +0100

    Fix missing tCycle/modfreq calculation.

    Signed-off-by: John Traill <john.traill@freescale.com>

commit 8272dc2f58f2473d8995fcc9b916440cfba080f0
Author: Andy Fleming <afleming@freescale.com>
Date:	Wed Sep 13 10:33:35 2006 -0500

    Updated config headers to add default FDT-based booting

commit 09f3e09e9ebcfa7919ca8931a4b5504fadd1f1d3
Author: Andy Fleming <afleming@freescale.com>
Date:	Wed Sep 13 10:34:18 2006 -0500

    Add support for eTSEC 3 & 4 on 8548 CDS

    * Added support for using eTSEC 3 and eTSEC 4 on the 8548 CDS.
      This will only work on rev 1.3 boards (but doesn't break older boards)
    * Cleaned up some comments to reflect the expanded role of tsec
      in other systems

commit 084d648b109c8984f83674043c1a7fa3885ef801
Author: Andy Fleming <afleming@freescale.com>
Date:	Wed Sep 13 10:33:56 2006 -0500

    Added code to support 2.6.18 PCI changes in u-boot

    * Added code to swizzle the IRQ map for the PCI

commit afbdc649f8751e4f4f1a6f527edfe139773f2c15
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Sep 19 09:34:10 2006 -0500

    Modified makefile for new build mechanism.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit d14ba6a798beb753e7a864500414fcc2d198b8bc
Author: Jon Loeliger <jdl@freescale.com>
Date:	Thu Sep 14 08:40:36 2006 -0500

    Handle 86xx SVR values according to the new Reference Manual.
    Both 8641 and 8641D have SVR == 0x8090, and are distinguished
    by the byte in bits 16-23 instead.
    Thanks to Jason Jin for noticing.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 88c8f4921fc47fb0eb2384b16586f1bd7f275be7
Author: Zhang Wei <wei.zhang@freescale.com>
Date:	Mon Aug 28 14:25:31 2006 +0800

    Fixed an OF-tree off-by-one bug when adding a new property name.
    This bug will cause the kernel booting to pause a long time.

    Signed-off-by: Zhang Wei <wei.zhang@freescale.com>
    (cherry picked from 2f15776ccc6dc32377d8ba9652b8f58059c27c6d commit)

commit 9bff7a69a885adebbd2bd45990494ec4cf998a30
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Aug 29 11:05:09 2006 -0500

    Remove trailing empty lines.

commit cd6d73d5b895a5935ac4fde0a356288142a584e0
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Aug 29 09:48:49 2006 -0500

    Remove bogus msync and use volatile asm.

commit 778d45049ce5927b65b3ff1d8e6692b654bdd49e
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Aug 29 08:17:14 2006 -0500

    Add myself as maintainer for MPC8641HPCN.

commit 2f15776ccc6dc32377d8ba9652b8f58059c27c6d
Author: Zhang Wei <wei.zhang@freescale.com>
Date:	Mon Aug 28 14:25:31 2006 +0800

    Fixed an OF-tree off-by-one bug when adding a new property name.
    This bug will cause the kernel booting to pause a long time.

    Signed-off-by: Zhang Wei <wei.zhang@freescale.com>

commit 5567806b67d0ae83493aa8823ad3b6c914f581d7
Author: Haiying Wang <haiying.wang@freescale.com>
Date:	Fri Aug 25 14:38:34 2006 -0400

    Change ramdiskaddr and dtbaddr
    Remove PEX fluff commands.

    Signed-off-by: Haiying Wang <haiying.wang@freescale.com>
    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit b2b78421d9db49c21a821af8a19c21c1f7dfb29e
Author: Matthew McClintock <msm@freescale.com>
Date:	Wed Aug 23 13:32:45 2006 -0500

    * Another small fix for booting with disable_of

    Signed-off-by: Matthew McClintock <msm@freescale.com>

commit 4a7cc0f21918e6ecf07ed57075d67df2c4a1299c
Author: Jon Loeliger <jdl@freescale.com>
Date:	Wed Aug 23 11:04:43 2006 -0500

    Cleanup and lindent new AHCI driver.

commit dabf9ef8c10b4dead5ef2106ef742b1c06b542de
Author: Jin Zhengxiong <jason@bus.ap.freescale.net>
Date:	Wed Aug 23 19:15:12 2006 +0800

    Add AHCI define and sata support for MPC8641HPCN board.

    Signed-off-by:Jason Jin<jason.jin@freescale.com>

commit 4782ac80b02f0d01afd309e2200dd3c7037f2ba4
Author: Jin Zhengxiong <jason@bus.ap.freescale.net>
Date:	Wed Aug 23 19:10:44 2006 +0800

    Add AHCI support to u-boot

    Add AHCI support in u-boot, enable the sata disk controllers which
    following the AHCI protocol.

    Signed-off-by:Jason Jin<jason.jin@freescale.com>

commit d8ea2acf5f137cae99417df4f573d036ee384668
Author: Zhang Wei <wei.zhang@freescale.com>
Date:	Wed Aug 23 17:54:32 2006 +0800

    Add dtb boot-up parameter to default boot commands.

    Signed-off-by: Zhang Wei <wei.zhang@freescale.com>

commit b93775c2036b99baa390ea425c4771895bbc63c4
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Aug 22 18:26:08 2006 -0500

    Cleanup even more poorly introduced whitespace.

commit ae6241685cbcf0c79a3636530d2ceab1fb291a94
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Aug 22 18:07:00 2006 -0500

    Cleanup more poorly introduced whitespace.

commit 2c33e8a1c535b3ae91cf0b284480600bf3f57c57
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Aug 22 17:54:05 2006 -0500

    Cleanup poorly introduced whitespace.

commit 80e955c7dd98f4b4fd23c2113caf75ed2b77b5b3
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Aug 22 12:25:27 2006 -0500

    General indent and whitespace cleanups.

commit ffff3ae56f5842ca3679e4ce7922b819a87aad9f
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Aug 22 12:06:18 2006 -0500

    General indent and whitespace cleanups.

commit 41a0e8b304d3ff55fe27a230507aac79684016ac
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue Aug 22 10:42:21 2006 -0500

    Cleanup compiler warnings.

commit 5de62c47a8628b3da4d73f7c07027f32a3342d40
Author: Matthew McClintock <msm@freescale.com>
Date:	Tue Aug 22 09:31:59 2006 -0500

    Fix disable_of booting

    Signed-off-by: Matthew McClintock <msm@freescale.com>

commit 87a449c8ac396420cb24260f717ea9e6faa82047
Author: Matthew McClintock <msm@freescale.com>
Date:	Tue Aug 22 09:23:55 2006 -0500

    Support for FDT in uImage format, error when using FDT from flash

    Signed-off-by: Matthew McClintock <msm@freescale.com>

commit 75c299c38369d01addd5e054b8a16217b70f4a86
Author: Haiying Wang <haiying.wang@freescale.com>
Date:	Tue Aug 15 15:12:55 2006 -0400

    Unlock cache before kernel starts up for MPC86xx

commit 67256678f00c09b0a7f19e862e5c1847553d31bc
Author: Haiying Wang <haiying.wang@freescale.com>
Date:	Tue Aug 15 15:13:15 2006 -0400

    Copy Global Data Pointer to r29 for DECLARE_GLOBAL_DATA_PTR

commit 1c8f6d8fb028f156094d05f2d14298e6479364ac
Author: Haiying Wang <haiying.wang@freescale.com>
Date:	Tue Aug 15 15:12:55 2006 -0400

    Unlock cache before kernel starts up for MPC86xx

commit 0d9ccc55edf9a7f3c5b2b6263580a6ea8d702a04
Author: Haiying Wang <haiying.wang@freescale.com>
Date:	Tue Aug 15 15:13:15 2006 -0400

    Copy Global Data Pointer to r29 for DECLARE_GLOBAL_DATA_PTR

commit 86c8e17f25e972a7e272950a0735fad84e082b88
Author: Matthew McClintock <msm@freescale.com>
Date:	Wed Aug 16 13:59:47 2006 -0500

    * Fix disable_of booting

    Signed-off-by: Matthew McClintock <msm@freescale.com>

commit 25c751e9adc86e22fe3b5b47cf2806379b575db7
Author: Matthew McClintock <msm@freescale.com>
Date:	Wed Aug 16 10:54:09 2006 -0500

    * Support for FDT in uImage format, error when using FDT from flash

    Signed-off-by: Matthew McClintock <msm@freescale.com>

commit 899620c2d66d4eef3b2a0034d062e71d45d886c9
Author: Stefan Roese <sr@denx.de>
Date:	Tue Aug 15 14:22:35 2006 +0200

    Add initial support for the ALPR board from Prodrive
    NAND needs some additional testing
    Patch by Heiko Schocher, 15 Aug 2006

commit f0ff4692ff3372dec55074a8eb444943ab095abb
Author: Stefan Roese <sr@denx.de>
Date:	Tue Aug 15 14:15:51 2006 +0200

    Add FPGA Altera Cyclone 2 support
    Patch by Heiko Schocher, 15 Aug 2006

commit fecf1c7e4de1b2779edc18742b91c22bdc32b68b
Author: Jon Loeliger <jdl@freescale.com>
Date:	Mon Aug 14 15:33:38 2006 -0500

    Fix BAT0 to actually be cacheable, non-guarded as documented.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 40bc83559db5745681909fd7382ae509567e116d
Author: Jon Loeliger <jdl@freescale.com>
Date:	Wed Aug 9 15:32:16 2006 -0500

    Removed MPC8641HPCN DTS source file from build.
    It is no longer linked into U-Boot; its sources are
    now located in the kernel tree.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 34c3c0e01dbf1f8cc2bd08de92f2b89ba84921eb
Author: Matthew McClintock <msm@freescale.com>
Date:	Wed Jun 28 10:47:03 2006 -0500

    * Switched default PCI speed for 8540 ADS back to 33MHz

    * Added comments and a printf to warn that PCI-X won't
      work at 33MHz
      Patch by Andy Fleming 17-Mar-2006

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit b6c5e1373b6ea0bb37a18e4aeecec00613d1cd39
Author: Matthew McClintock <msm@freescale.com>
Date:	Wed Jun 28 10:46:35 2006 -0500

    * Fixed a bug where 8555 PCI code used the old variable and function names Patch by Andy Fleming 17-Mar-2006

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit bf1dfffd8c26f8ecdd630a0ae4c834e751e4e452
Author: Matthew McClintock <msm@freescale.com>
Date:	Wed Jun 28 10:46:13 2006 -0500

    * Added VIA configuration table

    * Added support for PCI2 on CDS
      Patch by Andy Fleming 17-Mar-2006

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit c88f9fe66b64247e5b6a38410ba315ca25596d16
Author: Matthew McClintock <msm@freescale.com>
Date:	Wed Jun 28 10:45:41 2006 -0500

    * Fixed PCI memory definitions Patch by Andy Fleming 17-Mar-2006

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 97074ed9655309b64231bc2cee69fe85399f8055
Author: Matthew McClintock <msm@freescale.com>
Date:	Wed Jun 28 10:45:17 2006 -0500

    * Added support for initializing second PCI bus on 85xx Patch by Andy Fleming 17-Mar-2006

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit f0e6f57f71b3c4fdd13028eb03c3f3e91926dda2
Author: Matthew McClintock <msm@freescale.com>
Date:	Wed Jun 28 10:44:49 2006 -0500

    * Added PCI-X #defines for PCI-X initialization Patch by Andy Fleming on 17-Mar-2006

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit a4e11558b810ef2cddffdf7b9d86bc1130441960
Author: Matthew McClintock <msm@freescale.com>
Date:	Wed Jun 28 10:44:23 2006 -0500

    * Made sure the code which disables prefetch for PCI devices sets the size of the prefetch region to 0 Patch by Andy Fleming on 17-Mar-2006

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 0e16387db1d4aacd5bf35cb6d7c1942765c0347b
Author: Matthew McClintock <msm@freescale.com>
Date:	Wed Jun 28 10:43:36 2006 -0500

    * Add Flat Dev Tree construction for MPC85xx ADS and CDS boards Patch by Jon Loeliger 17-Jan-2006

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 855e6fb073f9d04fe4a7f06c107ecbac6344ddd4
Author: Matthew McClintock <msm@freescale.com>
Date:	Wed Jun 28 10:43:00 2006 -0500

    * Removed the oftree.dts for stxxtx in light of the changes to the flat device tree handling code Patch by Matthew McClintock 26-June-2006

commit 5498d90312aad9f6bdbf047986027c35b03cd163
Author: Matthew McClintock <msm@freescale.com>
Date:	Wed Jun 28 10:42:24 2006 -0500

    * Patch to modify ft_build.c to update flat device trees in place Patch by Matthew McClintock 26-June-2006

commit 0267768eddc5ca7bc1865bc40c866829ac5efbfe
Author: Matthew McClintock <msm@freescale.com>
Date:	Wed Jun 28 10:41:37 2006 -0500

    * Modify bootm command to support booting with flat device trees Patch by Matthew McClintock 26-June-2006

commit 8fc8bd2cc479b6cd188fdede4010e0e052970b8a
Author: John Traill <john.traill@freescale.com>
Date:	Wed Aug 9 14:33:50 2006 +0100

    Add Rapidio support for the MPC8641HPCN

    Signed-off-by: John Traill <john.traill@freescale.com>

commit 91a414c7d1fb0eac912592cd995b30c9f23045c9
Author: John Traill <john.traill@freescale.com>
Date:	Tue Aug 8 11:32:43 2006 +0100

    Fix caslat calculation

    Signed-off-by: John Traill <john.traill@freescale.com>

commit 709d3073e74153278e7904a70819bbef7df50e1a
Author: Jon Loeliger <jdl@freescale.com>
Date:	Thu Aug 3 16:17:56 2006 -0500

    Convert to mac-address in ethernet nodes.

commit 71748af833ca1017edf1415be376366ff2937d17
Author: Haiying Wang <haiying.wang@freescale.com>
Date:	Fri Jul 28 12:41:35 2006 -0400

    Correct the irq value of DUART2

commit 9cb3e8816ae4d854e7dc22128c3eea3d70bb982c
Author: Haiying Wang <haiying.wang@freescale.com>
Date:	Fri Jul 28 12:41:41 2006 -0400

    Change the space size of PEX IO in README

commit 239db37c94f7a92941c4465feceb867c609241c5
Author: Haiying Wang <haiying.wang@freescale.com>
Date:	Fri Jul 28 12:41:18 2006 -0400

    Move get_board_sys_clk to board directory

commit 492900b985439fbce1a118afde1e35def870db03
Author: John Traill <john.traill@freescale.com>
Date:	Fri Jul 28 09:03:54 2006 +0100

    Fix 8641HPCN pollution

commit 515ab8a62e8574e2babc6e8dcc43544ad221c5b2
Author: John Traill <john.traill@freescale.com>
Date:	Fri Jul 28 08:16:06 2006 +0100

    Fix 8641HPCN timebase

commit c86360b830f1eecd7a72208575dde4f57879faea
Author: Zhang Wei <wei.zhang@freescale.com>
Date:	Fri Jul 28 00:01:34 2006 +0800

    Fixed OF device tree of mpc86xxhpcn board.

    The changes works in with kernel irq mapping rework.

    Signed-off-by: Zhang Wei <wei.zhang@freescale.com>

commit bea3f28d285942bf3f7ab339ce85178ded544225
Author: Haiying Wang <haiying.wang@freescale.com>
Date:	Wed Jul 12 10:48:05 2006 -0400

    Add support for reading and writing mac addresses to or from ID EEPROM.

    Added code for reading and writing Mac addresses to/from ID EEPROM(0x57).
    With attached patch, we can use command "mac/mac read/mac save/"
    to read and write EEPROM under u-boot prompt.

    U-boot will calculate the checksum of EEPROM while bootup,
    if it is right, then u-boot will check whether the mac address
    of eTSEC0/1/2/3 is availalbe (non-zero).

    If there is mac address availabe in EEPROM, u-boot will use it,
    otherewise, u-boot will use the mac address defined in
    MPC8641HPCN.h. This matches the requirement to set unique mac address
    for each TSEC port.

    Signed-off-by: Haiying Wang <haiying.wang@freescale.com>
    Signed-off-by: York Sun <yorksun@freescale.com>

commit fcb28e763415e0e4e66b0f45842d1557ae198e5e
Author: Jin Zhengxiong <Jason.Jin@freescale.com>
Date:	Thu Jul 13 10:35:10 2006 -0500

    Fixed initrd issue by define big RAM

    Signed-off-by:Jason Jin <Jason.jin@freescale.com>

commit e6cd2a1785d74ec3d30a86f1cb360be8de478151
Author: Jason Jin <Jason.jin@freescale.com>
Date:	Fri Jul 7 10:01:45 2006 -0500

    We made a u-boot patch to fix the hang up issue
    when booting filesystem from ramdisk.

    Signed-off-by:Jason Jin <Jason.jin@freescale.com>

commit 38433ccc5850ee70549af0b2bc5b920355ef5388
Author: Matthew McClintock <msm@freescale.com>
Date:	Wed Jun 28 10:47:03 2006 -0500

    * Switched default PCI speed for 8540 ADS back to 33MHz
    * Added comments and a printf to warn that PCI-X won't
      work at 33MHz
      Patch by Andy Fleming 17-Mar-2006

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit e4c2a0eb0c3e3ffbf824800184ee42bdc99d5b19
Author: Matthew McClintock <msm@freescale.com>
Date:	Wed Jun 28 10:46:35 2006 -0500

    * Fixed a bug where 8555 PCI code used the old variable and
      function names
      Patch by Andy Fleming 17-Mar-2006

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit cbfc7ce756b88eb26e5537bc7b625c445c6dcfac
Author: Matthew McClintock <msm@freescale.com>
Date:	Wed Jun 28 10:46:13 2006 -0500

    * Added VIA configuration table
    * Added support for PCI2 on CDS
      Patch by Andy Fleming 17-Mar-2006

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 52c7a68b8d587ebcf5a6b051b58b3d3ffa377ddc
Author: Matthew McClintock <msm@freescale.com>
Date:	Wed Jun 28 10:45:41 2006 -0500

    * Fixed PCI memory definitions
      Patch by Andy Fleming 17-Mar-2006

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 087454609e47295443af793a282cddcd91a5f49c
Author: Matthew McClintock <msm@freescale.com>
Date:	Wed Jun 28 10:45:17 2006 -0500

    * Added support for initializing second PCI bus on 85xx
      Patch by Andy Fleming 17-Mar-2006

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit b636aaeb6fd516a442fb611bbeeddf3077a687fb
Author: Matthew McClintock <msm@freescale.com>
Date:	Wed Jun 28 10:44:49 2006 -0500

    * Added PCI-X #defines for PCI-X initialization
      Patch by Andy Fleming on 17-Mar-2006

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 20abbc6fffa115690107cc942c7abf84bdc03a1b
Author: Matthew McClintock <msm@freescale.com>
Date:	Wed Jun 28 10:44:23 2006 -0500

    * Made sure the code which disables prefetch for PCI devices
      sets the size of the prefetch region to 0
      Patch by Andy Fleming on 17-Mar-2006

    Signed-off-by: Andy Fleming <afleming@freescale.com>

commit 40d5fa35d02df22580593bf0039ab173367e8ef0
Author: Matthew McClintock <msm@freescale.com>
Date:	Wed Jun 28 10:43:36 2006 -0500

    * Add Flat Dev Tree construction for MPC85xx ADS and CDS boards
      Patch by Jon Loeliger 17-Jan-2006

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit be7e8b0cb5a0c49dc180075b96df296a893bf146
Author: Matthew McClintock <msm@freescale.com>
Date:	Wed Jun 28 10:43:00 2006 -0500

    * Removed the oftree.dts for stxxtx in light of the changes
      to the flat device tree handling code
      Patch by Matthew McClintock 26-June-2006

commit 1b380ec225665e73959677f3893dc658c5925e05
Author: Matthew McClintock <msm@freescale.com>
Date:	Wed Jun 28 10:42:24 2006 -0500

    * Patch to modify ft_build.c to update flat device trees in place
      Patch by Matthew McClintock 26-June-2006

commit 98a9c4d468a942a09ebe8979bec508017f3e4462
Author: Matthew McClintock <msm@freescale.com>
Date:	Wed Jun 28 10:41:37 2006 -0500

    * Modify bootm command to support booting with flat device trees
      Patch by Matthew McClintock 26-June-2006

commit da012ab661fd4ab169dd7b9b32201a4df62cf34a
Author: Jin Zhengxiong <Jason.Jin@freescale.com>
Date:	Wed Jun 28 08:43:56 2006 -0500

    Change Id to symbolic name for RTL8139

    Signed-off-by: Jason Jin <Jason.jin@freescale.com>

commit bc09cf3c2bfb8d54c659cbb332f79d0950982fd0
Author: Jin Zhengxiong-R64188 <Jason.Jin@freescale.com>
Date:	Tue Jun 27 18:12:10 2006 +0800

    Fix RTL8139 in big endian

    signed-off-by: Jason Jin <Jason.Jin@freescale.com>
    signed-off-by: Wei Zhang <wei.zhang@freescale.com>

commit fcfb9a57947fc203b99fe81ab0578f7286261f9f
Author: Jin Zhengxiong-R64188 <Jason.Jin@freescale.com>
Date:	Tue Jun 27 18:12:23 2006 +0800

    Fix Tsec bug when no link

     When tftp a non-exist file from the tftp server, u-boot will check
     the link of all eth port. The original file will return wrong link
     state on the no link ports.

    signed-off-by: Jason Jin <Jason.Jin@freescale.com>

commit bd22c2b97514fbfb0e03bd9c72b3445e4dbd57e2
Author: Jin Zhengxiong-R64188 <Jason.Jin@freescale.com>
Date:	Tue Jun 27 18:12:02 2006 +0800

    Fix bug for io_bar size during pci scan

    During the pci scan process, Some devices return bar_reponse with the
    highest bytes 0, such as the pci bridge in uli1575 return bar_response
    with 0xffffff, So the bar_size should be manually set under 64K.

    Signed-off-by: Jason Jin <jason.jin@freescale.com>

commit fa7db9c377bc2353a17bf1d381d65a6c418728f0
Author: Jin Zhengxiong-R64188 <Jason.Jin@freescale.com>
Date:	Tue Jun 27 18:11:54 2006 +0800

    Enable PCIE1 for MPC8641HPCN board

    Signed-off-by: Jason Jin <Jason.jin@freescale.com>

commit 99d70e3a47affb9bae041a2caece7cd516e213b3
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Mon Jun 26 11:06:00 2006 +0200

    More code cleanup

commit 684623ce92c5fd32e7db2d6e016945a67c5ffaba
Author: Jon Loeliger <jdl@freescale.com>
Date:	Thu Jun 22 08:51:46 2006 -0500

    Fix bug in 8641hpcn reset command with no args.

    Signed-off-by: Haiying Wang <haiying.wang@freescale.com>
    Acked-by: Jon Loeliger <jdl@freescale.com>

commit 8be429a5ddbf0ebe2d94174ba58fcfc7a24285dc
Author: Zhang Wei <wei.zhang@freescale.com>
Date:	Tue Jun 20 17:47:15 2006 +0800

    Reworked IRQ mapping in OF-tree.

commit 0e4c2a17ca34001ed36d259f13cb88ada4611a8c
Author: Jon Loeliger <jdl@freescale.com>
Date:	Thu Jun 15 21:33:37 2006 -0500

    Do not enable address translation on secondary CPUs.
    Do not set up BATs on secondary CPUs.  Let Linux do the nasty.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 386eda022473394ad8f36b86f2bdc9b4cb816291
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Wed Jun 14 18:14:56 2006 +0200

    Code cleanup

commit 16c8d5e76ae0f78f39a60608574adfe0feb9cc70
Author: Wolfgang Denk <wd@pollux.denx.de>
Date:	Wed Jun 14 17:45:53 2006 +0200

    Various USB related patches
    - Add support for mpc8xx USB device.
    - Add support for Common Device Class - Abstract Control Model USB console.
    - Add support for flow control in USB slave devices.
    - Add support for switching between gserial and cdc_acm using environment.
    - Minor changes to usbdcore_omap1510.c usbdcore_omap1510.h
    - Update usbcore slightly to ease host enumeration.
    - Fix non-portable endian problems in usbdcore and usbdcore_ep0.
    - Add AdderUSB_config as a defconfig to enable usage of the USB console
      by default with the Adder87x U-Boot port.
    Patches by Bryan O'Donoghue <bodonoghue@codehermit.ie>, 29 May 2006

commit 8ecc971618f56029ad99d3516f8b297a6ed58971
Author: Jon Loeliger <jdl@jdl.com>
Date:	Wed Jun 7 10:53:55 2006 -0500

    Fix a get_board_sys_clk() use-before-def warning.

    Signed-off-by: Jon Loeliger <jdl@jdl.com>

commit d9bf4858fca5aa4d651b283270f77da72ebadfd5
Author: Jon Loeliger <jdl@jdl.com>
Date:	Wed Jun 7 10:52:49 2006 -0500

    Allow DTC path to be passed in.

    Signed-off-by: Jon Loeliger <jdl@jdl.com>

commit c83ae9ea6d93abbe751bf8a3396236a084e56f87
Author: Haiying Wang <haiying.wang@freescale.com>
Date:	Tue Jun 6 16:54:29 2006 -0400

    Modify the IRQ of DUART2

commit c934f655f9aeca70a5c5f88b465d9e9d57a8d22e
Author: Jon Loeliger <jdl@jdl.com>
Date:	Wed May 31 13:55:35 2006 -0500

    Review cleanups.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit cb5965fb95b77a49f4e6af95248e0c849f4af03e
Author: Jon Loeliger <jdl@jdl.com>
Date:	Wed May 31 12:44:44 2006 -0500

    White space cleanup.
    Some 80-column cleanups.
    Convert printf() to puts() where possible.
    Use #include "spd_sdram.h" as needed.
    Enhanced reset command usage message a bit.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 3d5c5be547445dd3bd2eb7368d80df03ea437970
Author: Jon Loeliger <jdl@jdl.com>
Date:	Wed May 31 11:39:34 2006 -0500

    Removed unneeded local_bus_init() from 8641HPCN board.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit 4d3d729c16c392d2982d3266b659d333c927697d
Author: Jon Loeliger <jdl@jdl.com>
Date:	Wed May 31 11:24:28 2006 -0500

    Moved mpc8641hpcn_board_reset() out of cpu/ into board/.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit b2a941de060350ad15878d8219825f4950e9bb8e
Author: Jon Loeliger <jdl@jdl.com>
Date:	Wed May 31 10:07:28 2006 -0500

    Remove dead debug code.

    Signed-off-by: Jon Loeliger <jdl@jdl.com>

commit 126aa70f10ba3d20e0a6f4d32328250513b77770
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue May 30 17:47:00 2006 -0500

    Move mpc86xx PIXIS code to board directory

    First cut at moving the PIXIS platform code out of
    the 86xx cpu directory and into board/mpc8641hpcn
    where it belongs.

    Signed-off-by: Jon Loeliger <jdl@freescale.com>

commit ddf83a2fcef1a670c45fc585119dcc1fe062c4a9
Author: Markus Klotzbuecher <mk@denx.de>
Date:	Tue May 30 16:56:14 2006 +0200

    Support generic OHCI support for the s3c24x0 cpu.

commit 38cee12dcfcc257371c901c7e13e58ecab0a35d8
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Tue May 30 09:10:32 2006 -0500

    Improve "reset" command's interaction with watchdog.

	"reset altbank" will reset another bank WITHOUT watch dog timer enabled
	"reset altbank wd" will reset another bank WITH watch dog enabled
	"diswd" will disable watch dog after u-boot boots up successfully

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>

commit 70205e5a6ddc8528b11db9eb4d3fa0209d9fce2a
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Tue May 30 08:51:19 2006 -0500

    Fix two SDRAM setup bugs.

	Fix ECC setup bug.
	Enable 1T/2T based on number of DIMMs present.

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>

commit d11fec5015334deb2010e36ce00bb118cc5429a5
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Fri May 26 10:24:48 2006 -0500

    Add first draft of the MPC8641HPCN doc/README.

    Signed-off-by: Jon Loeliger <jdl@jdl.com>

commit ed45d6c930b5939718a87ee12e25cf9a05978d4a
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Fri May 26 10:13:04 2006 -0500

    Added pci@8000 block.
    Updated ethernet interrupt mappings (moved up 48).
    Cleaned up a few comments.

    Signed-off-by: Jon Loeliger <jdl@jdl.com>

commit 3033ebb20fd7c372c7bca3c9955a4692bb2240b7
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Fri May 26 10:01:16 2006 -0500

    Allow args on reset command.

    Signed-off-by: Jon Loeliger <jdl@jdl.com>

commit 301f1aa384d0edcae6a22fd9adb933ad71695ecc
Author: Markus Klotzbuecher <mk@denx.de>
Date:	Tue May 23 13:38:35 2006 +0200

    Changed the mp2usb (at91rm9200) board to use the generic OHCI driver. Some
    fixes to the latter.

commit 24e37645e7378b20fa8f20e2996c8fb8e90c70c9
Author: Markus Klotzbuecher <mk@denx.de>
Date:	Tue May 23 10:33:11 2006 +0200

    More cleanup for the delta board and the generic usb_ohci driver. Added
    CFG_USB_BOARD_INIT and CFG_USB_CPU_INIT for enabling board and cpu specific
    initialization and cleanup hooks respectively.

commit 3e326ece9eba8184f5d48aa4fb87760a8f6f0f10
Author: Markus Klotzbuecher <mk@denx.de>
Date:	Mon May 22 16:33:54 2006 +0200

    This patch adds USB storage support for the delta board. This is the first
    board to make use of a generic OHCI driver, that calls hooks for board
    dependant initialization.

commit 14e37081ff3cac7ebe6e93836523429853b6b292
Author: Jon Loeliger <jdl@jdl.com>
Date:	Fri May 19 13:28:39 2006 -0500

    Change arbitration to round-robin for SMP linux.

commit 9a655876e5995be80f49054e2509500e871e4d3a
Author: Jon Loeliger <jdl@jdl.com>
Date:	Fri May 19 13:26:34 2006 -0500

    Enable dual DDR controllers and interleaving.

commit 586d1d5abd3e525f1e1d9b81e5a61a4da6b2fa3c
Author: Jon Loeliger <jdl@jdl.com>
Date:	Fri May 19 13:22:44 2006 -0500

    Update 86xx address map and LAWBARs.

commit cccce5d0581bb0ba4602799a4b5112e58d1579cb
Author: Jon Loeliger <jdl@jdl.com>
Date:	Fri May 19 13:14:15 2006 -0500

    Remove L2 Cache invalidate polling.

commit f35ec68fb066cec0e36294bfe07dec2d4e8ad3a8
Author: Jon Loeliger <jdl@jdl.com>
Date:	Fri May 19 12:33:09 2006 -0500

    Enable 2nd CPU and I2C.

commit bf690dcb512d34c4fceec0eb1e5c0e88a9db5d54
Author: Jon Loeliger <jdl@freescale.com>
Date:	Mon May 15 07:26:56 2006 -0500

    Update interrupt mapping.

commit 6cfea33477b04b63ed47386ed1629529484c33ba
Author: Haiying Wang <Haiying.Wang@freescale.com>
Date:	Wed May 10 09:38:06 2006 -0500

    Remove unneeded INIT_RAM_LOCK cache twiddling.
    Correctly tracks r29 as global data pointer now.

    Signed-off-by: Haiying Wang <Haiying.Wang@freescale.com>

commit d4dd317b58c126a2a7e73f4764ecc1a7c97f876c
Author: Jon Loeliger <jdl@freescale.com>
Date:	Wed May 10 09:33:07 2006 -0500

    Remove unnecessary flash.c file.

commit 18b6c8cd8af6cc7f35180cedc4adb3236cc1a1b8
Author: Jon Loeliger <jdl@freescale.com>
Date:	Tue May 9 08:23:49 2006 -0500

    Get MPC8641HPCN flash images working.

	Enable the CFI driver.
	Remove bogus LAWBAR7 cruft.
	Use correct TEXT_BASE, Fixup load script.
	Enable SPD EEPROM during DDR setup.
	Use generic RFC 1918 IP addresses by default.

commit 5c9efb36a6b5431423f52888a0e3b4b515fe7eca
Author: Jon Loeliger <jdl@freescale.com>
Date:	Thu Apr 27 10:15:16 2006 -0500

    Cleanup whitespaces and style issues.
    Removed //-style comments.
    Use 80-column lines.
    Remove trailing whitespace.
    Remove dead code and debug cruft.

commit a2320a6bf8113a09544c42d160d10ac69d049a03
Author: Jon Loeliger <jdl@freescale.com>
Date:	Thu Apr 27 08:22:39 2006 -0500

    Revert bad PCI prefetch limit change.

commit debb7354d1ea4f694154818df5e5b523f5c1cc1d
Author: Jon Loeliger <jdl@freescale.com>
Date:	Wed Apr 26 17:58:56 2006 -0500

    Initial support for MPC8641 HPCN board.
