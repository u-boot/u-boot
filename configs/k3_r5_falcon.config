# Enable falcon mode
CONFIG_SPL_OS_BOOT=y
CONFIG_SPL_OS_BOOT_SECURE=y

# We use envs for setting bootargs
CONFIG_SPL_ENV_SUPPORT=y

# Allows for the SPL to detect UUID for kernel's rootfs
CONFIG_SPL_PARTITION_UUIDS=y

# Perform FDT fixups from SPL
CONFIG_OF_SYSTEM_SETUP=y

# We use the rootfs (i.e partition 2) for booting which is ext4 not FAT
CONFIG_SYS_MMCSD_FS_BOOT=y
CONFIG_SYS_MMCSD_FS_BOOT_PARTITION=2
CONFIG_SPL_FS_EXT4=y

# Loading tifalcon instead of tispl which has FDT and A53 SPL saves time
CONFIG_SPL_FS_LOAD_PAYLOAD_NAME="boot/tifalcon.bin"
CONFIG_SPL_FS_LOAD_KERNEL_NAME="boot/fitImage"
CONFIG_SPL_LOAD_FIT=y

# Used as the 2MiB aligned load address for kernel
CONFIG_SYS_LOAD_ADDR=0x82000000
CONFIG_SPL_STACK_R_ADDR=0x88000000
CONFIG_SPL_LOAD_FIT_ADDRESS=0x82000000
CONFIG_SPL_PAYLOAD_ARGS_ADDR=0x88000000
CONFIG_SPL_STACK_R_MALLOC_SIMPLE_LEN=0x2700000

# Disable all unsupported boot media to save space
# CONFIG_SPL_SYS_MMCSD_RAW_MODE is not set
# CONFIG_SPL_SPI_FLASH_SUPPORT is not set
# CONFIG_SPL_YMODEM_SUPPORT is not set
# CONFIG_SUPPORT_EMMC_BOOT is not set
# CONFIG_SPL_NAND_SUPPORT is not set
# CONFIG_SPL_NOR_SUPPORT is not set
# CONFIG_SPL_RAM_DEVICE is not set
# CONFIG_SPL_FS_FAT is not set
